"use strict";(self.webpackChunkbesties_frontend=self.webpackChunkbesties_frontend||[]).push([[759],{3759:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var r=t(2555),l=t(5043),a=t(7400),i=t(5472),d=t(3007),n=t(579);const c=()=>{const[e,s]=(0,l.useState)([]),[t,c]=(0,l.useState)("all"),[o,x]=(0,l.useState)("24h"),[m,h]=(0,l.useState)(!0);(0,l.useEffect)(()=>{let e=(0,i.rJ)(a.db,"errors");if("all"!==o){const s=new Date,t={"24h":864e5,"7d":6048e5,"30d":2592e6},r=new Date(s.getTime()-t[o]);e=(0,i.P)(e,(0,i._M)("timestamp",">=",r.getTime()))}"all"!==t&&(e=(0,i.P)(e,(0,i._M)("type","==",t))),e=(0,i.P)(e,(0,i.My)("timestamp","desc"),(0,i.AB)(100));const l=(0,i.aQ)(e,e=>{const t=[];e.forEach(e=>{t.push((0,r.A)({id:e.id},e.data()))}),s(t),h(!1)},e=>{console.error("Error loading errors:",e),h(!1)});return()=>l()},[t,o]);const u=e=>{var s,t;return"uncaught_error"===e.type?"critical":"unhandled_promise"===e.type||null!==(s=e.message)&&void 0!==s&&s.includes("verification failed")?"high":null!==(t=e.message)&&void 0!==t&&t.includes("permission-denied")?"medium":"low"},j={total:e.length,critical:e.filter(e=>"critical"===u(e)).length,high:e.filter(e=>"high"===u(e)).length,medium:e.filter(e=>"medium"===u(e)).length,low:e.filter(e=>"low"===u(e)).length};return m?(0,n.jsx)("div",{className:"min-h-screen bg-pattern",children:(0,n.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,n.jsx)("div",{className:"spinner"})})}):(0,n.jsx)("div",{className:"min-h-screen bg-pattern",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto p-4 pb-20",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h1",{className:"text-3xl font-display text-text-primary mb-2",children:"\ud83d\udea8 Error Dashboard"}),(0,n.jsx)("p",{className:"text-text-secondary",children:"Monitor and track application errors"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[(0,n.jsxs)("div",{className:"card p-4",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-text-primary",children:j.total}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Total Errors"})]}),(0,n.jsxs)("div",{className:"card p-4 border-2 border-red-300",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-red-600",children:j.critical}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Critical"})]}),(0,n.jsxs)("div",{className:"card p-4 border-2 border-orange-300",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:j.high}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"High"})]}),(0,n.jsxs)("div",{className:"card p-4 border-2 border-yellow-300",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:j.medium}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Medium"})]}),(0,n.jsxs)("div",{className:"card p-4 border-2 border-blue-300",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:j.low}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Low"})]})]}),(0,n.jsx)("div",{className:"card p-4 mb-6",children:(0,n.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Type"}),(0,n.jsxs)("select",{value:t,onChange:e=>c(e.target.value),className:"input",children:[(0,n.jsx)("option",{value:"all",children:"All Types"}),(0,n.jsx)("option",{value:"uncaught_error",children:"Uncaught Errors"}),(0,n.jsx)("option",{value:"custom_error",children:"Custom Errors"}),(0,n.jsx)("option",{value:"unhandled_promise",children:"Promise Rejections"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Time Range"}),(0,n.jsxs)("select",{value:o,onChange:e=>x(e.target.value),className:"input",children:[(0,n.jsx)("option",{value:"24h",children:"Last 24 Hours"}),(0,n.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,n.jsx)("option",{value:"30d",children:"Last 30 Days"}),(0,n.jsx)("option",{value:"all",children:"All Time"})]})]})]})}),(0,n.jsx)("div",{className:"space-y-4",children:0===e.length?(0,n.jsxs)("div",{className:"card p-8 text-center",children:[(0,n.jsx)("div",{className:"text-4xl mb-4",children:"\u2728"}),(0,n.jsx)("div",{className:"text-xl font-semibold text-text-primary mb-2",children:"No Errors Found"}),(0,n.jsx)("div",{className:"text-text-secondary",children:"Everything is running smoothly!"})]}):e.map(e=>{const s=u(e),t=(e=>{switch(e){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}})(s);return(0,n.jsxs)("div",{className:"card p-4 border-2 ".concat(t),children:[(0,n.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,n.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase ".concat(t),children:s}),(0,n.jsx)("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-xs font-semibold text-gray-700",children:e.type}),(0,n.jsxs)("span",{className:"text-sm text-text-secondary",children:[(0,d.m)(e.timestamp)," ago"]})]}),(0,n.jsx)("div",{className:"font-semibold text-text-primary mb-1",children:e.message}),e.userId&&(0,n.jsxs)("div",{className:"text-sm text-text-secondary",children:["User: ",e.userId]})]})}),(0,n.jsxs)("details",{className:"mt-3",children:[(0,n.jsx)("summary",{className:"cursor-pointer text-sm font-semibold text-primary hover:underline",children:"View Details"}),(0,n.jsx)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:(0,n.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"URL:"})," ",e.url]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Session:"})," ",e.sessionId]}),e.filename&&(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"File:"})," ",e.filename,":",e.lineno,":",e.colno]}),e.details&&(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Details:"}),(0,n.jsx)("pre",{className:"mt-1 p-2 bg-white rounded text-xs overflow-x-auto",children:JSON.stringify(e.details,null,2)})]}),e.stack&&(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Stack Trace:"}),(0,n.jsx)("pre",{className:"mt-1 p-2 bg-white rounded text-xs overflow-x-auto",children:e.stack})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"User Agent:"})," ",e.userAgent]})]})})]})]},e.id)})})]})})}}}]);
//# sourceMappingURL=759.373b60ec.chunk.js.map