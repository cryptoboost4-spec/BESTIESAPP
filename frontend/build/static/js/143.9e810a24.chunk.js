"use strict";(self.webpackChunkbesties_frontend=self.webpackChunkbesties_frontend||[]).push([[143],{4143:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(5043),c=s(7400),i=s(5472),d=s(559),n=s(579);const l=()=>{const[e,t]=(0,a.useState)({users:{total:0,new7days:0,new30days:0,active7days:0,active30days:0},checkIns:{total:0,active:0,completed:0,alerted:0,avgDuration:0,completionRate:0},besties:{totalConnections:0,avgPerUser:0,pending:0,accepted:0},revenue:{smsSubscribers:0,donorsActive:0,totalDonations:0,mrr:0},engagement:{avgCheckInsPerUser:0,avgBestiesPerUser:0,templatesCreated:0,badgesEarned:0},costs:{estimatedSMS:0,estimatedWhatsApp:0,estimatedEmail:0,totalAlertsSent:0},growth:{userGrowthRate:0,checkInGrowthRate:0,retentionRate:0},funnel:{signups:0,completedOnboarding:0,addedBestie:0,firstCheckIn:0,onboardingRate:0,bestieRate:0,checkInRate:0},behavior:{peakHour:0,peakDay:"",mostCommonDuration:0},topLocations:[],recentAlerts:[]}),[s,l]=(0,a.useState)(!0),[r,o]=(0,a.useState)("7d"),x=(0,a.useCallback)(async()=>{l(!0);try{var e,s;const a=new Date,d=new Date(a.getTime()-6048e5),n=new Date(a.getTime()-2592e6);let o=a;o="7d"===r?d:"30d"===r?n:new Date(0),console.log("[Analytics] Loading users...");const x=await(0,i.GG)((0,i.rJ)(c.db,"users"));console.log("[Analytics] \u2713 Users loaded:",x.size);let m=0,h=0,v=0,p=0,y=0;x.forEach(e=>{var t,s,a;const c=e.data();m++;const i=null===(t=c.stats)||void 0===t||null===(s=t.joinedAt)||void 0===s?void 0:s.toDate();i&&i>d&&h++,i&&i>n&&v++;const l=null===(a=c.lastActive)||void 0===a?void 0:a.toDate();l&&l>d&&p++,l&&l>n&&y++});let j=(0,i.rJ)(c.db,"checkins");"all"!==r&&(j=(0,i.P)(j,(0,i._M)("createdAt",">=",i.Dc.fromDate(o)))),console.log("[Analytics] Loading checkins...");const N=await(0,i.GG)(j);console.log("[Analytics] \u2713 Checkins loaded:",N.size);let g=0,u=0,b=0,f=0,w=0;const A={};N.forEach(e=>{const t=e.data();g++,w+=t.duration||0,"active"===t.status&&u++,"completed"===t.status&&b++,"alerted"===t.status&&f++,t.location&&(A[t.location]=(A[t.location]||0)+1)});const k=Object.entries(A).map(e=>{let[t,s]=e;return{location:t,count:s}}).sort((e,t)=>t.count-e.count).slice(0,10),C=g>0?(b/g*100).toFixed(1):0;console.log("[Analytics] Loading besties...");const D=await(0,i.GG)((0,i.rJ)(c.db,"besties"));console.log("[Analytics] \u2713 Besties loaded:",D.size);let R=0,S=0,I=0;D.forEach(e=>{const t=e.data();R++,"pending"===t.status&&S++,"accepted"===t.status&&I++});let E=0,F=0,G=0,U=0;x.forEach(e=>{var t,s;const a=e.data();var c,i;(null!==(t=a.smsSubscription)&&void 0!==t&&t.active&&(E++,U+=1),null!==(s=a.donationStats)&&void 0!==s&&s.isActive)&&(F++,G+=(null===(c=a.donationStats)||void 0===c?void 0:c.totalDonated)||0,null!==(i=a.donationStats)&&void 0!==i&&i.monthlyAmount&&(U+=a.donationStats.monthlyAmount))});const T=U;console.log("[Analytics] Loading templates...");const M=await(0,i.GG)((0,i.rJ)(c.db,"templates"));console.log("[Analytics] \u2713 Templates loaded:",M.size),console.log("[Analytics] Loading badges...");const B=await(0,i.GG)((0,i.rJ)(c.db,"badges"));console.log("[Analytics] \u2713 Badges loaded:",B.size);let P=0;B.forEach(e=>{var t;const s=e.data();P+=(null===(t=s.badges)||void 0===t?void 0:t.length)||0}),console.log("[Analytics] Loading recent alerts...");const L=(0,i.P)((0,i.rJ)(c.db,"checkins"),(0,i._M)("status","==","alerted"),(0,i.My)("alertedAt","desc")),O=await(0,i.GG)(L);console.log("[Analytics] \u2713 Recent alerts loaded:",O.size);const W=[],z=[];O.forEach(e=>{if(W.length<10){const t=e.data();z.push((async()=>{let s="Unknown";try{const a=await(0,i.x7)(e(c.db,"users",t.userId));a.exists()&&(s=a.data().displayName||"Unknown")}catch(a){console.error("Error fetching user name:",a)}W.push({id:e.id,location:t.location,alertedAt:t.alertedAt,userName:s})})())}}),await Promise.all(z);let J=0,H=0,$=0;N.forEach(e=>{const t=e.data();if("alerted"===t.status&&t.bestieIds){const e=t.bestieIds.length;J+=e,$+=Math.ceil(.7*e),H+=Math.floor(.3*e)}});const _=(.0075*H).toFixed(2),q=(.005*$).toFixed(2),K=0,Q=new Date(d.getTime()-6048e5);let V=0,X=0;x.forEach(e=>{var t,s;const a=null===(t=e.data().stats)||void 0===t||null===(s=t.joinedAt)||void 0===s?void 0:s.toDate();a&&a>Q&&a<d&&V++}),N.forEach(e=>{var t;const s=null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate();s&&s>Q&&s<d&&X++});const Y=V>0?((h-V)/V*100).toFixed(1):h>0?"\u221e":"N/A",Z=X>0?((g-X)/X*100).toFixed(1):g>0?"\u221e":"N/A",ee={};N.forEach(e=>{const t=e.data().userId;ee[t]=(ee[t]||0)+1});const te=Object.values(ee).filter(e=>e>1).length,se=m>0?(te/m*100).toFixed(1):0;console.log("[Analytics] Calculating funnel metrics...");let ae=0,ce=0,ie=0,de=null;x.forEach(e=>{var t,s;const a=e.data();var c,i;de||(de={id:e.id,onboardingCompleted:a.onboardingCompleted,statsExists:!!a.stats,totalBesties:null===(c=a.stats)||void 0===c?void 0:c.totalBesties,totalCheckIns:null===(i=a.stats)||void 0===i?void 0:i.totalCheckIns});a.onboardingCompleted&&ae++,(null===(t=a.stats)||void 0===t?void 0:t.totalBesties)>0&&ce++,(null===(s=a.stats)||void 0===s?void 0:s.totalCheckIns)>0&&ie++}),console.log("[Analytics] Funnel Debug - Sample User:",de),console.log("[Analytics] Funnel Counts:",{totalUsers:m,completedOnboarding:ae,addedBestie:ce,firstCheckIn:ie});const ne=m>0?(ae/m*100).toFixed(1):0,le=ae>0?(ce/ae*100).toFixed(1):0,re=ce>0?(ie/ce*100).toFixed(1):0,oe=new Array(24).fill(0),xe={Mon:0,Tue:0,Wed:0,Thu:0,Fri:0,Sat:0,Sun:0},me={};N.forEach(e=>{var t;const s=e.data(),a=null===(t=s.createdAt)||void 0===t?void 0:t.toDate();if(a){oe[a.getUTCHours()]++;xe[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][a.getUTCDay()]]++}s.duration&&(me[s.duration]=(me[s.duration]||0)+1)});const he=oe.indexOf(Math.max(...oe)),ve=(null===(e=Object.entries(xe).sort((e,t)=>t[1]-e[1])[0])||void 0===e?void 0:e[0])||"N/A",pe=(null===(s=Object.entries(me).sort((e,t)=>t[1]-e[1])[0])||void 0===s?void 0:s[0])||30;t({users:{total:m,new7days:h,new30days:v,active7days:p,active30days:y},checkIns:{total:g,active:u,completed:b,alerted:f,avgDuration:g>0?Math.round(w/g):0,completionRate:C},besties:{totalConnections:R,avgPerUser:m>0?(2*I/m).toFixed(1):0,pending:S,accepted:I},revenue:{smsSubscribers:E,donorsActive:F,totalDonations:G.toFixed(2),mrr:T.toFixed(2)},engagement:{avgCheckInsPerUser:m>0?(g/m).toFixed(1):0,avgBestiesPerUser:m>0?(2*I/m).toFixed(1):0,templatesCreated:M.size,badgesEarned:P},costs:{estimatedSMS:_,estimatedWhatsApp:q,estimatedEmail:K,totalAlertsSent:J},growth:{userGrowthRate:Y,checkInGrowthRate:Z,retentionRate:se},funnel:{signups:m,completedOnboarding:ae,addedBestie:ce,firstCheckIn:ie,onboardingRate:ne,bestieRate:le,checkInRate:re},behavior:{peakHour:he,peakDay:ve,mostCommonDuration:pe},topLocations:k,recentAlerts:W}),l(!1)}catch(a){console.error("Error loading analytics:",a),"failed-precondition"===a.code?(console.error("Firestore index missing. Create index at:",a.message),alert("Analytics require database indices. Check console for index creation link.")):"permission-denied"===a.code?alert("Permission denied. Make sure your user document has the field:\n- isAdmin: true"):alert("Failed to load analytics: ".concat(a.message)),l(!1)}},[r]);return(0,a.useEffect)(()=>{x()},[x]),s?(0,n.jsxs)("div",{className:"min-h-screen bg-pattern",children:[(0,n.jsx)(d.A,{}),(0,n.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,n.jsx)("div",{className:"spinner"})})]}):(0,n.jsxs)("div",{className:"min-h-screen bg-pattern",children:[(0,n.jsx)(d.A,{}),(0,n.jsxs)("div",{className:"max-w-7xl mx-auto p-4 pb-20",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h1",{className:"text-3xl font-display text-text-primary mb-2",children:"\ud83d\udcca Developer Analytics"}),(0,n.jsx)("p",{className:"text-text-secondary",children:"Real-time app metrics and insights"})]}),(0,n.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,n.jsx)("button",{onClick:()=>o("7d"),className:"px-4 py-2 rounded-full font-semibold ".concat("7d"===r?"bg-primary text-white":"bg-white text-text-primary"),children:"Last 7 Days"}),(0,n.jsx)("button",{onClick:()=>o("30d"),className:"px-4 py-2 rounded-full font-semibold ".concat("30d"===r?"bg-primary text-white":"bg-white text-text-primary"),children:"Last 30 Days"}),(0,n.jsx)("button",{onClick:()=>o("all"),className:"px-4 py-2 rounded-full font-semibold ".concat("all"===r?"bg-primary text-white":"bg-white text-text-primary"),children:"All Time"})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-4",children:"\ud83d\udc65 Users"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-primary",children:e.users.total}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Total Users"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-success",children:e.users.new7days}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"New (7d)"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-success",children:e.users.new30days}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"New (30d)"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-secondary",children:e.users.active7days}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Active (7d)"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-secondary",children:e.users.active30days}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Active (30d)"})]})]})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-4",children:"\u2705 Check-ins"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-primary",children:e.checkIns.total}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Total"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-warning",children:e.checkIns.active}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Active Now"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-success",children:e.checkIns.completed}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Completed"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-danger",children:e.checkIns.alerted}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Alerted"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-accent",children:e.checkIns.avgDuration}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Avg Minutes"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsxs)("div",{className:"text-3xl font-display text-success",children:[e.checkIns.completionRate,"%"]}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Completion"})]})]})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-4",children:"\ud83d\udc9c Besties Network"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-primary",children:e.besties.totalConnections}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Total Connections"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-success",children:e.besties.accepted}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Accepted"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-warning",children:e.besties.pending}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Pending"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-secondary",children:e.besties.avgPerUser}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Avg Per User"})]})]})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-4",children:"\ud83d\udcb0 Revenue"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,n.jsxs)("div",{className:"card p-4 text-center bg-gradient-primary text-white",children:[(0,n.jsxs)("div",{className:"text-3xl font-display",children:["$",e.revenue.mrr]}),(0,n.jsx)("div",{className:"text-sm opacity-90",children:"MRR"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-primary",children:e.revenue.smsSubscribers}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"SMS Subscribers"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-secondary",children:e.revenue.donorsActive}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Active Donors"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsxs)("div",{className:"text-3xl font-display text-success",children:["$",e.revenue.totalDonations]}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Total Donated"})]})]})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-4",children:"\ud83d\udcc8 Engagement"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-primary",children:e.engagement.avgCheckInsPerUser}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Check-ins/User"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-secondary",children:e.engagement.avgBestiesPerUser}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Besties/User"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-accent",children:e.engagement.templatesCreated}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Templates"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-warning",children:e.engagement.badgesEarned}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Badges Earned"})]})]})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-4",children:"\ud83d\udcb8 Cost Tracking (Estimates)"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,n.jsxs)("div",{className:"card p-4 text-center bg-danger/10",children:[(0,n.jsxs)("div",{className:"text-3xl font-display text-danger",children:["$",e.costs.estimatedSMS]}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"SMS Costs"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center bg-success/10",children:[(0,n.jsxs)("div",{className:"text-3xl font-display text-success",children:["$",e.costs.estimatedWhatsApp]}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"WhatsApp Costs"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center bg-primary/10",children:[(0,n.jsxs)("div",{className:"text-3xl font-display text-primary",children:["$",e.costs.estimatedEmail]}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Email Costs"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-accent",children:e.costs.totalAlertsSent}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Total Alerts"})]})]})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-4",children:"\ud83d\udcca Growth Metrics"}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsxs)("div",{className:"text-3xl font-display ".concat(parseFloat(e.growth.userGrowthRate)>=0?"text-success":"text-danger"),children:[e.growth.userGrowthRate>0?"+":"",e.growth.userGrowthRate,"%"]}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"User Growth (WoW)"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsxs)("div",{className:"text-3xl font-display ".concat(parseFloat(e.growth.checkInGrowthRate)>=0?"text-success":"text-danger"),children:[e.growth.checkInGrowthRate>0?"+":"",e.growth.checkInGrowthRate,"%"]}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Check-in Growth (WoW)"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsxs)("div",{className:"text-3xl font-display text-primary",children:[e.growth.retentionRate,"%"]}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Retention Rate"})]})]})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-4",children:"\ud83c\udfaf User Funnel"}),(0,n.jsx)("div",{className:"card p-6",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold text-text-primary",children:"1. Sign Ups"}),(0,n.jsxs)("div",{className:"text-sm text-text-secondary",children:[e.funnel.signups," users"]})]}),(0,n.jsx)("div",{className:"text-2xl font-display text-primary",children:"100%"})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold text-text-primary",children:"2. Completed Onboarding"}),(0,n.jsxs)("div",{className:"text-sm text-text-secondary",children:[e.funnel.completedOnboarding," users"]})]}),(0,n.jsxs)("div",{className:"text-2xl font-display text-success",children:[e.funnel.onboardingRate,"%"]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold text-text-primary",children:"3. Added First Bestie"}),(0,n.jsxs)("div",{className:"text-sm text-text-secondary",children:[e.funnel.addedBestie," users"]})]}),(0,n.jsxs)("div",{className:"text-2xl font-display text-warning",children:[e.funnel.bestieRate,"%"]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold text-text-primary",children:"4. Created First Check-in"}),(0,n.jsxs)("div",{className:"text-sm text-text-secondary",children:[e.funnel.firstCheckIn," users"]})]}),(0,n.jsxs)("div",{className:"text-2xl font-display text-accent",children:[e.funnel.checkInRate,"%"]})]})]})})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-4",children:"\ud83d\udd50 User Behavior"}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsxs)("div",{className:"text-3xl font-display text-primary",children:[e.behavior.peakHour,":00"]}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Peak Hour (24h)"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsx)("div",{className:"text-3xl font-display text-secondary",children:e.behavior.peakDay}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Peak Day"})]}),(0,n.jsxs)("div",{className:"card p-4 text-center",children:[(0,n.jsxs)("div",{className:"text-3xl font-display text-accent",children:[e.behavior.mostCommonDuration,"m"]}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"Common Duration"})]})]})]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,n.jsxs)("div",{className:"card p-6",children:[(0,n.jsx)("h3",{className:"font-display text-xl text-text-primary mb-4",children:"\ud83d\udccd Top Check-in Locations"}),e.topLocations.length>0?(0,n.jsx)("div",{className:"space-y-2",children:e.topLocations.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,n.jsx)("span",{className:"font-semibold text-text-primary",children:e.location}),(0,n.jsx)("span",{className:"badge badge-primary",children:e.count})]},t))}):(0,n.jsx)("p",{className:"text-text-secondary text-center py-8",children:"No data yet"})]}),(0,n.jsxs)("div",{className:"card p-6",children:[(0,n.jsx)("h3",{className:"font-display text-xl text-text-primary mb-4",children:"\ud83d\udea8 Recent Alerts"}),e.recentAlerts.length>0?(0,n.jsx)("div",{className:"space-y-2",children:e.recentAlerts.map(e=>(0,n.jsxs)("div",{className:"p-3 bg-danger/10 border border-danger/20 rounded-lg",children:[(0,n.jsx)("div",{className:"font-semibold text-danger",children:e.userName}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:e.location}),e.alertedAt&&(0,n.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:new Date(e.alertedAt.toDate()).toLocaleString()})]},e.id))}):(0,n.jsx)("p",{className:"text-text-secondary text-center py-8",children:"No alerts \ud83c\udf89"})]})]}),(0,n.jsx)("button",{onClick:x,className:"w-full btn btn-primary",disabled:s,children:"\ud83d\udd04 Refresh Data"})]})]})}}}]);
//# sourceMappingURL=143.9e810a24.chunk.js.map