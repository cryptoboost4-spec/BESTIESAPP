{"version":3,"file":"static/js/88.1d037651.chunk.js","mappings":"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","sources":["pages/LocationFavoritesPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { db } from '../services/firebase';\r\nimport { doc, getDoc, updateDoc } from 'firebase/firestore';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst LocationFavoritesPage = () => {\r\n  const { currentUser } = useAuth();\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [newLocation, setNewLocation] = useState('');\r\n  const [newEmoji, setNewEmoji] = useState('üìç');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const emojiOptions = ['üìç', '‚òï', 'üçΩÔ∏è', 'üé¨', 'üçª', 'üè†', 'üèÉ', 'üõçÔ∏è', 'üéµ', 'üè¢', 'üè´', 'üè•'];\r\n\r\n  useEffect(() => {\r\n    loadFavorites();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentUser]);\r\n\r\n  const loadFavorites = async () => {\r\n    if (!currentUser) return;\r\n\r\n    try {\r\n      const userDoc = await getDoc(doc(db, 'users', currentUser.uid));\r\n      if (userDoc.exists()) {\r\n        setFavorites(userDoc.data().favoriteLocations || []);\r\n      }\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error loading favorites:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAdd = async () => {\r\n    if (!newLocation.trim()) {\r\n      toast.error('Please enter a location');\r\n      return;\r\n    }\r\n\r\n    if (favorites.length >= 20) {\r\n      toast.error('Maximum 20 favorite locations');\r\n      return;\r\n    }\r\n\r\n    const newFavorite = {\r\n      id: Date.now().toString(),\r\n      name: newLocation.trim(),\r\n      emoji: newEmoji,\r\n      usedCount: 0,\r\n    };\r\n\r\n    const updated = [...favorites, newFavorite];\r\n\r\n    try {\r\n      await updateDoc(doc(db, 'users', currentUser.uid), {\r\n        favoriteLocations: updated,\r\n      });\r\n      // Track analytics\r\n      const { logAnalyticsEvent } = require('../services/firebase');\r\n      logAnalyticsEvent('location_favorite_added', {\r\n        total_favorites: updated.length\r\n      });\r\n\r\n      setFavorites(updated);\r\n      setNewLocation('');\r\n      setNewEmoji('üìç');\r\n      toast.success('Location added!');\r\n    } catch (error) {\r\n      console.error('Error adding favorite:', error);\r\n      toast.error('Failed to add location');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    const updated = favorites.filter(f => f.id !== id);\r\n\r\n    try {\r\n      await updateDoc(doc(db, 'users', currentUser.uid), {\r\n        favoriteLocations: updated,\r\n      });\r\n      setFavorites(updated);\r\n      toast.success('Location removed');\r\n    } catch (error) {\r\n      console.error('Error removing favorite:', error);\r\n      toast.error('Failed to remove location');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-pattern\">\r\n        <div className=\"flex items-center justify-center py-20\">\r\n          <div className=\"spinner\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-pattern\">\r\n\r\n      <div className=\"max-w-4xl mx-auto p-4 pb-20\">\r\n        <div className=\"mb-6\">\r\n          <h1 className=\"text-3xl font-display text-text-primary mb-2\">Favorite Locations</h1>\r\n          <p className=\"text-text-secondary\">\r\n            Save your frequently visited places for quick check-ins\r\n          </p>\r\n        </div>\r\n\r\n        {/* Add New Location */}\r\n        <div className=\"card p-6 mb-6\">\r\n          <h3 className=\"font-display text-lg text-text-primary mb-4\">Add Location</h3>\r\n          \r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-text-primary mb-2\">\r\n                Choose Icon\r\n              </label>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {emojiOptions.map(emoji => (\r\n                  <button\r\n                    key={emoji}\r\n                    onClick={() => setNewEmoji(emoji)}\r\n                    className={`w-12 h-12 rounded-xl text-2xl flex items-center justify-center transition-all ${\r\n                      newEmoji === emoji\r\n                        ? 'bg-primary text-white scale-110'\r\n                        : 'bg-gray-100 hover:bg-gray-200'\r\n                    }`}\r\n                  >\r\n                    {emoji}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-text-primary mb-2\">\r\n                Location Name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={newLocation}\r\n                onChange={(e) => setNewLocation(e.target.value)}\r\n                className=\"input\"\r\n                placeholder=\"e.g., Local Coffee Shop\"\r\n                maxLength={50}\r\n              />\r\n            </div>\r\n\r\n            <button\r\n              onClick={handleAdd}\r\n              className=\"w-full btn btn-primary\"\r\n            >\r\n              ‚ûï Add to Favorites\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Favorites List */}\r\n        <div className=\"mb-6\">\r\n          <h3 className=\"font-display text-lg text-text-primary mb-4\">\r\n            Your Favorites ({favorites.length}/20)\r\n          </h3>\r\n\r\n          {favorites.length === 0 ? (\r\n            <div className=\"card p-12 text-center\">\r\n              <div className=\"text-6xl mb-4\">üìç</div>\r\n              <h2 className=\"text-2xl font-display text-text-primary mb-2\">\r\n                No favorites yet\r\n              </h2>\r\n              <p className=\"text-text-secondary\">\r\n                Add your frequently visited locations for quick access\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              {favorites.map((favorite) => (\r\n                <div key={favorite.id} className=\"card p-4\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3 flex-1\">\r\n                      <div className=\"text-3xl\">{favorite.emoji}</div>\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"font-semibold text-text-primary truncate\">\r\n                          {favorite.name}\r\n                        </div>\r\n                        {favorite.usedCount > 0 && (\r\n                          <div className=\"text-sm text-text-secondary\">\r\n                            Used {favorite.usedCount} times\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => handleDelete(favorite.id)}\r\n                      className=\"text-danger hover:bg-danger/10 p-2 rounded-lg transition-colors\"\r\n                    >\r\n                      üóëÔ∏è\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LocationFavoritesPage;\r\n"],"names":["LocationFavoritesPage","currentUser","useAuth","favorites","setFavorites","useState","newLocation","setNewLocation","newEmoji","setNewEmoji","loading","setLoading","useEffect","loadFavorites","async","userDoc","getDoc","doc","db","uid","exists","data","favoriteLocations","error","console","_jsx","className","children","_jsxs","map","emoji","onClick","concat","type","value","onChange","e","target","placeholder","maxLength","trim","toast","length","newFavorite","id","Date","now","toString","name","usedCount","updated","updateDoc","logAnalyticsEvent","require","total_favorites","success","favorite","filter","f","handleDelete"],"sourceRoot":""}