{"version":3,"file":"static/js/43.52bf6d6b.chunk.js","mappings":"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","sources":["components/profile/themes/typography.js","components/ConfettiCelebration.jsx","components/CountUp.jsx","components/BestieCircleShareModal.jsx","components/LivingCircle.jsx","components/SocialShareCardsModal.jsx","components/profile/ProfileCard.jsx","components/profile/ProfileCompletion.jsx","components/profile/WeeklySummary.jsx","components/profile/LoginStreak.jsx","components/profile/BadgesSection.jsx","components/profile/StatsSection.jsx","components/profile/DonationStatus.jsx","components/profile/ProfileAuraStyles.jsx","pages/ProfilePage.jsx","services/connectionStrength.js","components/profile/themes/backgrounds.js","components/profile/layouts/ClassicLayout.jsx","components/profile/layouts/MagazineLayout.jsx","components/profile/layouts/PolaroidLayout.jsx","components/profile/layouts/SplitScreenLayout.jsx","components/profile/layouts/StoryLayout.jsx","components/profile/layouts/BentoLayout.jsx","components/profile/layouts/MinimalLayout.jsx","components/profile/layouts/ScrapbookLayout.jsx","components/profile/layouts/index.js"],"sourcesContent":["// Typography Pairings for Profile Cards\n// Each pairing includes name font and bio font\n\nexport const TYPOGRAPHY_STYLES = [\n  {\n    id: 'elegant',\n    name: 'Elegant',\n    emoji: '',\n    description: 'Sophisticated serif with clean sans',\n    nameFont: {\n      family: 'Playfair Display',\n      weight: '700',\n      style: 'normal',\n      googleFont: 'Playfair+Display:wght@700'\n    },\n    bioFont: {\n      family: 'Inter',\n      weight: '400',\n      style: 'italic',\n      googleFont: 'Inter:ital,wght@1,400'\n    },\n    nameSizeClass: 'text-4xl',\n    bioSizeClass: 'text-base'\n  },\n  {\n    id: 'playful',\n    name: 'Playful',\n    emoji: '',\n    description: 'Rounded display with friendly body',\n    nameFont: {\n      family: 'Fredoka One',\n      weight: '400',\n      style: 'normal',\n      googleFont: 'Fredoka+One'\n    },\n    bioFont: {\n      family: 'Quicksand',\n      weight: '400',\n      style: 'normal',\n      googleFont: 'Quicksand:wght@400'\n    },\n    nameSizeClass: 'text-4xl',\n    bioSizeClass: 'text-base'\n  },\n  {\n    id: 'editorial',\n    name: 'Editorial',\n    emoji: '',\n    description: 'Bold all caps with italic',\n    nameFont: {\n      family: 'Montserrat',\n      weight: '800',\n      style: 'normal',\n      transform: 'uppercase',\n      googleFont: 'Montserrat:wght@800'\n    },\n    bioFont: {\n      family: 'Lora',\n      weight: '400',\n      style: 'italic',\n      googleFont: 'Lora:ital,wght@1,400'\n    },\n    nameSizeClass: 'text-3xl tracking-wider',\n    bioSizeClass: 'text-base'\n  },\n  {\n    id: 'minimal',\n    name: 'Minimal',\n    emoji: '',\n    description: 'Clean thin sans throughout',\n    nameFont: {\n      family: 'Poppins',\n      weight: '300',\n      style: 'normal',\n      googleFont: 'Poppins:wght@300'\n    },\n    bioFont: {\n      family: 'Poppins',\n      weight: '400',\n      style: 'normal',\n      googleFont: 'Poppins:wght@400'\n    },\n    nameSizeClass: 'text-4xl',\n    bioSizeClass: 'text-sm'\n  },\n  {\n    id: 'bold',\n    name: 'Bold',\n    emoji: '',\n    description: 'Extra thick name with standard body',\n    nameFont: {\n      family: 'Archivo Black',\n      weight: '400',\n      style: 'normal',\n      googleFont: 'Archivo+Black'\n    },\n    bioFont: {\n      family: 'Work Sans',\n      weight: '400',\n      style: 'normal',\n      googleFont: 'Work+Sans:wght@400'\n    },\n    nameSizeClass: 'text-4xl',\n    bioSizeClass: 'text-base'\n  },\n  {\n    id: 'romantic',\n    name: 'Romantic',\n    emoji: '',\n    description: 'Delicate script with soft serif',\n    nameFont: {\n      family: 'Dancing Script',\n      weight: '700',\n      style: 'normal',\n      googleFont: 'Dancing+Script:wght@700'\n    },\n    bioFont: {\n      family: 'Crimson Text',\n      weight: '400',\n      style: 'normal',\n      googleFont: 'Crimson+Text:wght@400'\n    },\n    nameSizeClass: 'text-5xl',\n    bioSizeClass: 'text-base'\n  }\n];\n\n// Helper to load Google Fonts dynamically\nexport const loadGoogleFonts = (typography) => {\n  const fonts = new Set();\n\n  if (typography?.nameFont?.googleFont) {\n    fonts.add(typography.nameFont.googleFont);\n  }\n  if (typography?.bioFont?.googleFont) {\n    fonts.add(typography.bioFont.googleFont);\n  }\n\n  if (fonts.size === 0) return;\n\n  const fontString = Array.from(fonts).join('&family=');\n  const linkId = 'profile-custom-fonts';\n\n  // Remove existing font link if present\n  const existingLink = document.getElementById(linkId);\n  if (existingLink) {\n    existingLink.remove();\n  }\n\n  // Add new font link\n  const link = document.createElement('link');\n  link.id = linkId;\n  link.rel = 'stylesheet';\n  link.href = `https://fonts.googleapis.com/css2?family=${fontString}&display=swap`;\n  document.head.appendChild(link);\n};\n\n// Get typography style by ID\nexport const getTypographyById = (id) => {\n  return TYPOGRAPHY_STYLES.find(style => style.id === id) || TYPOGRAPHY_STYLES[0];\n};\n\n// Generate CSS for name styling\nexport const getNameStyle = (typography) => {\n  if (!typography) return {};\n\n  return {\n    fontFamily: typography.nameFont.family,\n    fontWeight: typography.nameFont.weight,\n    fontStyle: typography.nameFont.style,\n    textTransform: typography.nameFont.transform || 'none'\n  };\n};\n\n// Generate CSS for bio styling\nexport const getBioStyle = (typography) => {\n  if (!typography) return {};\n\n  return {\n    fontFamily: typography.bioFont.family,\n    fontWeight: typography.bioFont.weight,\n    fontStyle: typography.bioFont.style\n  };\n};\n","import { useEffect } from 'react';\nimport confetti from 'canvas-confetti';\n\nconst ConfettiCelebration = ({ trigger = false, type = 'default' }) => {\n  useEffect(() => {\n    if (!trigger) return;\n\n    const fireConfetti = () => {\n      if (type === 'badge') {\n        // Badge celebration - stars and hearts\n        const count = 200;\n        const defaults = {\n          origin: { y: 0.7 },\n          shapes: ['circle', 'square'],\n          colors: ['#FF69B4', '#DDA0DD', '#FFB6C1', '#FFC0CB', '#FF1493']\n        };\n\n        function fire(particleRatio, opts) {\n          confetti({\n            ...defaults,\n            ...opts,\n            particleCount: Math.floor(count * particleRatio)\n          });\n        }\n\n        fire(0.25, {\n          spread: 26,\n          startVelocity: 55,\n        });\n\n        fire(0.2, {\n          spread: 60,\n        });\n\n        fire(0.35, {\n          spread: 100,\n          decay: 0.91,\n          scalar: 0.8\n        });\n\n        fire(0.1, {\n          spread: 120,\n          startVelocity: 25,\n          decay: 0.92,\n          scalar: 1.2\n        });\n\n        fire(0.1, {\n          spread: 120,\n          startVelocity: 45,\n        });\n      } else if (type === 'milestone') {\n        // Milestone - explosion from center\n        confetti({\n          particleCount: 150,\n          spread: 70,\n          origin: { y: 0.6 },\n          colors: ['#FF69B4', '#DDA0DD', '#FFB6C1', '#87CEEB', '#98FB98']\n        });\n\n        // Second burst\n        setTimeout(() => {\n          confetti({\n            particleCount: 100,\n            angle: 60,\n            spread: 55,\n            origin: { x: 0 },\n            colors: ['#FF69B4', '#DDA0DD', '#FFB6C1']\n          });\n        }, 200);\n\n        setTimeout(() => {\n          confetti({\n            particleCount: 100,\n            angle: 120,\n            spread: 55,\n            origin: { x: 1 },\n            colors: ['#87CEEB', '#98FB98', '#FFB6C1']\n          });\n        }, 400);\n      } else {\n        // Default celebration\n        confetti({\n          particleCount: 100,\n          spread: 70,\n          origin: { y: 0.6 },\n          colors: ['#FF69B4', '#DDA0DD', '#FFB6C1', '#FFC0CB', '#FF1493']\n        });\n      }\n    };\n\n    fireConfetti();\n  }, [trigger, type]);\n\n  return null; // This component doesn't render anything\n};\n\nexport default ConfettiCelebration;\n","const CountUp = ({ end, duration = 1000, suffix = '', prefix = '', className = '' }) => {\n  // Display value directly without animation\n  const value = parseInt(end) || 0;\n\n  return (\n    <span className={className}>\n      {prefix}{value.toLocaleString()}{suffix}\n    </span>\n  );\n};\n\nexport default CountUp;\n","import React from 'react';\nimport toast from 'react-hot-toast';\n\nconst BestieCircleShareModal = ({ onClose, circleCount }) => {\n  const handleShare = (platform) => {\n    const appUrl = window.location.origin;\n    const message = `Hey! I'm using Besties to stay safe when I go out. It's a safety app where your close friends can check in on you. Want to be part of my safety circle? \\n\\nJoin me on Besties: ${appUrl}`;\n    const encoded = encodeURIComponent(message);\n    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n    switch (platform) {\n      case 'whatsapp':\n        if (isMobile) {\n          window.location.href = `whatsapp://send?text=${encoded}`;\n        } else {\n          window.open(`https://wa.me/?text=${encoded}`, '_blank');\n        }\n        break;\n      case 'messenger':\n        if (isMobile) {\n          window.location.href = `fb-messenger://share?link=${encodeURIComponent(appUrl)}`;\n          setTimeout(() => {\n            window.open(`https://www.facebook.com/dialog/send?link=${encodeURIComponent(appUrl)}&app_id=&redirect_uri=${encodeURIComponent(appUrl)}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://www.facebook.com/dialog/send?link=${encodeURIComponent(appUrl)}&app_id=&redirect_uri=${encodeURIComponent(appUrl)}`, '_blank', 'width=600,height=400');\n        }\n        break;\n      case 'instagram':\n        navigator.clipboard.writeText(message).then(() => {\n          toast.success('Message copied! Opening Instagram DMs...');\n          if (isMobile) {\n            window.location.href = 'instagram://direct/inbox';\n            setTimeout(() => {\n              window.open('https://www.instagram.com/direct/inbox/', '_blank');\n            }, 1500);\n          } else {\n            window.open('https://www.instagram.com/direct/inbox/', '_blank');\n          }\n        }).catch(() => {\n          toast.error('Failed to copy message');\n        });\n        break;\n      case 'sms':\n        window.location.href = `sms:?body=${encoded}`;\n        break;\n      case 'facebook':\n        const textEncoded = encodeURIComponent('Join my safety circle on Besties! ');\n        const urlEncoded = encodeURIComponent(appUrl);\n        if (isMobile) {\n          window.location.href = `fb://profile`;\n          setTimeout(() => {\n            window.open(`https://www.facebook.com/sharer/sharer.php?u=${urlEncoded}&quote=${textEncoded}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://www.facebook.com/sharer/sharer.php?u=${urlEncoded}&quote=${textEncoded}`, '_blank', 'width=600,height=400');\n        }\n        break;\n      default:\n        break;\n    }\n\n    toast.success(`Opening ${platform}...`);\n    onClose();\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 dark:bg-black/75 flex items-center justify-center z-50 p-4 backdrop-blur-sm\" onClick={onClose}>\n      <div className=\"card max-w-lg w-full p-0 animate-scale-up overflow-hidden relative bg-gradient-to-br from-pink-50 via-purple-50 to-pink-50 dark:from-pink-900/20 dark:via-purple-900/20 dark:to-pink-900/20 border-2 border-pink-200 dark:border-pink-600 shadow-2xl\" onClick={(e) => e.stopPropagation()}>\n\n        {/* Close button */}\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 z-10 w-8 h-8 rounded-full bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors shadow-md text-gray-700 dark:text-gray-300\"\n        >\n          \n        </button>\n\n        {/* Header with gradient background - mobile optimized */}\n        <div className=\"bg-gradient-to-r from-primary via-purple-500 to-pink-500 p-4 md:p-8 text-center relative overflow-hidden\">\n          {/* Decorative circles */}\n          <div className=\"absolute top-0 right-0 w-24 h-24 md:w-32 md:h-32 bg-white/10 rounded-full -mr-12 md:-mr-16 -mt-12 md:-mt-16\"></div>\n          <div className=\"absolute bottom-0 left-0 w-16 h-16 md:w-24 md:h-24 bg-white/10 rounded-full -ml-8 md:-ml-12 -mb-8 md:-mb-12\"></div>\n\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl md:text-6xl mb-2 md:mb-3 animate-bounce-slow\"></div>\n            <h3 className=\"text-xl md:text-3xl font-display text-white mb-2 drop-shadow-lg\">\n              Complete Your Circle!\n            </h3>\n            <div className=\"inline-block bg-white/20 backdrop-blur-sm px-3 md:px-4 py-1.5 md:py-2 rounded-full\">\n              <p className=\"text-white font-semibold text-sm md:text-base\">\n                <span className=\"text-xl md:text-2xl font-display\">{circleCount}</span>\n                <span className=\"text-white/80\"> / </span>\n                <span className=\"text-xl md:text-2xl font-display\">5</span>\n                <span className=\"text-xs md:text-sm ml-2\">besties</span>\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"p-4 md:p-6\">\n          {/* Info Box - more compact on mobile */}\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl md:rounded-2xl p-3 md:p-5 mb-4 md:mb-6 shadow-lg border-2 border-pink-100 dark:border-pink-800\">\n            <div className=\"flex items-start gap-2 md:gap-3\">\n              <div className=\"text-2xl md:text-3xl flex-shrink-0\"></div>\n              <div>\n                <h4 className=\"font-display text-base md:text-lg text-primary dark:text-purple-400 mb-1 md:mb-2\">\n                  Why you need 5 besties\n                </h4>\n                <p className=\"text-xs md:text-sm text-gray-700 dark:text-gray-300 leading-relaxed\">\n                  A full circle means maximum protection! Your 5 trusted friends will get alerts when you check in and can help if something goes wrong. The more besties, the safer you are. \n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Social Sharing */}\n          <div className=\"mb-4 md:mb-6\">\n            <h4 className=\"text-base md:text-lg font-display text-center text-primary dark:text-purple-400 mb-3 md:mb-4\">\n               Invite Friends to Join You \n            </h4>\n            <div className=\"grid grid-cols-3 gap-2 md:gap-3\">\n              <button\n                onClick={() => handleShare('whatsapp')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-[#25D366] hover:bg-[#20BA5A] text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share on WhatsApp\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\"/>\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">WhatsApp</span>\n              </button>\n\n              <button\n                onClick={() => handleShare('messenger')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-[#0084FF] hover:bg-[#0073E6] text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share on Messenger\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12 0C5.373 0 0 4.975 0 11.111c0 3.497 1.745 6.616 4.472 8.652V24l4.086-2.242c1.09.301 2.246.464 3.442.464 6.627 0 12-4.974 12-11.111C24 4.975 18.627 0 12 0zm1.191 14.963l-3.055-3.26-5.963 3.26L10.732 8l3.131 3.259L19.752 8l-6.561 6.963z\"/>\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">Messenger</span>\n              </button>\n\n              <button\n                onClick={() => handleShare('instagram')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-gradient-to-r from-[#833AB4] via-[#FD1D1D] to-[#F77737] hover:opacity-90 text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share on Instagram\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">Instagram</span>\n              </button>\n\n              <button\n                onClick={() => handleShare('sms')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-success hover:bg-green-600 text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share via SMS\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">SMS</span>\n              </button>\n\n              <button\n                onClick={() => handleShare('facebook')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-[#1877F2] hover:bg-[#166FE5] text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share on Facebook\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">Facebook</span>\n              </button>\n\n              <button\n                onClick={onClose}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 transition-all hover:scale-105 shadow-md\"\n              >\n                <div className=\"w-6 h-6 md:w-10 md:h-10 flex items-center justify-center text-xl md:text-2xl\"></div>\n                <span className=\"text-[10px] md:text-sm font-semibold\">Maybe Later</span>\n              </button>\n            </div>\n          </div>\n\n          <p className=\"text-xs text-center text-gray-500 dark:text-gray-400 italic\">\n             Building your safety circle is one of the smartest things you can do\n          </p>\n        </div>\n\n        <style>{`\n          @keyframes bounce-slow {\n            0%, 100% { transform: translateY(0); }\n            50% { transform: translateY(-10px); }\n          }\n          .animate-bounce-slow {\n            animation: bounce-slow 2s ease-in-out infinite;\n          }\n        `}</style>\n      </div>\n    </div>\n  );\n};\n\nexport default BestieCircleShareModal;\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { db, auth } from '../services/firebase';\nimport { collection, query, where, getDocs, doc, updateDoc, getDoc, addDoc, Timestamp } from 'firebase/firestore';\nimport toast from 'react-hot-toast';\nimport BestieCircleShareModal from './BestieCircleShareModal';\nimport ProfileWithBubble from './ProfileWithBubble';\nimport {\n  calculateConnectionStrength,\n  getConnectionColor,\n  getConnectionEmoji,\n  formatTimeAgo,\n  getLastInteraction,\n} from '../services/connectionStrength';\n\nconst LivingCircle = ({ userId, onAddClick }) => {\n  const navigate = useNavigate();\n  const [allBesties, setAllBesties] = useState([]);\n  const [circleBesties, setCircleBesties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [showReplaceModal, setShowReplaceModal] = useState(false);\n  const [showShareModal, setShowShareModal] = useState(false);\n  const [connectionStrengths, setConnectionStrengths] = useState({});\n  const [lastSeen, setLastSeen] = useState({});\n  const [loadingConnections, setLoadingConnections] = useState(true);\n  const [overallHealth, setOverallHealth] = useState(0);\n\n  const loadBesties = async () => {\n    if (!userId) return;\n\n    try {\n      // Get all accepted besties\n      const [requesterQuery, recipientQuery] = await Promise.all([\n        getDocs(\n          query(\n            collection(db, 'besties'),\n            where('requesterId', '==', userId),\n            where('status', '==', 'accepted')\n          )\n        ),\n        getDocs(\n          query(\n            collection(db, 'besties'),\n            where('recipientId', '==', userId),\n            where('status', '==', 'accepted')\n          )\n        ),\n      ]);\n\n      const bestiesList = [];\n\n      for (const docSnap of requesterQuery.docs) {\n        const data = docSnap.data();\n        const userDoc = await getDoc(doc(db, 'users', data.recipientId));\n        const userData = userDoc.exists() ? userDoc.data() : {};\n\n        // Check for active check-ins\n        const checkInVisibility = userData.privacySettings?.checkInVisibility || 'all_besties';\n        let hasActiveCheckIn = false;\n\n        if (checkInVisibility === 'all_besties') {\n          const activeCheckInsQuery = query(\n            collection(db, 'checkins'),\n            where('userId', '==', data.recipientId),\n            where('status', 'in', ['active', 'alerted'])\n          );\n          const activeCheckIns = await getDocs(activeCheckInsQuery);\n          hasActiveCheckIn = !activeCheckIns.empty;\n        } else if (checkInVisibility === 'circle') {\n          const theirFeaturedCircle = userData.featuredCircle || [];\n          if (theirFeaturedCircle.includes(userId)) {\n            const activeCheckInsQuery = query(\n              collection(db, 'checkins'),\n              where('userId', '==', data.recipientId),\n              where('status', 'in', ['active', 'alerted'])\n            );\n            const activeCheckIns = await getDocs(activeCheckInsQuery);\n            hasActiveCheckIn = !activeCheckIns.empty;\n          }\n        }\n\n        bestiesList.push({\n          id: data.recipientId,\n          name: userData.displayName || 'Bestie',\n          photoURL: userData.photoURL || null,\n          requestAttention: userData.requestAttention || null,\n          hasActiveCheckIn: hasActiveCheckIn,\n        });\n      }\n\n      for (const docSnap of recipientQuery.docs) {\n        const data = docSnap.data();\n        const userDoc = await getDoc(doc(db, 'users', data.requesterId));\n        const userData = userDoc.exists() ? userDoc.data() : {};\n\n        // Check for active check-ins\n        const checkInVisibility = userData.privacySettings?.checkInVisibility || 'all_besties';\n        let hasActiveCheckIn = false;\n\n        if (checkInVisibility === 'all_besties') {\n          const activeCheckInsQuery = query(\n            collection(db, 'checkins'),\n            where('userId', '==', data.requesterId),\n            where('status', 'in', ['active', 'alerted'])\n          );\n          const activeCheckIns = await getDocs(activeCheckInsQuery);\n          hasActiveCheckIn = !activeCheckIns.empty;\n        } else if (checkInVisibility === 'circle') {\n          const theirFeaturedCircle = userData.featuredCircle || [];\n          if (theirFeaturedCircle.includes(userId)) {\n            const activeCheckInsQuery = query(\n              collection(db, 'checkins'),\n              where('userId', '==', data.requesterId),\n              where('status', 'in', ['active', 'alerted'])\n            );\n            const activeCheckIns = await getDocs(activeCheckInsQuery);\n            hasActiveCheckIn = !activeCheckIns.empty;\n          }\n        }\n\n        bestiesList.push({\n          id: data.requesterId,\n          name: userData.displayName || 'Bestie',\n          photoURL: userData.photoURL || null,\n          requestAttention: userData.requestAttention || null,\n          hasActiveCheckIn: hasActiveCheckIn,\n        });\n      }\n\n      setAllBesties(bestiesList);\n\n      // Get user's featured circle\n      const userDoc = await getDoc(doc(db, 'users', userId));\n      const featuredIds = userDoc.exists() ? (userDoc.data().featuredCircle || []) : [];\n\n      // Map featured IDs to bestie objects\n      const featured = featuredIds\n        .map(id => bestiesList.find(b => b.id === id))\n        .filter(Boolean);\n\n      // If less than what user has, auto-fill with first few besties\n      const needsAutoFill = featured.length < bestiesList.length && featured.length < 5;\n      if (needsAutoFill) {\n        const remaining = bestiesList.filter(b => !featuredIds.includes(b.id));\n        featured.push(...remaining.slice(0, 5 - featured.length));\n      }\n\n      const finalCircle = featured.slice(0, 5);\n      setCircleBesties(finalCircle);\n\n      // CRITICAL: Save auto-filled circle to Firestore\n      if (needsAutoFill && finalCircle.length > 0) {\n        await saveFeaturedCircle(finalCircle);\n      }\n\n      setLoading(false);\n\n      // Load connection strengths and last seen\n      loadConnectionData(finalCircle);\n    } catch (error) {\n      console.error('Error loading besties:', error);\n      setLoading(false);\n    }\n  };\n\n  const loadConnectionData = async (besties) => {\n    setLoadingConnections(true);\n    const strengths = {};\n    const lastSeenData = {};\n\n    for (const bestie of besties) {\n      try {\n        // Calculate connection strength\n        const strength = await calculateConnectionStrength(userId, bestie.id);\n        strengths[bestie.id] = strength;\n\n        // Get last interaction\n        const lastInteraction = await getLastInteraction(userId, bestie.id);\n        lastSeenData[bestie.id] = lastInteraction;\n      } catch (error) {\n        console.error(`Error loading connection data for ${bestie.id}:`, error);\n      }\n    }\n\n    setConnectionStrengths(strengths);\n    setLastSeen(lastSeenData);\n\n    // Calculate overall health\n    const scores = Object.values(strengths).map(s => s.total);\n    const avgScore = scores.length > 0 ? scores.reduce((a, b) => a + b, 0) / scores.length : 0;\n    const healthWithPenalty = besties.length < 5 ? avgScore * (besties.length / 5) : avgScore;\n    setOverallHealth(Math.round(healthWithPenalty));\n\n    setLoadingConnections(false);\n  };\n\n  useEffect(() => {\n    loadBesties();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userId]);\n\n  const saveFeaturedCircle = async (newCircle) => {\n    const featuredIds = newCircle.map(b => b.id);\n    await updateDoc(doc(db, 'users', userId), {\n      featuredCircle: featuredIds,\n    });\n  };\n\n  const handleRemoveFromCircle = async (index) => {\n    // Only allow removal if circle is full (5 members)\n    if (circleBesties.length < 5) {\n      toast.error('Circle must be full to remove members. Use Replace instead.');\n      setSelectedSlot(null);\n      return;\n    }\n\n    const newCircle = circleBesties.filter((_, i) => i !== index);\n    setCircleBesties(newCircle);\n    await saveFeaturedCircle(newCircle);\n    setSelectedSlot(null);\n    toast.success('Removed from circle');\n  };\n\n  const handleReplaceBestie = async (newBestie) => {\n    const newCircle = [...circleBesties];\n    newCircle[selectedSlot] = newBestie;\n    setCircleBesties(newCircle);\n    await saveFeaturedCircle(newCircle);\n    setShowReplaceModal(false);\n    setSelectedSlot(null);\n    toast.success('Bestie replaced');\n\n    // Reload connection data for new bestie\n    loadConnectionData(newCircle);\n  };\n\n  const handleViewProfile = (bestieId) => {\n    navigate(`/user/${bestieId}`);\n    setSelectedSlot(null);\n  };\n\n  const getStatusInfo = (bestie) => {\n    // Priority: Request Attention > Active Check-in > Safe\n    if (bestie.requestAttention?.active) {\n      return {\n        color: 'bg-purple-500',\n        ringColor: 'ring-purple-400',\n        glowColor: '#a855f7',\n        label: 'Needs support',\n        emoji: '',\n      };\n    } else if (bestie.hasActiveCheckIn) {\n      return {\n        color: 'bg-yellow-500',\n        ringColor: 'ring-yellow-400',\n        glowColor: '#f59e0b',\n        label: 'Active check-in',\n        emoji: '',\n      };\n    } else {\n      return {\n        color: 'bg-green-500',\n        ringColor: 'ring-green-400',\n        glowColor: '#10b981',\n        label: 'Safe',\n        emoji: '',\n      };\n    }\n  };\n\n  const slots = Array.from({ length: 5 }, (_, i) => circleBesties[i] || null);\n\n  // Different colors for each bestie slot\n  const slotColors = [\n    'bg-pink-500',      // Slot 0 - Pink\n    'bg-purple-500',    // Slot 1 - Purple\n    'bg-blue-500',      // Slot 2 - Blue\n    'bg-green-500',     // Slot 3 - Green\n    'bg-orange-500',    // Slot 4 - Orange\n  ];\n\n  if (loading) {\n    return (\n      <div className=\"card p-8 flex items-center justify-center\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"card p-6 md:p-8 bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 border-2 border-purple-100 relative overflow-hidden\">\n      {/* Animated background gradient */}\n      <div className=\"absolute inset-0 opacity-30 animate-gradient-shift pointer-events-none\"></div>\n\n      <div className=\"relative z-10\">\n        <div className=\"text-center mb-6\">\n          <h3 className=\"text-2xl md:text-3xl font-display text-gradient mb-1\">Your Inner Circle</h3>\n          <p className=\"text-sm text-gray-600\">The 5 who have your back, always</p>\n        </div>\n\n        {/* Circle Container - Responsive sizing */}\n        <div className=\"relative w-full max-w-md mx-auto aspect-square mb-6\">\n          <div className=\"absolute inset-0\">\n            {/* Connection Lines with Dynamic Strength */}\n            {slots.map((bestie, index) => {\n              if (!bestie) return null;\n              const angle = (index * 72 - 90) * (Math.PI / 180);\n              const radius = 45; // Percentage-based radius\n              const x = 50 + radius * Math.cos(angle);\n              const y = 50 + radius * Math.sin(angle);\n\n              const connectionStrength = connectionStrengths[bestie.id];\n              const strengthScore = connectionStrength?.total || 0;\n              const connectionColor = getConnectionColor(strengthScore);\n\n              // Line opacity and animation based on strength\n              const opacity = 0.2 + (strengthScore / 100) * 0.6;\n              const strokeWidth = 1 + (strengthScore / 100) * 2;\n\n              return (\n                <svg\n                  key={`line-${index}`}\n                  className=\"absolute inset-0 w-full h-full pointer-events-none\"\n                  style={{ zIndex: 0 }}\n                >\n                  <defs>\n                    <linearGradient id={`gradient-${index}`} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                      <stop offset=\"0%\" stopColor={connectionColor} stopOpacity={opacity} />\n                      <stop offset=\"50%\" stopColor={connectionColor} stopOpacity={opacity * 1.5} />\n                      <stop offset=\"100%\" stopColor={connectionColor} stopOpacity={opacity} />\n                    </linearGradient>\n                    <filter id={`glow-${index}`}>\n                      <feGaussianBlur stdDeviation=\"2\" result=\"coloredBlur\"/>\n                      <feMerge>\n                        <feMergeNode in=\"coloredBlur\"/>\n                        <feMergeNode in=\"SourceGraphic\"/>\n                      </feMerge>\n                    </filter>\n                  </defs>\n                  <line\n                    x1=\"50%\"\n                    y1=\"50%\"\n                    x2={`${x}%`}\n                    y2={`${y}%`}\n                    stroke={`url(#gradient-${index})`}\n                    strokeWidth={strokeWidth}\n                    strokeDasharray=\"4 2\"\n                    filter={`url(#glow-${index})`}\n                    className=\"animate-pulse-connection\"\n                  />\n\n                  {/* Flowing particles - always visible, more for stronger connections */}\n                  {bestie && (\n                    <>\n                      {/* Primary particle - always flows */}\n                      <circle\n                        cx=\"50%\"\n                        cy=\"50%\"\n                        r={strengthScore >= 50 ? \"4\" : \"3\"}\n                        fill=\"#10b981\"\n                        opacity={0.4 + (strengthScore / 100) * 0.6}\n                        className=\"animate-particle\"\n                        style={{\n                          '--target-x': `${x}%`,\n                          '--target-y': `${y}%`,\n                          animationDelay: `${index * 0.5}s`,\n                          animationDuration: strengthScore >= 70 ? '2s' : '3s',\n                        }}\n                      />\n                      {/* Secondary particle for strong connections */}\n                      {strengthScore >= 50 && (\n                        <circle\n                          cx=\"50%\"\n                          cy=\"50%\"\n                          r=\"3\"\n                          fill=\"#34d399\"\n                          opacity={0.5}\n                          className=\"animate-particle\"\n                          style={{\n                            '--target-x': `${x}%`,\n                            '--target-y': `${y}%`,\n                            animationDelay: `${index * 0.5 + 1}s`,\n                            animationDuration: '2.5s',\n                          }}\n                        />\n                      )}\n                      {/* Third particle for unbreakable connections */}\n                      {strengthScore >= 90 && (\n                        <circle\n                          cx=\"50%\"\n                          cy=\"50%\"\n                          r=\"4\"\n                          fill=\"#10b981\"\n                          opacity={0.7}\n                          className=\"animate-particle\"\n                          style={{\n                            '--target-x': `${x}%`,\n                            '--target-y': `${y}%`,\n                            animationDelay: `${index * 0.5 + 0.5}s`,\n                            animationDuration: '1.8s',\n                          }}\n                        />\n                      )}\n                    </>\n                  )}\n                </svg>\n              );\n            })}\n\n            {/* Center Circle - Circle Health Score */}\n            <div className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10\">\n              <div className=\"w-20 h-20 md:w-24 md:h-24 bg-gradient-primary rounded-full flex flex-col items-center justify-center text-white shadow-2xl border-4 border-white ring-4 ring-purple-200 animate-breathe\">\n                {loadingConnections ? (\n                  <div className=\"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                ) : circleBesties.length === 0 ? (\n                  <div className=\"text-center px-2\">\n                    <div className=\"text-2xl\"></div>\n                    <div className=\"text-xs font-semibold\">Start</div>\n                  </div>\n                ) : (\n                  <>\n                    <div className=\"text-2xl md:text-3xl font-bold leading-none\">{overallHealth}</div>\n                    <div className=\"text-xs font-semibold opacity-90\">Your Vibe</div>\n                  </>\n                )}\n              </div>\n            </div>\n\n            {/* Bestie Slots - all equidistant from center */}\n            {slots.map((bestie, index) => {\n              const angle = (index * 72 - 90) * (Math.PI / 180);\n              const radius = 45; // Percentage-based for better responsiveness\n              const x = 50 + radius * Math.cos(angle);\n              const y = 50 + radius * Math.sin(angle);\n\n              const status = bestie ? getStatusInfo(bestie) : null;\n              const connectionStrength = bestie ? connectionStrengths[bestie.id] : null;\n              const lastSeenTime = bestie ? lastSeen[bestie.id] : null;\n\n              return (\n                <div\n                  key={index}\n                  className=\"absolute\"\n                  style={{\n                    left: `${x}%`,\n                    top: `${y}%`,\n                    transform: 'translate(-50%, -50%)',\n                  }}\n                >\n                  {bestie ? (\n                    <div className=\"relative group\">\n                      {/* Bestie Circle - clickable with status ring */}\n                      <button\n                        onClick={() => setSelectedSlot(selectedSlot === index ? null : index)}\n                        className=\"relative hover:scale-110 transition-all duration-300\"\n                      >\n                        <div className={`w-14 h-14 md:w-16 md:h-16 rounded-full shadow-xl border-4 border-white hover:shadow-2xl ${status.ringColor} ring-4 hover:ring-6 overflow-hidden flex items-center justify-center relative animate-breathe-subtle`}\n                          style={{ animationDelay: `${index * 0.3}s` }}\n                        >\n                          <ProfileWithBubble\n                            photoURL={bestie.photoURL}\n                            name={bestie.name || 'Bestie'}\n                            requestAttention={bestie.requestAttention}\n                            size=\"xl\"\n                            showBubble={true}\n                            className=\"w-full h-full\"\n                          />\n\n                          {/* Status Badge */}\n                          <div className={`absolute -bottom-1 -right-1 w-6 h-6 ${status.color} rounded-full border-2 border-white flex items-center justify-center text-xs shadow-lg animate-pulse-gentle`}>\n                            {status.emoji}\n                          </div>\n\n                          {/* Connection Strength Badge - Always Visible */}\n                          {connectionStrength && !loadingConnections && (\n                            <div className=\"absolute -top-1 -left-1 w-8 h-8 bg-gradient-to-br from-white to-gray-100 rounded-full border-2 border-purple-300 flex items-center justify-center shadow-lg\">\n                              <span className=\"text-base\">{getConnectionEmoji(connectionStrength.total)}</span>\n                            </div>\n                          )}\n                        </div>\n                      </button>\n\n                      {/* Enhanced Tooltip with Connection Strength */}\n                      <div className=\"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none z-20 transform group-hover:-translate-y-1\">\n                        <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-xl text-xs font-semibold whitespace-nowrap shadow-2xl\">\n                          <div className=\"font-bold mb-1\">{bestie.name || 'Unknown'}</div>\n                          {connectionStrength && !loadingConnections && (\n                            <div className=\"flex items-center gap-2 text-white/90\">\n                              <span>{getConnectionEmoji(connectionStrength.total)}</span>\n                              <span>{connectionStrength.total}/100</span>\n                              <span className=\"text-white/70\"></span>\n                              <span className=\"capitalize\">{connectionStrength.level}</span>\n                            </div>\n                          )}\n                          {lastSeenTime && (\n                            <div className=\"text-white/70 text-xs mt-1\">\n                              Last: {formatTimeAgo(lastSeenTime)}\n                            </div>\n                          )}\n                          <div className=\"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-pink-600\"></div>\n                        </div>\n                      </div>\n\n                      {/* Action Menu */}\n                      {selectedSlot === index && (\n                        <div className=\"absolute top-full left-1/2 -translate-x-1/2 mt-2 bg-white rounded-lg shadow-xl border-2 border-gray-200 p-2 z-[200] w-40\">\n                          <button\n                            onClick={() => handleViewProfile(bestie.id)}\n                            className=\"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm font-semibold text-gray-700\"\n                          >\n                             View Profile\n                          </button>\n                          <button\n                            onClick={() => setShowReplaceModal(true)}\n                            className=\"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm font-semibold text-gray-700\"\n                          >\n                             Replace\n                          </button>\n                          <button\n                            onClick={() => handleRemoveFromCircle(index)}\n                            className=\"w-full text-left px-3 py-2 hover:bg-red-50 rounded text-sm font-semibold text-red-600\"\n                          >\n                             Remove\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  ) : (\n                    <button\n                      onClick={() => setShowShareModal(true)}\n                      className={`w-14 h-14 md:w-16 md:h-16 border-4 border-dashed ${slotColors[index].replace('bg-', 'border-')} rounded-full flex flex-col items-center justify-center ${slotColors[index].replace('bg-', 'text-')} font-bold hover:scale-110 hover:bg-purple-50 transition-all shadow-lg hover:shadow-xl animate-pulse-slow relative group`}\n                      title=\"Add someone special to your circle\"\n                    >\n                      <span className=\"text-2xl\">+</span>\n                      <span className=\"text-[8px] opacity-70 mt-0.5\">Add</span>\n                      {/* Tooltip */}\n                      <div className=\"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none z-20\">\n                        <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-1 rounded-lg text-xs font-semibold whitespace-nowrap shadow-xl\">\n                          Add a bestie! \n                          <div className=\"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-pink-600\"></div>\n                        </div>\n                      </div>\n                    </button>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Info - Enhanced with Progress */}\n        <div className=\"text-center mt-6 space-y-3\">\n          <div className=\"inline-flex items-center gap-2 bg-white px-4 py-3 rounded-full shadow-md border-2 border-purple-200\">\n            <span className=\"text-2xl\"></span>\n            <div className=\"text-left\">\n              <div className=\"font-display text-base md:text-lg text-gradient font-bold leading-tight\">\n                {circleBesties.length}/5 In Your Circle\n              </div>\n              {circleBesties.length > 0 && !loadingConnections && (\n                <div className=\"text-xs text-gray-600\">\n                  {overallHealth >= 90 && \"Unbreakable vibes \"}\n                  {overallHealth >= 70 && overallHealth < 90 && \"Super strong energy \"}\n                  {overallHealth >= 50 && overallHealth < 70 && \"Solid connections \"}\n                  {overallHealth >= 30 && overallHealth < 50 && \"Building momentum \"}\n                  {overallHealth < 30 && \"Just getting started \"}\n                </div>\n              )}\n            </div>\n          </div>\n          <div className=\"text-xs md:text-sm text-gray-600\">\n            {circleBesties.length === 5\n              ? \"Your circle is complete! Keep nurturing these connections \"\n              : circleBesties.length === 0\n              ? \"Add your 5 closest friends - the ones who always have your back\"\n              : `${5 - circleBesties.length} more ${circleBesties.length === 4 ? 'bestie' : 'besties'} to go! You're doing great `}\n          </div>\n\n          {circleBesties.length > 0 && !loadingConnections && (\n            <button\n              onClick={() => navigate('/circle-health')}\n              className=\"mt-2 px-6 py-2 bg-gradient-primary text-white rounded-full font-semibold text-sm hover:shadow-lg hover:scale-105 transition-all flex items-center gap-2 mx-auto\"\n            >\n              <span>See Your Stats</span>\n              <span className=\"text-base\"></span>\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* CSS Animations */}\n      <style>{`\n        @keyframes breathe {\n          0%, 100% {\n            transform: scale(1);\n          }\n          50% {\n            transform: scale(1.05);\n          }\n        }\n        .animate-breathe {\n          animation: breathe 4s ease-in-out infinite;\n        }\n        .animate-breathe-subtle {\n          animation: breathe 5s ease-in-out infinite;\n        }\n        @keyframes pulse-gentle {\n          0%, 100% {\n            transform: scale(1);\n            opacity: 1;\n          }\n          50% {\n            transform: scale(1.1);\n            opacity: 0.9;\n          }\n        }\n        .animate-pulse-gentle {\n          animation: pulse-gentle 2s ease-in-out infinite;\n        }\n        @keyframes pulse-slow {\n          0%, 100% {\n            opacity: 1;\n          }\n          50% {\n            opacity: 0.6;\n          }\n        }\n        .animate-pulse-slow {\n          animation: pulse-slow 2s ease-in-out infinite;\n        }\n        @keyframes pulse-connection {\n          0%, 100% {\n            opacity: 0.8;\n          }\n          50% {\n            opacity: 1;\n          }\n        }\n        .animate-pulse-connection {\n          animation: pulse-connection 3s ease-in-out infinite;\n        }\n        @keyframes particle {\n          0% {\n            cx: 50%;\n            cy: 50%;\n            opacity: 1;\n          }\n          100% {\n            cx: var(--target-x);\n            cy: var(--target-y);\n            opacity: 0;\n          }\n        }\n        .animate-particle {\n          animation: particle 3s linear infinite;\n        }\n        @keyframes gradient-shift {\n          0%, 100% {\n            background-position: 0% 50%;\n          }\n          50% {\n            background-position: 100% 50%;\n          }\n        }\n        .animate-gradient-shift {\n          background: linear-gradient(120deg, #fdf2f8, #fce7f3, #fff7ed, #fef3c7);\n          background-size: 200% 200%;\n          animation: gradient-shift 8s ease infinite;\n        }\n      `}</style>\n\n      {/* Replace Modal */}\n      {showReplaceModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\" onClick={() => setShowReplaceModal(false)}>\n          <div className=\"bg-white rounded-xl p-6 max-w-sm w-full max-h-96 overflow-y-auto\" onClick={(e) => e.stopPropagation()}>\n            <h3 className=\"text-xl font-display mb-4\">Replace with:</h3>\n            <div className=\"space-y-2\">\n              {allBesties\n                .filter(b => !circleBesties.find(cb => cb.id === b.id))\n                .map(bestie => (\n                  <button\n                    key={bestie.id}\n                    onClick={() => handleReplaceBestie(bestie)}\n                    className=\"w-full flex items-center gap-3 p-3 hover:bg-gray-100 rounded-lg transition-colors\"\n                  >\n                    <ProfileWithBubble\n                      photoURL={bestie.photoURL}\n                      name={bestie.name || 'Unknown'}\n                      requestAttention={bestie.requestAttention}\n                      size=\"md\"\n                      showBubble={true}\n                    />\n                    <div className=\"text-left\">\n                      <div className=\"font-semibold\">{bestie.name || 'Unknown'}</div>\n                    </div>\n                  </button>\n                ))}\n              {allBesties.filter(b => !circleBesties.find(cb => cb.id === b.id)).length === 0 && (\n                <p className=\"text-center text-gray-500 py-4\">All besties are in your circle!</p>\n              )}\n            </div>\n            <button\n              onClick={() => setShowReplaceModal(false)}\n              className=\"mt-4 w-full btn btn-secondary\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Bestie Circle Share Modal */}\n      {showShareModal && (\n        <BestieCircleShareModal\n          onClose={() => setShowShareModal(false)}\n          circleCount={circleBesties.length}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default LivingCircle;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { db } from '../services/firebase';\nimport { doc, getDoc } from 'firebase/firestore';\nimport toast from 'react-hot-toast';\nimport html2canvas from 'html2canvas';\n\nconst SocialShareCardsModal = ({ onClose }) => {\n  const { userData, currentUser } = useAuth();\n  const [badges, setBadges] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [generatingImage, setGeneratingImage] = useState(false);\n  const [generatedImageUrl, setGeneratedImageUrl] = useState(null);\n  const [showShareChoice, setShowShareChoice] = useState(false);\n  const [pendingPlatform, setPendingPlatform] = useState(null);\n  const cardRef = useRef(null);\n\n  useEffect(() => {\n    loadBadges();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentUser]);\n\n  const loadBadges = async () => {\n    if (!currentUser) return;\n\n    try {\n      const badgesDoc = await getDoc(doc(db, 'badges', currentUser.uid));\n      if (badgesDoc.exists()) {\n        const allBadges = badgesDoc.data().badges || [];\n        // Get featured badges if set, otherwise first 3\n        const featuredIds = userData?.featuredBadges || [];\n        const featured = featuredIds\n          .map(id => allBadges.find(b => b.id === id))\n          .filter(Boolean)\n          .slice(0, 3);\n\n        if (featured.length < 3) {\n          const remaining = allBadges.filter(b => !featuredIds.includes(b.id));\n          featured.push(...remaining.slice(0, 3 - featured.length));\n        }\n\n        setBadges(featured);\n      }\n      setLoading(false);\n    } catch (error) {\n      console.error('Error loading badges:', error);\n      setLoading(false);\n    }\n  };\n\n  const currentGradient = userData?.profile?.backgroundGradient || 'linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%)';\n  const shareUrl = `${window.location.origin}/?invite=${currentUser?.uid}`;\n  const shareText = \"Come be my safety Bestie! \";\n\n  const generateShareImage = async () => {\n    if (!cardRef.current) return;\n\n    setGeneratingImage(true);\n    try {\n      // Wait a bit for fonts and images to load\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n      const canvas = await html2canvas(cardRef.current, {\n        backgroundColor: null,\n        scale: 2,\n        logging: false,\n        useCORS: true,\n        allowTaint: true,\n      });\n\n      const imageUrl = canvas.toDataURL('image/png');\n      setGeneratedImageUrl(imageUrl);\n      return imageUrl;\n    } catch (error) {\n      console.error('Error generating image:', error);\n      toast.error('Failed to generate image');\n      return null;\n    } finally {\n      setGeneratingImage(false);\n    }\n  };\n\n  const downloadImage = async () => {\n    let imageUrl = generatedImageUrl;\n\n    if (!imageUrl) {\n      imageUrl = await generateShareImage();\n      if (!imageUrl) return;\n    }\n\n    const link = document.createElement('a');\n    link.download = 'besties-profile-share.png';\n    link.href = imageUrl;\n    link.click();\n    toast.success('Image downloaded! Share it anywhere ');\n  };\n\n  const handleCopyText = async () => {\n    const cardText = `${shareText}\\n\\n${shareUrl}`;\n    try {\n      await navigator.clipboard.writeText(cardText);\n      toast.success('Link copied to clipboard!');\n    } catch (error) {\n      toast.error('Failed to copy');\n    }\n  };\n\n  // Show share choice popup\n  const showShareChoicePopup = (platform) => {\n    setPendingPlatform(platform);\n    setShowShareChoice(true);\n  };\n\n  // Handle share with card\n  const handleShareWithCard = async () => {\n    setShowShareChoice(false);\n\n    // Generate image if not already generated\n    let imageUrl = generatedImageUrl;\n    if (!imageUrl) {\n      imageUrl = await generateShareImage();\n      if (!imageUrl) return;\n    }\n\n    toast.success('Card ready! Download and share it ');\n    downloadImage();\n\n    // Then proceed to share\n    setTimeout(() => {\n      executePlatformShare(pendingPlatform, true);\n    }, 1000);\n  };\n\n  // Handle share with link only\n  const handleShareWithLink = () => {\n    setShowShareChoice(false);\n    executePlatformShare(pendingPlatform, false);\n  };\n\n  // Execute the actual platform share\n  const executePlatformShare = (platform, withCard) => {\n    const message = `${shareText}\\n\\n${shareUrl}`;\n    const encoded = encodeURIComponent(message);\n    const urlEncoded = encodeURIComponent(shareUrl);\n    const textEncoded = encodeURIComponent(shareText);\n    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n    switch (platform) {\n      case 'whatsapp':\n        if (isMobile) {\n          window.location.href = `whatsapp://send?text=${encoded}`;\n        } else {\n          window.open(`https://wa.me/?text=${encoded}`, '_blank');\n        }\n        break;\n\n      case 'messenger':\n        if (isMobile) {\n          window.location.href = `fb-messenger://share?link=${urlEncoded}`;\n          setTimeout(() => {\n            window.open(`https://www.facebook.com/dialog/send?link=${urlEncoded}&app_id=&redirect_uri=${urlEncoded}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://www.facebook.com/dialog/send?link=${urlEncoded}&app_id=&redirect_uri=${urlEncoded}`, '_blank', 'width=600,height=400');\n        }\n        break;\n\n      case 'instagram':\n        navigator.clipboard.writeText(message).then(() => {\n          toast.success('Link copied! Opening Instagram DMs...');\n          if (isMobile) {\n            window.location.href = 'instagram://direct/inbox';\n            setTimeout(() => {\n              window.open('https://www.instagram.com/direct/inbox/', '_blank');\n            }, 1500);\n          } else {\n            window.open('https://www.instagram.com/direct/inbox/', '_blank');\n          }\n        }).catch(() => {\n          toast.error('Failed to copy link');\n        });\n        break;\n\n      case 'facebook':\n        if (isMobile) {\n          window.location.href = `fb://profile/${currentUser.uid}`;\n          setTimeout(() => {\n            window.open(`https://www.facebook.com/sharer/sharer.php?u=${urlEncoded}&quote=${textEncoded}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://www.facebook.com/sharer/sharer.php?u=${urlEncoded}&quote=${textEncoded}`, '_blank', 'width=600,height=400');\n        }\n        break;\n\n      case 'twitter':\n        if (isMobile) {\n          window.location.href = `twitter://post?message=${textEncoded} ${urlEncoded}`;\n          setTimeout(() => {\n            window.open(`https://twitter.com/intent/tweet?text=${textEncoded}&url=${urlEncoded}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://twitter.com/intent/tweet?text=${textEncoded}&url=${urlEncoded}`, '_blank', 'width=600,height=400');\n        }\n        break;\n\n      case 'sms':\n        window.location.href = `sms:?body=${encoded}`;\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4\">\n        <div className=\"card p-8 bg-white dark:bg-gray-800\">\n          <div className=\"spinner\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto\">\n      <div className=\"card max-w-2xl w-full p-6 animate-scale-up max-h-[90vh] overflow-y-auto bg-white dark:bg-gray-800\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-display text-text-primary dark:text-white\">Share Your Profile</h2>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors text-gray-700 dark:text-gray-300\"\n          >\n            \n          </button>\n        </div>\n\n        <p className=\"text-text-secondary dark:text-gray-300 mb-6\">Choose how you'd like to share your Besties profile with friends!</p>\n\n        {/* Hidden Card for Image Generation */}\n        <div style={{ position: 'absolute', left: '-9999px', top: '-9999px' }}>\n          <div\n            ref={cardRef}\n            className=\"w-full rounded-2xl p-8 text-center shadow-xl relative overflow-hidden\"\n            style={{ background: currentGradient, width: '600px' }}\n          >\n            {/* Profile Photo */}\n            <div className=\"w-32 h-32 bg-gradient-primary rounded-full flex items-center justify-center text-white text-5xl font-display overflow-hidden mx-auto mb-4 border-4 border-white shadow-xl\">\n              {userData?.photoURL ? (\n                <img src={userData.photoURL} alt=\"Profile\" className=\"w-full h-full object-cover\" crossOrigin=\"anonymous\" />\n              ) : (\n                userData?.displayName?.[0] || currentUser?.email?.[0] || 'U'\n              )}\n            </div>\n\n            {/* Name */}\n            <h3 className=\"font-display text-4xl text-gray-800 mb-3\">\n              {userData?.displayName || 'User'}\n            </h3>\n\n            {/* Bio */}\n            {userData?.profile?.bio && (\n              <p className=\"text-gray-700 italic max-w-md mx-auto mb-4 text-base\">\n                \"{userData.profile.bio}\"\n              </p>\n            )}\n\n            {/* Main Message */}\n            <div className=\"bg-white/95 backdrop-blur-sm rounded-2xl p-6 mb-4 shadow-2xl\">\n              <p className=\"text-2xl font-display text-primary mb-2\">\n                 Come be my safety Bestie!\n              </p>\n              <p className=\"text-sm text-gray-600\">\n                Join me on the Besties safety app\n              </p>\n            </div>\n\n            {/* Top 3 Badges */}\n            {badges.length > 0 && (\n              <div className=\"mb-4\">\n                <p className=\"text-sm font-semibold text-gray-700 mb-3\">Top Badges</p>\n                <div className=\"flex gap-4 justify-center\">\n                  {badges.map((badge) => (\n                    <div key={badge.id} className=\"flex flex-col items-center bg-white/90 backdrop-blur-sm rounded-xl p-3 shadow-md\">\n                      <div className=\"text-4xl mb-1\">{badge.icon}</div>\n                      <div className=\"text-xs font-semibold text-gray-700\">{badge.name}</div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* App branding */}\n            <div className=\"mt-6 pt-4 border-t-2 border-white/40\">\n              <div className=\"text-sm font-semibold text-gray-700\">Download</div>\n              <div className=\"font-display text-2xl text-gray-800\">Besties</div>\n              <div className=\"text-xs text-gray-600 mt-1\">Your Safety Network</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Share Buttons */}\n        <div className=\"grid grid-cols-2 gap-3 mb-4\">\n          <button\n            onClick={() => showShareChoicePopup('whatsapp')}\n            className=\"btn bg-[#25D366] text-white hover:bg-[#20BA5A] flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\"/>\n            </svg>\n            WhatsApp\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('messenger')}\n            className=\"btn bg-[#0084FF] text-white hover:bg-[#0073E6] flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 0C5.373 0 0 4.975 0 11.111c0 3.497 1.745 6.616 4.472 8.652V24l4.086-2.242c1.09.301 2.246.464 3.442.464 6.627 0 12-4.974 12-11.111C24 4.975 18.627 0 12 0zm1.191 14.963l-3.055-3.26-5.963 3.26L10.732 8l3.131 3.259L19.752 8l-6.561 6.963z\"/>\n            </svg>\n            Messenger\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('instagram')}\n            className=\"btn bg-gradient-to-r from-[#833AB4] via-[#FD1D1D] to-[#F77737] text-white hover:opacity-90 flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\n            </svg>\n            Instagram DM\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('facebook')}\n            className=\"btn bg-[#1877F2] text-white hover:bg-[#166FE5] flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n            </svg>\n            Facebook\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('twitter')}\n            className=\"btn bg-black text-white hover:bg-gray-800 flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\"/>\n            </svg>\n            X (Twitter)\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('sms')}\n            className=\"btn bg-success text-white hover:bg-green-600 flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n            </svg>\n            SMS\n          </button>\n        </div>\n\n        {/* Quick Actions */}\n        <div className=\"flex gap-3\">\n          <button\n            onClick={handleCopyText}\n            className=\"flex-1 btn btn-secondary\"\n          >\n             Copy Link\n          </button>\n          <button\n            onClick={downloadImage}\n            disabled={generatingImage}\n            className=\"flex-1 btn btn-primary\"\n          >\n            {generatingImage ? ' Generating...' : ' Download Card'}\n          </button>\n        </div>\n\n        <p className=\"text-xs text-gray-500 dark:text-gray-400 text-center mt-4\">\n          Share your profile with friends so they can join your safety network!\n        </p>\n      </div>\n\n      {/* Share Choice Popup */}\n      {showShareChoice && (\n        <div className=\"fixed inset-0 bg-black/70 dark:bg-black/80 flex items-center justify-center z-[60] p-4 animate-fade-in\">\n          <div className=\"card max-w-md w-full p-6 animate-scale-up bg-white dark:bg-gray-800\">\n            <div className=\"text-center mb-6\">\n              <div className=\"text-6xl mb-4 animate-bounce-slow\"></div>\n              <h3 className=\"text-2xl font-display text-text-primary dark:text-white mb-2\">\n                How do you want to share?\n              </h3>\n              <p className=\"text-sm text-text-secondary dark:text-gray-300\">\n                Choose between a beautiful card or a simple link\n              </p>\n            </div>\n\n            <div className=\"space-y-3 mb-4\">\n              {/* Share with Card */}\n              <button\n                onClick={handleShareWithCard}\n                className=\"w-full p-4 border-2 border-primary bg-purple-50 dark:bg-purple-900/30 rounded-xl hover:bg-purple-100 dark:hover:bg-purple-900/50 transition-all group\"\n                disabled={generatingImage}\n              >\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"text-4xl\"></div>\n                  <div className=\"flex-1 text-left\">\n                    <div className=\"font-display text-lg text-primary dark:text-purple-400 mb-1\">\n                      Share Beautiful Card\n                    </div>\n                    <div className=\"text-xs text-text-secondary dark:text-gray-400\">\n                      Custom image with your profile & badges\n                    </div>\n                  </div>\n                  <div className=\"text-2xl opacity-0 group-hover:opacity-100 transition-opacity dark:text-white\">\n                    \n                  </div>\n                </div>\n              </button>\n\n              {/* Share with Link */}\n              <button\n                onClick={handleShareWithLink}\n                className=\"w-full p-4 border-2 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-all group\"\n              >\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"text-4xl\"></div>\n                  <div className=\"flex-1 text-left\">\n                    <div className=\"font-display text-lg text-gray-800 dark:text-gray-200 mb-1\">\n                      Share Simple Link\n                    </div>\n                    <div className=\"text-xs text-text-secondary dark:text-gray-400\">\n                      Quick text message with link\n                    </div>\n                  </div>\n                  <div className=\"text-2xl opacity-0 group-hover:opacity-100 transition-opacity dark:text-white\">\n                    \n                  </div>\n                </div>\n              </button>\n            </div>\n\n            <button\n              onClick={() => setShowShareChoice(false)}\n              className=\"w-full btn btn-secondary\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* CSS for animations */}\n      <style>{`\n        @keyframes fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes bounce-slow {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-10px); }\n        }\n        .animate-fade-in {\n          animation: fade-in 0.2s ease-out;\n        }\n        .animate-bounce-slow {\n          animation: bounce-slow 2s ease-in-out infinite;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default SocialShareCardsModal;\n","import React, { useState, useRef, lazy, Suspense } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { doc, updateDoc } from 'firebase/firestore';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { db, storage } from '../../services/firebase';\nimport toast from 'react-hot-toast';\nimport html2canvas from 'html2canvas';\nimport { getLayoutById } from './layouts';\nimport { getTypographyById, getNameStyle, getBioStyle } from './themes/typography';\nimport { BACKGROUNDS } from './themes/backgrounds';\nimport './themes/backgroundPatterns.css';\n\nconst ProfileCustomizer = lazy(() => import('./ProfileCustomizer'));\n\nconst GRADIENT_OPTIONS = [\n  { id: 'pink', name: 'Pink Dream', gradient: 'linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%)' },\n  { id: 'purple', name: 'Purple Magic', gradient: 'linear-gradient(135deg, #e9d5ff 0%, #d8b4fe 100%)' },\n  { id: 'blue', name: 'Ocean Blue', gradient: 'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)' },\n  { id: 'green', name: 'Fresh Green', gradient: 'linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)' },\n  { id: 'sunset', name: 'Sunset Glow', gradient: 'linear-gradient(135deg, #fed7aa 0%, #fca5a5 100%)' },\n  { id: 'lavender', name: 'Lavender Fields', gradient: 'linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%)' },\n  { id: 'peach', name: 'Peachy Keen', gradient: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)' },\n  { id: 'mint', name: 'Mint Fresh', gradient: 'linear-gradient(135deg, #ccfbf1 0%, #99f6e4 100%)' }\n];\n\nconst AURA_OPTIONS = [\n  { id: 'none', name: 'None', emoji: '', description: 'No animation' },\n  { id: 'shimmer', name: 'Shimmer', emoji: '', description: 'Subtle shimmering effect' },\n  { id: 'glow', name: 'Glow', emoji: '', description: 'Soft pulsing glow' },\n  { id: 'sparkle', name: 'Sparkle', emoji: '', description: 'Sparkling particles' },\n  { id: 'pulse', name: 'Pulse', emoji: '', description: 'Gentle pulsing' },\n  { id: 'rainbow', name: 'Rainbow', emoji: '', description: 'Rainbow border effect' }\n];\n\nconst ProfileCard = ({ currentUser, userData }) => {\n  const navigate = useNavigate();\n  const [showPhotoMenu, setShowPhotoMenu] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [showColorPicker, setShowColorPicker] = useState(false);\n  const [showAuraPicker, setShowAuraPicker] = useState(false);\n  const [showCustomizer, setShowCustomizer] = useState(false);\n  const fileInputRef = useRef(null);\n\n  const currentGradient = userData?.profile?.backgroundGradient || GRADIENT_OPTIONS[0].gradient;\n  const currentAura = userData?.profile?.aura || 'none';\n\n  // Get customization settings\n  const customization = userData?.profile?.customization || {};\n  const layoutId = customization.layout || 'classic';\n  const backgroundId = customization.background || null;\n  const typographyId = customization.typography || 'playful';\n\n  // Get the selected background or fall back to gradient\n  const getBackgroundById = (id) => {\n    const allBackgrounds = Object.values(BACKGROUNDS).flat();\n    return allBackgrounds.find(bg => bg.id === id);\n  };\n\n  const selectedBackground = backgroundId ? getBackgroundById(backgroundId) : null;\n  const backgroundStyle = selectedBackground ? selectedBackground.gradient : currentGradient;\n  const patternClass = selectedBackground ? `pattern-${selectedBackground.pattern}` : '';\n\n  // Get typography settings\n  const typography = getTypographyById(typographyId);\n  const nameStyle = typography ? getNameStyle(typography) : {};\n  const bioStyle = typography ? getBioStyle(typography) : {};\n  const nameSizeClass = typography?.nameSizeClass || 'text-4xl';\n  const bioSizeClass = typography?.bioSizeClass || 'text-lg';\n\n  // Get layout component\n  const LayoutComponent = getLayoutById(layoutId);\n\n  // Use customization photo settings or defaults\n  const photoShape = customization.photoShape || 'circle';\n  const photoBorder = customization.photoBorder || 'classic';\n\n  const handlePhotoUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    if (file.size > 5 * 1024 * 1024) {\n      toast.error('Photo must be less than 5MB');\n      return;\n    }\n\n    setUploading(true);\n    try {\n      const storageRef = ref(storage, `profile-pictures/${currentUser.uid}/${Date.now()}_${file.name}`);\n      await uploadBytes(storageRef, file);\n      const downloadURL = await getDownloadURL(storageRef);\n\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        photoURL: downloadURL,\n      });\n\n      toast.success('Profile picture updated!');\n      setShowPhotoMenu(false);\n    } catch (error) {\n      console.error('Error uploading photo:', error);\n      toast.error('Failed to upload photo');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleRemovePhoto = async () => {\n    try {\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        photoURL: currentUser?.photoURL || null,\n      });\n\n      toast.success('Profile picture removed');\n      setShowPhotoMenu(false);\n    } catch (error) {\n      console.error('Error removing photo:', error);\n      toast.error('Failed to remove photo');\n    }\n  };\n\n  const handleColorChange = async (gradient) => {\n    try {\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        'profile.backgroundGradient': gradient.gradient,\n      });\n      toast.success(`Background changed to ${gradient.name}!`);\n      setShowColorPicker(false);\n    } catch (error) {\n      console.error('Error updating background:', error);\n      toast.error('Failed to update background');\n    }\n  };\n\n  const handleAuraChange = async (aura) => {\n    try {\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        'profile.aura': aura.id,\n      });\n      toast.success(`Aura changed to ${aura.name}! ${aura.emoji}`);\n      setShowAuraPicker(false);\n    } catch (error) {\n      console.error('Error updating aura:', error);\n      toast.error('Failed to update aura');\n    }\n  };\n\n  const handleShareProfileCard = async () => {\n    const profileCard = document.getElementById('profile-card-shareable');\n    if (!profileCard) {\n      toast.error('Could not capture profile card');\n      return;\n    }\n\n    try {\n      toast('Generating image...', { icon: '' });\n\n      const canvas = await html2canvas(profileCard, {\n        backgroundColor: null,\n        scale: 2,\n        logging: false,\n      });\n\n      canvas.toBlob((blob) => {\n        if (!blob) {\n          toast.error('Failed to generate image');\n          return;\n        }\n\n        if (navigator.share && navigator.canShare({ files: [new File([blob], 'profile.png', { type: 'image/png' })] })) {\n          const file = new File([blob], 'my-besties-profile.png', { type: 'image/png' });\n          navigator.share({\n            title: 'My Besties Profile',\n            text: 'Check out my Besties profile! ',\n            files: [file],\n          }).then(() => {\n            toast.success('Profile card shared! ');\n          }).catch((err) => {\n            if (err.name !== 'AbortError') {\n              downloadImage(blob);\n            }\n          });\n        } else {\n          downloadImage(blob);\n        }\n      }, 'image/png');\n    } catch (error) {\n      console.error('Error sharing profile card:', error);\n      toast.error('Failed to share profile card');\n    }\n  };\n\n  const downloadImage = (blob) => {\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = 'my-besties-profile.png';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n    toast.success('Profile card downloaded! ');\n  };\n\n  // Prepare data for layout component\n  const layoutProps = {\n    profilePhoto: userData?.photoURL,\n    displayName: userData?.displayName,\n    bio: userData?.profile?.bio,\n    badges: userData?.featuredBadges || [],\n    stats: {\n      besties: userData?.totalBesties || 0,\n      checkIns: userData?.checkInCount || 0\n    },\n    nameStyle,\n    bioStyle,\n    nameSizeClass,\n    bioSizeClass,\n    photoShape,\n    photoBorder,\n    decorativeElements: customization.decorativeElements || []\n  };\n\n  return (\n    <>\n      <div\n        id=\"profile-card-shareable\"\n        className={`card mb-6 relative overflow-hidden shadow-2xl profile-card-aura-${currentAura} profile-card-pattern ${patternClass}`}\n        style={{ background: backgroundStyle }}\n      >\n        {/* Action Buttons */}\n        <div className=\"absolute top-4 right-4 color-picker-container flex flex-col gap-2 z-20\">\n          {/* Customize Button */}\n          <button\n            onClick={() => setShowCustomizer(true)}\n            className=\"w-10 h-10 rounded-full bg-gradient-primary text-white backdrop-blur-sm shadow-xl flex items-center justify-center hover:scale-110 transition-all text-lg\"\n            title=\"Customize your vibe\"\n          >\n            \n          </button>\n        <button\n          onClick={() => navigate('/edit-profile')}\n          className=\"w-10 h-10 rounded-full bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm shadow-xl flex items-center justify-center hover:scale-110 transition-all hover:bg-white dark:hover:bg-gray-800 text-xl\"\n          title=\"Edit profile\"\n        >\n          \n        </button>\n\n        {/* Color Picker Button */}\n        <button\n          onClick={() => setShowColorPicker(!showColorPicker)}\n          className=\"w-10 h-10 rounded-full bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm shadow-xl flex items-center justify-center hover:scale-110 transition-all hover:bg-white dark:hover:bg-gray-800\"\n          title=\"Change background color\"\n        >\n          \n        </button>\n\n        {/* Aura Picker Button */}\n        <button\n          onClick={() => setShowAuraPicker(!showAuraPicker)}\n          className=\"w-10 h-10 rounded-full bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm shadow-xl flex items-center justify-center hover:scale-110 transition-all hover:bg-white dark:hover:bg-gray-800\"\n          title=\"Change profile aura\"\n        >\n          \n        </button>\n\n        {showColorPicker && (\n          <>\n            <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 z-40\" onClick={() => setShowColorPicker(false)} />\n            <div className=\"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border-2 border-gray-200 dark:border-gray-600 p-4 z-50 w-80 max-h-[500px] overflow-y-auto\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-lg font-display text-gray-800 dark:text-gray-200\">Choose Background</h3>\n                <button\n                  onClick={() => setShowColorPicker(false)}\n                  className=\"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-400\"\n                >\n                  \n                </button>\n              </div>\n              <div className=\"grid grid-cols-2 gap-3\">\n                {GRADIENT_OPTIONS.map((option) => (\n                  <button\n                    key={option.id}\n                    onClick={() => handleColorChange(option)}\n                    className=\"h-16 rounded-lg shadow-md hover:scale-105 transition-transform border-2 border-transparent hover:border-primary\"\n                    style={{ background: option.gradient }}\n                    title={option.name}\n                  >\n                    <span className=\"text-xs font-semibold text-gray-700 dark:text-gray-300 drop-shadow-sm\">\n                      {option.name}\n                    </span>\n                  </button>\n                ))}\n              </div>\n            </div>\n          </>\n        )}\n\n        {showAuraPicker && (\n          <div className=\"aura-picker-container\">\n            <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 z-40\" onClick={() => setShowAuraPicker(false)} />\n            <div className=\"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border-2 border-gray-200 dark:border-gray-600 p-4 z-50 w-80 max-h-[500px] overflow-y-auto\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-lg font-display text-gray-800 dark:text-gray-200\">Choose Profile Aura </h3>\n                <button\n                  onClick={() => setShowAuraPicker(false)}\n                  className=\"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-400\"\n                >\n                  \n                </button>\n              </div>\n              <div className=\"space-y-2\">\n                {AURA_OPTIONS.map((option) => (\n                  <button\n                    key={option.id}\n                    onClick={() => handleAuraChange(option)}\n                    className={`w-full p-3 rounded-lg shadow-md hover:scale-105 transition-transform border-2 text-left ${\n                      (userData?.profile?.aura || 'none') === option.id\n                        ? 'border-primary bg-purple-50 dark:bg-purple-900/30'\n                        : 'border-transparent hover:border-primary bg-gray-50 dark:bg-gray-700'\n                    }`}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"text-2xl\">{option.emoji}</span>\n                      <div className=\"flex-1\">\n                        <div className=\"font-semibold text-gray-800 dark:text-gray-200\">{option.name}</div>\n                        <div className=\"text-xs text-gray-600 dark:text-gray-400\">{option.description}</div>\n                      </div>\n                      {(userData?.profile?.aura || 'none') === option.id && (\n                        <span className=\"text-primary\"></span>\n                      )}\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n        {/* Photo Management Menu - Floating */}\n        {showPhotoMenu && (\n          <div className=\"fixed inset-0 bg-black/50 z-30\" onClick={() => setShowPhotoMenu(false)}>\n            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border-2 border-gray-200 dark:border-gray-600 p-4 w-64\">\n              <div className=\"text-sm font-bold text-gray-700 dark:text-gray-300 mb-3\">Manage Photo</div>\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  fileInputRef.current?.click();\n                  setShowPhotoMenu(false);\n                }}\n                disabled={uploading}\n                className=\"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n              >\n                 Replace Photo\n              </button>\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleRemovePhoto();\n                }}\n                className=\"w-full text-left px-4 py-3 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg text-sm font-semibold text-red-600 dark:text-red-400\"\n              >\n                 Remove Photo\n              </button>\n            </div>\n          </div>\n        )}\n\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={handlePhotoUpload}\n          className=\"hidden\"\n        />\n\n        {/* Dynamic Layout Component */}\n        <LayoutComponent {...layoutProps} />\n\n      {/* Social Sharing Icons - Cute & Small */}\n      <div className=\"mt-6 relative z-10\">\n        <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-2 font-semibold\">Share your profile:</p>\n\n        {/* Download Card Button */}\n        <button\n          onClick={handleShareProfileCard}\n          className=\"mb-3 px-4 py-2 bg-gradient-primary text-white rounded-full text-sm font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105\"\n        >\n           Download Profile Card\n        </button>\n\n        <div className=\"flex gap-2 justify-center flex-wrap\">\n          {/* Facebook */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              const text = `Come be my bestie on Besties! `;\n              const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n              if (isMobile) {\n                // Try to open Facebook app first\n                window.location.href = `fb://profile/${currentUser.uid}`;\n                // Fallback to web after a delay\n                setTimeout(() => {\n                  window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(text)}`, '_blank');\n                }, 1500);\n              } else {\n                window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(text)}`, '_blank');\n              }\n            }}\n            className=\"w-8 h-8 rounded-full bg-[#1877f2] hover:bg-[#1864d9] text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Share on Facebook\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n            </svg>\n          </button>\n\n          {/* Twitter/X */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              const text = `Come be my bestie on Besties! `;\n              const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n              if (isMobile) {\n                // Try to open Twitter app first\n                window.location.href = `twitter://post?message=${encodeURIComponent(text + ' ' + url)}`;\n                // Fallback to web after a delay\n                setTimeout(() => {\n                  window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`, '_blank');\n                }, 1500);\n              } else {\n                window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`, '_blank');\n              }\n            }}\n            className=\"w-8 h-8 rounded-full bg-black hover:bg-gray-800 text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Share on X (Twitter)\"\n          >\n            <svg className=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\"/>\n            </svg>\n          </button>\n\n          {/* WhatsApp */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              const text = `Come be my bestie on Besties! `;\n              const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n              if (isMobile) {\n                // Try to open WhatsApp app first\n                window.location.href = `whatsapp://send?text=${encodeURIComponent(text + ' ' + url)}`;\n                // Fallback to web after a delay\n                setTimeout(() => {\n                  window.open(`https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`, '_blank');\n                }, 1500);\n              } else {\n                window.open(`https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`, '_blank');\n              }\n            }}\n            className=\"w-8 h-8 rounded-full bg-[#25d366] hover:bg-[#20bd5a] text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Share on WhatsApp\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\"/>\n            </svg>\n          </button>\n\n          {/* Instagram - Copy Link */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              navigator.clipboard.writeText(url);\n              toast.success('Profile link copied! Share it on Instagram ');\n            }}\n            className=\"w-8 h-8 rounded-full bg-gradient-to-tr from-[#f09433] via-[#e6683c] to-[#bc1888] hover:opacity-90 text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Copy link for Instagram\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\n            </svg>\n          </button>\n\n          {/* Copy Link Button */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              navigator.clipboard.writeText(url);\n              toast.success('Profile link copied to clipboard!');\n            }}\n            className=\"w-8 h-8 rounded-full bg-gray-600 hover:bg-gray-700 text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Copy link\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n      </div>\n\n      {/* Profile Customizer Modal */}\n      {showCustomizer && (\n        <Suspense fallback={null}>\n          <ProfileCustomizer\n            currentUser={currentUser}\n            userData={userData}\n            onClose={() => setShowCustomizer(false)}\n          />\n        </Suspense>\n      )}\n    </>\n  );\n};\n\nexport default ProfileCard;\n","import React from 'react';\n\nconst ProfileCompletion = ({\n  profileCompletion,\n  animatedProgress,\n  onTaskNavigation\n}) => {\n  const getProgressColor = (percentage) => {\n    if (percentage === 100) return 'bg-green-500';\n    if (percentage >= 60) return 'bg-yellow-500';\n    return 'bg-red-500';\n  };\n\n  // Hide when 100% complete\n  if (profileCompletion.percentage >= 100) {\n    return null;\n  }\n\n  return (\n    <div className=\"card p-6 mb-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 border-2 border-purple-100 dark:border-gray-600\">\n      <div className=\"flex items-center justify-between mb-3\">\n        <h2 className=\"text-xl font-display text-gradient\">Profile Completion </h2>\n        <span className=\"text-2xl font-bold text-gradient\">\n          {profileCompletion.completed}/{profileCompletion.total}\n        </span>\n      </div>\n\n      {/* Animated Progress Bar with Shimmer Effect */}\n      <div className=\"w-full h-4 bg-white dark:bg-gray-700 rounded-full overflow-hidden mb-4 shadow-inner relative\">\n        <div\n          className={`h-full ${getProgressColor(profileCompletion.percentage)} transition-all duration-1000 ease-out relative overflow-hidden`}\n          style={{ width: `${animatedProgress}%` }}\n        >\n          {/* Shimmer effect */}\n          <div className=\"absolute inset-0 shimmer-effect\"></div>\n        </div>\n        {/* Progress percentage text */}\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          <span className=\"text-xs font-bold text-gray-700 dark:text-gray-300 drop-shadow-sm\">\n            {Math.round(profileCompletion.percentage)}%\n          </span>\n        </div>\n      </div>\n\n      {/* Task List with Navigation */}\n      <div className=\"space-y-2\">\n        {profileCompletion.tasks.map((task, index) => (\n          <div key={index} className=\"flex items-center justify-between gap-2\">\n            <div className=\"flex items-center gap-2 flex-1\">\n              <span className=\"text-lg\">\n                {task.completed ? '' : ''}\n              </span>\n              <span className={`text-sm ${task.completed ? 'text-gray-500 dark:text-gray-400 line-through' : 'text-gray-700 dark:text-gray-300 font-semibold'}`}>\n                {task.name}\n              </span>\n            </div>\n            {!task.completed && (task.path || task.action) && (\n              <button\n                onClick={() => onTaskNavigation(task)}\n                className=\"btn btn-sm btn-primary text-xs px-3 py-1\"\n              >\n                Go \n              </button>\n            )}\n          </div>\n        ))}\n      </div>\n\n      <style>{`\n        @keyframes shimmer {\n          0% {\n            transform: translateX(-100%);\n          }\n          100% {\n            transform: translateX(100%);\n          }\n        }\n        .shimmer-effect {\n          background: linear-gradient(\n            90deg,\n            transparent,\n            rgba(255, 255, 255, 0.4),\n            transparent\n          );\n          animation: shimmer 2s infinite;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ProfileCompletion;\n","import React from 'react';\n\nconst WeeklySummary = ({ weeklySummary, hasWeekOfActivity, userData, bestiesCount }) => {\n  return (\n    <div className=\"card p-6 mb-6\">\n      <h2 className=\"text-xl font-display text-gray-800 dark:text-gray-200 mb-4\">Weekly Summary</h2>\n\n      <div className=\"bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/30 dark:to-purple-900/30 rounded-xl p-4\">\n        <div className=\"flex items-start gap-3\">\n          <span className=\"text-4xl\">{weeklySummary.emoji}</span>\n          <div className=\"flex-1\">\n            <h3 className=\"font-semibold text-lg text-gray-800 dark:text-gray-200 mb-1\">\n              {weeklySummary.message}\n            </h3>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\n               {weeklySummary.tip}\n            </p>\n            {hasWeekOfActivity && (\n              <div className=\"flex gap-4 text-sm\">\n                <div>\n                  <span className=\"font-semibold text-primary\">{userData?.stats?.totalCheckIns || 0}</span>\n                  <span className=\"text-gray-600 dark:text-gray-400\"> check-ins</span>\n                </div>\n                <div>\n                  <span className=\"font-semibold text-secondary\">{bestiesCount}</span>\n                  <span className=\"text-gray-600 dark:text-gray-400\"> besties</span>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WeeklySummary;\n","import React from 'react';\nimport CountUp from '../CountUp';\n\nconst LoginStreak = ({ loginStreak }) => {\n  if (loginStreak <= 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"card p-6 mb-6 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/30 dark:to-red-900/30\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-display text-gray-800 dark:text-gray-200 mb-1\">Daily Login Streak</h2>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">Keep it going! </p>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-5xl mb-1\"></div>\n          <div className=\"text-3xl font-display text-orange-600 dark:text-orange-400\">\n            <CountUp end={loginStreak} duration={1500} />\n          </div>\n          <div className=\"text-xs text-gray-600 dark:text-gray-400\">days</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginStreak;\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { doc, updateDoc } from 'firebase/firestore';\nimport { db } from '../../services/firebase';\nimport toast from 'react-hot-toast';\n\nconst BadgesSection = ({\n  currentUser,\n  badges,\n  featuredBadgeIds,\n  setFeaturedBadgeIds,\n  setConfettiTrigger\n}) => {\n  const navigate = useNavigate();\n  const [showBadgeSelector, setShowBadgeSelector] = useState(false);\n\n  const featuredBadges = badges.filter(b => featuredBadgeIds.includes(b.id));\n  const otherBadges = badges.filter(b => !featuredBadgeIds.includes(b.id));\n  const allBadgesToShow = [...featuredBadges, ...otherBadges];\n\n  const handleToggleFeaturedBadge = async (badgeId) => {\n    let newFeaturedBadges = [...featuredBadgeIds];\n\n    if (newFeaturedBadges.includes(badgeId)) {\n      newFeaturedBadges = newFeaturedBadges.filter(id => id !== badgeId);\n    } else {\n      if (newFeaturedBadges.length >= 3) {\n        toast.error('You can only feature up to 3 badges');\n        return;\n      }\n      newFeaturedBadges.push(badgeId);\n      setConfettiTrigger(true);\n      setTimeout(() => setConfettiTrigger(false), 100);\n    }\n\n    try {\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        featuredBadges: newFeaturedBadges,\n      });\n      setFeaturedBadgeIds(newFeaturedBadges);\n      toast.success('Featured badges updated!');\n    } catch (error) {\n      console.error('Error updating featured badges:', error);\n      toast.error('Failed to update badges');\n    }\n  };\n\n  return (\n    <>\n      <div className=\"mb-6 relative\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <h2 className=\"text-2xl font-display text-gray-800 dark:text-gray-200\">Your Badges</h2>\n          <button\n            onClick={() => navigate('/badges')}\n            className=\"text-primary font-semibold hover:underline text-sm\"\n          >\n            View All \n          </button>\n        </div>\n\n        <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-4\">\n          {featuredBadgeIds.length > 0\n            ? ` ${featuredBadgeIds.length} featured badge${featuredBadgeIds.length > 1 ? 's' : ''} shown first  `\n            : ''}\n          <button\n            onClick={() => setShowBadgeSelector(true)}\n            className=\"text-primary hover:underline\"\n          >\n            Choose your top 3 to feature\n          </button>\n        </p>\n\n        {allBadgesToShow.length > 0 ? (\n          <>\n            {/* Featured Badges - Show prominently */}\n            {featuredBadges.length > 0 && (\n              <div className=\"mb-4\">\n                <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4\">\n                  {featuredBadges.map((badge) => (\n                    <div\n                      key={badge.id}\n                      className=\"card p-4 text-center transition-all bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/30 dark:to-orange-900/30 border-2 border-yellow-400 dark:border-yellow-600 shadow-lg\"\n                    >\n                      <div className=\"text-4xl mb-2\">{badge.icon}</div>\n                      <div className=\"font-semibold text-sm text-gray-800 dark:text-gray-200\">{badge.name}</div>\n                      <div className=\"text-xs text-yellow-600 dark:text-yellow-400 mt-1\"> Featured</div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Other Badges - Scrollable horizontal list if many */}\n            {otherBadges.length > 0 && (\n              <div>\n                {otherBadges.length > 6 ? (\n                  <>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">Scroll to see all badges </p>\n                    <div className=\"flex gap-3 overflow-x-auto pb-2 scrollbar-hide\">\n                      {otherBadges.map((badge) => (\n                        <div\n                          key={badge.id}\n                          className=\"card p-4 text-center transition-all bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-700 flex-shrink-0 w-32\"\n                        >\n                          <div className=\"text-4xl mb-2\">{badge.icon}</div>\n                          <div className=\"font-semibold text-sm text-gray-800 dark:text-gray-200\">{badge.name}</div>\n                        </div>\n                      ))}\n                    </div>\n                  </>\n                ) : (\n                  <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4\">\n                    {otherBadges.map((badge) => (\n                      <div\n                        key={badge.id}\n                        className=\"card p-4 text-center transition-all bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-700\"\n                      >\n                        <div className=\"text-4xl mb-2\">{badge.icon}</div>\n                        <div className=\"font-semibold text-sm text-gray-800 dark:text-gray-200\">{badge.name}</div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n          </>\n        ) : (\n          <div className=\"card p-8 text-center\">\n            <div className=\"text-5xl mb-3\"></div>\n            <p className=\"text-gray-800 dark:text-gray-200 font-semibold mb-2\">\n              Start earning badges!\n            </p>\n            <p className=\"text-gray-600 dark:text-gray-400 text-sm mb-4\">\n              Complete check-ins, invite friends, and stay safe to unlock achievements\n            </p>\n            <button\n              onClick={() => navigate('/badges')}\n              className=\"btn btn-primary text-sm\"\n            >\n              See All Available Badges\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Badge Selector Modal */}\n      {showBadgeSelector && (\n        <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-2xl font-display text-gray-800 dark:text-gray-200\">Choose Featured Badges</h2>\n              <button\n                onClick={() => setShowBadgeSelector(false)}\n                className=\"w-8 h-8 rounded-full bg-red-500 text-white hover:bg-red-600 flex items-center justify-center text-xl font-bold transition-colors\"\n                title=\"Close\"\n              >\n                \n              </button>\n            </div>\n\n            <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\n              Select up to 3 badges to showcase on your profile ({featuredBadgeIds.length}/3 selected)\n            </p>\n\n            {badges.length > 0 ? (\n              <div className=\"grid grid-cols-3 sm:grid-cols-4 gap-4\">\n                {badges.map((badge) => {\n                  const isSelected = featuredBadgeIds.includes(badge.id);\n                  return (\n                    <button\n                      key={badge.id}\n                      onClick={() => handleToggleFeaturedBadge(badge.id)}\n                      className={`p-4 rounded-xl text-center transition-all ${\n                        isSelected\n                          ? 'bg-gradient-to-br from-yellow-100 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30 border-2 border-primary shadow-lg scale-105'\n                          : 'bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border-2 border-transparent'\n                      }`}\n                    >\n                      <div className=\"text-4xl mb-2\">{badge.icon}</div>\n                      <div className=\"font-semibold text-xs text-gray-800 dark:text-gray-200\">{badge.name}</div>\n                      {isSelected && <div className=\"text-xs text-primary mt-1\"> Featured</div>}\n                    </button>\n                  );\n                })}\n              </div>\n            ) : (\n              <div className=\"text-center py-12\">\n                <div className=\"text-5xl mb-3\"></div>\n                <p className=\"text-gray-600 dark:text-gray-400 mb-4\">No badges yet! Complete tasks to earn them.</p>\n              </div>\n            )}\n\n            <div className=\"mt-6 flex justify-center\">\n              <button\n                onClick={() => navigate('/badges')}\n                className=\"btn btn-primary\"\n              >\n                See How to Earn Badges \n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <style>{`\n        /* Hide scrollbar for horizontal badge scroll */\n        .scrollbar-hide {\n          -ms-overflow-style: none;  /* IE and Edge */\n          scrollbar-width: none;  /* Firefox */\n        }\n        .scrollbar-hide::-webkit-scrollbar {\n          display: none;  /* Chrome, Safari, Opera */\n        }\n      `}</style>\n    </>\n  );\n};\n\nexport default BadgesSection;\n","import React from 'react';\nimport CountUp from '../CountUp';\n\nconst StatsSection = ({\n  bestiesCount,\n  emergencyContactCount,\n  daysActive,\n  userData,\n  badges,\n  loginStreak,\n  nighttimeCheckIns,\n  weekendCheckIns\n}) => {\n  return (\n    <div className=\"card p-8 mb-6 bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 dark:from-purple-900/30 dark:via-pink-900/30 dark:to-orange-900/30\">\n      <h2 className=\"text-3xl font-display text-gradient mb-6 text-center\">Your Impact </h2>\n\n      <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n        {/* Besties Count */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={bestiesCount} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Besties</div>\n          </div>\n        </div>\n\n        {/* Emergency Contact Count */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={emergencyContactCount} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Times Selected</div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">as Emergency Contact</div>\n          </div>\n        </div>\n\n        {/* Days Active */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={daysActive} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Days Active</div>\n          </div>\n        </div>\n\n        {/* Completed Check-ins */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={userData?.stats?.completedCheckIns || 0} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Safe Check-ins</div>\n          </div>\n        </div>\n\n        {/* Badges Earned */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={badges.length} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Badges Earned</div>\n          </div>\n        </div>\n\n        {/* Login Streak */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={loginStreak} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Day Streak</div>\n          </div>\n        </div>\n\n        {/* Nighttime Check-ins */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={nighttimeCheckIns} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Night Check-ins</div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">9 PM - 6 AM</div>\n          </div>\n        </div>\n\n        {/* Weekend Check-ins */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={weekendCheckIns} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Weekend Check-ins</div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">Sat & Sun</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StatsSection;\n","import React from 'react';\nimport CountUp from '../CountUp';\n\nconst DonationStatus = ({ userData }) => {\n  if (!userData?.donationStats?.isActive) {\n    return null;\n  }\n\n  return (\n    <div className=\"card p-6 mb-6 bg-gradient-primary text-white\">\n      <h3 className=\"font-display text-xl mb-2\"> Thank You!</h3>\n      <p className=\"mb-2\">\n        You're helping keep Besties free for everyone\n      </p>\n      <div className=\"text-2xl font-display\">\n        $<CountUp end={userData.donationStats.totalDonated} duration={2000} /> donated\n      </div>\n    </div>\n  );\n};\n\nexport default DonationStatus;\n","import React from 'react';\n\nconst ProfileAuraStyles = () => {\n  return (\n    <style>{`\n      /* Aura Animations */\n      @keyframes aura-shimmer {\n        0%, 100% { opacity: 1; }\n        50% { opacity: 0.7; }\n      }\n      @keyframes aura-glow {\n        0%, 100% {\n          box-shadow: 0 0 20px rgba(219, 39, 119, 0.3), 0 0 40px rgba(139, 92, 246, 0.2);\n        }\n        50% {\n          box-shadow: 0 0 40px rgba(219, 39, 119, 0.5), 0 0 80px rgba(139, 92, 246, 0.4);\n        }\n      }\n      @keyframes aura-pulse {\n        0%, 100% { transform: scale(1); }\n        50% { transform: scale(1.02); }\n      }\n      @keyframes rainbow-border {\n        0% { border-color: #ff0000; }\n        16% { border-color: #ff7f00; }\n        33% { border-color: #ffff00; }\n        50% { border-color: #00ff00; }\n        66% { border-color: #0000ff; }\n        83% { border-color: #8b00ff; }\n        100% { border-color: #ff0000; }\n      }\n      @keyframes sparkle {\n        0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }\n        50% { opacity: 1; transform: scale(1) rotate(180deg); }\n      }\n\n      /* Aura Classes */\n      .profile-card-aura-shimmer::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: -100%;\n        width: 100%;\n        height: 100%;\n        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);\n        animation: shimmer 3s infinite;\n        pointer-events: none;\n      }\n\n      .profile-card-aura-glow {\n        animation: aura-glow 3s ease-in-out infinite;\n      }\n\n      .profile-card-aura-pulse {\n        animation: aura-pulse 2s ease-in-out infinite;\n      }\n\n      .profile-card-aura-rainbow {\n        border: 4px solid;\n        animation: rainbow-border 6s linear infinite;\n      }\n\n      .profile-card-aura-sparkle::after {\n        content: '';\n        position: absolute;\n        top: 10%;\n        right: 10%;\n        font-size: 2rem;\n        animation: sparkle 2s ease-in-out infinite;\n        pointer-events: none;\n      }\n    `}</style>\n  );\n};\n\nexport default ProfileAuraStyles;\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { db } from '../services/firebase';\nimport { doc, getDoc, collection, query, where, getDocs } from 'firebase/firestore';\nimport Header from '../components/Header';\nimport LivingCircle from '../components/LivingCircle';\nimport SocialShareCardsModal from '../components/SocialShareCardsModal';\nimport ConfettiCelebration from '../components/ConfettiCelebration';\nimport ProfileCard from '../components/profile/ProfileCard';\nimport ProfileCompletion from '../components/profile/ProfileCompletion';\nimport WeeklySummary from '../components/profile/WeeklySummary';\nimport LoginStreak from '../components/profile/LoginStreak';\nimport BadgesSection from '../components/profile/BadgesSection';\nimport StatsSection from '../components/profile/StatsSection';\nimport DonationStatus from '../components/profile/DonationStatus';\nimport ProfileAuraStyles from '../components/profile/ProfileAuraStyles';\n\nconst ProfilePage = () => {\n  const { currentUser, userData } = useAuth();\n  const navigate = useNavigate();\n  const [badges, setBadges] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showShareModal, setShowShareModal] = useState(false);\n  const [featuredBadgeIds, setFeaturedBadgeIds] = useState([]);\n  const [bestiesCount, setBestiesCount] = useState(0);\n  const [confettiTrigger, setConfettiTrigger] = useState(false);\n  const [emergencyContactCount, setEmergencyContactCount] = useState(0);\n  const [firstCheckInDate, setFirstCheckInDate] = useState(null);\n  const [nighttimeCheckIns, setNighttimeCheckIns] = useState(0);\n  const [weekendCheckIns, setWeekendCheckIns] = useState(0);\n  const [animatedProgress, setAnimatedProgress] = useState(0);\n\n  useEffect(() => {\n    loadData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentUser]);\n\n  // Animate progress bar when profile completion changes\n  useEffect(() => {\n    const profileCompletion = calculateProfileCompletion();\n    const targetProgress = profileCompletion.percentage;\n    setAnimatedProgress(targetProgress);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userData, bestiesCount, currentUser]);\n\n  const loadData = async () => {\n    if (!currentUser) return;\n\n    try {\n      // Load badges\n      const badgesDoc = await getDoc(doc(db, 'badges', currentUser.uid));\n      if (badgesDoc.exists()) {\n        const badgesData = badgesDoc.data().badges || [];\n        setBadges(badgesData);\n      }\n\n      // Load featured badge preferences\n      const userDoc = await getDoc(doc(db, 'users', currentUser.uid));\n      if (userDoc.exists()) {\n        const data = userDoc.data();\n        setFeaturedBadgeIds(data.featuredBadges || []);\n      }\n\n      // Load besties count\n      const bestiesQuery = query(\n        collection(db, 'besties'),\n        where('requesterId', '==', currentUser.uid),\n        where('status', '==', 'accepted')\n      );\n      const bestiesQuery2 = query(\n        collection(db, 'besties'),\n        where('recipientId', '==', currentUser.uid),\n        where('status', '==', 'accepted')\n      );\n\n      const [snapshot1, snapshot2] = await Promise.all([\n        getDocs(bestiesQuery),\n        getDocs(bestiesQuery2)\n      ]);\n\n      setBestiesCount(snapshot1.size + snapshot2.size);\n\n      // Count how many times user is an emergency contact\n      const emergencyContactQuery = query(\n        collection(db, 'checkins'),\n        where('selectedBesties', 'array-contains', currentUser.uid)\n      );\n      const emergencySnapshot = await getDocs(emergencyContactQuery);\n      setEmergencyContactCount(emergencySnapshot.size);\n\n      // Get first check-in date\n      const checkInsQuery = query(\n        collection(db, 'checkins'),\n        where('userId', '==', currentUser.uid)\n      );\n      const checkInsSnapshot = await getDocs(checkInsQuery);\n      if (!checkInsSnapshot.empty) {\n        let earliestDate = null;\n        let nightCount = 0;\n        let weekendCount = 0;\n\n        checkInsSnapshot.forEach(docSnap => {\n          const data = docSnap.data();\n          const date = data.createdAt?.toDate();\n\n          if (date) {\n            if (!earliestDate || date < earliestDate) {\n              earliestDate = date;\n            }\n\n            const hour = date.getHours();\n            if (hour >= 21 || hour < 6) {\n              nightCount++;\n            }\n\n            const day = date.getDay();\n            if (day === 0 || day === 6) {\n              weekendCount++;\n            }\n          }\n        });\n\n        setFirstCheckInDate(earliestDate);\n        setNighttimeCheckIns(nightCount);\n        setWeekendCheckIns(weekendCount);\n      }\n\n      setLoading(false);\n    } catch (error) {\n      console.error('Error loading data:', error);\n      setLoading(false);\n    }\n  };\n\n  const calculateProfileCompletion = () => {\n    const tasks = [];\n    let completed = 0;\n\n    if (currentUser?.email) {\n      tasks.push({ name: 'Add email', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: 'Add email', completed: false, path: '/settings', section: 'account' });\n    }\n\n    if (userData?.phoneNumber) {\n      tasks.push({ name: 'Add phone number', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: 'Add phone number', completed: false, path: '/edit-profile', section: 'phone' });\n    }\n\n    if (userData?.photoURL) {\n      tasks.push({ name: 'Upload profile photo', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: 'Upload profile photo', completed: false, path: null, section: 'photo', action: 'scrollToPhoto' });\n    }\n\n    if (userData?.profile?.bio) {\n      tasks.push({ name: 'Write a bio', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: 'Write a bio', completed: false, path: '/edit-profile', section: 'bio' });\n    }\n\n    if (bestiesCount >= 5) {\n      tasks.push({ name: 'Add 5 besties', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: `Add 5 besties (${bestiesCount}/5)`, completed: false, path: null, section: null, action: 'scrollToBestieCircle' });\n    }\n\n    const percentage = (completed / tasks.length) * 100;\n    return { tasks, percentage, completed, total: tasks.length };\n  };\n\n  const hasWeekOfActivity = () => {\n    if (!firstCheckInDate) return false;\n    const weekAgo = new Date();\n    weekAgo.setDate(weekAgo.getDate() - 7);\n    return firstCheckInDate <= weekAgo;\n  };\n\n  const getWeeklySummary = () => {\n    if (!hasWeekOfActivity()) {\n      return {\n        status: 'new',\n        emoji: '',\n        message: 'Building your safety journey',\n        tip: 'You\\'ll get your weekly summary after you have one week of activity!'\n      };\n    }\n\n    const checkIns = userData?.stats?.totalCheckIns || 0;\n    const besties = userData?.stats?.totalBesties || 0;\n\n    if (checkIns >= 7 && besties >= 3) {\n      return {\n        status: 'excellent',\n        emoji: '',\n        message: 'You\\'re absolutely crushing it this week!',\n        tip: 'Keep up the amazing safety habits!'\n      };\n    } else if (checkIns >= 3 || besties >= 3) {\n      return {\n        status: 'good',\n        emoji: '',\n        message: 'You\\'re doing great! Keep it up!',\n        tip: 'Try to check in regularly and add more besties.'\n      };\n    } else {\n      return {\n        status: 'needsWork',\n        emoji: '',\n        message: 'Let\\'s build your safety network!',\n        tip: 'Start by adding your closest friends as besties.'\n      };\n    }\n  };\n\n  const handleTaskNavigation = (task) => {\n    if (task.action === 'scrollToPhoto') {\n      const photoElement = document.querySelector('.photo-menu-container');\n      if (photoElement) {\n        photoElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    } else if (task.action === 'scrollToBestieCircle') {\n      const bestieCircleElement = document.querySelector('.bestie-circle-section');\n      if (bestieCircleElement) {\n        bestieCircleElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    } else if (task.path) {\n      if (task.section) {\n        navigate(`${task.path}#${task.section}`);\n      } else {\n        navigate(task.path);\n      }\n    }\n  };\n\n  const getDaysActive = () => {\n    if (!firstCheckInDate) return 0;\n    const now = new Date();\n    const diffTime = Math.abs(now - firstCheckInDate);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n\n  const profileCompletion = calculateProfileCompletion();\n  const weeklySummary = getWeeklySummary();\n  const loginStreak = userData?.loginStreak || 0;\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-pattern\">\n        <Header />\n        <div className=\"flex items-center justify-center py-20\">\n          <div className=\"spinner\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-pattern\">\n      <Header />\n      <ConfettiCelebration trigger={confettiTrigger} type=\"badge\" />\n      <ProfileAuraStyles />\n\n      <div className=\"max-w-4xl mx-auto p-4 pb-24 md:pb-6\">\n        {/* Profile Card */}\n        <ProfileCard currentUser={currentUser} userData={userData} />\n\n        {/* Profile Completion */}\n        <ProfileCompletion\n          profileCompletion={profileCompletion}\n          animatedProgress={animatedProgress}\n          onTaskNavigation={handleTaskNavigation}\n        />\n\n        {/* Weekly Summary */}\n        <WeeklySummary\n          weeklySummary={weeklySummary}\n          hasWeekOfActivity={hasWeekOfActivity()}\n          userData={userData}\n          bestiesCount={bestiesCount}\n        />\n\n        {/* Login Streak */}\n        <LoginStreak loginStreak={loginStreak} />\n\n        {/* Badges Section */}\n        <BadgesSection\n          currentUser={currentUser}\n          badges={badges}\n          featuredBadgeIds={featuredBadgeIds}\n          setFeaturedBadgeIds={setFeaturedBadgeIds}\n          setConfettiTrigger={setConfettiTrigger}\n        />\n\n        {/* Stats Section */}\n        <StatsSection\n          bestiesCount={bestiesCount}\n          emergencyContactCount={emergencyContactCount}\n          daysActive={getDaysActive()}\n          userData={userData}\n          badges={badges}\n          loginStreak={loginStreak}\n          nighttimeCheckIns={nighttimeCheckIns}\n          weekendCheckIns={weekendCheckIns}\n        />\n\n        {/* Bestie Circle */}\n        <div className=\"mb-6 bestie-circle-section\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-2xl font-display text-gray-800 dark:text-gray-200\">Your Bestie Circle</h2>\n            <button\n              onClick={() => navigate('/besties')}\n              className=\"text-primary font-semibold hover:underline\"\n            >\n              Manage \n            </button>\n          </div>\n          <LivingCircle userId={currentUser?.uid} onAddClick={() => navigate('/besties')} />\n        </div>\n\n        {/* Donation Status */}\n        <DonationStatus userData={userData} />\n\n        {/* Settings Button */}\n        <div className=\"space-y-3\">\n          <button\n            onClick={() => navigate('/settings')}\n            className=\"w-full btn btn-secondary\"\n          >\n             Settings\n          </button>\n        </div>\n      </div>\n\n      {/* Share Modal */}\n      {showShareModal && (\n        <SocialShareCardsModal onClose={() => setShowShareModal(false)} />\n      )}\n    </div>\n  );\n};\n\nexport default ProfilePage;\n","import { db } from './firebase';\nimport {\n  collection,\n  query,\n  where,\n  getDocs,\n  doc,\n  getDoc,\n  orderBy,\n  limit,\n  Timestamp\n} from 'firebase/firestore';\n\n/**\n * Connection Energy Service\n *\n * Calculates connection energy between besties based on actual behavior:\n * - Alert response times (how quickly they show up)\n * - Circle stories engagement (viewing, reactions)\n * - Featured circle inclusion\n * - Recent interaction recency\n *\n * Returns a score from 0-100 where:\n * - 90-100: Unbreakable  (ultimate connection)\n * - 70-89: Powerful  (incredible bond)\n * - 50-69: Strong  (solid connection)\n * - 30-49: Growing  (building momentum)\n * - 0-29: Spark  (just starting)\n */\n\nconst ONE_DAY = 24 * 60 * 60 * 1000;\nconst ONE_WEEK = 7 * ONE_DAY;\nconst ONE_MONTH = 30 * ONE_DAY;\n\n/**\n * Calculate comprehensive connection strength between two users\n */\nexport const calculateConnectionStrength = async (userId, bestieId) => {\n  try {\n    const scores = {\n      alertResponse: 0,      // 50 points - most important\n      storyEngagement: 0,    // 25 points - viewing/reacting to stories\n      featuredCircle: 0,     // 15 points\n      recency: 0,            // 10 points\n    };\n\n    // Run all calculations in parallel for speed\n    const [\n      alertResponseScore,\n      storyEngagementScore,\n      featuredCircleScore,\n      recencyScore,\n    ] = await Promise.all([\n      calculateAlertResponseScore(userId, bestieId),\n      calculateStoryEngagementScore(userId, bestieId),\n      calculateFeaturedCircleScore(userId, bestieId),\n      calculateRecencyScore(userId, bestieId),\n    ]);\n\n    scores.alertResponse = alertResponseScore;\n    scores.storyEngagement = storyEngagementScore;\n    scores.featuredCircle = featuredCircleScore;\n    scores.recency = recencyScore;\n\n    const totalScore = Math.round(\n      scores.alertResponse +\n      scores.storyEngagement +\n      scores.featuredCircle +\n      scores.recency\n    );\n\n    return {\n      total: Math.min(100, totalScore),\n      breakdown: scores,\n      level: getConnectionLevel(totalScore),\n    };\n  } catch (error) {\n    console.error('Error calculating connection energy:', error);\n    return {\n      total: 0,\n      breakdown: {},\n      level: 'spark',\n    };\n  }\n};\n\n/**\n * Alert Response Score (0-50 points)\n * The most important metric - do they show up when you need them?\n */\nconst calculateAlertResponseScore = async (userId, bestieId) => {\n  try {\n    // Get all alert responses where bestieId responded to userId's alerts\n    const responsesQuery = query(\n      collection(db, 'alert_responses'),\n      where('userId', '==', userId),\n      where('responderId', '==', bestieId)\n    );\n    const responsesSnap = await getDocs(responsesQuery);\n\n    if (responsesSnap.empty) {\n      return 0; // No history yet - that's okay, we're just starting\n    }\n\n    const responses = responsesSnap.docs.map(doc => doc.data());\n\n    // Calculate average response time (in minutes)\n    const avgResponseTime = responses.reduce((sum, r) => sum + r.responseTime, 0) / responses.length / 60;\n\n    // Score based on response time (0-35 points)\n    let timeScore = 0;\n    if (avgResponseTime < 5) timeScore = 35;        // < 5 min: instant\n    else if (avgResponseTime < 15) timeScore = 30;  // < 15 min: very fast\n    else if (avgResponseTime < 30) timeScore = 25;  // < 30 min: fast\n    else if (avgResponseTime < 60) timeScore = 18;  // < 1 hour: decent\n    else if (avgResponseTime < 180) timeScore = 10; // < 3 hours: slow\n    else timeScore = 5;                             // > 3 hours: very slow\n\n    // Bonus for response count (0-15 points for reliability)\n    const reliabilityScore = Math.min(15, responses.length * 2);\n\n    return timeScore + reliabilityScore;\n  } catch (error) {\n    console.error('Error calculating alert response score:', error);\n    return 0;\n  }\n};\n\n/**\n * Story Engagement Score (0-25 points)\n * Do they view and react to each other's circle stories?\n *\n * NOTE: This feature is not yet implemented. Returns 0 for now.\n * Will be enabled when Circle Stories feature is launched.\n */\nconst calculateStoryEngagementScore = async (userId, bestieId) => {\n  // TODO: Implement when Circle Stories feature is ready\n  // For now, return 0 so we don't query non-existent collections\n  return 0;\n\n  /* Future implementation:\n  try {\n    const oneMonthAgo = Timestamp.fromDate(new Date(Date.now() - 30 * ONE_DAY));\n\n    const viewsQuery = query(\n      collection(db, 'circle_story_views'),\n      where('storyOwnerId', '==', userId),\n      where('viewerId', '==', bestieId),\n      where('viewedAt', '>=', oneMonthAgo)\n    );\n    const viewsSnap = await getDocs(viewsQuery);\n\n    const reverseViewsQuery = query(\n      collection(db, 'circle_story_views'),\n      where('storyOwnerId', '==', bestieId),\n      where('viewerId', '==', userId),\n      where('viewedAt', '>=', oneMonthAgo)\n    );\n    const reverseViewsSnap = await getDocs(reverseViewsQuery);\n\n    const reactionsQuery = query(\n      collection(db, 'circle_story_reactions'),\n      where('storyOwnerId', '==', userId),\n      where('reactorId', '==', bestieId),\n      where('createdAt', '>=', oneMonthAgo)\n    );\n    const reactionsSnap = await getDocs(reactionsQuery);\n\n    const reverseReactionsQuery = query(\n      collection(db, 'circle_story_reactions'),\n      where('storyOwnerId', '==', bestieId),\n      where('reactorId', '==', userId),\n      where('createdAt', '>=', oneMonthAgo)\n    );\n    const reverseReactionsSnap = await getDocs(reverseReactionsQuery);\n\n    const totalViews = viewsSnap.size + reverseViewsSnap.size;\n    const totalReactions = reactionsSnap.size + reverseReactionsSnap.size;\n\n    let viewScore = Math.min(10, totalViews);\n    let reactionScore = Math.min(15, totalReactions * 2);\n\n    return viewScore + reactionScore;\n  } catch (error) {\n    console.error('Error calculating story engagement score:', error);\n    return 0;\n  }\n  */\n};\n\n/**\n * Featured Circle Score (0-15 points)\n * Are they in each other's top 5?\n */\nconst calculateFeaturedCircleScore = async (userId, bestieId) => {\n  try {\n    const [userDoc, bestieDoc] = await Promise.all([\n      getDoc(doc(db, 'users', userId)),\n      getDoc(doc(db, 'users', bestieId))\n    ]);\n\n    const userCircle = userDoc.exists() ? (userDoc.data().featuredCircle || []) : [];\n    const bestieCircle = bestieDoc.exists() ? (bestieDoc.data().featuredCircle || []) : [];\n\n    const inUserCircle = userCircle.includes(bestieId);\n    const inBestieCircle = bestieCircle.includes(userId);\n\n    // Scoring (0-15 points)\n    if (inUserCircle && inBestieCircle) return 15; // Mutual top 5 - best case\n    if (inUserCircle) return 9; // In your top 5\n    if (inBestieCircle) return 8; // You're in their top 5\n    return 0;\n  } catch (error) {\n    console.error('Error calculating featured circle score:', error);\n    return 0;\n  }\n};\n\n/**\n * Recency Score (0-10 points)\n * How recently have they interacted?\n */\nconst calculateRecencyScore = async (userId, bestieId) => {\n  try {\n    // Get most recent interaction of any type\n    const interactionsQuery = query(\n      collection(db, 'interactions'),\n      where('userId', '==', userId),\n      where('bestieId', '==', bestieId),\n      orderBy('createdAt', 'desc'),\n      limit(1)\n    );\n    const interactionsSnap = await getDocs(interactionsQuery);\n\n    // Also check reverse direction\n    const reverseQuery = query(\n      collection(db, 'interactions'),\n      where('userId', '==', bestieId),\n      where('bestieId', '==', userId),\n      orderBy('createdAt', 'desc'),\n      limit(1)\n    );\n    const reverseSnap = await getDocs(reverseQuery);\n\n    // Get most recent from either direction\n    let lastInteraction = null;\n\n    if (!interactionsSnap.empty) {\n      lastInteraction = interactionsSnap.docs[0].data().createdAt;\n    }\n\n    if (!reverseSnap.empty) {\n      const reverseDate = reverseSnap.docs[0].data().createdAt;\n      if (!lastInteraction || reverseDate.toMillis() > lastInteraction.toMillis()) {\n        lastInteraction = reverseDate;\n      }\n    }\n\n    if (!lastInteraction) return 0;\n\n    const daysSince = (Date.now() - lastInteraction.toMillis()) / ONE_DAY;\n\n    // Score based on recency (0-10 points)\n    if (daysSince < 1) return 10;      // Today - perfect\n    if (daysSince < 3) return 8;       // Last 3 days - great\n    if (daysSince < 7) return 6;       // This week - good\n    if (daysSince < 14) return 4;      // Last 2 weeks - okay\n    if (daysSince < 30) return 2;      // This month - getting stale\n    return 0;                           // Over a month - needs attention\n  } catch (error) {\n    console.error('Error calculating recency score:', error);\n    return 0;\n  }\n};\n\n/**\n * Get connection level description\n */\nconst getConnectionLevel = (score) => {\n  if (score >= 90) return 'unbreakable';\n  if (score >= 70) return 'powerful';\n  if (score >= 50) return 'strong';\n  if (score >= 30) return 'growing';\n  return 'spark';\n};\n\n/**\n * Get connection level color for UI\n */\nexport const getConnectionColor = (score) => {\n  if (score >= 90) return '#10b981'; // green - unbreakable\n  if (score >= 70) return '#3b82f6'; // blue - powerful\n  if (score >= 50) return '#8b5cf6'; // purple - strong\n  if (score >= 30) return '#f59e0b'; // orange - growing\n  return '#ec4899'; // pink - spark (new connections!)\n};\n\n/**\n * Get connection level emoji\n */\nexport const getConnectionEmoji = (score) => {\n  if (score >= 90) return '';\n  if (score >= 70) return '';\n  if (score >= 50) return '';\n  if (score >= 30) return '';\n  return '';\n};\n\n/**\n * Calculate Circle Health Score (0-100)\n * Overall health of the entire featured circle\n */\nexport const calculateCircleHealth = async (userId) => {\n  try {\n    // Get user's featured circle\n    const userDoc = await getDoc(doc(db, 'users', userId));\n    if (!userDoc.exists()) return { score: 0, insights: [] };\n\n    const featuredCircle = userDoc.data().featuredCircle || [];\n\n    if (featuredCircle.length === 0) {\n      return {\n        score: 0,\n        insights: ['Add besties to your circle to start building connections'],\n      };\n    }\n\n    // Calculate connection strength with each circle member\n    const connectionPromises = featuredCircle.map(bestieId =>\n      calculateConnectionStrength(userId, bestieId).then(strength => ({\n        ...strength,\n        id: bestieId, // Include bestie ID so we can match with bestie data later\n      }))\n    );\n    const connections = await Promise.all(connectionPromises);\n\n    // Average connection strength\n    const avgStrength = connections.reduce((sum, c) => sum + c.total, 0) / connections.length;\n\n    // Penalties and bonuses\n    let finalScore = avgStrength;\n\n    // Penalty for incomplete circle (not having 5 besties)\n    if (featuredCircle.length < 5) {\n      finalScore *= (featuredCircle.length / 5);\n    }\n\n    // Generate insights\n    const insights = generateCircleInsights(userId, connections, featuredCircle);\n\n    return {\n      score: Math.round(finalScore),\n      avgConnectionStrength: Math.round(avgStrength),\n      circleSize: featuredCircle.length,\n      connections,\n      insights,\n    };\n  } catch (error) {\n    console.error('Error calculating circle health:', error);\n    return { score: 0, insights: ['Error calculating circle health'] };\n  }\n};\n\n/**\n * Generate actionable insights about circle health\n */\nconst generateCircleInsights = (userId, connections, featuredCircle) => {\n  const insights = [];\n\n  // Check for growing connections that could use more attention\n  const growingConnections = connections.filter(c => c.total < 30);\n  if (growingConnections.length > 0) {\n    insights.push({\n      type: 'tip',\n      message: `${growingConnections.length} connection${growingConnections.length > 1 ? 's are' : ' is'} just getting started - keep building!`,\n      action: 'reach_out',\n    });\n  }\n\n  // Check for incomplete circle\n  if (featuredCircle.length < 5) {\n    insights.push({\n      type: 'info',\n      message: `Add ${5 - featuredCircle.length} more ${featuredCircle.length === 4 ? 'bestie' : 'besties'} to unlock full circle power`,\n      action: 'add_besties',\n    });\n  }\n\n  // Check for lack of recent interactions\n  const staleConnections = connections.filter(c => c.breakdown.recency < 4);\n  if (staleConnections.length > 0) {\n    insights.push({\n      type: 'tip',\n      message: `${staleConnections.length} connection${staleConnections.length > 1 ? 's could' : ' could'} use some love - reach out today!`,\n      action: 'post_story',\n    });\n  }\n\n  // Celebrate powerful/unbreakable circle\n  if (connections.every(c => c.total >= 70) && featuredCircle.length === 5) {\n    insights.push({\n      type: 'success',\n      message: 'Your circle is unstoppable! This is what real connection looks like ',\n      action: null,\n    });\n  }\n\n  return insights;\n};\n\n/**\n * Get last interaction time with a bestie\n */\nexport const getLastInteraction = async (userId, bestieId) => {\n  try {\n    // Check interactions collection\n    const interactionsQuery = query(\n      collection(db, 'interactions'),\n      where('userId', '==', userId),\n      where('bestieId', '==', bestieId),\n      orderBy('createdAt', 'desc'),\n      limit(1)\n    );\n    const snap = await getDocs(interactionsQuery);\n\n    if (!snap.empty) {\n      return snap.docs[0].data().createdAt;\n    }\n\n    // Fallback: check check-ins\n    const checkInQuery = query(\n      collection(db, 'checkins'),\n      where('userId', '==', userId),\n      where('bestieIds', 'array-contains', bestieId),\n      orderBy('createdAt', 'desc'),\n      limit(1)\n    );\n    const checkInSnap = await getDocs(checkInQuery);\n\n    if (!checkInSnap.empty) {\n      return checkInSnap.docs[0].data().createdAt;\n    }\n\n    return null;\n  } catch (error) {\n    console.error('Error getting last interaction:', error);\n    return null;\n  }\n};\n\n/**\n * Format time ago string\n */\nexport const formatTimeAgo = (timestamp) => {\n  if (!timestamp) return 'Never';\n\n  const ms = Date.now() - timestamp.toMillis();\n  const minutes = Math.floor(ms / (1000 * 60));\n  const hours = Math.floor(ms / (1000 * 60 * 60));\n  const days = Math.floor(ms / ONE_DAY);\n\n  if (minutes < 1) return 'Just now';\n  if (minutes < 60) return `${minutes}m ago`;\n  if (hours < 24) return `${hours}h ago`;\n  if (days === 1) return 'Yesterday';\n  if (days < 7) return `${days}d ago`;\n  if (days < 30) return `${Math.floor(days / 7)}w ago`;\n  if (days < 365) return `${Math.floor(days / 30)}mo ago`;\n  return `${Math.floor(days / 365)}y ago`;\n};\n","// 60+ Beautiful Background Themes for Profile Cards\n// Organized by aesthetic categories for 18-30 year old women\n\nexport const BACKGROUND_CATEGORIES = [\n  'plantMom',\n  'beauty',\n  'equestrian',\n  'coffee',\n  'wellness',\n  'bookworm',\n  'travel',\n  'mystical',\n  'fashion',\n  'creative',\n  'beach',\n  'cottagecore',\n  'cityGirl',\n  'cozy',\n  'whimsical',\n  'luxe'\n];\n\nexport const BACKGROUNDS = {\n  //  PLANT MOM\n  plantMom: [\n    {\n      id: 'monstera-dream',\n      name: 'Monstera Dream',\n      category: 'plantMom',\n      gradient: 'linear-gradient(135deg, #8B9D83 0%, #F5F1E8 100%)',\n      pattern: 'monstera',\n      description: 'Sage green with tropical vibes'\n    },\n    {\n      id: 'terracotta-garden',\n      name: 'Terracotta Garden',\n      category: 'plantMom',\n      gradient: 'linear-gradient(135deg, #D4A574 0%, #E8C4B8 100%)',\n      pattern: 'pots',\n      description: 'Warm terracotta and dusty rose'\n    },\n    {\n      id: 'jungle-vibes',\n      name: 'Jungle Vibes',\n      category: 'plantMom',\n      gradient: 'linear-gradient(135deg, #2D5016 0%, #4A7C59 100%)',\n      pattern: 'tropical',\n      description: 'Deep emerald jungle aesthetic'\n    },\n    {\n      id: 'succulent-garden',\n      name: 'Succulent Garden',\n      category: 'plantMom',\n      gradient: 'linear-gradient(135deg, #9DC183 0%, #E8F5E9 100%)',\n      pattern: 'geometric',\n      description: 'Fresh green with geometric touches'\n    }\n  ],\n\n  //  BEAUTY & GLAM\n  beauty: [\n    {\n      id: 'rose-gold-glow',\n      name: 'Rose Gold Glow',\n      category: 'beauty',\n      gradient: 'linear-gradient(135deg, #E8B298 0%, #F5E6D3 100%)',\n      pattern: 'shimmer',\n      description: 'Rose gold with shimmer effect'\n    },\n    {\n      id: 'velvet-vanity',\n      name: 'Velvet Vanity',\n      category: 'beauty',\n      gradient: 'linear-gradient(135deg, #8B2E5D 0%, #F4A6C8 100%)',\n      pattern: 'bokeh',\n      description: 'Rich burgundy and blush'\n    },\n    {\n      id: 'pearl-elegance',\n      name: 'Pearl Elegance',\n      category: 'beauty',\n      gradient: 'linear-gradient(135deg, #F8F3F0 0%, #E8C4D8 100%)',\n      pattern: 'pearl',\n      description: 'Iridescent white and soft pink'\n    },\n    {\n      id: 'makeup-palette',\n      name: 'Makeup Palette',\n      category: 'beauty',\n      gradient: 'linear-gradient(135deg, #D4A574 0%, #F0C4B8 50%, #E8A4A4 100%)',\n      pattern: 'none',\n      description: 'Warm neutrals and blush tones'\n    },\n    {\n      id: 'glossy-glam',\n      name: 'Glossy Glam',\n      category: 'beauty',\n      gradient: 'linear-gradient(135deg, #FFB6C1 0%, #FFC0CB 50%, #FFE4E1 100%)',\n      pattern: 'shine',\n      description: 'Glossy pink perfection'\n    },\n  ],\n\n  //  EQUESTRIAN\n  equestrian: [\n    {\n      id: 'golden-hour-stable',\n      name: 'Golden Hour Stable',\n      category: 'equestrian',\n      gradient: 'linear-gradient(135deg, #D4A574 0%, #F5DEB3 100%)',\n      pattern: 'fence',\n      description: 'Warm wheat and honey tones'\n    },\n    {\n      id: 'english-countryside',\n      name: 'English Countryside',\n      category: 'equestrian',\n      gradient: 'linear-gradient(135deg, #8B9D83 0%, #F5F1E8 100%)',\n      pattern: 'horseshoe',\n      description: 'Sage and cream elegance'\n    },\n    {\n      id: 'western-sunset',\n      name: 'Western Sunset',\n      category: 'equestrian',\n      gradient: 'linear-gradient(135deg, #CC5500 0%, #9B7EBD 100%)',\n      pattern: 'landscape',\n      description: 'Burnt orange and dusty purple'\n    },\n    {\n      id: 'stable-chic',\n      name: 'Stable Chic',\n      category: 'equestrian',\n      gradient: 'linear-gradient(135deg, #8B7355 0%, #D2B48C 100%)',\n      pattern: 'wood',\n      description: 'Rich brown and tan'\n    },\n  ],\n\n  //  COFFEE CULTURE\n  coffee: [\n    {\n      id: 'latte-love',\n      name: 'Latte Love',\n      category: 'coffee',\n      gradient: 'linear-gradient(135deg, #F5F1E8 0%, #D4A574 100%)',\n      pattern: 'steam',\n      description: 'Cream and caramel swirls'\n    },\n    {\n      id: 'espresso-yourself',\n      name: 'Espresso Yourself',\n      category: 'coffee',\n      gradient: 'linear-gradient(135deg, #6F4E37 0%, #C4A484 100%)',\n      pattern: 'beans',\n      description: 'Rich coffee brown'\n    },\n    {\n      id: 'matcha-morning',\n      name: 'Matcha Morning',\n      category: 'coffee',\n      gradient: 'linear-gradient(135deg, #A8D5BA 0%, #F5F1E8 100%)',\n      pattern: 'zen',\n      description: 'Soft green zen vibes'\n    },\n    {\n      id: 'cappuccino-dream',\n      name: 'Cappuccino Dream',\n      category: 'coffee',\n      gradient: 'linear-gradient(135deg, #F0E6DC 0%, #C9A98D 100%)',\n      pattern: 'foam',\n      description: 'Foamy beige perfection'\n    },\n  ],\n\n  //  WELLNESS & FITNESS\n  wellness: [\n    {\n      id: 'pilates-princess',\n      name: 'Pilates Princess',\n      category: 'wellness',\n      gradient: 'linear-gradient(135deg, #E6D5F5 0%, #FFFFFF 100%)',\n      pattern: 'geometric',\n      description: 'Soft lilac and white'\n    },\n    {\n      id: 'hot-girl-walk',\n      name: 'Hot Girl Walk',\n      category: 'wellness',\n      gradient: 'linear-gradient(135deg, #FFB6A3 0%, #FF8B94 100%)',\n      pattern: 'mesh',\n      description: 'Peachy pink energy'\n    },\n    {\n      id: 'yoga-flow',\n      name: 'Yoga Flow',\n      category: 'wellness',\n      gradient: 'linear-gradient(135deg, #A8D5E2 0%, #D5B8F0 100%)',\n      pattern: 'waves',\n      description: 'Calming blue and lavender'\n    },\n    {\n      id: 'green-smoothie',\n      name: 'Green Smoothie',\n      category: 'wellness',\n      gradient: 'linear-gradient(135deg, #B8E6B8 0%, #E8F5E8 100%)',\n      pattern: 'organic',\n      description: 'Fresh green vitality'\n    },\n  ],\n\n  //  BOOKWORM\n  bookworm: [\n    {\n      id: 'golden-library',\n      name: 'Golden Library',\n      category: 'bookworm',\n      gradient: 'linear-gradient(135deg, #6B2C2C 0%, #D4AF37 100%)',\n      pattern: 'books',\n      description: 'Burgundy and gold'\n    },\n    {\n      id: 'paperback-dreams',\n      name: 'Paperback Dreams',\n      category: 'bookworm',\n      gradient: 'linear-gradient(135deg, #F5F1E8 0%, #C4A484 100%)',\n      pattern: 'pages',\n      description: 'Cream and coffee'\n    },\n    {\n      id: 'midnight-reader',\n      name: 'Midnight Reader',\n      category: 'bookworm',\n      gradient: 'linear-gradient(135deg, #1A2238 0%, #D4AF37 100%)',\n      pattern: 'stars',\n      description: 'Navy and gold constellation'\n    },\n    {\n      id: 'cozy-chapter',\n      name: 'Cozy Chapter',\n      category: 'bookworm',\n      gradient: 'linear-gradient(135deg, #8B7355 0%, #F5E6D3 100%)',\n      pattern: 'vintage',\n      description: 'Vintage book aesthetic'\n    },\n  ],\n\n  //  TRAVEL & ADVENTURE\n  travel: [\n    {\n      id: 'passport-ready',\n      name: 'Passport Ready',\n      category: 'travel',\n      gradient: 'linear-gradient(135deg, #87CEEB 0%, #FFB6A3 100%)',\n      pattern: 'map',\n      description: 'Sky blue and coral'\n    },\n    {\n      id: 'santorini-sunset',\n      name: 'Santorini Sunset',\n      category: 'travel',\n      gradient: 'linear-gradient(135deg, #FFFFFF 0%, #4A90E2 100%)',\n      pattern: 'mediterranean',\n      description: 'White and cobalt blue'\n    },\n    {\n      id: 'wanderlust',\n      name: 'Wanderlust',\n      category: 'travel',\n      gradient: 'linear-gradient(135deg, #FF6B6B 0%, #FFE66D 50%, #4ECDC4 100%)',\n      pattern: 'compass',\n      description: 'Sunset gradient'\n    },\n    {\n      id: 'mountain-peaks',\n      name: 'Mountain Peaks',\n      category: 'travel',\n      gradient: 'linear-gradient(135deg, #5D8AA8 0%, #F0F8FF 100%)',\n      pattern: 'mountains',\n      description: 'Blue mountain ranges'\n    },\n    {\n      id: 'tropical-escape',\n      name: 'Tropical Escape',\n      category: 'travel',\n      gradient: 'linear-gradient(135deg, #00CED1 0%, #FFD700 100%)',\n      pattern: 'palm',\n      description: 'Turquoise and gold'\n    },\n  ],\n\n  //  MYSTICAL & ASTROLOGY\n  mystical: [\n    {\n      id: 'cosmic-connection',\n      name: 'Cosmic Connection',\n      category: 'mystical',\n      gradient: 'linear-gradient(135deg, #4A148C 0%, #1A237E 100%)',\n      pattern: 'constellation',\n      description: 'Deep purple galaxy'\n    },\n    {\n      id: 'moon-child',\n      name: 'Moon Child',\n      category: 'mystical',\n      gradient: 'linear-gradient(135deg, #2C2C2C 0%, #C0C0C0 100%)',\n      pattern: 'moon',\n      description: 'Soft black and silver'\n    },\n    {\n      id: 'stargazer',\n      name: 'Stargazer',\n      category: 'mystical',\n      gradient: 'linear-gradient(135deg, #0F2027 0%, #203A43 50%, #2C5364 100%)',\n      pattern: 'stars',\n      description: 'Midnight blue with stars'\n    },\n    {\n      id: 'crystal-energy',\n      name: 'Crystal Energy',\n      category: 'mystical',\n      gradient: 'linear-gradient(135deg, #E6D5F5 0%, #B4A5D8 100%)',\n      pattern: 'crystals',\n      description: 'Amethyst and lavender'\n    },\n  ],\n\n  //  FASHION & STYLE\n  fashion: [\n    {\n      id: 'parisian-pink',\n      name: 'Parisian Pink',\n      category: 'fashion',\n      gradient: 'linear-gradient(135deg, #FFB6C1 0%, #F5F1E8 100%)',\n      pattern: 'eiffel',\n      description: 'Soft blush and cream'\n    },\n    {\n      id: 'runway-ready',\n      name: 'Runway Ready',\n      category: 'fashion',\n      gradient: 'linear-gradient(135deg, #000000 0%, #FFFFFF 50%, #FFB6C1 100%)',\n      pattern: 'geometric',\n      description: 'Black, white, and pink'\n    },\n    {\n      id: 'vintage-vogue',\n      name: 'Vintage Vogue',\n      category: 'fashion',\n      gradient: 'linear-gradient(135deg, #D4A574 0%, #F5E6D3 100%)',\n      pattern: 'retro',\n      description: 'Sepia vintage tones'\n    },\n    {\n      id: 'designer-dreams',\n      name: 'Designer Dreams',\n      category: 'fashion',\n      gradient: 'linear-gradient(135deg, #C9A98D 0%, #2C2C2C 100%)',\n      pattern: 'luxe',\n      description: 'Tan and black chic'\n    },\n  ],\n\n  //  CREATIVE & ARTSY\n  creative: [\n    {\n      id: 'paint-palette',\n      name: 'Paint Palette',\n      category: 'creative',\n      gradient: 'linear-gradient(135deg, #FFB6C1 0%, #FFE4B5 25%, #B0E57C 50%, #87CEEB 75%, #DDA0DD 100%)',\n      pattern: 'watercolor',\n      description: 'Rainbow pastel blend'\n    },\n    {\n      id: 'gallery-girl',\n      name: 'Gallery Girl',\n      category: 'creative',\n      gradient: 'linear-gradient(135deg, #FFFFFF 0%, #F5F5F5 100%)',\n      pattern: 'minimal',\n      description: 'Clean white gallery'\n    },\n    {\n      id: 'abstract-expression',\n      name: 'Abstract Expression',\n      category: 'creative',\n      gradient: 'linear-gradient(135deg, #FF6B6B 0%, #4ECDC4 50%, #FFE66D 100%)',\n      pattern: 'abstract',\n      description: 'Bold color blocks'\n    },\n    {\n      id: 'sketch-book',\n      name: 'Sketch Book',\n      category: 'creative',\n      gradient: 'linear-gradient(135deg, #F5F1E8 0%, #E8E8E8 100%)',\n      pattern: 'doodles',\n      description: 'Paper texture with doodles'\n    },\n  ],\n\n  //  BEACH & OCEAN\n  beach: [\n    {\n      id: 'coastal-calm',\n      name: 'Coastal Calm',\n      category: 'beach',\n      gradient: 'linear-gradient(135deg, #A8D5E2 0%, #F5DEB3 100%)',\n      pattern: 'waves',\n      description: 'Seafoam and sand'\n    },\n    {\n      id: 'malibu-sunset',\n      name: 'Malibu Sunset',\n      category: 'beach',\n      gradient: 'linear-gradient(135deg, #FFB6A3 0%, #00CED1 50%, #FFD700 100%)',\n      pattern: 'sunset',\n      description: 'Coral, turquoise, gold'\n    },\n    {\n      id: 'seashell-collection',\n      name: 'Seashell Collection',\n      category: 'beach',\n      gradient: 'linear-gradient(135deg, #F5F1E8 0%, #B0E0E6 100%)',\n      pattern: 'shells',\n      description: 'Cream and soft blue'\n    },\n    {\n      id: 'tropical-waters',\n      name: 'Tropical Waters',\n      category: 'beach',\n      gradient: 'linear-gradient(135deg, #00CED1 0%, #20B2AA 100%)',\n      pattern: 'ripple',\n      description: 'Crystal clear turquoise'\n    },\n  ],\n\n  //  COTTAGECORE\n  cottagecore: [\n    {\n      id: 'wildflower-meadow',\n      name: 'Wildflower Meadow',\n      category: 'cottagecore',\n      gradient: 'linear-gradient(135deg, #FFFACD 0%, #E6D5F5 100%)',\n      pattern: 'flowers',\n      description: 'Soft yellow and lavender'\n    },\n    {\n      id: 'french-countryside',\n      name: 'French Countryside',\n      category: 'cottagecore',\n      gradient: 'linear-gradient(135deg, #8B9D83 0%, #F5F1E8 100%)',\n      pattern: 'gingham',\n      description: 'Olive and cream'\n    },\n    {\n      id: 'cottage-garden',\n      name: 'Cottage Garden',\n      category: 'cottagecore',\n      gradient: 'linear-gradient(135deg, #FFB6C1 0%, #E6D5F5 50%, #B0E57C 100%)',\n      pattern: 'florals',\n      description: 'Soft pastels with flowers'\n    },\n    {\n      id: 'strawberry-patch',\n      name: 'Strawberry Patch',\n      category: 'cottagecore',\n      gradient: 'linear-gradient(135deg, #FFE4E1 0%, #FF6B6B 100%)',\n      pattern: 'strawberry',\n      description: 'Pink and berry red'\n    },\n  ],\n\n  //  CITY GIRL\n  cityGirl: [\n    {\n      id: 'manhattan-nights',\n      name: 'Manhattan Nights',\n      category: 'cityGirl',\n      gradient: 'linear-gradient(135deg, #1A1A2E 0%, #D4AF37 100%)',\n      pattern: 'skyline',\n      description: 'Dark with gold accents'\n    },\n    {\n      id: 'rooftop-views',\n      name: 'Rooftop Views',\n      category: 'cityGirl',\n      gradient: 'linear-gradient(135deg, #FFB6A3 0%, #9B7EBD 100%)',\n      pattern: 'city',\n      description: 'Peachy pink and purple'\n    },\n    {\n      id: 'concrete-jungle',\n      name: 'Concrete Jungle',\n      category: 'cityGirl',\n      gradient: 'linear-gradient(135deg, #808080 0%, #FF1493 100%)',\n      pattern: 'urban',\n      description: 'Gray with neon accents'\n    },\n    {\n      id: 'penthouse-chic',\n      name: 'Penthouse Chic',\n      category: 'cityGirl',\n      gradient: 'linear-gradient(135deg, #2C2C2C 0%, #C9A98D 100%)',\n      pattern: 'luxe',\n      description: 'Black and tan sophistication'\n    },\n  ],\n\n  //  COZY & HYGGE\n  cozy: [\n    {\n      id: 'sunday-morning',\n      name: 'Sunday Morning',\n      category: 'cozy',\n      gradient: 'linear-gradient(135deg, #F5F1E8 0%, #D4A574 100%)',\n      pattern: 'fuzzy',\n      description: 'Warm cream and brown'\n    },\n    {\n      id: 'candle-glow',\n      name: 'Candle Glow',\n      category: 'cozy',\n      gradient: 'linear-gradient(135deg, #FFCC80 0%, #F5F1E8 100%)',\n      pattern: 'bokeh',\n      description: 'Amber and cream'\n    },\n    {\n      id: 'rainy-day',\n      name: 'Rainy Day',\n      category: 'cozy',\n      gradient: 'linear-gradient(135deg, #A8B8C8 0%, #B0E0E6 100%)',\n      pattern: 'rain',\n      description: 'Cool gray and soft blue'\n    },\n    {\n      id: 'fireplace-warmth',\n      name: 'Fireplace Warmth',\n      category: 'cozy',\n      gradient: 'linear-gradient(135deg, #8B4513 0%, #FFB347 100%)',\n      pattern: 'warm',\n      description: 'Deep brown and orange'\n    },\n  ],\n\n  //  WHIMSICAL & DREAMY\n  whimsical: [\n    {\n      id: 'butterfly-garden',\n      name: 'Butterfly Garden',\n      category: 'whimsical',\n      gradient: 'linear-gradient(135deg, #FFB6C1 0%, #E6D5F5 100%)',\n      pattern: 'butterfly',\n      description: 'Soft pink and lilac'\n    },\n    {\n      id: 'cloud-nine',\n      name: 'Cloud Nine',\n      category: 'whimsical',\n      gradient: 'linear-gradient(135deg, #B0E0E6 0%, #FFFFFF 100%)',\n      pattern: 'clouds',\n      description: 'Soft blue and white'\n    },\n    {\n      id: 'fairy-lights',\n      name: 'Fairy Lights',\n      category: 'whimsical',\n      gradient: 'linear-gradient(135deg, #FFFACD 0%, #FFB6C1 100%)',\n      pattern: 'lights',\n      description: 'Warm with bokeh'\n    },\n    {\n      id: 'unicorn-dreams',\n      name: 'Unicorn Dreams',\n      category: 'whimsical',\n      gradient: 'linear-gradient(135deg, #FFB6C1 0%, #DDA0DD 33%, #87CEEB 66%, #FFE4E1 100%)',\n      pattern: 'magic',\n      description: 'Pastel rainbow'\n    },\n  ],\n\n  //  LUXE & BOUGIE\n  luxe: [\n    {\n      id: 'champagne-dreams',\n      name: 'Champagne Dreams',\n      category: 'luxe',\n      gradient: 'linear-gradient(135deg, #D4AF37 0%, #F5F1E8 100%)',\n      pattern: 'bubbles',\n      description: 'Gold and cream'\n    },\n    {\n      id: 'diamond-dust',\n      name: 'Diamond Dust',\n      category: 'luxe',\n      gradient: 'linear-gradient(135deg, #C0C0C0 0%, #FFFFFF 100%)',\n      pattern: 'sparkle',\n      description: 'Silver with sparkle'\n    },\n    {\n      id: 'velvet-luxe',\n      name: 'Velvet Luxe',\n      category: 'luxe',\n      gradient: 'linear-gradient(135deg, #4A148C 0%, #D4AF37 100%)',\n      pattern: 'rich',\n      description: 'Deep purple and gold'\n    },\n    {\n      id: 'black-gold',\n      name: 'Black Gold',\n      category: 'luxe',\n      gradient: 'linear-gradient(135deg, #1A1A2E 0%, #D4AF37 100%)',\n      pattern: 'luxe',\n      description: 'Black and metallic gold'\n    },\n  ],\n};\n\n// Helper to get all backgrounds as flat array\nexport const getAllBackgrounds = () => {\n  return Object.values(BACKGROUNDS).flat();\n};\n\n// Helper to get backgrounds by category\nexport const getBackgroundsByCategory = (category) => {\n  return BACKGROUNDS[category] || [];\n};\n\n// Helper to get category display name\nexport const getCategoryName = (category) => {\n  const names = {\n    plantMom: ' Plant Mom',\n    beauty: ' Beauty & Glam',\n    equestrian: ' Equestrian',\n    coffee: ' Coffee Culture',\n    wellness: ' Wellness',\n    bookworm: ' Bookworm',\n    travel: ' Travel',\n    mystical: ' Mystical',\n    fashion: ' Fashion',\n    creative: ' Creative',\n    beach: ' Beach',\n    cottagecore: ' Cottagecore',\n    cityGirl: ' City Girl',\n    cozy: ' Cozy',\n    whimsical: ' Whimsical',\n    luxe: ' Luxe'\n  };\n  return names[category] || category;\n};\n","import React from 'react';\n\n// Classic Centered Layout - Traditional, easy to read\nconst ClassicLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  photoBorder,\n  decorativeElements\n}) => {\n  const getPhotoShapeClass = () => {\n    const shapes = {\n      circle: 'rounded-full',\n      square: 'rounded-none',\n      rounded: 'rounded-2xl',\n      heart: 'rounded-full' // Will add custom shape later\n    };\n    return shapes[photoShape] || 'rounded-full';\n  };\n\n  const getPhotoBorderClass = () => {\n    const borders = {\n      none: '',\n      classic: 'border-4 border-white shadow-2xl ring-4 ring-purple-200',\n      metallic: 'border-4 border-gradient-to-r from-yellow-400 to-pink-500 shadow-2xl',\n      scalloped: 'border-4 border-white shadow-2xl',\n      dotted: 'border-4 border-dashed border-white shadow-xl'\n    };\n    return borders[photoBorder] || '';\n  };\n\n  return (\n    <div className=\"relative w-full p-8 text-center\">\n      {/* Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 1,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Profile Photo */}\n      <div className=\"relative inline-block z-10 mb-4\">\n        <div\n          className={`w-36 h-36 bg-gradient-primary flex items-center justify-center text-white text-5xl font-display overflow-hidden hover:scale-105 transition-all ${getPhotoShapeClass()} ${getPhotoBorderClass()}`}\n        >\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n      </div>\n\n      {/* Name */}\n      <h1\n        className={`${nameSizeClass || 'text-4xl'} font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-3`}\n        style={nameStyle}\n      >\n        {displayName || 'User'}\n      </h1>\n\n      {/* Bio */}\n      {bio && (\n        <p\n          className={`${bioSizeClass || 'text-lg'} text-gray-800 dark:text-gray-200 italic max-w-md mx-auto mt-4`}\n          style={bioStyle}\n        >\n          \"{bio}\"\n        </p>\n      )}\n\n      {/* Badges */}\n      {badges && badges.length > 0 && (\n        <div className=\"flex gap-3 justify-center mt-6 flex-wrap\">\n          {badges.slice(0, 3).map((badge, index) => (\n            <div\n              key={index}\n              className=\"w-16 h-16 rounded-xl bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-lg flex items-center justify-center text-3xl hover:scale-110 transition-transform\"\n              title={badge.name}\n            >\n              {badge.icon || badge.emoji}\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Stats */}\n      {stats && (\n        <div className=\"mt-6 text-sm font-semibold text-gray-700 dark:text-gray-300 space-y-1\">\n          {stats.besties && <div> {stats.besties} Besties</div>}\n          {stats.checkIns && <div> {stats.checkIns} Check-ins</div>}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ClassicLayout;\n","import React from 'react';\n\n// Magazine Cover Layout - Editorial, sophisticated\nconst MagazineLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  photoBorder,\n  decorativeElements\n}) => {\n  const getPhotoShapeClass = () => {\n    const shapes = {\n      circle: 'rounded-full',\n      square: 'rounded-none',\n      rounded: 'rounded-2xl',\n      heart: 'rounded-full'\n    };\n    return shapes[photoShape] || 'rounded-2xl';\n  };\n\n  const getPhotoBorderClass = () => {\n    const borders = {\n      none: 'shadow-xl',\n      classic: 'border-4 border-white shadow-2xl',\n      metallic: 'border-4 border-gradient-to-r from-yellow-400 to-pink-500 shadow-2xl',\n      scalloped: 'border-4 border-white shadow-2xl'\n    };\n    return borders[photoBorder] || 'shadow-xl';\n  };\n\n  return (\n    <div className=\"relative w-full p-6 text-left\">\n      {/* Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 1,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Photo and Name Section */}\n      <div className=\"relative flex items-start gap-4 mb-4 z-10\">\n        <div\n          className={`w-24 h-24 bg-gradient-primary flex items-center justify-center text-white text-3xl font-display overflow-hidden flex-shrink-0 ${getPhotoShapeClass()} ${getPhotoBorderClass()}`}\n        >\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n\n        <div className=\"flex-1 pt-2\">\n          <h1\n            className={`${nameSizeClass || 'text-3xl'} font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent leading-tight`}\n            style={nameStyle}\n          >\n            {displayName || 'User'}\n          </h1>\n        </div>\n      </div>\n\n      {/* Bio */}\n      {bio && (\n        <p\n          className={`${bioSizeClass || 'text-base'} text-gray-800 dark:text-gray-200 mb-4`}\n          style={bioStyle}\n        >\n          \"{bio}\"\n        </p>\n      )}\n\n      {/* Badges - List Style */}\n      {badges && badges.length > 0 && (\n        <div className=\"space-y-2 mb-4\">\n          {badges.slice(0, 3).map((badge, index) => (\n            <div\n              key={index}\n              className=\"flex items-center gap-3 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-lg px-3 py-2 shadow-md\"\n            >\n              <span className=\"text-2xl\">{badge.icon || badge.emoji}</span>\n              <span className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">\n                {badge.name || 'Badge'}\n              </span>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Stats - Inline */}\n      {stats && (\n        <div className=\"flex gap-4 text-xs font-semibold text-gray-700 dark:text-gray-300\">\n          {stats.besties && <div> {stats.besties}</div>}\n          {stats.checkIns && <div> {stats.checkIns}</div>}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MagazineLayout;\n","import React from 'react';\n\n// Polaroid Stack Layout - Nostalgic, scrapbook vibes\nconst PolaroidLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  decorativeElements\n}) => {\n  return (\n    <div className=\"relative w-full p-6 text-center\">\n      {/* Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 1,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Main Polaroid */}\n      <div className=\"inline-block bg-white shadow-2xl p-3 pb-12 transform rotate-1 hover:rotate-0 transition-transform z-10 relative\">\n        <div className=\"w-56 h-56 bg-gradient-primary flex items-center justify-center text-white text-5xl font-display overflow-hidden\">\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n        <div className=\"mt-3 text-center\">\n          <h1\n            className={`${nameSizeClass || 'text-2xl'} font-display text-gray-800`}\n            style={{...nameStyle, background: 'none', WebkitTextFillColor: 'initial'}}\n          >\n            {displayName || 'User'}\n          </h1>\n        </div>\n      </div>\n\n      {/* Bio */}\n      {bio && (\n        <p\n          className={`${bioSizeClass || 'text-sm'} text-gray-800 dark:text-gray-200 mt-4 max-w-xs mx-auto`}\n          style={bioStyle}\n        >\n          \"{bio}\"\n        </p>\n      )}\n\n      {/* Badge Polaroids */}\n      {badges && badges.length > 0 && (\n        <div className=\"flex gap-3 justify-center mt-4 flex-wrap\">\n          {badges.slice(0, 3).map((badge, index) => (\n            <div\n              key={index}\n              className=\"inline-block bg-white shadow-lg p-2 pb-6 transform -rotate-2 hover:rotate-0 transition-transform\"\n            >\n              <div className=\"w-12 h-12 flex items-center justify-center text-2xl\">\n                {badge.icon || badge.emoji}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Stats */}\n      {stats && (\n        <div className=\"mt-4 text-xs font-semibold text-gray-700 dark:text-gray-300\">\n          {stats.besties && stats.checkIns && (\n            <span>{stats.besties} Besties  {stats.checkIns} Check-ins</span>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PolaroidLayout;\n","import React from 'react';\n\n// Split Screen Layout - Modern, balanced\nconst SplitScreenLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  photoBorder,\n  decorativeElements\n}) => {\n  const getPhotoShapeClass = () => {\n    const shapes = {\n      circle: 'rounded-full',\n      square: 'rounded-none',\n      rounded: 'rounded-2xl',\n      heart: 'rounded-full'\n    };\n    return shapes[photoShape] || 'rounded-2xl';\n  };\n\n  const getPhotoBorderClass = () => {\n    const borders = {\n      none: 'shadow-xl',\n      classic: 'border-4 border-white shadow-2xl',\n      metallic: 'border-4 border-gradient-to-r from-yellow-400 to-pink-500 shadow-2xl',\n      scalloped: 'border-4 border-white shadow-2xl'\n    };\n    return borders[photoBorder] || 'shadow-xl';\n  };\n\n  return (\n    <div className=\"relative w-full p-6\">\n      {/* Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 1,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Main Content - Split Layout */}\n      <div className=\"flex items-center gap-4 mb-4 z-10 relative\">\n        {/* Left: Photo */}\n        <div\n          className={`w-28 h-28 bg-gradient-primary flex items-center justify-center text-white text-4xl font-display overflow-hidden flex-shrink-0 ${getPhotoShapeClass()} ${getPhotoBorderClass()}`}\n        >\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n\n        {/* Right: Info */}\n        <div className=\"flex-1\">\n          <h1\n            className={`${nameSizeClass || 'text-2xl'} font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent leading-tight mb-1`}\n            style={nameStyle}\n          >\n            {displayName || 'User'}\n          </h1>\n          {bio && (\n            <p\n              className={`${bioSizeClass || 'text-sm'} text-gray-800 dark:text-gray-200 line-clamp-2`}\n              style={bioStyle}\n            >\n              \"{bio}\"\n            </p>\n          )}\n        </div>\n      </div>\n\n      {/* Bottom Section - Split */}\n      <div className=\"flex gap-4 items-center z-10 relative\">\n        {/* Left: Badges */}\n        {badges && badges.length > 0 && (\n          <div className=\"flex gap-2 flex-1\">\n            {badges.slice(0, 3).map((badge, index) => (\n              <div\n                key={index}\n                className=\"w-12 h-12 rounded-lg bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-md flex items-center justify-center text-2xl\"\n                title={badge.name}\n              >\n                {badge.icon || badge.emoji}\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Right: Stats */}\n        {stats && (\n          <div className=\"text-xs font-semibold text-gray-700 dark:text-gray-300 text-right\">\n            {stats.besties && <div> {stats.besties}</div>}\n            {stats.checkIns && <div> {stats.checkIns}</div>}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SplitScreenLayout;\n","import React from 'react';\n\n// Story/Full Bleed Layout - Instagram Story style, maximum impact\nconst StoryLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  decorativeElements\n}) => {\n  return (\n    <div className=\"relative w-full min-h-[400px] p-6 flex flex-col items-center justify-center text-center\">\n      {/* Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 1,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Large Photo */}\n      <div className=\"relative z-10 mb-6\">\n        <div className=\"w-40 h-40 bg-gradient-primary rounded-full flex items-center justify-center text-white text-6xl font-display overflow-hidden shadow-2xl ring-4 ring-white/50\">\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n      </div>\n\n      {/* Name - Overlaid */}\n      <h1\n        className={`${nameSizeClass || 'text-5xl'} font-display text-white drop-shadow-2xl mb-3 z-10 relative`}\n        style={{...nameStyle, textShadow: '0 2px 10px rgba(0,0,0,0.3)'}}\n      >\n        {displayName || 'User'}\n      </h1>\n\n      {/* Bio - Overlaid */}\n      {bio && (\n        <p\n          className={`${bioSizeClass || 'text-lg'} text-white drop-shadow-lg max-w-xs mx-auto mb-6 z-10 relative`}\n          style={{...bioStyle, textShadow: '0 1px 5px rgba(0,0,0,0.3)'}}\n        >\n          \"{bio}\"\n        </p>\n      )}\n\n      {/* Badges - Overlaid */}\n      {badges && badges.length > 0 && (\n        <div className=\"flex gap-3 justify-center mb-4 z-10 relative\">\n          {badges.slice(0, 3).map((badge, index) => (\n            <div\n              key={index}\n              className=\"w-14 h-14 rounded-full bg-white/90 backdrop-blur-sm shadow-xl flex items-center justify-center text-2xl\"\n              title={badge.name}\n            >\n              {badge.icon || badge.emoji}\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Stats - Minimal */}\n      {stats && (\n        <div className=\"text-sm font-semibold text-white/90 drop-shadow-lg z-10 relative\">\n          {stats.besties && stats.checkIns && (\n            <span>{stats.besties}  {stats.checkIns}  </span>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default StoryLayout;\n","import React from 'react';\n\n// Bento Grid Layout - Widget-style, modern and organized\nconst BentoLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  decorativeElements\n}) => {\n  const getPhotoShapeClass = () => {\n    const shapes = {\n      circle: 'rounded-full',\n      square: 'rounded-xl',\n      rounded: 'rounded-2xl',\n      heart: 'rounded-full'\n    };\n    return shapes[photoShape] || 'rounded-2xl';\n  };\n\n  return (\n    <div className=\"relative w-full p-4\">\n      {/* Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 1,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Bento Grid */}\n      <div className=\"grid grid-cols-4 gap-3 z-10 relative\">\n        {/* Photo + Name (2x2) */}\n        <div className=\"col-span-2 row-span-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-4 shadow-lg flex flex-col items-center justify-center text-center\">\n          <div\n            className={`w-20 h-20 bg-gradient-primary flex items-center justify-center text-white text-3xl font-display overflow-hidden mb-2 shadow-md ${getPhotoShapeClass()}`}\n          >\n            {profilePhoto ? (\n              <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n            ) : (\n              <span>{displayName?.[0] || 'U'}</span>\n            )}\n          </div>\n          <h1\n            className={`text-lg font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent leading-tight`}\n            style={nameStyle}\n          >\n            {displayName || 'User'}\n          </h1>\n        </div>\n\n        {/* Bio (2x1) */}\n        {bio && (\n          <div className=\"col-span-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-3 shadow-lg flex items-center\">\n            <p\n              className=\"text-xs text-gray-800 dark:text-gray-200 line-clamp-2\"\n              style={bioStyle}\n            >\n              \"{bio}\"\n            </p>\n          </div>\n        )}\n\n        {/* Badges (1x1 each) */}\n        {badges && badges.slice(0, 3).map((badge, index) => (\n          <div\n            key={index}\n            className=\"col-span-1 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-3 shadow-lg flex items-center justify-center text-2xl\"\n            title={badge.name}\n          >\n            {badge.icon || badge.emoji}\n          </div>\n        ))}\n\n        {/* Stats (2x1) */}\n        {stats && (\n          <div className=\"col-span-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-3 shadow-lg flex items-center justify-around text-xs font-semibold text-gray-700 dark:text-gray-300\">\n            {stats.besties && <div> {stats.besties}</div>}\n            {stats.checkIns && <div> {stats.checkIns}</div>}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default BentoLayout;\n","import React from 'react';\n\n// Minimal Layout - Clean, zen, sophisticated\nconst MinimalLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  decorativeElements\n}) => {\n  return (\n    <div className=\"relative w-full p-12 text-center\">\n      {/* Decorative Elements (minimal, sparse) */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.slice(0, 2).map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 20,\n                height: element.size || 20,\n                color: element.color || 'currentColor',\n                opacity: (element.opacity || 1) * 0.3,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Spacer */}\n      <div className=\"h-6\" />\n\n      {/* Small, elegant photo */}\n      <div className=\"relative inline-block z-10 mb-6\">\n        <div className=\"w-24 h-24 bg-gradient-primary rounded-full flex items-center justify-center text-white text-3xl font-display overflow-hidden shadow-lg\">\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n      </div>\n\n      {/* Name - Elegant */}\n      <h1\n        className={`${nameSizeClass || 'text-3xl'} font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-4`}\n        style={nameStyle}\n      >\n        {displayName || 'User'}\n      </h1>\n\n      {/* Thin divider */}\n      <div className=\"w-12 h-px bg-gradient-to-r from-transparent via-gray-400 to-transparent mx-auto mb-4\" />\n\n      {/* Bio - Minimal */}\n      {bio && (\n        <p\n          className={`${bioSizeClass || 'text-sm'} text-gray-600 dark:text-gray-400 max-w-xs mx-auto mb-6 leading-relaxed`}\n          style={bioStyle}\n        >\n          {bio}\n        </p>\n      )}\n\n      {/* Badges - Minimal icons only */}\n      {badges && badges.length > 0 && (\n        <div className=\"flex gap-4 justify-center mb-6\">\n          {badges.slice(0, 3).map((badge, index) => (\n            <div\n              key={index}\n              className=\"text-2xl opacity-70 hover:opacity-100 transition-opacity\"\n              title={badge.name}\n            >\n              {badge.icon || badge.emoji}\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Stats - Minimal */}\n      {stats && (\n        <div className=\"text-xs font-light text-gray-500 dark:text-gray-500 space-x-3\">\n          {stats.besties && <span>{stats.besties} besties</span>}\n          {stats.besties && stats.checkIns && <span></span>}\n          {stats.checkIns && <span>{stats.checkIns} check-ins</span>}\n        </div>\n      )}\n\n      {/* Spacer */}\n      <div className=\"h-6\" />\n    </div>\n  );\n};\n\nexport default MinimalLayout;\n","import React from 'react';\n\n// Scrapbook Layout - Playful, creative, journaling aesthetic\nconst ScrapbookLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  decorativeElements\n}) => {\n  return (\n    <div className=\"relative w-full p-6 text-center\">\n      {/* Scattered Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute animate-pulse\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 0.8,\n                transform: `translate(-50%, -50%) rotate(${index * 15}deg)`,\n                animationDuration: `${2 + index}s`,\n                animationDelay: `${index * 0.3}s`\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Additional decorative doodles */}\n      <div className=\"absolute inset-0 pointer-events-none overflow-hidden opacity-20\">\n        {/* Wavy line doodle */}\n        <svg className=\"absolute top-[20%] left-[10%] w-16 h-8\" viewBox=\"0 0 100 50\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n          <path d=\"M0,25 Q25,10 50,25 T100,25\" />\n        </svg>\n        {/* Circle doodle */}\n        <svg className=\"absolute bottom-[25%] right-[15%] w-12 h-12\" viewBox=\"0 0 50 50\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n          <circle cx=\"25\" cy=\"25\" r=\"20\" />\n        </svg>\n        {/* Star doodle */}\n        <svg className=\"absolute top-[70%] left-[20%] w-10 h-10\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n          <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n        </svg>\n      </div>\n\n      {/* Photo - Slightly rotated */}\n      <div className=\"relative inline-block z-10 mb-4 transform rotate-2\">\n        <div className=\"w-32 h-32 bg-gradient-primary rounded-2xl flex items-center justify-center text-white text-4xl font-display overflow-hidden shadow-xl border-4 border-white\">\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n        {/* Tape effect */}\n        <div className=\"absolute -top-2 left-1/2 transform -translate-x-1/2 w-16 h-6 bg-yellow-100 opacity-70 rounded-sm shadow-md\" style={{transform: 'translateX(-50%) rotate(-5deg)'}} />\n      </div>\n\n      {/* Name - Playful */}\n      <h1\n        className={`${nameSizeClass || 'text-3xl'} font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-2 relative z-10`}\n        style={nameStyle}\n      >\n        {displayName || 'User'}\n        <span className=\"absolute -right-4 -top-1 text-2xl\"></span>\n      </h1>\n\n      {/* Wavy underline */}\n      <svg className=\"w-32 h-2 mx-auto mb-3 relative z-10\" viewBox=\"0 0 100 10\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n        <path d=\"M0,5 Q25,0 50,5 T100,5\" />\n      </svg>\n\n      {/* Bio - Handwritten style */}\n      {bio && (\n        <p\n          className={`${bioSizeClass || 'text-base'} text-gray-800 dark:text-gray-200 max-w-xs mx-auto mb-4 relative z-10`}\n          style={bioStyle}\n        >\n          \"{bio}\"\n        </p>\n      )}\n\n      {/* Badges - Sticker style */}\n      {badges && badges.length > 0 && (\n        <div className=\"flex gap-3 justify-center mb-4 z-10 relative flex-wrap\">\n          {badges.slice(0, 3).map((badge, index) => (\n            <div\n              key={index}\n              className=\"transform hover:scale-110 transition-transform\"\n              style={{rotate: `${(index - 1) * 5}deg`}}\n            >\n              <div className=\"bg-white dark:bg-gray-800 rounded-full w-16 h-16 flex flex-col items-center justify-center shadow-lg border-2 border-gray-200 dark:border-gray-600\">\n                <span className=\"text-2xl\">{badge.icon || badge.emoji}</span>\n                <span className=\"text-[8px] font-bold text-gray-600 dark:text-gray-400 mt-1\">\n                  {badge.name?.split(' ')[0] || ''}\n                </span>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Stats - Casual */}\n      {stats && (\n        <div className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 z-10 relative\">\n          {stats.besties && <span>{stats.besties} </span>}\n          {stats.checkIns && <span>{stats.checkIns} </span>}\n          {stats.checkIns && <span>5</span>}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ScrapbookLayout;\n","// Export all layout components\nimport ClassicLayout from './ClassicLayout';\nimport MagazineLayout from './MagazineLayout';\nimport PolaroidLayout from './PolaroidLayout';\nimport SplitScreenLayout from './SplitScreenLayout';\nimport StoryLayout from './StoryLayout';\nimport BentoLayout from './BentoLayout';\nimport MinimalLayout from './MinimalLayout';\nimport ScrapbookLayout from './ScrapbookLayout';\n\nexport const LAYOUTS = {\n  classic: ClassicLayout,\n  magazine: MagazineLayout,\n  polaroid: PolaroidLayout,\n  split: SplitScreenLayout,\n  story: StoryLayout,\n  bento: BentoLayout,\n  minimal: MinimalLayout,\n  scrapbook: ScrapbookLayout\n};\n\nexport const LAYOUT_OPTIONS = [\n  {\n    id: 'classic',\n    name: 'Classic',\n    emoji: '',\n    description: 'Traditional, easy to read',\n    component: ClassicLayout,\n    preview: 'Center-aligned with prominent photo'\n  },\n  {\n    id: 'magazine',\n    name: 'Magazine',\n    emoji: '',\n    description: 'Editorial, sophisticated',\n    component: MagazineLayout,\n    preview: 'Magazine cover style layout'\n  },\n  {\n    id: 'polaroid',\n    name: 'Polaroid',\n    emoji: '',\n    description: 'Nostalgic, scrapbook vibes',\n    component: PolaroidLayout,\n    preview: 'Instant camera style cards'\n  },\n  {\n    id: 'split',\n    name: 'Split Screen',\n    emoji: '',\n    description: 'Modern, balanced',\n    component: SplitScreenLayout,\n    preview: 'Split layout with photo and info'\n  },\n  {\n    id: 'story',\n    name: 'Story',\n    emoji: '',\n    description: 'Instagram Story style',\n    component: StoryLayout,\n    preview: 'Full-bleed vertical format'\n  },\n  {\n    id: 'bento',\n    name: 'Bento Grid',\n    emoji: '',\n    description: 'Widget-style, organized',\n    component: BentoLayout,\n    preview: 'Modular grid system'\n  },\n  {\n    id: 'minimal',\n    name: 'Minimal',\n    emoji: '',\n    description: 'Clean, zen, sophisticated',\n    component: MinimalLayout,\n    preview: 'Maximum whitespace and elegance'\n  },\n  {\n    id: 'scrapbook',\n    name: 'Scrapbook',\n    emoji: '',\n    description: 'Playful, creative',\n    component: ScrapbookLayout,\n    preview: 'Journaling aesthetic with doodles'\n  }\n];\n\nexport const getLayoutById = (id) => {\n  return LAYOUTS[id] || LAYOUTS.classic;\n};\n\nexport const getLayoutOption = (id) => {\n  return LAYOUT_OPTIONS.find(option => option.id === id) || LAYOUT_OPTIONS[0];\n};\n\nexport {\n  ClassicLayout,\n  MagazineLayout,\n  PolaroidLayout,\n  SplitScreenLayout,\n  StoryLayout,\n  BentoLayout,\n  MinimalLayout,\n  ScrapbookLayout\n};\n"],"names":["TYPOGRAPHY_STYLES","id","name","emoji","description","nameFont","family","weight","style","googleFont","bioFont","nameSizeClass","bioSizeClass","transform","loadGoogleFonts","typography","_typography$nameFont","_typography$bioFont","fonts","Set","add","size","fontString","Array","from","join","linkId","existingLink","document","getElementById","remove","link","createElement","rel","href","concat","head","appendChild","getTypographyById","find","getNameStyle","fontFamily","fontWeight","fontStyle","textTransform","getBioStyle","_ref","trigger","type","useEffect","fireConfetti","count","defaults","origin","y","shapes","colors","fire","particleRatio","opts","confetti","_objectSpread","particleCount","Math","floor","spread","startVelocity","decay","scalar","setTimeout","angle","x","end","duration","suffix","prefix","className","value","parseInt","_jsxs","children","toLocaleString","onClose","circleCount","handleShare","platform","appUrl","window","location","message","encoded","encodeURIComponent","isMobile","test","navigator","userAgent","open","clipboard","writeText","then","toast","success","catch","error","textEncoded","urlEncoded","_jsx","onClick","e","stopPropagation","title","fill","viewBox","d","stroke","strokeLinecap","strokeLinejoin","strokeWidth","userId","onAddClick","navigate","useNavigate","allBesties","setAllBesties","useState","circleBesties","setCircleBesties","loading","setLoading","selectedSlot","setSelectedSlot","showReplaceModal","setShowReplaceModal","showShareModal","setShowShareModal","connectionStrengths","setConnectionStrengths","lastSeen","setLastSeen","loadingConnections","setLoadingConnections","overallHealth","setOverallHealth","loadConnectionData","async","strengths","lastSeenData","bestie","besties","strength","calculateConnectionStrength","lastInteraction","getLastInteraction","console","scores","Object","values","map","s","total","avgScore","length","reduce","a","b","healthWithPenalty","round","requesterQuery","recipientQuery","Promise","all","getDocs","query","collection","db","where","bestiesList","docSnap","docs","_userData$privacySett","data","userDoc","getDoc","doc","recipientId","userData","exists","checkInVisibility","privacySettings","hasActiveCheckIn","activeCheckInsQuery","empty","featuredCircle","includes","push","displayName","photoURL","requestAttention","_userData$privacySett2","requesterId","featuredIds","featured","filter","Boolean","needsAutoFill","remaining","slice","finalCircle","saveFeaturedCircle","loadBesties","newCircle","updateDoc","slots","_","i","slotColors","index","PI","cos","sin","connectionStrength","strengthScore","connectionColor","getConnectionColor","opacity","zIndex","x1","y1","x2","y2","offset","stopColor","stopOpacity","stdDeviation","result","in","strokeDasharray","_Fragment","cx","cy","r","animationDelay","animationDuration","status","_bestie$requestAttent","active","color","ringColor","glowColor","label","getStatusInfo","lastSeenTime","left","top","ProfileWithBubble","showBubble","getConnectionEmoji","level","formatTimeAgo","handleViewProfile","bestieId","handleRemoveFromCircle","replace","cb","newBestie","handleReplaceBestie","BestieCircleShareModal","_userData$profile","_userData$displayName","_currentUser$email","_userData$profile2","currentUser","useAuth","badges","setBadges","generatingImage","setGeneratingImage","generatedImageUrl","setGeneratedImageUrl","showShareChoice","setShowShareChoice","pendingPlatform","setPendingPlatform","cardRef","useRef","loadBadges","badgesDoc","uid","allBadges","featuredBadges","currentGradient","profile","backgroundGradient","shareUrl","shareText","generateShareImage","current","resolve","imageUrl","html2canvas","backgroundColor","scale","logging","useCORS","allowTaint","toDataURL","downloadImage","download","click","showShareChoicePopup","executePlatformShare","withCard","position","ref","background","width","src","alt","crossOrigin","email","bio","badge","icon","cardText","disabled","handleShareWithLink","ProfileCustomizer","lazy","GRADIENT_OPTIONS","gradient","AURA_OPTIONS","_userData$profile3","_userData$profile4","showPhotoMenu","setShowPhotoMenu","uploading","setUploading","showColorPicker","setShowColorPicker","showAuraPicker","setShowAuraPicker","showCustomizer","setShowCustomizer","fileInputRef","currentAura","aura","customization","layoutId","layout","backgroundId","typographyId","selectedBackground","BACKGROUNDS","flat","bg","backgroundStyle","patternClass","pattern","nameStyle","bioStyle","LayoutComponent","getLayoutById","photoShape","photoBorder","blob","url","URL","createObjectURL","body","removeChild","revokeObjectURL","layoutProps","profilePhoto","stats","totalBesties","checkIns","checkInCount","decorativeElements","option","handleColorChange","_userData$profile5","_userData$profile6","handleAuraChange","_fileInputRef$current","handleRemovePhoto","accept","onChange","file","target","files","storageRef","storage","Date","now","uploadBytes","downloadURL","getDownloadURL","profileCard","toBlob","share","canShare","File","text","err","Suspense","fallback","profileCompletion","animatedProgress","onTaskNavigation","percentage","completed","tasks","task","path","action","_userData$stats","weeklySummary","hasWeekOfActivity","bestiesCount","tip","totalCheckIns","loginStreak","CountUp","featuredBadgeIds","setFeaturedBadgeIds","setConfettiTrigger","showBadgeSelector","setShowBadgeSelector","otherBadges","allBadgesToShow","isSelected","newFeaturedBadges","badgeId","handleToggleFeaturedBadge","emergencyContactCount","daysActive","nighttimeCheckIns","weekendCheckIns","completedCheckIns","_userData$donationSta","donationStats","isActive","totalDonated","ProfileAuraStyles","ProfilePage","setBestiesCount","confettiTrigger","setEmergencyContactCount","firstCheckInDate","setFirstCheckInDate","setNighttimeCheckIns","setWeekendCheckIns","setAnimatedProgress","loadData","targetProgress","calculateProfileCompletion","badgesData","bestiesQuery","bestiesQuery2","snapshot1","snapshot2","emergencyContactQuery","emergencySnapshot","checkInsQuery","checkInsSnapshot","earliestDate","nightCount","weekendCount","forEach","_data$createdAt","date","createdAt","toDate","hour","getHours","day","getDay","section","phoneNumber","weekAgo","setDate","getDate","getWeeklySummary","_userData$stats2","Header","ConfettiCelebration","ProfileCard","ProfileCompletion","photoElement","querySelector","scrollIntoView","behavior","block","bestieCircleElement","WeeklySummary","LoginStreak","BadgesSection","StatsSection","getDaysActive","diffTime","abs","ceil","LivingCircle","DonationStatus","SocialShareCardsModal","ONE_DAY","alertResponse","storyEngagement","recency","alertResponseScore","storyEngagementScore","featuredCircleScore","recencyScore","calculateAlertResponseScore","calculateStoryEngagementScore","calculateFeaturedCircleScore","calculateRecencyScore","totalScore","min","breakdown","getConnectionLevel","responsesQuery","responsesSnap","responses","avgResponseTime","sum","responseTime","timeScore","bestieDoc","userCircle","bestieCircle","inUserCircle","inBestieCircle","interactionsQuery","orderBy","limit","interactionsSnap","reverseQuery","reverseSnap","reverseDate","toMillis","daysSince","score","calculateCircleHealth","insights","connectionPromises","connections","avgStrength","c","finalScore","generateCircleInsights","avgConnectionStrength","circleSize","growingConnections","staleConnections","every","snap","checkInQuery","checkInSnap","timestamp","ms","minutes","hours","days","BACKGROUND_CATEGORIES","plantMom","category","beauty","equestrian","coffee","wellness","bookworm","travel","mystical","fashion","creative","beach","cottagecore","cityGirl","cozy","whimsical","luxe","getCategoryName","element","height","dangerouslySetInnerHTML","__html","svg","circle","square","rounded","heart","none","classic","metallic","scalloped","dotted","WebkitTextFillColor","textShadow","_badge$name","rotate","split","LAYOUTS","ClassicLayout","magazine","MagazineLayout","polaroid","PolaroidLayout","SplitScreenLayout","story","StoryLayout","bento","BentoLayout","minimal","MinimalLayout","scrapbook","ScrapbookLayout","LAYOUT_OPTIONS","component","preview"],"sourceRoot":""}