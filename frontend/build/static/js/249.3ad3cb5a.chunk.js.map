{"version":3,"file":"static/js/249.3ad3cb5a.chunk.js","mappings":"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","sources":["components/InfoButton.jsx","components/settings/NotificationSettings.jsx","components/settings/PremiumSMSSection.jsx","components/settings/PrivacySettings.jsx","components/settings/SecurityPasscodes.jsx","components/settings/PreferencesAndQuickAccess.jsx","components/settings/LegalSection.jsx","pages/SettingsPage.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\nconst InfoButton = ({ message }) => {\n  const [showTooltip, setShowTooltip] = useState(false);\n  const [tooltipPosition, setTooltipPosition] = useState('left');\n  const buttonRef = useRef(null);\n  const tooltipRef = useRef(null);\n\n  // Close tooltip when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (tooltipRef.current && !tooltipRef.current.contains(event.target) &&\n          !buttonRef.current.contains(event.target)) {\n        setShowTooltip(false);\n      }\n    };\n\n    if (showTooltip) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [showTooltip]);\n\n  // Calculate optimal tooltip position to keep it on screen\n  useEffect(() => {\n    if (showTooltip && buttonRef.current) {\n      const buttonRect = buttonRef.current.getBoundingClientRect();\n      const viewportWidth = window.innerWidth;\n      const tooltipWidth = 200; // maxWidth from styling\n\n      // Check if tooltip would go off right edge\n      if (buttonRect.left + tooltipWidth > viewportWidth - 20) {\n        setTooltipPosition('right');\n      } else {\n        setTooltipPosition('left');\n      }\n    }\n  }, [showTooltip]);\n\n  const handleClick = (e) => {\n    e.stopPropagation();\n    setShowTooltip(!showTooltip);\n  };\n\n  return (\n    <div className=\"relative inline-block ml-2\">\n      <button\n        ref={buttonRef}\n        type=\"button\"\n        onClick={handleClick}\n        className=\"text-primary dark:text-purple-400 hover:text-pink-600 dark:hover:text-pink-400 transition-colors\"\n        title=\"Learn more\"\n      >\n        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n        </svg>\n      </button>\n\n      {/* Tooltip Bubble */}\n      {showTooltip && (\n        <div\n          ref={tooltipRef}\n          className={`absolute ${tooltipPosition === 'right' ? 'right-0' : 'left-0'} top-full mt-2 z-50 animate-scale-up`}\n          style={{ minWidth: '160px', maxWidth: '200px' }}\n        >\n          <div className=\"bg-white dark:bg-gray-800 bg-opacity-100 dark:bg-opacity-100 rounded-lg shadow-xl border-2 border-primary dark:border-purple-400 p-2.5\">\n            <div className=\"flex items-start gap-1.5\">\n              <span className=\"text-sm flex-shrink-0\">‚ÑπÔ∏è</span>\n              <div className=\"flex-1\">\n                <p className=\"text-xs text-gray-900 dark:text-gray-100 leading-snug font-medium\">{message}</p>\n                <button\n                  onClick={() => setShowTooltip(false)}\n                  className=\"mt-1.5 text-primary dark:text-purple-400 text-xs font-semibold underline hover:no-underline\"\n                >\n                  Got it!\n                </button>\n              </div>\n            </div>\n            {/* Arrow pointing up */}\n            <div className={`absolute bottom-full ${tooltipPosition === 'right' ? 'right-3' : 'left-3'} w-0 h-0 border-l-6 border-r-6 border-b-6 border-transparent border-b-primary dark:border-b-purple-400`}></div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default InfoButton;\n","import React from 'react';\nimport InfoButton from '../InfoButton';\n\nconst NotificationSettings = ({\n  userData,\n  toggleNotification,\n  togglePushNotifications,\n  pushNotificationsSupported,\n  pushNotificationsEnabled,\n  loading,\n  smsWeeklyCount,\n  handleSendTestAlert\n}) => {\n  return (\n    <div className=\"card p-6 mb-6\">\n      <h2 className=\"text-xl font-display text-text-primary mb-4\">Notifications</h2>\n\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between opacity-50\">\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"font-semibold text-text-primary flex items-center gap-2 flex-wrap\">\n              WhatsApp\n              <span className=\"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full whitespace-nowrap\">Coming Soon</span>\n              <InfoButton message=\"WhatsApp notifications will be sent when your besties check in or need help. This is the most reliable option for mobile alerts and will be completely free!\" />\n            </div>\n            <div className=\"text-sm text-text-secondary\">Integration in development</div>\n          </div>\n          <button\n            onClick={() => toggleNotification('whatsapp')}\n            className=\"w-12 h-6 rounded-full transition-colors bg-gray-300 dark:bg-gray-600 cursor-not-allowed flex-shrink-0 ml-3\"\n            disabled\n          >\n            <div className=\"w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform translate-x-1\" />\n          </button>\n        </div>\n\n        <div className=\"flex items-center justify-between opacity-50\">\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"font-semibold text-text-primary flex items-center gap-2 flex-wrap\">\n              Facebook Messenger\n              <span className=\"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full whitespace-nowrap\">Coming Soon</span>\n              <InfoButton message=\"Facebook Messenger notifications will keep you updated on your besties' safety. Perfect if you use Messenger regularly!\" />\n            </div>\n            <div className=\"text-sm text-text-secondary\">Integration in development</div>\n          </div>\n          <button\n            onClick={() => toggleNotification('facebook')}\n            className=\"w-12 h-6 rounded-full transition-colors bg-gray-300 dark:bg-gray-600 cursor-not-allowed flex-shrink-0 ml-3\"\n            disabled\n          >\n            <div className=\"w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform translate-x-1\" />\n          </button>\n        </div>\n\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <div className=\"font-semibold text-text-primary flex items-center\">\n              Email\n              <InfoButton message=\"Receive email alerts when your besties check in or trigger an emergency alert. Emails are sent instantly and work on all devices.\" />\n            </div>\n            <div className=\"text-sm text-text-secondary\">Get alerts via email</div>\n          </div>\n          <button\n            onClick={() => toggleNotification('email')}\n            className={`w-12 h-6 rounded-full transition-colors ${\n              userData?.notificationPreferences?.email\n                ? 'bg-primary'\n                : 'bg-gray-300 dark:bg-gray-600'\n            }`}\n          >\n            <div\n              className={`w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform ${\n                userData?.notificationPreferences?.email\n                  ? 'translate-x-6'\n                  : 'translate-x-1'\n              }`}\n            />\n          </button>\n        </div>\n\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex-1\">\n            <div className=\"font-semibold text-text-primary flex items-center\">\n              Push Notifications (Beta)\n              <InfoButton message=\"Browser push notifications only work when your browser is open. For reliable alerts, we recommend using Email or SMS. We're building a mobile app with better push notifications soon! üì±\" />\n            </div>\n            <div className=\"text-sm text-text-secondary\">\n              {pushNotificationsSupported\n                ? 'Browser notifications - limited reliability'\n                : 'Not supported in this browser'}\n            </div>\n          </div>\n          <button\n            onClick={togglePushNotifications}\n            disabled={!pushNotificationsSupported || loading}\n            className={`w-12 h-6 rounded-full transition-colors ${\n              !pushNotificationsSupported\n                ? 'bg-gray-200 dark:bg-gray-700 cursor-not-allowed'\n                : pushNotificationsEnabled\n                ? 'bg-primary'\n                : 'bg-gray-300 dark:bg-gray-600'\n            }`}\n          >\n            <div\n              className={`w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform ${\n                pushNotificationsEnabled\n                  ? 'translate-x-6'\n                  : 'translate-x-1'\n              }`}\n            />\n          </button>\n        </div>\n\n        {pushNotificationsSupported && !pushNotificationsEnabled && (\n          <div className=\"text-xs text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/30 p-2 rounded-lg\">\n            üí° Tip: Email, WhatsApp, and Facebook are more reliable for critical safety alerts\n          </div>\n        )}\n\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-2 flex-wrap\">\n              <div className=\"font-semibold text-text-primary flex items-center\">\n                SMS Alerts\n                <InfoButton message=\"Text message alerts are currently free during beta (up to 5 per week). Once WhatsApp and Facebook integrations launch, SMS will become a premium feature at $1/month for 20 alerts. Use Email for unlimited free alerts!\" />\n              </div>\n              <span className=\"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 px-2 py-1 rounded-full font-semibold\">\n                Free - Limited Time\n              </span>\n            </div>\n            <div className=\"text-sm text-text-secondary\">\n              {userData?.notificationPreferences?.sms\n                ? `Active - ${smsWeeklyCount}/5 alerts used this week`\n                : 'Not enabled'}\n            </div>\n          </div>\n          <button\n            onClick={() => toggleNotification('sms')}\n            className={`w-12 h-6 rounded-full transition-colors ${\n              userData?.notificationPreferences?.sms\n                ? 'bg-primary'\n                : 'bg-gray-300 dark:bg-gray-600'\n            }`}\n          >\n            <div\n              className={`w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform ${\n                userData?.notificationPreferences?.sms\n                  ? 'translate-x-6'\n                  : 'translate-x-1'\n              }`}\n            />\n          </button>\n        </div>\n\n        {userData?.notificationPreferences?.sms && smsWeeklyCount >= 4 && (\n          <div className=\"text-xs text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/30 p-2 rounded-lg\">\n            ‚ö†Ô∏è You're approaching the weekly limit of 5 SMS alerts. Consider using email or WhatsApp for unlimited free alerts.\n          </div>\n        )}\n      </div>\n\n      {/* Test Alert Button */}\n      <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600\">\n        <button\n          onClick={handleSendTestAlert}\n          disabled={loading}\n          className=\"w-full btn btn-primary\"\n        >\n          {loading ? 'Sending Test Alert...' : 'üß™ Send Test Alert'}\n        </button>\n        <p className=\"text-xs text-text-secondary mt-2 text-center\">\n          Test your notification setup - sends to all enabled channels\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default NotificationSettings;\n","import React from 'react';\nimport toast from 'react-hot-toast';\nimport apiService from '../../services/api';\n\nconst PremiumSMSSection = ({ userData, handleSMSSubscription, loading, setLoading, navigate }) => {\n  return (\n    <>\n      {!userData?.smsSubscription?.active ? (\n        <div className=\"card p-6 mb-6 bg-gradient-secondary dark:from-purple-900/30 dark:to-pink-900/30\">\n          <h2 className=\"text-xl font-display text-text-primary mb-2\">Premium SMS Alerts</h2>\n          <p className=\"text-text-secondary mb-4\">\n            Get up to 20 SMS alerts per month for just $1/month\n          </p>\n          <ul className=\"text-sm text-text-secondary mb-4 space-y-1\">\n            <li>‚úì 20 SMS alerts per month</li>\n            <li>‚úì Priority delivery</li>\n            <li>‚úì No weekly limits</li>\n          </ul>\n          <div className=\"flex gap-3\">\n            <button\n              onClick={handleSMSSubscription}\n              disabled={loading}\n              className=\"btn btn-primary flex-1\"\n            >\n              Subscribe for $1/month\n            </button>\n            <button\n              onClick={() => navigate('/about')}\n              className=\"btn btn-secondary\"\n            >\n              Learn More\n            </button>\n          </div>\n        </div>\n      ) : (\n        <div className=\"card p-6 mb-6 bg-green-50 dark:bg-green-900/30 border-2 border-green-300 dark:border-green-600\">\n          <h2 className=\"text-xl font-display text-text-primary mb-2\">‚úÖ Premium SMS Active</h2>\n          <p className=\"text-text-secondary mb-4\">\n            You're subscribed to premium SMS alerts - up to 20 SMS per month\n          </p>\n          <button\n            onClick={async () => {\n              setLoading(true);\n              try {\n                const result = await apiService.createPortalSession();\n                if (result.data && result.data.url) {\n                  window.location.href = result.data.url;\n                } else {\n                  toast.error('Failed to open subscription portal');\n                }\n              } catch (error) {\n                console.error('Portal session error:', error);\n                toast.error('Failed to open subscription portal');\n              } finally {\n                setLoading(false);\n              }\n            }}\n            disabled={loading}\n            className=\"btn btn-secondary\"\n          >\n            {loading ? 'Loading...' : 'Manage Subscription'}\n          </button>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default PremiumSMSSection;\n","import React from 'react';\nimport { doc, updateDoc } from 'firebase/firestore';\nimport { db } from '../../services/firebase';\nimport toast from 'react-hot-toast';\nimport InfoButton from '../InfoButton';\n\nconst PrivacySettings = ({ userData, currentUser }) => {\n  return (\n    <div className=\"card p-6 mb-6\">\n      <h2 className=\"text-xl font-display text-text-primary mb-2\">Privacy</h2>\n      <p className=\"text-sm text-text-secondary mb-4\">Control what your besties can see on your profile</p>\n\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <div className=\"font-semibold text-text-primary flex items-center\">\n              Show Stats to Besties\n              <InfoButton message=\"Control whether your besties can see your check-in stats and safety record on your profile. This includes streaks, badges, and check-in history.\" />\n            </div>\n            <div className=\"text-sm text-text-secondary\">\n              {userData?.privacySettings?.showStatsToBesties !== false\n                ? 'Besties can see your stats'\n                : 'Stats are private'}\n            </div>\n          </div>\n          <button\n            onClick={async () => {\n              try {\n                const newValue = !(userData?.privacySettings?.showStatsToBesties !== false);\n                await updateDoc(doc(db, 'users', currentUser.uid), {\n                  'privacySettings.showStatsToBesties': newValue,\n                });\n                toast.success(newValue ? 'Stats now visible to besties' : 'Stats are now private');\n              } catch (error) {\n                console.error('Error updating privacy:', error);\n                toast.error('Failed to update privacy setting');\n              }\n            }}\n            className={`w-12 h-6 rounded-full transition-colors ${\n              userData?.privacySettings?.showStatsToBesties !== false\n                ? 'bg-primary'\n                : 'bg-gray-300 dark:bg-gray-600'\n            }`}\n          >\n            <div\n              className={`w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform ${\n                userData?.privacySettings?.showStatsToBesties !== false\n                  ? 'translate-x-6'\n                  : 'translate-x-1'\n              }`}\n            />\n          </button>\n        </div>\n\n        <div className=\"space-y-3\">\n          <div>\n            <div className=\"font-semibold text-text-primary mb-2 flex items-center\">\n              Check-in Visibility\n              <InfoButton message=\"Choose who can see your check-ins in their activity feed. This helps you control your privacy while still letting your closest besties know you're safe.\" />\n            </div>\n            <div className=\"text-sm text-text-secondary mb-3\">\n              Control who can see your check-ins (last 7 days)\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            {/* Option 1: All Besties */}\n            <label className=\"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700\"\n              style={{\n                borderColor: (userData?.privacySettings?.checkInVisibility || 'all_besties') === 'all_besties' ? '#FF6B9D' : '#e5e7eb'\n              }}>\n              <input\n                type=\"radio\"\n                name=\"checkInVisibility\"\n                value=\"all_besties\"\n                checked={(userData?.privacySettings?.checkInVisibility || 'all_besties') === 'all_besties'}\n                onChange={async (e) => {\n                  try {\n                    await updateDoc(doc(db, 'users', currentUser.uid), {\n                      'privacySettings.checkInVisibility': 'all_besties',\n                    });\n                    toast.success('All besties can now see your check-ins');\n                  } catch (error) {\n                    console.error('Error updating privacy:', error);\n                    toast.error('Failed to update privacy setting');\n                  }\n                }}\n                className=\"mt-1\"\n              />\n              <div className=\"flex-1\">\n                <div className=\"font-semibold text-text-primary\">All Besties</div>\n                <div className=\"text-sm text-text-secondary\">\n                  All your besties can see your check-ins.\n                </div>\n              </div>\n            </label>\n\n            {/* Option 2: Circle Only */}\n            <label className=\"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700\"\n              style={{\n                borderColor: (userData?.privacySettings?.checkInVisibility || 'all_besties') === 'circle' ? '#FF6B9D' : '#e5e7eb'\n              }}>\n              <input\n                type=\"radio\"\n                name=\"checkInVisibility\"\n                value=\"circle\"\n                checked={(userData?.privacySettings?.checkInVisibility || 'all_besties') === 'circle'}\n                onChange={async (e) => {\n                  try {\n                    await updateDoc(doc(db, 'users', currentUser.uid), {\n                      'privacySettings.checkInVisibility': 'circle',\n                    });\n                    toast.success('Only circle besties can see your check-ins');\n                  } catch (error) {\n                    console.error('Error updating privacy:', error);\n                    toast.error('Failed to update privacy setting');\n                  }\n                }}\n                className=\"mt-1\"\n              />\n              <div className=\"flex-1\">\n                <div className=\"font-semibold text-text-primary\">Bestie Circle Only</div>\n                <div className=\"text-sm text-text-secondary\">\n                  Only your top 5 circle besties can see your check-ins.\n                </div>\n              </div>\n            </label>\n\n            {/* Option 3: Alerts Only */}\n            <label className=\"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700\"\n              style={{\n                borderColor: (userData?.privacySettings?.checkInVisibility || 'all_besties') === 'alerts_only' ? '#FF6B9D' : '#e5e7eb'\n              }}>\n              <input\n                type=\"radio\"\n                name=\"checkInVisibility\"\n                value=\"alerts_only\"\n                checked={(userData?.privacySettings?.checkInVisibility || 'all_besties') === 'alerts_only'}\n                onChange={async (e) => {\n                  try {\n                    await updateDoc(doc(db, 'users', currentUser.uid), {\n                      'privacySettings.checkInVisibility': 'alerts_only',\n                    });\n                    toast.success('Check-ins only visible when alerts trigger');\n                  } catch (error) {\n                    console.error('Error updating privacy:', error);\n                    toast.error('Failed to update privacy setting');\n                  }\n                }}\n                className=\"mt-1\"\n              />\n              <div className=\"flex-1\">\n                <div className=\"font-semibold text-text-primary\">Alerts Only (Most Private)</div>\n                <div className=\"text-sm text-text-secondary\">\n                  Check-ins are hidden until an alert goes off.\n                </div>\n              </div>\n            </label>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PrivacySettings;\n","import React from 'react';\nimport InfoButton from '../InfoButton';\n\nconst SecurityPasscodes = ({\n  userData,\n  showPasscodeInfo,\n  setShowPasscodeInfo,\n  setPasscodeType,\n  setShowPasscodeModal,\n  handleRemovePasscode,\n  loading\n}) => {\n  return (\n    <div className=\"card p-6 mb-6\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <h2 className=\"text-xl font-display text-text-primary\">Security Passcodes</h2>\n        <button\n          onClick={() => setShowPasscodeInfo(!showPasscodeInfo)}\n          className=\"text-primary text-sm font-semibold hover:underline\"\n        >\n          {showPasscodeInfo ? 'Hide Info' : 'Learn More'}\n        </button>\n      </div>\n      <p className=\"text-sm text-text-secondary mb-4\">\n        Protect your check-ins with passcodes\n      </p>\n\n      {showPasscodeInfo && (\n        <div className=\"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg p-4 mb-4\">\n          <h3 className=\"font-semibold text-blue-900 dark:text-blue-300 mb-2\">How Passcodes Work:</h3>\n          <ul className=\"text-sm text-blue-800 dark:text-blue-300 space-y-2 list-disc ml-4\">\n            <li><strong>Safety Passcode:</strong> Required to end check-ins or cancel SOS alerts. This ensures only you can mark yourself safe.</li>\n            <li><strong>Duress Code:</strong> A special code that <em>appears</em> to cancel the alert, but secretly triggers an emergency alert to all besties in your circle. Use this if you're in danger and being forced to cancel.</li>\n            <li>Both codes must be different and at least 4 digits.</li>\n            <li>Your codes are encrypted and stored securely.</li>\n          </ul>\n        </div>\n      )}\n\n      <div className=\"space-y-4\">\n        {/* Safety Passcode */}\n        <div className=\"border-2 border-gray-200 dark:border-gray-600 rounded-lg p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"font-semibold text-text-primary flex items-center\">\n                üîí Safety<br />Passcode\n                <InfoButton message=\"Required to cancel check-ins or SOS alerts. This ensures only you can mark yourself safe, protecting you from coercion.\" />\n              </div>\n              {userData?.security?.safetyPasscode && (\n                <div className=\"text-green-600 text-xl\">‚úì</div>\n              )}\n            </div>\n            {userData?.security?.safetyPasscode ? (\n              <button\n                onClick={() => {\n                  setPasscodeType('safety');\n                  setShowPasscodeModal(true);\n                }}\n                className=\"text-primary text-sm font-semibold hover:underline\"\n              >\n                Edit\n              </button>\n            ) : (\n              <button\n                onClick={() => {\n                  setPasscodeType('safety');\n                  setShowPasscodeModal(true);\n                }}\n                className=\"btn btn-primary btn-sm px-6\"\n              >\n                Set\n              </button>\n            )}\n          </div>\n          <div className=\"text-sm text-text-secondary mb-1\">\n            {userData?.security?.safetyPasscode ? 'Passcode is set' : 'Not set'}\n          </div>\n          {userData?.security?.safetyPasscode && (\n            <button\n              onClick={() => handleRemovePasscode('safety')}\n              disabled={loading}\n              className=\"text-red-600 text-sm font-semibold hover:underline mt-2\"\n            >\n              Remove Passcode\n            </button>\n          )}\n        </div>\n\n        {/* Duress Code */}\n        <div className=\"border-2 border-red-200 dark:border-red-600 rounded-lg p-4 bg-red-50/50 dark:bg-red-900/10\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"font-semibold text-text-primary flex items-center\">\n                üö® Duress<br />Code\n                <InfoButton message=\"A special code that appears to cancel alerts but secretly sends an emergency signal to all besties. Use if you're in danger and being forced to cancel.\" />\n              </div>\n              {userData?.security?.duressCode && (\n                <div className=\"text-green-600 text-xl\">‚úì</div>\n              )}\n            </div>\n            {userData?.security?.duressCode ? (\n              <button\n                onClick={() => {\n                  setPasscodeType('duress');\n                  setShowPasscodeModal(true);\n                }}\n                className=\"text-primary text-sm font-semibold hover:underline\"\n              >\n                Edit\n              </button>\n            ) : (\n              <button\n                onClick={() => {\n                  setPasscodeType('duress');\n                  setShowPasscodeModal(true);\n                }}\n                className=\"btn btn-primary btn-sm px-6\"\n              >\n                Set\n              </button>\n            )}\n          </div>\n          <div className=\"text-sm text-text-secondary mb-1\">\n            {userData?.security?.duressCode ? 'Duress code is set' : 'Not set'}\n          </div>\n          {userData?.security?.duressCode && (\n            <button\n              onClick={() => handleRemovePasscode('duress')}\n              disabled={loading}\n              className=\"text-red-600 text-sm font-semibold hover:underline mt-2\"\n            >\n              Remove Code\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SecurityPasscodes;\n","import React from 'react';\nimport InfoButton from '../InfoButton';\n\nconst PreferencesAndQuickAccess = ({ isDark, toggleDarkMode, toggleHoldData, userData, navigate }) => {\n  return (\n    <>\n      {/* Preferences */}\n      <div className=\"card p-6 mb-6\">\n        <h2 className=\"text-xl font-display text-text-primary mb-4\">Preferences</h2>\n\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <div className=\"font-semibold text-text-primary flex items-center\">\n                Dark Mode\n                <InfoButton message=\"Toggle between light and dark color themes. Dark mode is easier on your eyes at night and can save battery on OLED screens.\" />\n              </div>\n              <div className=\"text-sm text-text-secondary\">\n                {isDark ? 'Dark mode enabled' : 'Light mode enabled'}\n              </div>\n            </div>\n            <button\n              onClick={toggleDarkMode}\n              className={`w-12 h-6 rounded-full transition-colors ${\n                isDark ? 'bg-primary' : 'bg-gray-300 dark:bg-gray-600'\n              }`}\n            >\n              <div\n                className={`w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform ${\n                  isDark ? 'translate-x-6' : 'translate-x-1'\n                }`}\n              />\n            </button>\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <div className=\"font-semibold text-text-primary flex items-center\">\n                Data Retention\n                <InfoButton message=\"Choose whether to keep your check-in history indefinitely or auto-delete after 24 hours. Keeping history lets you track patterns, while auto-delete maximizes privacy.\" />\n              </div>\n              <div className=\"text-sm text-text-secondary\">\n                {userData?.settings?.holdData\n                  ? 'Keeping all check-in history'\n                  : 'Auto-delete after 24h (default)'}\n              </div>\n            </div>\n            <button\n              onClick={toggleHoldData}\n              className={`w-12 h-6 rounded-full transition-colors ${\n                userData?.settings?.holdData\n                  ? 'bg-primary'\n                  : 'bg-gray-300 dark:bg-gray-600'\n              }`}\n            >\n              <div\n                className={`w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform ${\n                  userData?.settings?.holdData ? 'translate-x-6' : 'translate-x-1'\n                }`}\n              />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Quick Access */}\n      <div className=\"card p-6 mb-6\">\n        <h2 className=\"text-xl font-display text-text-primary mb-4\">Quick Access</h2>\n        <div className=\"grid grid-cols-2 gap-3\">\n          <button\n            onClick={() => navigate('/history')}\n            className=\"btn btn-secondary text-left px-4 py-3\"\n          >\n            <div className=\"text-sm\">üìä History</div>\n          </button>\n          <button\n            onClick={() => navigate('/export-data')}\n            className=\"btn btn-secondary text-left px-4 py-3\"\n          >\n            <div className=\"text-sm\">üì• Export Data</div>\n          </button>\n          {userData?.isAdmin && (\n            <>\n              <button\n                onClick={() => navigate('/dev-analytics')}\n                className=\"btn btn-secondary text-left px-4 py-3\"\n              >\n                <div className=\"text-sm\">üìà Analytics</div>\n              </button>\n              <button\n                onClick={() => navigate('/monitoring')}\n                className=\"btn bg-gradient-primary text-white text-left px-4 py-3\"\n              >\n                <div className=\"text-sm\">üîç Monitoring</div>\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PreferencesAndQuickAccess;\n","import React from 'react';\n\nconst LegalSection = ({ navigate }) => {\n  return (\n    <div className=\"card p-6 mb-6\">\n      <h2 className=\"text-xl font-display text-text-primary mb-4\">Legal & Privacy</h2>\n\n      <div className=\"space-y-3\">\n        <a\n          href=\"/privacy\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n        >\n          <div className=\"flex items-center gap-3\">\n            <span className=\"text-2xl\">üîí</span>\n            <div>\n              <div className=\"font-semibold text-text-primary\">Privacy Policy</div>\n              <div className=\"text-xs text-text-secondary\">How we protect your data</div>\n            </div>\n          </div>\n          <span className=\"text-gray-400 dark:text-gray-500\">‚Üí</span>\n        </a>\n\n        <a\n          href=\"/terms\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n        >\n          <div className=\"flex items-center gap-3\">\n            <span className=\"text-2xl\">üìú</span>\n            <div>\n              <div className=\"font-semibold text-text-primary\">Terms of Service</div>\n              <div className=\"text-xs text-text-secondary\">Terms and conditions</div>\n            </div>\n          </div>\n          <span className=\"text-gray-400 dark:text-gray-500\">‚Üí</span>\n        </a>\n\n        <a\n          href=\"/about\"\n          className=\"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n        >\n          <div className=\"flex items-center gap-3\">\n            <span className=\"text-2xl\">üíï</span>\n            <div>\n              <div className=\"font-semibold text-text-primary\">About Besties</div>\n              <div className=\"text-xs text-text-secondary\">Our story and mission</div>\n            </div>\n          </div>\n          <span className=\"text-gray-400 dark:text-gray-500\">‚Üí</span>\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default LegalSection;\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useDarkMode } from '../contexts/DarkModeContext';\nimport { db, authService } from '../services/firebase';\nimport { doc, updateDoc, getDoc } from 'firebase/firestore';\nimport toast from 'react-hot-toast';\nimport apiService from '../services/api';\nimport notificationService from '../services/notifications';\nimport NotificationSettings from '../components/settings/NotificationSettings';\nimport PremiumSMSSection from '../components/settings/PremiumSMSSection';\nimport PrivacySettings from '../components/settings/PrivacySettings';\nimport SecurityPasscodes from '../components/settings/SecurityPasscodes';\nimport PreferencesAndQuickAccess from '../components/settings/PreferencesAndQuickAccess';\nimport LegalSection from '../components/settings/LegalSection';\n\nconst SettingsPage = () => {\n  const { currentUser, userData } = useAuth();\n  const { isDark, toggle: toggleDarkMode } = useDarkMode();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [pushNotificationsEnabled, setPushNotificationsEnabled] = useState(false);\n  const [pushNotificationsSupported, setPushNotificationsSupported] = useState(true);\n\n  // SMS popup state\n  const [showSMSPopup, setShowSMSPopup] = useState(false);\n  const [smsWeeklyCount, setSmsWeeklyCount] = useState(0);\n\n  // Passcode states\n  const [showPasscodeModal, setShowPasscodeModal] = useState(false);\n  const [passcodeType, setPasscodeType] = useState(null); // 'safety' or 'duress'\n  const [passcode, setPasscode] = useState('');\n  const [confirmPasscode, setConfirmPasscode] = useState('');\n  const [showPasscodeInfo, setShowPasscodeInfo] = useState(false);\n\n  // Check if push notifications are supported and enabled\n  useEffect(() => {\n    const isSupported = notificationService.isSupported();\n    setPushNotificationsSupported(isSupported);\n\n    if (isSupported) {\n      setPushNotificationsEnabled(userData?.notificationsEnabled || false);\n    }\n  }, [userData]);\n\n  // Auto-scroll to section based on hash (like EditProfilePage)\n  useEffect(() => {\n    const hash = window.location.hash.slice(1); // Remove #\n    if (hash) {\n      // Wait for content to render\n      setTimeout(() => {\n        const element = document.getElementById(hash);\n        if (element) {\n          element.scrollIntoView({ behavior: 'smooth', block: 'start' });\n          // Optional: highlight the section briefly\n          element.style.transition = 'background-color 0.3s';\n          element.style.backgroundColor = 'rgba(168, 85, 247, 0.1)';\n          setTimeout(() => {\n            element.style.backgroundColor = '';\n          }, 2000);\n\n          // Mark profile completion tasks as reviewed\n          if (currentUser && hash === 'notifications') {\n            updateDoc(doc(db, 'users', currentUser.uid), {\n              'profileCompletion.reviewedNotifications': true,\n            }).catch(err => console.error('Error updating profile completion:', err));\n          } else if (currentUser && hash === 'privacy') {\n            updateDoc(doc(db, 'users', currentUser.uid), {\n              'profileCompletion.reviewedPrivacy': true,\n            }).catch(err => console.error('Error updating profile completion:', err));\n          } else if (currentUser && hash === 'security') {\n            updateDoc(doc(db, 'users', currentUser.uid), {\n              'profileCompletion.reviewedPasscode': true,\n            }).catch(err => console.error('Error updating profile completion:', err));\n          }\n        }\n      }, 100);\n    }\n  }, [currentUser]);\n\n  // Load SMS weekly count\n  useEffect(() => {\n    const loadSmsCount = async () => {\n      if (!currentUser) return;\n\n      try {\n        const userDoc = await getDoc(doc(db, 'users', currentUser.uid));\n        if (userDoc.exists()) {\n          const data = userDoc.data();\n          setSmsWeeklyCount(data.smsWeeklyCount || 0);\n        }\n      } catch (error) {\n        console.error('Error loading SMS count:', error);\n      }\n    };\n\n    loadSmsCount();\n  }, [currentUser]);\n\n  const toggleNotification = async (type) => {\n    if (!currentUser) return;\n\n    // Special handling for SMS\n    if (type === 'sms') {\n      const currentValue = userData?.notificationPreferences?.sms || false;\n\n      // If enabling for the first time\n      if (!currentValue && !userData?.hasSeenSMSPopup) {\n        setShowSMSPopup(true);\n        return;\n      }\n\n      // Check weekly limit\n      if (!currentValue && smsWeeklyCount >= 5) {\n        toast.error('You\\'ve reached the weekly limit of 5 SMS alerts. Limit resets every Monday.', { duration: 6000 });\n        return;\n      }\n    }\n\n    try {\n      const newValue = !userData?.notificationPreferences?.[type];\n\n      // Validate WhatsApp requires phone number\n      if (type === 'whatsapp' && newValue) {\n        toast.error('WhatsApp integration coming soon! üöÄ', { duration: 4000 });\n        return;\n      }\n\n      // Validate Facebook\n      if (type === 'facebook' && newValue) {\n        toast.error('Facebook integration coming soon! üöÄ', { duration: 4000 });\n        return;\n      }\n\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        [`notificationPreferences.${type}`]: newValue,\n      });\n      toast.success(`${type} notifications ${newValue ? 'enabled' : 'disabled'}`);\n    } catch (error) {\n      console.error('Error updating notification:', error);\n      toast.error('Failed to update notification setting');\n    }\n  };\n\n  const handleSMSPopupAccept = async () => {\n    if (!currentUser) return;\n\n    try {\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        'notificationPreferences.sms': true,\n        hasSeenSMSPopup: true,\n      });\n      setShowSMSPopup(false);\n      toast.success('SMS notifications enabled!');\n    } catch (error) {\n      console.error('Error enabling SMS:', error);\n      toast.error('Failed to enable SMS');\n    }\n  };\n\n  const toggleHoldData = async () => {\n    if (!currentUser) return;\n\n    try {\n      const newValue = !userData?.settings?.holdData;\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        'settings.holdData': newValue,\n      });\n      toast.success(newValue ? 'Data will be kept indefinitely' : 'Data will be deleted after 24h');\n    } catch (error) {\n      console.error('Error updating data retention:', error);\n      toast.error('Failed to update setting');\n    }\n  };\n\n  const handleSavePasscode = async () => {\n    if (!passcode) {\n      toast.error('Please enter a passcode');\n      return;\n    }\n\n    if (passcode.length < 4) {\n      toast.error('Passcode must be at least 4 digits');\n      return;\n    }\n\n    if (passcode !== confirmPasscode) {\n      toast.error('Passcodes do not match');\n      return;\n    }\n\n    // Check that safety and duress codes are different\n    if (passcodeType === 'duress') {\n      if (passcode === userData?.security?.safetyPasscode) {\n        toast.error('Duress code must be different from safety passcode');\n        return;\n      }\n    } else if (passcodeType === 'safety') {\n      if (passcode === userData?.security?.duressCode) {\n        toast.error('Safety passcode must be different from duress code');\n        return;\n      }\n    }\n\n    setLoading(true);\n    try {\n      const fieldName = passcodeType === 'safety' ? 'safetyPasscode' : 'duressCode';\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        [`security.${fieldName}`]: passcode,\n      });\n\n      toast.success(`${passcodeType === 'safety' ? 'Safety passcode' : 'Duress code'} updated!`);\n      setShowPasscodeModal(false);\n      setPasscode('');\n      setConfirmPasscode('');\n      setPasscodeType(null);\n    } catch (error) {\n      console.error('Error saving passcode:', error);\n      toast.error('Failed to save passcode');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRemovePasscode = async (type) => {\n    if (!currentUser) return;\n\n    setLoading(true);\n    try {\n      const fieldName = type === 'safety' ? 'safetyPasscode' : 'duressCode';\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        [`security.${fieldName}`]: null,\n      });\n\n      toast.success(`${type === 'safety' ? 'Safety passcode' : 'Duress code'} removed`);\n    } catch (error) {\n      console.error('Error removing passcode:', error);\n      toast.error('Failed to remove passcode');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSMSSubscription = async () => {\n    setLoading(true);\n    try {\n      const result = await apiService.createCheckoutSession({ amount: 1, type: 'subscription' });\n\n      if (result.data && result.data.url) {\n        window.location.href = result.data.url;\n      } else {\n        toast.error('Failed to start subscription');\n      }\n    } catch (error) {\n      console.error('Subscription error:', error);\n      toast.error('Failed to start subscription');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // eslint-disable-next-line no-unused-vars\n  const handleDonation = async (amount) => {\n    setLoading(true);\n    try {\n      const result = await apiService.createCheckoutSession({ amount, type: 'donation' });\n\n      if (result.data && result.data.url) {\n        window.location.href = result.data.url;\n      } else {\n        toast.error('Failed to start donation');\n      }\n    } catch (error) {\n      console.error('Donation error:', error);\n      toast.error('Failed to start donation');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const togglePushNotifications = async () => {\n    if (!pushNotificationsSupported) {\n      toast.error('Push notifications are not supported in your browser');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      if (pushNotificationsEnabled) {\n        // Disable notifications\n        const success = await notificationService.disableNotifications();\n        if (success) {\n          setPushNotificationsEnabled(false);\n        }\n      } else {\n        // Enable notifications - this will request permission\n        const success = await notificationService.enableNotifications();\n        if (success) {\n          setPushNotificationsEnabled(true);\n        }\n      }\n    } catch (error) {\n      console.error('Push notification error:', error);\n      toast.error('Failed to update push notifications');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSendTestAlert = async () => {\n    setLoading(true);\n    try {\n      const result = await apiService.sendTestAlert();\n\n      if (result.data && result.data.success) {\n        const channels = result.data.channels;\n        const testedChannels = [];\n        if (channels.email) testedChannels.push('Email');\n        if (channels.push) testedChannels.push('Push');\n\n        if (testedChannels.length > 0) {\n          toast.success(`Test alert sent to: ${testedChannels.join(', ')}. WhatsApp/SMS/Facebook not tested to save costs, but use same system.`, { duration: 6000 });\n        } else {\n          toast.error('No notification channels enabled. Enable email to test alerts.', { duration: 5000 });\n        }\n      } else {\n        toast.error('Failed to send test alert');\n      }\n    } catch (error) {\n      console.error('Test alert error:', error);\n      toast.error('Failed to send test alert');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSignOut = async () => {\n    const result = await authService.signOut();\n    if (result.success) {\n      toast.success('Signed out successfully');\n      navigate('/login');\n    } else {\n      toast.error('Sign out failed');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-pattern\">\n\n      <div className=\"max-w-4xl mx-auto p-4 pb-24 md:pb-6\">\n        <div className=\"mb-6\">\n          <h1 className=\"text-3xl font-display text-text-primary mb-2\">Settings</h1>\n          <p className=\"text-text-secondary\">Manage your account and preferences</p>\n        </div>\n        {/* Notification Preferences */}\n        <div id=\"notifications\">\n          <NotificationSettings\n            userData={userData}\n            toggleNotification={toggleNotification}\n            togglePushNotifications={togglePushNotifications}\n            pushNotificationsSupported={pushNotificationsSupported}\n            pushNotificationsEnabled={pushNotificationsEnabled}\n            loading={loading}\n            smsWeeklyCount={smsWeeklyCount}\n            handleSendTestAlert={handleSendTestAlert}\n          />\n        </div>\n\n        {/* SMS Subscription */}\n        <PremiumSMSSection\n          userData={userData}\n          handleSMSSubscription={handleSMSSubscription}\n          loading={loading}\n          setLoading={setLoading}\n          navigate={navigate}\n        />\n\n\n        {/* Privacy Settings */}\n        <div id=\"privacy\">\n          <PrivacySettings userData={userData} currentUser={currentUser} />\n        </div>\n\n\n\n        {/* Security - Passcodes */}\n        <div id=\"security\">\n          <SecurityPasscodes\n            userData={userData}\n            showPasscodeInfo={showPasscodeInfo}\n            setShowPasscodeInfo={setShowPasscodeInfo}\n            setPasscodeType={setPasscodeType}\n            setShowPasscodeModal={setShowPasscodeModal}\n            handleRemovePasscode={handleRemovePasscode}\n            loading={loading}\n          />\n        </div>\n\n        {/* Preferences */}\n        <PreferencesAndQuickAccess\n          isDark={isDark}\n          toggleDarkMode={toggleDarkMode}\n          toggleHoldData={toggleHoldData}\n          userData={userData}\n          navigate={navigate}\n        />\n\n        {/* Active Donation */}\n        {userData?.donationStats?.isActive && (\n          <div className=\"card p-6 mb-6 bg-gradient-primary text-white\">\n            <h2 className=\"text-xl font-display mb-2\">Thank You! üíú</h2>\n            <p className=\"mb-2\">You're helping keep Besties free</p>\n            <div className=\"text-2xl font-display\">\n              ${userData.donationStats.monthlyAmount}/month\n            </div>\n            <div className=\"text-sm mt-2 opacity-80\">\n              Total donated: ${userData.donationStats.totalDonated}\n            </div>\n          </div>\n        )}\n\n        {/* Legal & Policies */}\n        <LegalSection navigate={navigate} />\n\n        {/* Log Out Button */}\n        <div className=\"card p-6 mb-6\">\n          <button\n            onClick={handleSignOut}\n            className=\"w-full btn bg-red-500 hover:bg-red-600 text-white py-3 text-lg font-semibold\"\n          >\n            üö™ Log Out\n          </button>\n        </div>\n      </div>\n\n      {/* Passcode Modal */}\n      {showPasscodeModal && (\n        <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6\">\n            <h2 className=\"text-2xl font-display text-text-primary mb-2\">\n              {passcodeType === 'safety' ? 'üîí Set Safety Passcode' : '‚ö†Ô∏è Set Duress Code'}\n            </h2>\n            <p className=\"text-text-secondary mb-4\">\n              {passcodeType === 'safety'\n                ? 'This passcode will be required to end check-ins and cancel alerts.'\n                : 'This code appears to cancel alerts but secretly triggers an emergency alert to your besties.'}\n            </p>\n\n            {passcodeType === 'duress' && (\n              <div className=\"bg-orange-50 dark:bg-orange-900/30 border border-orange-200 dark:border-orange-700 rounded-lg p-3 mb-4\">\n                <p className=\"text-sm text-orange-800 dark:text-orange-300\">\n                  ‚ö†Ô∏è <strong>Warning:</strong> Use your duress code only in genuine emergencies when you're being forced to cancel an alert under duress.\n                </p>\n              </div>\n            )}\n\n            <div className=\"space-y-4 mb-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-text-primary mb-2\">\n                  {passcodeType === 'safety' ? 'Passcode' : 'Duress Code'}\n                </label>\n                <input\n                  type=\"password\"\n                  inputMode=\"numeric\"\n                  pattern=\"[0-9]*\"\n                  value={passcode}\n                  onChange={(e) => setPasscode(e.target.value.replace(/\\D/g, ''))}\n                  className=\"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-primary focus:outline-none text-center text-2xl tracking-widest bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\n                  placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                  maxLength={6}\n                  autoFocus\n                />\n                <p className=\"text-xs text-text-secondary mt-1\">At least 4 digits</p>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-text-primary mb-2\">\n                  Confirm {passcodeType === 'safety' ? 'Passcode' : 'Code'}\n                </label>\n                <input\n                  type=\"password\"\n                  inputMode=\"numeric\"\n                  pattern=\"[0-9]*\"\n                  value={confirmPasscode}\n                  onChange={(e) => setConfirmPasscode(e.target.value.replace(/\\D/g, ''))}\n                  className=\"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-primary focus:outline-none text-center text-2xl tracking-widest bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\n                  placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                  maxLength={6}\n                />\n              </div>\n            </div>\n\n            <div className=\"flex flex-col gap-3\">\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => {\n                    setShowPasscodeModal(false);\n                    setPasscode('');\n                    setConfirmPasscode('');\n                    setPasscodeType(null);\n                  }}\n                  className=\"flex-1 btn btn-secondary\"\n                  disabled={loading}\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSavePasscode}\n                  disabled={loading || !passcode || !confirmPasscode}\n                  className={`flex-1 btn ${passcodeType === 'duress' ? 'bg-orange-600 hover:bg-orange-700' : 'btn-primary'} text-white`}\n                >\n                  {loading ? 'Saving...' : 'Save'}\n                </button>\n              </div>\n              {(passcodeType === 'safety' && userData?.security?.safetyPasscode) || (passcodeType === 'duress' && userData?.security?.duressCode) ? (\n                <button\n                  onClick={() => {\n                    handleRemovePasscode(passcodeType);\n                    setShowPasscodeModal(false);\n                    setPasscode('');\n                    setConfirmPasscode('');\n                    setPasscodeType(null);\n                  }}\n                  disabled={loading}\n                  className=\"w-full btn bg-red-500 text-white hover:bg-red-600 text-sm\"\n                >\n                  Remove {passcodeType === 'safety' ? 'Safety Passcode' : 'Duress Code'}\n                </button>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* SMS First-Time Popup */}\n      {showSMSPopup && (\n        <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6\">\n            <div className=\"text-center mb-4\">\n              <div className=\"text-5xl mb-3\">üì±</div>\n              <h2 className=\"text-2xl font-display text-text-primary mb-2\">About SMS Alerts</h2>\n            </div>\n\n            <div className=\"space-y-3 text-sm text-gray-700 dark:text-gray-300 mb-6\">\n              <p className=\"font-semibold text-primary\">\n                SMS alerts are currently FREE during beta testing!\n              </p>\n\n              <div className=\"bg-blue-50 dark:bg-blue-900/30 p-3 rounded-lg\">\n                <p className=\"font-semibold mb-1\">Free Tier Limits:</p>\n                <ul className=\"list-disc ml-4 space-y-1\">\n                  <li>Up to 5 SMS alerts per week</li>\n                  <li>Resets every Monday</li>\n                  <li>You've used {smsWeeklyCount}/5 this week</li>\n                </ul>\n              </div>\n\n              <div className=\"bg-orange-50 dark:bg-orange-900/30 p-3 rounded-lg\">\n                <p className=\"font-semibold mb-1\">Important to Know:</p>\n                <ul className=\"list-disc ml-4 space-y-1\">\n                  <li>SMS messages are expensive to send</li>\n                  <li>Once WhatsApp and Facebook integrations launch, SMS will become a premium feature ($1/month for up to 20 alerts)</li>\n                  <li>We recommend using email or WhatsApp for unlimited free alerts</li>\n                </ul>\n              </div>\n\n              <p className=\"text-xs text-gray-600 dark:text-gray-400 italic\">\n                By enabling SMS, you understand these limitations and agree to use SMS responsibly.\n              </p>\n            </div>\n\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => setShowSMSPopup(false)}\n                className=\"flex-1 btn btn-secondary\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSMSPopupAccept}\n                className=\"flex-1 btn btn-primary\"\n              >\n                I Understand - Enable SMS\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SettingsPage;\n"],"names":["_ref","message","showTooltip","setShowTooltip","useState","tooltipPosition","setTooltipPosition","buttonRef","useRef","tooltipRef","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","buttonRect","getBoundingClientRect","viewportWidth","window","innerWidth","tooltipWidth","left","_jsxs","className","children","_jsx","ref","type","onClick","e","stopPropagation","title","fill","viewBox","fillRule","d","clipRule","concat","style","minWidth","maxWidth","_userData$notificatio","_userData$notificatio2","_userData$notificatio3","_userData$notificatio4","_userData$notificatio5","_userData$notificatio6","userData","toggleNotification","togglePushNotifications","pushNotificationsSupported","pushNotificationsEnabled","loading","smsWeeklyCount","handleSendTestAlert","InfoButton","disabled","notificationPreferences","email","sms","_userData$smsSubscrip","handleSMSSubscription","setLoading","navigate","_Fragment","smsSubscription","active","async","result","apiService","data","url","location","href","toast","error","console","_userData$privacySett","_userData$privacySett3","_userData$privacySett4","_userData$privacySett5","_userData$privacySett6","_userData$privacySett7","_userData$privacySett8","_userData$privacySett9","_userData$privacySett0","currentUser","privacySettings","showStatsToBesties","_userData$privacySett2","newValue","updateDoc","doc","db","uid","success","borderColor","checkInVisibility","name","value","checked","onChange","_userData$security","_userData$security2","_userData$security3","_userData$security4","_userData$security5","_userData$security6","_userData$security7","_userData$security8","showPasscodeInfo","setShowPasscodeInfo","setPasscodeType","setShowPasscodeModal","handleRemovePasscode","security","safetyPasscode","duressCode","_userData$settings","_userData$settings2","_userData$settings3","isDark","toggleDarkMode","toggleHoldData","settings","holdData","isAdmin","rel","SettingsPage","_userData$donationSta","useAuth","toggle","useDarkMode","useNavigate","setPushNotificationsEnabled","setPushNotificationsSupported","showSMSPopup","setShowSMSPopup","setSmsWeeklyCount","showPasscodeModal","passcodeType","passcode","setPasscode","confirmPasscode","setConfirmPasscode","isSupported","notificationService","notificationsEnabled","hash","slice","setTimeout","element","getElementById","scrollIntoView","behavior","block","transition","backgroundColor","catch","err","userDoc","getDoc","exists","loadSmsCount","fieldName","id","NotificationSettings","currentValue","hasSeenSMSPopup","duration","disableNotifications","enableNotifications","channels","testedChannels","push","length","join","PremiumSMSSection","amount","PrivacySettings","SecurityPasscodes","PreferencesAndQuickAccess","donationStats","isActive","monthlyAmount","totalDonated","LegalSection","authService","signOut","inputMode","pattern","replace","placeholder","maxLength","autoFocus"],"sourceRoot":""}