{"version":3,"file":"static/js/143.9e810a24.chunk.js","mappings":"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","sources":["pages/DevAnalyticsPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { db } from '../services/firebase';\n// eslint-disable-next-line no-unused-vars\nimport { collection, getDocs, getDoc, doc, query, where, orderBy, Timestamp } from 'firebase/firestore';\nimport Header from '../components/Header';\n\nconst DevAnalyticsPage = () => {\n  const [analytics, setAnalytics] = useState({\n    users: {\n      total: 0,\n      new7days: 0,\n      new30days: 0,\n      active7days: 0,\n      active30days: 0,\n    },\n    checkIns: {\n      total: 0,\n      active: 0,\n      completed: 0,\n      alerted: 0,\n      avgDuration: 0,\n      completionRate: 0,\n    },\n    besties: {\n      totalConnections: 0,\n      avgPerUser: 0,\n      pending: 0,\n      accepted: 0,\n    },\n    revenue: {\n      smsSubscribers: 0,\n      donorsActive: 0,\n      totalDonations: 0,\n      mrr: 0,\n    },\n    engagement: {\n      avgCheckInsPerUser: 0,\n      avgBestiesPerUser: 0,\n      templatesCreated: 0,\n      badgesEarned: 0,\n    },\n    costs: {\n      estimatedSMS: 0,\n      estimatedWhatsApp: 0,\n      estimatedEmail: 0,\n      totalAlertsSent: 0,\n    },\n    growth: {\n      userGrowthRate: 0,\n      checkInGrowthRate: 0,\n      retentionRate: 0,\n    },\n    funnel: {\n      signups: 0,\n      completedOnboarding: 0,\n      addedBestie: 0,\n      firstCheckIn: 0,\n      onboardingRate: 0,\n      bestieRate: 0,\n      checkInRate: 0,\n    },\n    behavior: {\n      peakHour: 0,\n      peakDay: '',\n      mostCommonDuration: 0,\n    },\n    topLocations: [],\n    recentAlerts: [],\n  });\n  const [loading, setLoading] = useState(true);\n  const [timeRange, setTimeRange] = useState('7d'); // 7d, 30d, all\n\n  const loadAnalytics = useCallback(async () => {\n    setLoading(true);\n\n    try {\n      const now = new Date();\n      const sevenDaysAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n      const thirtyDaysAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n\n      // Determine time filter based on selected range\n      let startDate = now;\n      if (timeRange === '7d') {\n        startDate = sevenDaysAgo;\n      } else if (timeRange === '30d') {\n        startDate = thirtyDaysAgo;\n      } else {\n        startDate = new Date(0); // All time = epoch\n      }\n\n      // Users Analytics\n      console.log('[Analytics] Loading users...');\n      const usersSnap = await getDocs(collection(db, 'users'));\n      console.log('[Analytics] ‚úì Users loaded:', usersSnap.size);\n      let totalUsers = 0;\n      let new7days = 0;\n      let new30days = 0;\n      let active7days = 0;\n      let active30days = 0;\n\n      usersSnap.forEach(doc => {\n        const data = doc.data();\n        totalUsers++;\n        \n        const createdAt = data.stats?.joinedAt?.toDate();\n        if (createdAt && createdAt > sevenDaysAgo) new7days++;\n        if (createdAt && createdAt > thirtyDaysAgo) new30days++;\n\n        const lastActive = data.lastActive?.toDate();\n        if (lastActive && lastActive > sevenDaysAgo) active7days++;\n        if (lastActive && lastActive > thirtyDaysAgo) active30days++;\n      });\n\n      // Check-ins Analytics (filtered by time range)\n      let checkInsQuery = collection(db, 'checkins');\n      if (timeRange !== 'all') {\n        checkInsQuery = query(\n          checkInsQuery,\n          where('createdAt', '>=', Timestamp.fromDate(startDate))\n        );\n      }\n      console.log('[Analytics] Loading checkins...');\n      const checkInsSnap = await getDocs(checkInsQuery);\n      console.log('[Analytics] ‚úì Checkins loaded:', checkInsSnap.size);\n\n      let totalCheckIns = 0;\n      let activeCheckIns = 0;\n      let completedCheckIns = 0;\n      let alertedCheckIns = 0;\n      let totalDuration = 0;\n      const locationCounts = {};\n\n      checkInsSnap.forEach(doc => {\n        const data = doc.data();\n        totalCheckIns++;\n        totalDuration += data.duration || 0;\n\n        if (data.status === 'active') activeCheckIns++;\n        if (data.status === 'completed') completedCheckIns++;\n        if (data.status === 'alerted') alertedCheckIns++;\n\n        // Track locations\n        if (data.location) {\n          locationCounts[data.location] = (locationCounts[data.location] || 0) + 1;\n        }\n      });\n\n      const topLocations = Object.entries(locationCounts)\n        .map(([location, count]) => ({ location, count }))\n        .sort((a, b) => b.count - a.count)\n        .slice(0, 10);\n\n      const completionRate = totalCheckIns > 0 \n        ? ((completedCheckIns / totalCheckIns) * 100).toFixed(1)\n        : 0;\n\n      // Besties Analytics\n      console.log('[Analytics] Loading besties...');\n      const bestiesSnap = await getDocs(collection(db, 'besties'));\n      console.log('[Analytics] ‚úì Besties loaded:', bestiesSnap.size);\n      let totalBesties = 0;\n      let pendingBesties = 0;\n      let acceptedBesties = 0;\n\n      bestiesSnap.forEach(doc => {\n        const data = doc.data();\n        totalBesties++;\n        if (data.status === 'pending') pendingBesties++;\n        if (data.status === 'accepted') acceptedBesties++;\n      });\n\n      // Revenue Analytics\n      let smsSubscribers = 0;\n      let donorsActive = 0;\n      let totalDonations = 0;\n      let monthlyRevenue = 0;\n\n      usersSnap.forEach(doc => {\n        const data = doc.data();\n        if (data.smsSubscription?.active) {\n          smsSubscribers++;\n          monthlyRevenue += 1; // $1/month SMS subscription\n        }\n        if (data.donationStats?.isActive) {\n          donorsActive++;\n          totalDonations += data.donationStats?.totalDonated || 0;\n          // Add monthly recurring donation amount to MRR\n          if (data.donationStats?.monthlyAmount) {\n            monthlyRevenue += data.donationStats.monthlyAmount;\n          }\n        }\n      });\n\n      const mrr = monthlyRevenue;\n\n      // Engagement Analytics\n      console.log('[Analytics] Loading templates...');\n      const templatesSnap = await getDocs(collection(db, 'templates'));\n      console.log('[Analytics] ‚úì Templates loaded:', templatesSnap.size);\n      console.log('[Analytics] Loading badges...');\n      const badgesSnap = await getDocs(collection(db, 'badges'));\n      console.log('[Analytics] ‚úì Badges loaded:', badgesSnap.size);\n\n      let totalBadgesEarned = 0;\n      badgesSnap.forEach(doc => {\n        const data = doc.data();\n        totalBadgesEarned += data.badges?.length || 0;\n      });\n\n      // Recent Alerts (fetch user names separately)\n      console.log('[Analytics] Loading recent alerts...');\n      const alertsQuery = query(\n        collection(db, 'checkins'),\n        where('status', '==', 'alerted'),\n        orderBy('alertedAt', 'desc')\n      );\n\n      const alertsSnap = await getDocs(alertsQuery);\n      console.log('[Analytics] ‚úì Recent alerts loaded:', alertsSnap.size);\n      const recentAlerts = [];\n\n      // Fetch user names for each alert\n      const alertPromises = [];\n      alertsSnap.forEach(doc => {\n        if (recentAlerts.length < 10) {\n          const data = doc.data();\n          alertPromises.push(\n            (async () => {\n              let userName = 'Unknown';\n              try {\n                const userDoc = await getDoc(doc(db, 'users', data.userId));\n                if (userDoc.exists()) {\n                  userName = userDoc.data().displayName || 'Unknown';\n                }\n              } catch (err) {\n                console.error('Error fetching user name:', err);\n              }\n\n              recentAlerts.push({\n                id: doc.id,\n                location: data.location,\n                alertedAt: data.alertedAt,\n                userName,\n              });\n            })()\n          );\n        }\n      });\n\n      await Promise.all(alertPromises);\n\n      // Cost Tracking (estimate based on alerts sent)\n      // Real alert logic: Try WhatsApp first (free/cheap), fallback to SMS (expensive)\n      // We don't track actual delivery, so we estimate conservatively\n      let totalAlertsSent = 0;\n      let estimatedSMSSent = 0;\n      let estimatedWhatsAppSent = 0;\n\n      checkInsSnap.forEach(doc => {\n        const data = doc.data();\n        if (data.status === 'alerted' && data.bestieIds) {\n          const bestieCount = data.bestieIds.length;\n          totalAlertsSent += bestieCount;\n\n          // Conservative estimate: 70% get WhatsApp, 30% need SMS fallback\n          // (Reality: WhatsApp tries first, SMS only if fails or no subscription)\n          estimatedWhatsAppSent += Math.ceil(bestieCount * 0.7);\n          estimatedSMSSent += Math.floor(bestieCount * 0.3);\n        }\n      });\n\n      const estimatedSMSCost = (estimatedSMSSent * 0.0075).toFixed(2); // $0.0075 per SMS\n      const estimatedWhatsAppCost = (estimatedWhatsAppSent * 0.005).toFixed(2); // $0.005 per WhatsApp\n      const estimatedEmailCost = 0; // SendGrid free tier\n\n      // Growth Metrics\n      const prevWeekStart = new Date(sevenDaysAgo.getTime() - 7 * 24 * 60 * 60 * 1000);\n      let prevWeekUsers = 0;\n      let prevWeekCheckIns = 0;\n\n      usersSnap.forEach(doc => {\n        const data = doc.data();\n        const joinedAt = data.stats?.joinedAt?.toDate();\n        if (joinedAt && joinedAt > prevWeekStart && joinedAt < sevenDaysAgo) {\n          prevWeekUsers++;\n        }\n      });\n\n      checkInsSnap.forEach(doc => {\n        const data = doc.data();\n        const createdAt = data.createdAt?.toDate();\n        if (createdAt && createdAt > prevWeekStart && createdAt < sevenDaysAgo) {\n          prevWeekCheckIns++;\n        }\n      });\n\n      const userGrowthRate = prevWeekUsers > 0\n        ? (((new7days - prevWeekUsers) / prevWeekUsers) * 100).toFixed(1)\n        : new7days > 0 ? '‚àû' : 'N/A';\n\n      const checkInGrowthRate = prevWeekCheckIns > 0\n        ? (((totalCheckIns - prevWeekCheckIns) / prevWeekCheckIns) * 100).toFixed(1)\n        : totalCheckIns > 0 ? '‚àû' : 'N/A';\n\n      // Retention: users who created multiple check-ins\n      const userCheckInCounts = {};\n      checkInsSnap.forEach(doc => {\n        const userId = doc.data().userId;\n        userCheckInCounts[userId] = (userCheckInCounts[userId] || 0) + 1;\n      });\n      const returningUsers = Object.values(userCheckInCounts).filter(count => count > 1).length;\n      const retentionRate = totalUsers > 0 ? ((returningUsers / totalUsers) * 100).toFixed(1) : 0;\n\n      // Funnel Analytics\n      console.log('[Analytics] Calculating funnel metrics...');\n      let completedOnboardingCount = 0;\n      let addedBestieCount = 0;\n      let firstCheckInCount = 0;\n      let debugSampleUser = null;\n\n      usersSnap.forEach(doc => {\n        const data = doc.data();\n        // Capture first user for debugging\n        if (!debugSampleUser) {\n          debugSampleUser = {\n            id: doc.id,\n            onboardingCompleted: data.onboardingCompleted,\n            statsExists: !!data.stats,\n            totalBesties: data.stats?.totalBesties,\n            totalCheckIns: data.stats?.totalCheckIns,\n          };\n        }\n        if (data.onboardingCompleted) completedOnboardingCount++;\n        if (data.stats?.totalBesties > 0) addedBestieCount++;\n        if (data.stats?.totalCheckIns > 0) firstCheckInCount++;\n      });\n\n      console.log('[Analytics] Funnel Debug - Sample User:', debugSampleUser);\n      console.log('[Analytics] Funnel Counts:', {\n        totalUsers,\n        completedOnboarding: completedOnboardingCount,\n        addedBestie: addedBestieCount,\n        firstCheckIn: firstCheckInCount,\n      });\n\n      const onboardingRate = totalUsers > 0 ? ((completedOnboardingCount / totalUsers) * 100).toFixed(1) : 0;\n      const bestieRate = completedOnboardingCount > 0 ? ((addedBestieCount / completedOnboardingCount) * 100).toFixed(1) : 0;\n      const checkInRate = addedBestieCount > 0 ? ((firstCheckInCount / addedBestieCount) * 100).toFixed(1) : 0;\n\n      // User Behavior (normalized to UTC to avoid timezone skew)\n      const hourCounts = new Array(24).fill(0);\n      const dayCounts = { Mon: 0, Tue: 0, Wed: 0, Thu: 0, Fri: 0, Sat: 0, Sun: 0 };\n      const durationCounts = {};\n\n      checkInsSnap.forEach(doc => {\n        const data = doc.data();\n        const createdAt = data.createdAt?.toDate();\n        if (createdAt) {\n          // Use UTC to normalize across timezones\n          hourCounts[createdAt.getUTCHours()]++;\n          const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n          dayCounts[dayNames[createdAt.getUTCDay()]]++;\n        }\n        if (data.duration) {\n          durationCounts[data.duration] = (durationCounts[data.duration] || 0) + 1;\n        }\n      });\n\n      const peakHour = hourCounts.indexOf(Math.max(...hourCounts));\n      const peakDay = Object.entries(dayCounts).sort((a, b) => b[1] - a[1])[0]?.[0] || 'N/A';\n      const mostCommonDuration = Object.entries(durationCounts).sort((a, b) => b[1] - a[1])[0]?.[0] || 30;\n\n      setAnalytics({\n        users: {\n          total: totalUsers,\n          new7days,\n          new30days,\n          active7days,\n          active30days,\n        },\n        checkIns: {\n          total: totalCheckIns,\n          active: activeCheckIns,\n          completed: completedCheckIns,\n          alerted: alertedCheckIns,\n          avgDuration: totalCheckIns > 0 ? Math.round(totalDuration / totalCheckIns) : 0,\n          completionRate,\n        },\n        besties: {\n          totalConnections: totalBesties,\n          // Each bestie relationship involves 2 users, so multiply by 2 for avg besties per user\n          avgPerUser: totalUsers > 0 ? ((acceptedBesties * 2) / totalUsers).toFixed(1) : 0,\n          pending: pendingBesties,\n          accepted: acceptedBesties,\n        },\n        revenue: {\n          smsSubscribers,\n          donorsActive,\n          totalDonations: totalDonations.toFixed(2),\n          mrr: mrr.toFixed(2),\n        },\n        engagement: {\n          avgCheckInsPerUser: totalUsers > 0 ? (totalCheckIns / totalUsers).toFixed(1) : 0,\n          // Each bestie relationship involves 2 users, so multiply by 2 for avg besties per user\n          avgBestiesPerUser: totalUsers > 0 ? ((acceptedBesties * 2) / totalUsers).toFixed(1) : 0,\n          templatesCreated: templatesSnap.size,\n          badgesEarned: totalBadgesEarned,\n        },\n        costs: {\n          estimatedSMS: estimatedSMSCost,\n          estimatedWhatsApp: estimatedWhatsAppCost,\n          estimatedEmail: estimatedEmailCost,\n          totalAlertsSent: totalAlertsSent,\n        },\n        growth: {\n          userGrowthRate,\n          checkInGrowthRate,\n          retentionRate,\n        },\n        funnel: {\n          signups: totalUsers,\n          completedOnboarding: completedOnboardingCount,\n          addedBestie: addedBestieCount,\n          firstCheckIn: firstCheckInCount,\n          onboardingRate,\n          bestieRate,\n          checkInRate,\n        },\n        behavior: {\n          peakHour,\n          peakDay,\n          mostCommonDuration,\n        },\n        topLocations,\n        recentAlerts,\n      });\n\n      setLoading(false);\n    } catch (error) {\n      console.error('Error loading analytics:', error);\n\n      // Show user-friendly error message based on error type\n      if (error.code === 'failed-precondition') {\n        console.error('Firestore index missing. Create index at:', error.message);\n        alert('Analytics require database indices. Check console for index creation link.');\n      } else if (error.code === 'permission-denied') {\n        alert('Permission denied. Make sure your user document has the field:\\n- isAdmin: true');\n      } else {\n        alert(`Failed to load analytics: ${error.message}`);\n      }\n\n      setLoading(false);\n    }\n  }, [timeRange]);\n\n  useEffect(() => {\n    loadAnalytics();\n  }, [loadAnalytics]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-pattern\">\n        <Header />\n        <div className=\"flex items-center justify-center py-20\">\n          <div className=\"spinner\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-pattern\">\n      <Header />\n\n      <div className=\"max-w-7xl mx-auto p-4 pb-20\">\n        <div className=\"mb-6\">\n          <h1 className=\"text-3xl font-display text-text-primary mb-2\">üìä Developer Analytics</h1>\n          <p className=\"text-text-secondary\">Real-time app metrics and insights</p>\n        </div>\n\n        {/* Time Range Filter */}\n        <div className=\"flex gap-2 mb-6\">\n          <button\n            onClick={() => setTimeRange('7d')}\n            className={`px-4 py-2 rounded-full font-semibold ${\n              timeRange === '7d' ? 'bg-primary text-white' : 'bg-white text-text-primary'\n            }`}\n          >\n            Last 7 Days\n          </button>\n          <button\n            onClick={() => setTimeRange('30d')}\n            className={`px-4 py-2 rounded-full font-semibold ${\n              timeRange === '30d' ? 'bg-primary text-white' : 'bg-white text-text-primary'\n            }`}\n          >\n            Last 30 Days\n          </button>\n          <button\n            onClick={() => setTimeRange('all')}\n            className={`px-4 py-2 rounded-full font-semibold ${\n              timeRange === 'all' ? 'bg-primary text-white' : 'bg-white text-text-primary'\n            }`}\n          >\n            All Time\n          </button>\n        </div>\n\n        {/* Users Section */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-display text-text-primary mb-4\">üë• Users</h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-primary\">{analytics.users.total}</div>\n              <div className=\"text-sm text-text-secondary\">Total Users</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-success\">{analytics.users.new7days}</div>\n              <div className=\"text-sm text-text-secondary\">New (7d)</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-success\">{analytics.users.new30days}</div>\n              <div className=\"text-sm text-text-secondary\">New (30d)</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-secondary\">{analytics.users.active7days}</div>\n              <div className=\"text-sm text-text-secondary\">Active (7d)</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-secondary\">{analytics.users.active30days}</div>\n              <div className=\"text-sm text-text-secondary\">Active (30d)</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Check-ins Section */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-display text-text-primary mb-4\">‚úÖ Check-ins</h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-6 gap-4\">\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-primary\">{analytics.checkIns.total}</div>\n              <div className=\"text-sm text-text-secondary\">Total</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-warning\">{analytics.checkIns.active}</div>\n              <div className=\"text-sm text-text-secondary\">Active Now</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-success\">{analytics.checkIns.completed}</div>\n              <div className=\"text-sm text-text-secondary\">Completed</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-danger\">{analytics.checkIns.alerted}</div>\n              <div className=\"text-sm text-text-secondary\">Alerted</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-accent\">{analytics.checkIns.avgDuration}</div>\n              <div className=\"text-sm text-text-secondary\">Avg Minutes</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-success\">{analytics.checkIns.completionRate}%</div>\n              <div className=\"text-sm text-text-secondary\">Completion</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Besties Section */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-display text-text-primary mb-4\">üíú Besties Network</h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-primary\">{analytics.besties.totalConnections}</div>\n              <div className=\"text-sm text-text-secondary\">Total Connections</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-success\">{analytics.besties.accepted}</div>\n              <div className=\"text-sm text-text-secondary\">Accepted</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-warning\">{analytics.besties.pending}</div>\n              <div className=\"text-sm text-text-secondary\">Pending</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-secondary\">{analytics.besties.avgPerUser}</div>\n              <div className=\"text-sm text-text-secondary\">Avg Per User</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Revenue Section */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-display text-text-primary mb-4\">üí∞ Revenue</h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"card p-4 text-center bg-gradient-primary text-white\">\n              <div className=\"text-3xl font-display\">${analytics.revenue.mrr}</div>\n              <div className=\"text-sm opacity-90\">MRR</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-primary\">{analytics.revenue.smsSubscribers}</div>\n              <div className=\"text-sm text-text-secondary\">SMS Subscribers</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-secondary\">{analytics.revenue.donorsActive}</div>\n              <div className=\"text-sm text-text-secondary\">Active Donors</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-success\">${analytics.revenue.totalDonations}</div>\n              <div className=\"text-sm text-text-secondary\">Total Donated</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Engagement Section */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-display text-text-primary mb-4\">üìà Engagement</h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-primary\">{analytics.engagement.avgCheckInsPerUser}</div>\n              <div className=\"text-sm text-text-secondary\">Check-ins/User</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-secondary\">{analytics.engagement.avgBestiesPerUser}</div>\n              <div className=\"text-sm text-text-secondary\">Besties/User</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-accent\">{analytics.engagement.templatesCreated}</div>\n              <div className=\"text-sm text-text-secondary\">Templates</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-warning\">{analytics.engagement.badgesEarned}</div>\n              <div className=\"text-sm text-text-secondary\">Badges Earned</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Cost Tracking */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-display text-text-primary mb-4\">üí∏ Cost Tracking (Estimates)</h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"card p-4 text-center bg-danger/10\">\n              <div className=\"text-3xl font-display text-danger\">${analytics.costs.estimatedSMS}</div>\n              <div className=\"text-sm text-text-secondary\">SMS Costs</div>\n            </div>\n            <div className=\"card p-4 text-center bg-success/10\">\n              <div className=\"text-3xl font-display text-success\">${analytics.costs.estimatedWhatsApp}</div>\n              <div className=\"text-sm text-text-secondary\">WhatsApp Costs</div>\n            </div>\n            <div className=\"card p-4 text-center bg-primary/10\">\n              <div className=\"text-3xl font-display text-primary\">${analytics.costs.estimatedEmail}</div>\n              <div className=\"text-sm text-text-secondary\">Email Costs</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-accent\">{analytics.costs.totalAlertsSent}</div>\n              <div className=\"text-sm text-text-secondary\">Total Alerts</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Growth Metrics */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-display text-text-primary mb-4\">üìä Growth Metrics</h2>\n          <div className=\"grid grid-cols-3 gap-4\">\n            <div className=\"card p-4 text-center\">\n              <div className={`text-3xl font-display ${parseFloat(analytics.growth.userGrowthRate) >= 0 ? 'text-success' : 'text-danger'}`}>\n                {analytics.growth.userGrowthRate > 0 ? '+' : ''}{analytics.growth.userGrowthRate}%\n              </div>\n              <div className=\"text-sm text-text-secondary\">User Growth (WoW)</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className={`text-3xl font-display ${parseFloat(analytics.growth.checkInGrowthRate) >= 0 ? 'text-success' : 'text-danger'}`}>\n                {analytics.growth.checkInGrowthRate > 0 ? '+' : ''}{analytics.growth.checkInGrowthRate}%\n              </div>\n              <div className=\"text-sm text-text-secondary\">Check-in Growth (WoW)</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-primary\">{analytics.growth.retentionRate}%</div>\n              <div className=\"text-sm text-text-secondary\">Retention Rate</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Funnel Analytics */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-display text-text-primary mb-4\">üéØ User Funnel</h2>\n          <div className=\"card p-6\">\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"font-semibold text-text-primary\">1. Sign Ups</div>\n                  <div className=\"text-sm text-text-secondary\">{analytics.funnel.signups} users</div>\n                </div>\n                <div className=\"text-2xl font-display text-primary\">100%</div>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"font-semibold text-text-primary\">2. Completed Onboarding</div>\n                  <div className=\"text-sm text-text-secondary\">{analytics.funnel.completedOnboarding} users</div>\n                </div>\n                <div className=\"text-2xl font-display text-success\">{analytics.funnel.onboardingRate}%</div>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"font-semibold text-text-primary\">3. Added First Bestie</div>\n                  <div className=\"text-sm text-text-secondary\">{analytics.funnel.addedBestie} users</div>\n                </div>\n                <div className=\"text-2xl font-display text-warning\">{analytics.funnel.bestieRate}%</div>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"font-semibold text-text-primary\">4. Created First Check-in</div>\n                  <div className=\"text-sm text-text-secondary\">{analytics.funnel.firstCheckIn} users</div>\n                </div>\n                <div className=\"text-2xl font-display text-accent\">{analytics.funnel.checkInRate}%</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* User Behavior */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-display text-text-primary mb-4\">üïê User Behavior</h2>\n          <div className=\"grid grid-cols-3 gap-4\">\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-primary\">{analytics.behavior.peakHour}:00</div>\n              <div className=\"text-sm text-text-secondary\">Peak Hour (24h)</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-secondary\">{analytics.behavior.peakDay}</div>\n              <div className=\"text-sm text-text-secondary\">Peak Day</div>\n            </div>\n            <div className=\"card p-4 text-center\">\n              <div className=\"text-3xl font-display text-accent\">{analytics.behavior.mostCommonDuration}m</div>\n              <div className=\"text-sm text-text-secondary\">Common Duration</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Top Locations */}\n        <div className=\"grid md:grid-cols-2 gap-6 mb-6\">\n          <div className=\"card p-6\">\n            <h3 className=\"font-display text-xl text-text-primary mb-4\">üìç Top Check-in Locations</h3>\n            {analytics.topLocations.length > 0 ? (\n              <div className=\"space-y-2\">\n                {analytics.topLocations.map((loc, idx) => (\n                  <div key={idx} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                    <span className=\"font-semibold text-text-primary\">{loc.location}</span>\n                    <span className=\"badge badge-primary\">{loc.count}</span>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-text-secondary text-center py-8\">No data yet</p>\n            )}\n          </div>\n\n          {/* Recent Alerts */}\n          <div className=\"card p-6\">\n            <h3 className=\"font-display text-xl text-text-primary mb-4\">üö® Recent Alerts</h3>\n            {analytics.recentAlerts.length > 0 ? (\n              <div className=\"space-y-2\">\n                {analytics.recentAlerts.map((alert) => (\n                  <div key={alert.id} className=\"p-3 bg-danger/10 border border-danger/20 rounded-lg\">\n                    <div className=\"font-semibold text-danger\">{alert.userName}</div>\n                    <div className=\"text-sm text-text-secondary\">{alert.location}</div>\n                    {alert.alertedAt && (\n                      <div className=\"text-xs text-text-secondary mt-1\">\n                        {new Date(alert.alertedAt.toDate()).toLocaleString()}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-text-secondary text-center py-8\">No alerts üéâ</p>\n            )}\n          </div>\n        </div>\n\n        {/* Refresh Button */}\n        <button\n          onClick={loadAnalytics}\n          className=\"w-full btn btn-primary\"\n          disabled={loading}\n        >\n          üîÑ Refresh Data\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default DevAnalyticsPage;\n"],"names":["DevAnalyticsPage","analytics","setAnalytics","useState","users","total","new7days","new30days","active7days","active30days","checkIns","active","completed","alerted","avgDuration","completionRate","besties","totalConnections","avgPerUser","pending","accepted","revenue","smsSubscribers","donorsActive","totalDonations","mrr","engagement","avgCheckInsPerUser","avgBestiesPerUser","templatesCreated","badgesEarned","costs","estimatedSMS","estimatedWhatsApp","estimatedEmail","totalAlertsSent","growth","userGrowthRate","checkInGrowthRate","retentionRate","funnel","signups","completedOnboarding","addedBestie","firstCheckIn","onboardingRate","bestieRate","checkInRate","behavior","peakHour","peakDay","mostCommonDuration","topLocations","recentAlerts","loading","setLoading","timeRange","setTimeRange","loadAnalytics","useCallback","async","_Object$entries$sort$","_Object$entries$sort$2","now","Date","sevenDaysAgo","getTime","thirtyDaysAgo","startDate","console","log","usersSnap","getDocs","collection","db","size","totalUsers","forEach","doc","_data$stats","_data$stats$joinedAt","_data$lastActive","data","createdAt","stats","joinedAt","toDate","lastActive","checkInsQuery","query","where","Timestamp","fromDate","checkInsSnap","totalCheckIns","activeCheckIns","completedCheckIns","alertedCheckIns","totalDuration","locationCounts","duration","status","location","Object","entries","map","_ref","count","sort","a","b","slice","toFixed","bestiesSnap","totalBesties","pendingBesties","acceptedBesties","monthlyRevenue","_data$smsSubscription","_data$donationStats","_data$donationStats2","_data$donationStats3","smsSubscription","donationStats","isActive","totalDonated","monthlyAmount","templatesSnap","badgesSnap","totalBadgesEarned","_data$badges","badges","length","alertsQuery","orderBy","alertsSnap","alertPromises","push","userName","userDoc","getDoc","userId","exists","displayName","err","error","id","alertedAt","Promise","all","estimatedSMSSent","estimatedWhatsAppSent","bestieIds","bestieCount","Math","ceil","floor","estimatedSMSCost","estimatedWhatsAppCost","estimatedEmailCost","prevWeekStart","prevWeekUsers","prevWeekCheckIns","_data$stats2","_data$stats2$joinedAt","_data$createdAt","userCheckInCounts","returningUsers","values","filter","completedOnboardingCount","addedBestieCount","firstCheckInCount","debugSampleUser","_data$stats5","_data$stats6","_data$stats3","_data$stats4","onboardingCompleted","statsExists","hourCounts","Array","fill","dayCounts","Mon","Tue","Wed","Thu","Fri","Sat","Sun","durationCounts","_data$createdAt2","getUTCHours","getUTCDay","indexOf","max","round","code","message","alert","concat","useEffect","_jsxs","className","children","_jsx","Header","onClick","parseFloat","loc","idx","toLocaleString","disabled"],"sourceRoot":""}