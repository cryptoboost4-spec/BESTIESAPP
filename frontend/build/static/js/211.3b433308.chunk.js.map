{"version":3,"file":"static/js/211.3b433308.chunk.js","mappings":"6OAQA,MA6TA,EA3T2BA,KAAO,IAADC,EAAAC,EAAAC,EAC/B,MAAMC,GAAWC,EAAAA,EAAAA,OACX,YAAEC,EAAW,SAAEC,IAAaC,EAAAA,EAAAA,OAC3BC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,KAChCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAaC,IAAkBJ,EAAAA,EAAAA,WAAS,IACxCK,EAAQC,IAAaN,EAAAA,EAAAA,UAAS,QAC9BO,EAASC,IAAcR,EAAAA,EAAAA,UAAS,OAChCS,EAASC,IAAcV,EAAAA,EAAAA,WAAS,IAEvCW,EAAAA,EAAAA,WAAU,KACRC,KAEC,CAACjB,EAAaU,IAEjB,MAAMO,EAAcC,iBAA6B,IAAtBC,EAAQC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACjC,GAAKpB,EAAL,CAEImB,EACFV,GAAe,IAEfF,GAAW,GACXH,EAAW,IACXS,EAAW,MACXE,GAAW,IAGb,IACE,IAAIQ,GAAIC,EAAAA,EAAAA,IACNC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,aACfC,EAAAA,EAAAA,IAAM,SAAU,KAAM3B,EAAY4B,MAClCC,EAAAA,EAAAA,IAAQ,YAAa,SACrBC,EAAAA,EAAAA,IAlCe,KAqCF,cAAXpB,EACFa,GAAIC,EAAAA,EAAAA,IACFC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,aACfC,EAAAA,EAAAA,IAAM,SAAU,KAAM3B,EAAY4B,MAClCD,EAAAA,EAAAA,IAAM,SAAU,KAAM,cACtBE,EAAAA,EAAAA,IAAQ,YAAa,SACrBC,EAAAA,EAAAA,IA3Ca,KA6CK,YAAXpB,IACTa,GAAIC,EAAAA,EAAAA,IACFC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,aACfC,EAAAA,EAAAA,IAAM,SAAU,KAAM3B,EAAY4B,MAClCD,EAAAA,EAAAA,IAAM,SAAU,KAAM,YACtBE,EAAAA,EAAAA,IAAQ,YAAa,SACrBC,EAAAA,EAAAA,IAnDa,MAwDbX,GAAYP,IACdW,GAAIC,EAAAA,EAAAA,GAAMD,GAAGQ,EAAAA,EAAAA,IAAWnB,KAG1B,MAAMoB,QAAiBC,EAAAA,EAAAA,IAAQV,GACzBW,EAAW,GACjBF,EAASG,QAASC,IAChBF,EAASG,MAAIC,EAAAA,EAAAA,GAAC,CAAEC,GAAIH,EAAIG,IAAOH,EAAII,WAKnCpC,EADEe,EACSsB,GAAQ,IAAIA,KAASP,GAErBA,GAIbrB,EAAWmB,EAASU,KAAKV,EAASU,KAAKrB,OAAS,IAAM,MACtDN,EA3EiB,KA2ENmB,EAASb,QAEpBd,GAAW,GACXE,GAAe,EACjB,CAAE,MAAOkC,GACPC,QAAQD,MAAM,yBAA0BA,GACnCxB,GAAUf,EAAW,IAC1BG,GAAW,GACXE,GAAe,EACjB,CAlEwB,CAmE1B,EAMMoC,EAAkBC,IACtB,OAAQA,GACN,IAAK,YACH,OAAOC,EAAAA,EAAAA,KAAA,QAAMC,UAAU,sBAAqBC,SAAC,gBAC/C,IAAK,UACH,OAAOF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,sBAAqBC,SAAC,yBAC/C,IAAK,SACH,OAAOF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,sBAAqBC,SAAC,kBAC/C,QACE,OAAOF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,QAAOC,SAAC,cAI/BC,EAAkBC,IACtB,GAAIA,EAAU,GAAI,MAAM,GAANC,OAAUD,EAAO,KACnC,MAAME,EAAQC,KAAKC,MAAMJ,EAAU,IAC7BK,EAAOL,EAAU,GACvB,OAAOK,EAAO,EAAC,GAAAJ,OAAMC,EAAK,MAAAD,OAAKI,EAAI,QAAAJ,OAASC,EAAK,MAGnD,OAAI/C,GAEAmD,EAAAA,EAAAA,MAAA,OAAKT,UAAU,+CAA8CC,SAAA,EAC3DF,EAAAA,EAAAA,KAACW,EAAAA,EAAM,KACPX,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yCAAwCC,UACrDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAOrBS,EAAAA,EAAAA,MAAA,OAAKT,UAAU,+CAA8CC,SAAA,EAC3DF,EAAAA,EAAAA,KAACW,EAAAA,EAAM,KAEPD,EAAAA,EAAAA,MAAA,OAAKT,UAAU,8BAA6BC,SAAA,EAE1CQ,EAAAA,EAAAA,MAAA,UACEE,QAASA,IAAM7D,GAAU,GACzBkD,UAAU,iGAAgGC,SAAA,EAE1GF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,UAAUY,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAWb,UAC5EF,EAAAA,EAAAA,KAAA,QAAMgB,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,sBACjE,WAKRT,EAAAA,EAAAA,MAAA,OAAKT,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,2EAA0EC,SAAC,sBACzFF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oDAAmDC,SAAC,qCAMnEQ,EAAAA,EAAAA,MAAA,OAAKT,UAAU,uCAAsCC,SAAA,EACnDF,EAAAA,EAAAA,KAAA,UACEY,QAASA,IAAMhD,EAAU,OACzBqC,UAAS,yEAAAI,OACI,QAAX1C,EACI,wBACA,sHACHuC,SACJ,SAGDF,EAAAA,EAAAA,KAAA,UACEY,QAASA,IAAMhD,EAAU,aACzBqC,UAAS,yEAAAI,OACI,cAAX1C,EACI,wBACA,sHACHuC,SACJ,iBAGDF,EAAAA,EAAAA,KAAA,UACEY,QAASA,IAAMhD,EAAU,WACzBqC,UAAS,yEAAAI,OACI,YAAX1C,EACI,wBACA,sHACHuC,SACJ,6BAMHF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kCAAiCC,UAC9CQ,EAAAA,EAAAA,MAAA,OAAKT,UAAU,yBAAwBC,SAAA,EACrCQ,EAAAA,EAAAA,MAAA,OAAKT,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4DAA2DC,UAC/D,OAARhD,QAAQ,IAARA,GAAe,QAAPN,EAARM,EAAUkE,aAAK,IAAAxE,OAAP,EAARA,EAAiByE,gBAAiB,KAErCrB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4DAA2DC,SAAC,cAE7EQ,EAAAA,EAAAA,MAAA,OAAKT,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4DAA2DC,UAC/D,OAARhD,QAAQ,IAARA,GAAe,QAAPL,EAARK,EAAUkE,aAAK,IAAAvE,OAAP,EAARA,EAAiByE,oBAAqB,KAEzCtB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4DAA2DC,SAAC,kBAE7EQ,EAAAA,EAAAA,MAAA,OAAKT,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4DAA2DC,UAC/D,OAARhD,QAAQ,IAARA,GAAe,QAAPJ,EAARI,EAAUkE,aAAK,IAAAtE,OAAP,EAARA,EAAiByE,kBAAmB,KAEvCvB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4DAA2DC,SAAC,oBAM7D,IAAnB9C,EAAQkB,QACPoC,EAAAA,EAAAA,MAAA,OAAKT,UAAU,0CAAyCC,SAAA,EACtDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,SAAC,kBAC/BF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,2EAA0EC,SAAC,sBAGzFF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oDAAmDC,SAAC,+CAKnEQ,EAAAA,EAAAA,MAAAc,EAAAA,SAAA,CAAAtB,SAAA,EACEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,SACvB9C,EAAQqE,IAAKC,IAAO,IAAAC,EAAA,OACnBjB,EAAAA,EAAAA,MAAA,OAAsBT,UAAU,6BAA4BC,SAAA,EAC1DF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wCAAuCC,UACpDQ,EAAAA,EAAAA,MAAA,OAAKT,UAAU,SAAQC,SAAA,EACrBQ,EAAAA,EAAAA,MAAA,OAAKT,UAAU,+BAA8BC,SAAA,EAC3CF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,qEAAoEC,SAC/EwB,EAAQE,WAEV9B,EAAe4B,EAAQ3B,YAE1BC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4DAA2DC,SACvEwB,EAAQG,YAAaC,EAAAA,EAAAA,GAAoBJ,EAAQG,UAAUE,SAAU,CAAEC,WAAW,YAKzFtB,EAAAA,EAAAA,MAAA,OAAKT,UAAU,iCAAgCC,SAAA,EAC7CQ,EAAAA,EAAAA,MAAA,OAAAR,SAAA,EACEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oDAAmDC,SAAC,cACnEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8DAA6DC,SACzEC,EAAeuB,EAAQO,gBAG5BvB,EAAAA,EAAAA,MAAA,OAAAR,SAAA,EACEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oDAAmDC,SAAC,sBACnEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8DAA6DC,UACxD,QAAjByB,EAAAD,EAAQQ,iBAAS,IAAAP,OAAA,EAAjBA,EAAmBrD,SAAU,UAKnCoD,EAAQS,QACPnC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,6DAA4DC,UACzEQ,EAAAA,EAAAA,MAAA,OAAKT,UAAU,mEAAkEC,SAAA,CAAC,IAC9EwB,EAAQS,MAAM,SAKrBT,EAAQU,cACP1B,EAAAA,EAAAA,MAAA,OAAKT,UAAU,mDAAkDC,SAAA,CAAC,qBACnD4B,EAAAA,EAAAA,GAAoBJ,EAAQU,YAAYL,SAAU,CAAEC,WAAW,OAI/EN,EAAQW,YACP3B,EAAAA,EAAAA,MAAA,OAAKT,UAAU,mDAAkDC,SAAA,CAAC,4BACjD4B,EAAAA,EAAAA,GAAoBJ,EAAQW,UAAUN,SAAU,CAAEC,WAAW,SA9CxEN,EAAQlC,QAsDrBzB,IACCiC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBC,UAC/BF,EAAAA,EAAAA,KAAA,UACEY,QA7LO0B,KACrBpE,GAAY,IA6LEqE,SAAU9E,EACVwC,UAAU,yBAAwBC,SAEjCzC,GACCiD,EAAAA,EAAAA,MAAAc,EAAAA,SAAA,CAAAtB,SAAA,EACEF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,uBAA4B,gBAE3C,cAAAI,OA5RA,GA8RyB,oBAMlCtC,GAAWX,EAAQkB,OAAS,IAC5B0B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,6EAA4EC,SAAC,wDAQlGF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBC,UAC/BQ,EAAAA,EAAAA,MAAA,UACEE,QAASA,IAAM7D,GAAU,GACzBkD,UAAU,mGAAkGC,SAAA,EAE5GF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,UAAUY,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAWb,UAC5EF,EAAAA,EAAAA,KAAA,QAAMgB,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,sBACjE,kB","sources":["pages/CheckInHistoryPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { db } from '../services/firebase';\nimport { collection, query, where, getDocs, orderBy, limit, startAfter } from 'firebase/firestore';\nimport { formatDistanceToNow } from 'date-fns';\nimport Header from '../components/Header';\n\nconst ITEMS_PER_PAGE = 20;\n\nconst CheckInHistoryPage = () => {\n  const navigate = useNavigate();\n  const { currentUser, userData } = useAuth();\n  const [history, setHistory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [filter, setFilter] = useState('all'); // all, completed, alerted\n  const [lastDoc, setLastDoc] = useState(null);\n  const [hasMore, setHasMore] = useState(true);\n\n  useEffect(() => {\n    loadHistory();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentUser, filter]);\n\n  const loadHistory = async (loadMore = false) => {\n    if (!currentUser) return;\n\n    if (loadMore) {\n      setLoadingMore(true);\n    } else {\n      setLoading(true);\n      setHistory([]);\n      setLastDoc(null);\n      setHasMore(true);\n    }\n\n    try {\n      let q = query(\n        collection(db, 'checkins'),\n        where('userId', '==', currentUser.uid),\n        orderBy('createdAt', 'desc'),\n        limit(ITEMS_PER_PAGE)\n      );\n\n      if (filter === 'completed') {\n        q = query(\n          collection(db, 'checkins'),\n          where('userId', '==', currentUser.uid),\n          where('status', '==', 'completed'),\n          orderBy('createdAt', 'desc'),\n          limit(ITEMS_PER_PAGE)\n        );\n      } else if (filter === 'alerted') {\n        q = query(\n          collection(db, 'checkins'),\n          where('userId', '==', currentUser.uid),\n          where('status', '==', 'alerted'),\n          orderBy('createdAt', 'desc'),\n          limit(ITEMS_PER_PAGE)\n        );\n      }\n\n      // If loading more, start after the last document\n      if (loadMore && lastDoc) {\n        q = query(q, startAfter(lastDoc));\n      }\n\n      const snapshot = await getDocs(q);\n      const checkIns = [];\n      snapshot.forEach((doc) => {\n        checkIns.push({ id: doc.id, ...doc.data() });\n      });\n\n      // Update state\n      if (loadMore) {\n        setHistory(prev => [...prev, ...checkIns]);\n      } else {\n        setHistory(checkIns);\n      }\n\n      // Update pagination state\n      setLastDoc(snapshot.docs[snapshot.docs.length - 1] || null);\n      setHasMore(checkIns.length === ITEMS_PER_PAGE);\n\n      setLoading(false);\n      setLoadingMore(false);\n    } catch (error) {\n      console.error('Error loading history:', error);\n      if (!loadMore) setHistory([]);\n      setLoading(false);\n      setLoadingMore(false);\n    }\n  };\n\n  const handleLoadMore = () => {\n    loadHistory(true);\n  };\n\n  const getStatusBadge = (status) => {\n    switch (status) {\n      case 'completed':\n        return <span className=\"badge badge-success\">‚úÖ Safe</span>;\n      case 'alerted':\n        return <span className=\"badge badge-warning\">üö® Alerted</span>;\n      case 'active':\n        return <span className=\"badge badge-primary\">‚è∞ Active</span>;\n      default:\n        return <span className=\"badge\">Unknown</span>;\n    }\n  };\n\n  const formatDuration = (minutes) => {\n    if (minutes < 60) return `${minutes}m`;\n    const hours = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return mins > 0 ? `${hours}h ${mins}m` : `${hours}h`;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-pattern dark:bg-dark-pattern\">\n        <Header />\n        <div className=\"flex items-center justify-center py-20\">\n          <div className=\"spinner\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-pattern dark:bg-dark-pattern\">\n      <Header />\n\n      <div className=\"max-w-4xl mx-auto p-4 pb-20\">\n        {/* Back Button - Top */}\n        <button\n          onClick={() => navigate(-1)}\n          className=\"flex items-center gap-2 text-primary dark:text-dark-primary hover:underline mb-4 font-semibold\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n          </svg>\n          Back\n        </button>\n\n        {/* Header */}\n        <div className=\"mb-6\">\n          <h1 className=\"text-3xl font-display text-text-primary dark:text-dark-text-primary mb-2\">Check-in History</h1>\n          <p className=\"text-text-secondary dark:text-dark-text-secondary\">\n            View all your past check-ins\n          </p>\n        </div>\n\n        {/* Filters */}\n        <div className=\"flex gap-2 mb-6 overflow-x-auto pb-2\">\n          <button\n            onClick={() => setFilter('all')}\n            className={`px-4 py-2 rounded-full font-semibold whitespace-nowrap transition-all ${\n              filter === 'all'\n                ? 'bg-primary text-white'\n                : 'bg-white dark:bg-dark-card text-text-primary dark:text-dark-text-primary hover:bg-gray-50 dark:hover:bg-dark-hover'\n            }`}\n          >\n            All\n          </button>\n          <button\n            onClick={() => setFilter('completed')}\n            className={`px-4 py-2 rounded-full font-semibold whitespace-nowrap transition-all ${\n              filter === 'completed'\n                ? 'bg-success text-white'\n                : 'bg-white dark:bg-dark-card text-text-primary dark:text-dark-text-primary hover:bg-gray-50 dark:hover:bg-dark-hover'\n            }`}\n          >\n            ‚úÖ Safe\n          </button>\n          <button\n            onClick={() => setFilter('alerted')}\n            className={`px-4 py-2 rounded-full font-semibold whitespace-nowrap transition-all ${\n              filter === 'alerted'\n                ? 'bg-warning text-white'\n                : 'bg-white dark:bg-dark-card text-text-primary dark:text-dark-text-primary hover:bg-gray-50 dark:hover:bg-dark-hover'\n            }`}\n          >\n            üö® Alerted\n          </button>\n        </div>\n\n        {/* Stats Summary - loads from user document (efficient!) */}\n        <div className=\"card dark:bg-dark-card p-6 mb-6\">\n          <div className=\"grid grid-cols-3 gap-4\">\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-display text-primary dark:text-dark-primary\">\n                {userData?.stats?.totalCheckIns || 0}\n              </div>\n              <div className=\"text-sm text-text-secondary dark:text-dark-text-secondary\">Total</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-display text-success dark:text-dark-success\">\n                {userData?.stats?.completedCheckIns || 0}\n              </div>\n              <div className=\"text-sm text-text-secondary dark:text-dark-text-secondary\">Completed</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-display text-warning dark:text-dark-warning\">\n                {userData?.stats?.alertedCheckIns || 0}\n              </div>\n              <div className=\"text-sm text-text-secondary dark:text-dark-text-secondary\">Alerted</div>\n            </div>\n          </div>\n        </div>\n\n        {/* History List */}\n        {history.length === 0 ? (\n          <div className=\"card dark:bg-dark-card p-12 text-center\">\n            <div className=\"text-6xl mb-4\">üìã</div>\n            <h2 className=\"text-2xl font-display text-text-primary dark:text-dark-text-primary mb-2\">\n              No check-ins yet\n            </h2>\n            <p className=\"text-text-secondary dark:text-dark-text-secondary\">\n              Your check-in history will appear here\n            </p>\n          </div>\n        ) : (\n          <>\n            <div className=\"space-y-4\">\n              {history.map((checkIn) => (\n                <div key={checkIn.id} className=\"card dark:bg-dark-card p-6\">\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <h3 className=\"font-display text-lg text-text-primary dark:text-dark-text-primary\">\n                          {checkIn.location}\n                        </h3>\n                        {getStatusBadge(checkIn.status)}\n                      </div>\n                      <div className=\"text-sm text-text-secondary dark:text-dark-text-secondary\">\n                        {checkIn.createdAt && formatDistanceToNow(checkIn.createdAt.toDate(), { addSuffix: true })}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <div className=\"text-text-secondary dark:text-dark-text-secondary\">Duration</div>\n                      <div className=\"font-semibold text-text-primary dark:text-dark-text-primary\">\n                        {formatDuration(checkIn.duration)}\n                      </div>\n                    </div>\n                    <div>\n                      <div className=\"text-text-secondary dark:text-dark-text-secondary\">Besties Notified</div>\n                      <div className=\"font-semibold text-text-primary dark:text-dark-text-primary\">\n                        {checkIn.bestieIds?.length || 0}\n                      </div>\n                    </div>\n                  </div>\n\n                  {checkIn.notes && (\n                    <div className=\"mt-3 pt-3 border-t border-gray-200 dark:border-dark-border\">\n                      <div className=\"text-sm text-text-secondary dark:text-dark-text-secondary italic\">\n                        \"{checkIn.notes}\"\n                      </div>\n                    </div>\n                  )}\n\n                  {checkIn.completedAt && (\n                    <div className=\"mt-3 text-xs text-success dark:text-dark-success\">\n                      ‚úÖ Completed {formatDistanceToNow(checkIn.completedAt.toDate(), { addSuffix: true })}\n                    </div>\n                  )}\n\n                  {checkIn.alertedAt && (\n                    <div className=\"mt-3 text-xs text-warning dark:text-dark-warning\">\n                      üö® Alert sent {formatDistanceToNow(checkIn.alertedAt.toDate(), { addSuffix: true })}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n\n            {/* Load More Button */}\n            {hasMore && (\n              <div className=\"mt-6 text-center\">\n                <button\n                  onClick={handleLoadMore}\n                  disabled={loadingMore}\n                  className=\"btn btn-secondary px-8\"\n                >\n                  {loadingMore ? (\n                    <>\n                      <span className=\"spinner-small mr-2\"></span>\n                      Loading...\n                    </>\n                  ) : (\n                    `Load More (${ITEMS_PER_PAGE} at a time)`\n                  )}\n                </button>\n              </div>\n            )}\n\n            {!hasMore && history.length > 0 && (\n              <div className=\"mt-6 text-center text-text-secondary dark:text-dark-text-secondary text-sm\">\n                You've reached the end of your check-in history\n              </div>\n            )}\n          </>\n        )}\n\n        {/* Back Button - Bottom */}\n        <div className=\"mt-8 text-center\">\n          <button\n            onClick={() => navigate(-1)}\n            className=\"inline-flex items-center gap-2 text-primary dark:text-dark-primary hover:underline font-semibold\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n            Back\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CheckInHistoryPage;\n"],"names":["CheckInHistoryPage","_userData$stats","_userData$stats2","_userData$stats3","navigate","useNavigate","currentUser","userData","useAuth","history","setHistory","useState","loading","setLoading","loadingMore","setLoadingMore","filter","setFilter","lastDoc","setLastDoc","hasMore","setHasMore","useEffect","loadHistory","async","loadMore","arguments","length","undefined","q","query","collection","db","where","uid","orderBy","limit","startAfter","snapshot","getDocs","checkIns","forEach","doc","push","_objectSpread","id","data","prev","docs","error","console","getStatusBadge","status","_jsx","className","children","formatDuration","minutes","concat","hours","Math","floor","mins","_jsxs","Header","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","stats","totalCheckIns","completedCheckIns","alertedCheckIns","_Fragment","map","checkIn","_checkIn$bestieIds","location","createdAt","formatDistanceToNow","toDate","addSuffix","duration","bestieIds","notes","completedAt","alertedAt","handleLoadMore","disabled"],"sourceRoot":""}