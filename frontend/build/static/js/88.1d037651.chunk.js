"use strict";(self.webpackChunkbesties_frontend=self.webpackChunkbesties_frontend||[]).push([[88],{4088:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var a=t(5043),r=t(4528),i=t(3984),c=t(5472),n=t(2339),l=t(579);const o=()=>{const{currentUser:e}=(0,r.As)(),[s,o]=(0,a.useState)([]),[d,x]=(0,a.useState)(""),[m,h]=(0,a.useState)("\ud83d\udccd"),[u,v]=(0,a.useState)(!0);(0,a.useEffect)(()=>{f()},[e]);const f=async()=>{if(e)try{const s=await(0,c.x7)((0,c.H9)(i.db,"users",e.uid));s.exists()&&o(s.data().favoriteLocations||[]),v(!1)}catch(s){console.error("Error loading favorites:",s),v(!1)}};return u?(0,l.jsx)("div",{className:"min-h-screen bg-pattern",children:(0,l.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,l.jsx)("div",{className:"spinner"})})}):(0,l.jsx)("div",{className:"min-h-screen bg-pattern",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto p-4 pb-20",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h1",{className:"text-3xl font-display text-text-primary mb-2",children:"Favorite Locations"}),(0,l.jsx)("p",{className:"text-text-secondary",children:"Save your frequently visited places for quick check-ins"})]}),(0,l.jsxs)("div",{className:"card p-6 mb-6",children:[(0,l.jsx)("h3",{className:"font-display text-lg text-text-primary mb-4",children:"Add Location"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Choose Icon"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:["\ud83d\udccd","\u2615","\ud83c\udf7d\ufe0f","\ud83c\udfac","\ud83c\udf7b","\ud83c\udfe0","\ud83c\udfc3","\ud83d\udecd\ufe0f","\ud83c\udfb5","\ud83c\udfe2","\ud83c\udfeb","\ud83c\udfe5"].map(e=>(0,l.jsx)("button",{onClick:()=>h(e),className:"w-12 h-12 rounded-xl text-2xl flex items-center justify-center transition-all ".concat(m===e?"bg-primary text-white scale-110":"bg-gray-100 hover:bg-gray-200"),children:e},e))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Location Name"}),(0,l.jsx)("input",{type:"text",value:d,onChange:e=>x(e.target.value),className:"input",placeholder:"e.g., Local Coffee Shop",maxLength:50})]}),(0,l.jsx)("button",{onClick:async()=>{if(!d.trim())return void n.Ay.error("Please enter a location");if(s.length>=20)return void n.Ay.error("Maximum 20 favorite locations");const a={id:Date.now().toString(),name:d.trim(),emoji:m,usedCount:0},r=[...s,a];try{await(0,c.mZ)((0,c.H9)(i.db,"users",e.uid),{favoriteLocations:r});const{logAnalyticsEvent:s}=t(3984);s("location_favorite_added",{total_favorites:r.length}),o(r),x(""),h("\ud83d\udccd"),n.Ay.success("Location added!")}catch(l){console.error("Error adding favorite:",l),n.Ay.error("Failed to add location")}},className:"w-full btn btn-primary",children:"\u2795 Add to Favorites"})]})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("h3",{className:"font-display text-lg text-text-primary mb-4",children:["Your Favorites (",s.length,"/20)"]}),0===s.length?(0,l.jsxs)("div",{className:"card p-12 text-center",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udccd"}),(0,l.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-2",children:"No favorites yet"}),(0,l.jsx)("p",{className:"text-text-secondary",children:"Add your frequently visited locations for quick access"})]}):(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(t=>(0,l.jsx)("div",{className:"card p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,l.jsx)("div",{className:"text-3xl",children:t.emoji}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("div",{className:"font-semibold text-text-primary truncate",children:t.name}),t.usedCount>0&&(0,l.jsxs)("div",{className:"text-sm text-text-secondary",children:["Used ",t.usedCount," times"]})]})]}),(0,l.jsx)("button",{onClick:()=>(async t=>{const a=s.filter(e=>e.id!==t);try{await(0,c.mZ)((0,c.H9)(i.db,"users",e.uid),{favoriteLocations:a}),o(a),n.Ay.success("Location removed")}catch(r){console.error("Error removing favorite:",r),n.Ay.error("Failed to remove location")}})(t.id),className:"text-danger hover:bg-danger/10 p-2 rounded-lg transition-colors",children:"\ud83d\uddd1\ufe0f"})]})},t.id))})]})]})})}}}]);
//# sourceMappingURL=88.1d037651.chunk.js.map