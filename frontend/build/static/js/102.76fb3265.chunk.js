"use strict";(self.webpackChunkbesties_frontend=self.webpackChunkbesties_frontend||[]).push([[102],{9102:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var a=s(5043),r=s(3216),n=s(3984),i=s(5472),l=s(4428),c=s(579);const o=e=>{let{healthScore:t,setShowPerfectCircle:s,showPerfectCircle:a}=e;return(0,c.jsxs)("div",{className:"card p-6 md:p-8 mb-6 bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 border-2 border-purple-200 relative overflow-hidden",children:[(0,c.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-primary opacity-10 rounded-full blur-3xl"}),(0,c.jsxs)("div",{className:"relative z-10 text-center",children:[(0,c.jsx)("div",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Your Overall Vibe"}),(0,c.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-4",children:[(0,c.jsx)("span",{className:"text-6xl md:text-7xl font-display text-gradient",children:t}),(0,c.jsx)("span",{className:"text-3xl text-gray-400",children:"/100"})]}),(0,c.jsx)("div",{className:"w-full max-w-md mx-auto h-4 bg-gray-200 rounded-full overflow-hidden mb-4",children:(0,c.jsx)("div",{className:"h-full bg-gradient-primary transition-all duration-1000 rounded-full",style:{width:"".concat(t,"%")}})}),(0,c.jsxs)("div",{className:"text-lg font-semibold text-gray-700",children:[t>=90&&"\ud83d\udd25 Unbreakable! Your circle is goals fr",t>=70&&t<90&&"\u26a1 Super solid! Keep it up",t>=50&&t<70&&"\ud83d\udcaa Pretty strong! You got this",t>=30&&t<50&&"\ud83d\udd06 Getting there! Keep building",t<30&&"\ud83c\udf31 Just starting! Lots of potential"]}),(0,c.jsx)("button",{onClick:()=>s(!a),className:"mt-4 px-6 py-2 bg-white text-primary font-semibold rounded-full shadow-md hover:shadow-lg transition-all flex items-center gap-2 mx-auto border-2 border-purple-200",children:a?"\u2190 Back to my stats":(0,c.jsx)(c.Fragment,{children:"See the dream circle \u2728"})})]})]})},d=e=>{let{healthScore:t,circleBestiesLength:s}=e;if(t>=90||0===s)return null;const a=t<30?{nextLevel:"Growing \ud83d\udd06",pointsToGo:30-t,progress:t/30*100,gradient:"from-pink-400 to-orange-400",message:"Keep building! Every interaction counts."}:t<50?{nextLevel:"Strong \ud83d\udcaa",pointsToGo:50-t,progress:(t-30)/20*100,gradient:"from-orange-400 to-purple-400",message:"You're doing great! Keep the momentum going."}:t<70?{nextLevel:"Powerful \u26a1",pointsToGo:70-t,progress:(t-50)/20*100,gradient:"from-purple-400 to-blue-400",message:"So close to powerful! You're crushing it."}:{nextLevel:"Unbreakable \ud83d\udd25",pointsToGo:90-t,progress:(t-70)/20*100,gradient:"from-blue-400 to-green-400",message:"Almost there! Unbreakable status is within reach."};return(0,c.jsxs)("div",{className:"card p-6 mb-6 bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 border-2 border-blue-200",children:[(0,c.jsxs)("h2",{className:"text-xl font-display text-gradient mb-4 flex items-center gap-2",children:["Next Level",(0,c.jsx)("span",{className:"text-2xl",children:"\ud83c\udfaf"})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-700",children:a.nextLevel}),(0,c.jsxs)("span",{className:"text-sm text-gray-600",children:[a.pointsToGo," points to go"]})]}),(0,c.jsx)("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,c.jsx)("div",{className:"h-full bg-gradient-to-r ".concat(a.gradient," transition-all duration-500"),style:{width:"".concat(a.progress,"%")}})}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:a.message})]})]})},x=e=>{let{avgAlertResponse:t,avgRecency:s,circleSize:a}=e;return(0,c.jsxs)("div",{className:"card p-6 mb-6",children:[(0,c.jsx)("h2",{className:"text-xl font-display text-gradient mb-4",children:"What Makes You Close"}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-2xl",children:"\ud83d\udea8"}),(0,c.jsx)("span",{className:"font-semibold text-text-primary",children:"Show Up Factor"})]}),(0,c.jsxs)("span",{className:"font-bold text-gradient",children:[Math.round(t),"/50"]})]}),(0,c.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,c.jsx)("div",{className:"h-full bg-gradient-to-r from-red-400 to-orange-400 transition-all duration-500",style:{width:"".concat(t/50*100,"%")}})}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"They drop everything when you need them"})]}),(0,c.jsx)("div",{className:"relative",children:(0,c.jsxs)("div",{className:"opacity-40",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-2xl",children:"\ud83d\udcf8"}),(0,c.jsx)("span",{className:"font-semibold text-text-primary",children:"Story Vibes"}),(0,c.jsx)("span",{className:"text-xs font-bold bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 px-2 py-0.5 rounded-full border border-purple-200",children:"Coming Soon"})]}),(0,c.jsx)("span",{className:"font-bold text-gray-400",children:"-/25"})]}),(0,c.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,c.jsx)("div",{className:"h-full bg-gradient-to-r from-gray-300 to-gray-300",style:{width:"0%"}})}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Share moments with your circle (launching soon!)"})]})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-2xl",children:"\u2b50"}),(0,c.jsx)("span",{className:"font-semibold text-text-primary",children:"Top 5 Status"})]}),(0,c.jsxs)("span",{className:"font-bold text-gradient",children:[a,"/5 members"]})]}),(0,c.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,c.jsx)("div",{className:"h-full bg-gradient-primary transition-all duration-500",style:{width:"".concat(a/5*100,"%")}})}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Being in each other's top 5 matters"})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-2xl",children:"\ud83d\udcc5"}),(0,c.jsx)("span",{className:"font-semibold text-text-primary",children:"Staying Current"})]}),(0,c.jsxs)("span",{className:"font-bold text-gradient",children:[Math.round(s),"/10"]})]}),(0,c.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,c.jsx)("div",{className:"h-full bg-gradient-to-r from-green-400 to-emerald-400 transition-all duration-500",style:{width:"".concat(s/10*100,"%")}})}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Keeping the connection alive with regular check-ins"})]})]})]})},m=e=>{let{connections:t,circleBesties:s}=e;const a=(0,r.Zp)();return(0,c.jsxs)("div",{className:"card p-6 mb-6",children:[(0,c.jsx)("h2",{className:"text-xl font-display text-gradient mb-4",children:"Your Connections"}),(0,c.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>{var r;const n=s.find(t=>t.id===e.id)||s[t];return n?(0,c.jsxs)("button",{onClick:()=>a("/user/".concat(n.id)),className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl hover:shadow-lg transition-all border-2 border-transparent hover:border-purple-200",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:n.photoURL?(0,c.jsx)("img",{src:n.photoURL,alt:n.name,className:"w-14 h-14 rounded-full object-cover ring-4 ring-purple-200"}):(0,c.jsx)("div",{className:"w-14 h-14 bg-gradient-primary rounded-full flex items-center justify-center text-white font-display text-xl ring-4 ring-purple-200",children:(null===(r=n.name[0])||void 0===r?void 0:r.toUpperCase())||"?"})}),(0,c.jsxs)("div",{className:"flex-1 text-left",children:[(0,c.jsx)("div",{className:"font-semibold text-text-primary text-lg",children:n.name}),(0,c.jsxs)("div",{className:"text-sm text-gray-600",children:["Last interaction: ",(0,l.ak)(n.lastInteraction)]})]}),(0,c.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-2xl",children:(0,l.rC)(e.total)}),(0,c.jsx)("span",{className:"font-bold text-2xl text-gradient",children:e.total})]}),(0,c.jsx)("div",{className:"text-xs font-semibold text-gray-500 capitalize",children:e.level})]})]},n.id):null})})]})},h=e=>{let{tips:t}=e;const s=(0,r.Zp)();return(0,c.jsxs)("div",{className:"card p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-display text-gradient mb-4",children:"Level Up Your Circle \ud83d\ude80"}),(0,c.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>(0,c.jsx)("div",{className:"p-4 rounded-xl border-2 ".concat("success"===e.priority?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-300":"high"===e.priority?"bg-gradient-to-r from-purple-50 to-pink-50 border-purple-300":"medium"===e.priority?"bg-gradient-to-r from-orange-50 to-yellow-50 border-orange-300":"bg-gradient-to-r from-blue-50 to-cyan-50 border-blue-300"),children:(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsx)("span",{className:"text-3xl flex-shrink-0",children:e.icon}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("h3",{className:"font-semibold text-text-primary mb-1",children:e.title}),(0,c.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:e.description}),e.action&&e.link&&(0,c.jsxs)("button",{onClick:()=>s(e.link),className:"text-sm font-semibold text-primary hover:underline flex items-center gap-1",children:[e.action," \u2192"]})]})]})},t))})]})},p=()=>{const e=[{name:"Alex",score:100},{name:"Sam",score:100},{name:"Jordan",score:100},{name:"Taylor",score:100},{name:"Morgan",score:100}];return(0,c.jsxs)("div",{className:"card p-8 mb-6 bg-gradient-to-br from-green-50 via-emerald-50 via-teal-50 via-pink-50 to-purple-50 border-4 border-green-300 relative overflow-hidden",children:[(0,c.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[Array.from({length:30}).map((e,t)=>(0,c.jsx)("div",{className:"absolute w-3 h-3 rounded-full opacity-50 animate-float",style:{background:"radial-gradient(circle, #10b981, #34d399)",left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(5*Math.random(),"s"),animationDuration:"".concat(2+3*Math.random(),"s")}},"green-".concat(t))),Array.from({length:30}).map((e,t)=>(0,c.jsx)("div",{className:"absolute w-3 h-3 rounded-full opacity-50 animate-float",style:{background:"radial-gradient(circle, #ec4899, #f472b6)",left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(5*Math.random(),"s"),animationDuration:"".concat(2+3*Math.random(),"s")}},"pink-".concat(t)))]}),(0,c.jsxs)("div",{className:"relative z-10",children:[(0,c.jsxs)("div",{className:"text-center mb-8",children:[(0,c.jsx)("h2",{className:"text-2xl md:text-3xl font-display bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-2",children:"The Dream Circle \u2728"}),(0,c.jsx)("p",{className:"text-gray-700 text-sm md:text-base font-semibold",children:"This is what an unbreakable circle looks like - pure magic"})]}),(0,c.jsx)("div",{className:"relative w-full max-w-sm mx-auto aspect-square mb-8",children:(0,c.jsxs)("div",{className:"absolute inset-0",children:[e.map((e,t)=>{const s=(72*t-90)*(Math.PI/180),a=50+45*Math.cos(s),r=50+45*Math.sin(s);return(0,c.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:0},children:[(0,c.jsxs)("defs",{children:[(0,c.jsxs)("linearGradient",{id:"perfect-gradient-".concat(t),x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,c.jsx)("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.9"}),(0,c.jsx)("stop",{offset:"25%",stopColor:"#14b8a6",stopOpacity:"1"}),(0,c.jsx)("stop",{offset:"50%",stopColor:"#ec4899",stopOpacity:"1"}),(0,c.jsx)("stop",{offset:"75%",stopColor:"#a855f7",stopOpacity:"1"}),(0,c.jsx)("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:"0.9"})]}),(0,c.jsxs)("filter",{id:"perfect-glow-".concat(t),children:[(0,c.jsx)("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),(0,c.jsxs)("feMerge",{children:[(0,c.jsx)("feMergeNode",{in:"coloredBlur"}),(0,c.jsx)("feMergeNode",{in:"coloredBlur"}),(0,c.jsx)("feMergeNode",{in:"coloredBlur"}),(0,c.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,c.jsx)("line",{x1:"50%",y1:"50%",x2:"".concat(a,"%"),y2:"".concat(r,"%"),stroke:"url(#perfect-gradient-".concat(t,")"),strokeWidth:"5",filter:"url(#perfect-glow-".concat(t,")"),className:"animate-pulse-fast"}),(0,c.jsx)("circle",{cx:"50%",cy:"50%",r:"5",fill:"#10b981",opacity:"0.9",className:"animate-particle-fast",style:{"--target-x":"".concat(a,"%"),"--target-y":"".concat(r,"%"),animationDelay:"".concat(.2*t,"s")}}),(0,c.jsx)("circle",{cx:"50%",cy:"50%",r:"4",fill:"#ec4899",opacity:"0.85",className:"animate-particle-fast",style:{"--target-x":"".concat(a,"%"),"--target-y":"".concat(r,"%"),animationDelay:"".concat(.2*t+.5,"s")}}),(0,c.jsx)("circle",{cx:"50%",cy:"50%",r:"3",fill:"#14b8a6",opacity:"0.8",className:"animate-particle-fast",style:{"--target-x":"".concat(a,"%"),"--target-y":"".concat(r,"%"),animationDelay:"".concat(.2*t+1,"s")}}),(0,c.jsx)("circle",{cx:"50%",cy:"50%",r:"4",fill:"#f472b6",opacity:"0.8",className:"animate-particle-fast",style:{"--target-x":"".concat(a,"%"),"--target-y":"".concat(r,"%"),animationDelay:"".concat(.2*t+1.5,"s")}})]},"line-".concat(t))}),(0,c.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10",children:(0,c.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-white text-lg font-display shadow-2xl border-4 border-white ring-4 ring-green-300 animate-breathe-perfect",children:"100"})}),e.map((e,t)=>{const s=(72*t-90)*(Math.PI/180),a=50+45*Math.cos(s),r=50+45*Math.sin(s);return(0,c.jsx)("div",{className:"absolute",style:{left:"".concat(a,"%"),top:"".concat(r,"%"),transform:"translate(-50%, -50%)"},children:(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full shadow-xl border-4 border-white ring-6 ring-green-300 overflow-hidden flex items-center justify-center animate-breathe-perfect",style:{animationDelay:"".concat(.2*t,"s")},children:[(0,c.jsx)("span",{className:"text-white font-display text-2xl",children:e.name[0]}),(0,c.jsx)("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-2 border-white flex items-center justify-center text-xs shadow-lg animate-pulse-fast",children:"\ud83d\udd25"})]}),(0,c.jsx)("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 whitespace-nowrap text-xs font-bold text-green-700",children:"100/100"})]})},t)})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-12",children:[(0,c.jsxs)("div",{className:"bg-white p-4 rounded-xl border-2 border-green-300 text-center",children:[(0,c.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udea8"}),(0,c.jsx)("div",{className:"font-bold text-green-700",children:"Instant Response"}),(0,c.jsx)("div",{className:"text-sm text-gray-600",children:"< 5 minutes to every alert"})]}),(0,c.jsxs)("div",{className:"bg-white p-4 rounded-xl border-2 border-green-300 text-center",children:[(0,c.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udcf8"}),(0,c.jsx)("div",{className:"font-bold text-green-700",children:"Active Stories"}),(0,c.jsx)("div",{className:"text-sm text-gray-600",children:"View & react to all stories"})]}),(0,c.jsxs)("div",{className:"bg-white p-4 rounded-xl border-2 border-green-300 text-center",children:[(0,c.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udc9a"}),(0,c.jsx)("div",{className:"font-bold text-green-700",children:"Daily Connection"}),(0,c.jsx)("div",{className:"text-sm text-gray-600",children:"Interact every single day"})]})]}),(0,c.jsxs)("div",{className:"mt-8 p-6 bg-white rounded-xl border-2 border-green-300 shadow-lg",children:[(0,c.jsx)("h3",{className:"font-display text-xl text-green-700 mb-2 flex items-center gap-2",children:"How to Get There \ud83c\udfaf"}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"It's honestly simpler than you think"}),(0,c.jsxs)("div",{className:"space-y-3 text-sm text-gray-700",children:[(0,c.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,c.jsx)("span",{className:"text-green-600 font-bold text-lg",children:"1."}),(0,c.jsxs)("span",{children:[(0,c.jsx)("strong",{children:"Drop everything when they need you."})," Seriously - respond to their alerts within minutes. That's what besties do."]})]}),(0,c.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,c.jsx)("span",{className:"text-green-600 font-bold text-lg",children:"2."}),(0,c.jsxs)("span",{children:[(0,c.jsx)("strong",{children:"Keep each other in the loop."})," Share your circle stories so they know what's up. React to theirs. Stay connected."]})]}),(0,c.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,c.jsx)("span",{className:"text-green-600 font-bold text-lg",children:"3."}),(0,c.jsxs)("span",{children:[(0,c.jsx)("strong",{children:"Make it mutual."})," Put them in your top 5 AND make sure you're in theirs. It goes both ways."]})]}),(0,c.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,c.jsx)("span",{className:"text-green-600 font-bold text-lg",children:"4."}),(0,c.jsxs)("span",{children:[(0,c.jsx)("strong",{children:"Talk regularly, not just in emergencies."})," Little check-ins keep the vibe strong."]})]}),(0,c.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,c.jsx)("span",{className:"text-green-600 font-bold text-lg",children:"5."}),(0,c.jsxs)("span",{children:[(0,c.jsx)("strong",{children:"Be there in the hard times."})," Anyone can show up when things are good. Real ones show up when it's tough."]})]})]})]})]}),(0,c.jsx)("style",{children:"\n        @keyframes breathe-perfect {\n          0%, 100% {\n            transform: scale(1);\n            box-shadow: 0 10px 40px rgba(16, 185, 129, 0.4);\n          }\n          50% {\n            transform: scale(1.1);\n            box-shadow: 0 15px 60px rgba(16, 185, 129, 0.6);\n          }\n        }\n        .animate-breathe-perfect {\n          animation: breathe-perfect 2s ease-in-out infinite;\n        }\n        @keyframes pulse-fast {\n          0%, 100% {\n            opacity: 0.6;\n          }\n          50% {\n            opacity: 1;\n          }\n        }\n        .animate-pulse-fast {\n          animation: pulse-fast 1.5s ease-in-out infinite;\n        }\n        @keyframes particle-fast {\n          0% {\n            cx: 50%;\n            cy: 50%;\n            opacity: 1;\n          }\n          100% {\n            cx: var(--target-x);\n            cy: var(--target-y);\n            opacity: 0;\n          }\n        }\n        .animate-particle-fast {\n          animation: particle-fast 2s linear infinite;\n        }\n        @keyframes float {\n          0%, 100% {\n            transform: translateY(0) translateX(0);\n          }\n          25% {\n            transform: translateY(-20px) translateX(10px);\n          }\n          50% {\n            transform: translateY(-10px) translateX(-10px);\n          }\n          75% {\n            transform: translateY(-30px) translateX(5px);\n          }\n        }\n        .animate-float {\n          animation: float 4s ease-in-out infinite;\n        }\n      "})]})},g=()=>{const e=(0,r.Zp)(),[t,s]=(0,a.useState)(!0),[g,u]=(0,a.useState)(null),[f,b]=(0,a.useState)([]),[y,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{v()},[]);const v=async()=>{const t=n.auth.currentUser;if(t)try{const e=await(0,l.zp)(t.uid);if(u(e),e.circleSize>0){const e=await(0,i.x7)((0,i.H9)(n.db,"users",t.uid)),s=e.exists()&&e.data().featuredCircle||[],a=[];for(const r of s){const e=await(0,i.x7)((0,i.H9)(n.db,"users",r));if(!e.exists())continue;const s=e.data(),c=await(0,l.ds)(t.uid,r);a.push({id:r,name:s.displayName||"Bestie",photoURL:s.photoURL||null,lastInteraction:c})}b(a)}s(!1)}catch(a){console.error("Error loading circle health:",a),s(!1)}else e("/login")};if(t)return(0,c.jsx)("div",{className:"min-h-screen bg-pattern",children:(0,c.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,c.jsx)("div",{className:"spinner"})})});if(!g||0===g.circleSize)return(0,c.jsx)("div",{className:"min-h-screen bg-pattern",children:(0,c.jsx)("div",{className:"max-w-4xl mx-auto p-4 py-8",children:(0,c.jsxs)("div",{className:"card p-8 text-center",children:[(0,c.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc65"}),(0,c.jsx)("h1",{className:"text-2xl font-display text-gradient mb-3",children:"Build Your Circle First"}),(0,c.jsx)("p",{className:"text-text-secondary mb-6",children:"Add besties to your featured circle to see your Circle Health Dashboard"}),(0,c.jsx)("button",{onClick:()=>e("/profile"),className:"btn btn-primary",children:"Go to Profile"})]})})});const N=g.score,w=g.connections||[],k=w.length>0?w.reduce((e,t)=>{var s;return e+((null===(s=t.breakdown)||void 0===s?void 0:s.alertResponse)||0)},0)/w.length:0,S=w.length>0?w.reduce((e,t)=>{var s;return e+((null===(s=t.breakdown)||void 0===s?void 0:s.recency)||0)},0)/w.length:0,C=[];if(g.circleSize<5&&C.push({icon:"\u2728",title:"Add ".concat(5-g.circleSize," More ").concat(4===g.circleSize?"Bestie":"Besties"),description:0===g.circleSize?"Your circle is waiting for you! Add the 5 people you trust most - the ones who always have your back.":"You're ".concat(g.circleSize,"/5 of the way there! Complete your circle to unlock full connection power."),action:"Find Besties",link:"/besties",priority:"high"}),S<7){const e=w.filter(e=>{var t;return((null===(t=e.breakdown)||void 0===t?void 0:t.recency)||0)<4}),t=e.map((e,t)=>{const s=f.find(t=>t.id===e.id)||f[t];return(null===s||void 0===s?void 0:s.name)||"someone"}).slice(0,2).join(" and ");C.push({icon:"\ud83d\udcac",title:e.length>0?"Reach out to ".concat(t):"Stay Connected",description:e.length>0?"You haven't connected in a while. Send them a quick message - they'll love hearing from you!":"Keep those regular check-ins going. Consistency is everything.",action:"View Circle",link:"/profile",priority:"high"})}return k<25&&C.push({icon:"\u26a1",title:"Show Up Faster",description:"When your besties send an alert, try to respond within 15 minutes. That's what makes you irreplaceable.",action:null,priority:"medium"}),N>=90&&C.unshift({icon:"\ud83d\udd25",title:"You Did It!",description:"Your circle is unbreakable. This is the kind of friendship everyone wishes they had. Keep being amazing.",action:null,priority:"success"}),(0,c.jsx)("div",{className:"min-h-screen bg-pattern",children:(0,c.jsxs)("div",{className:"max-w-4xl mx-auto p-4 pb-20 py-8",children:[(0,c.jsxs)("div",{className:"text-center mb-8",children:[(0,c.jsx)("h1",{className:"text-3xl md:text-4xl font-display text-gradient mb-2",children:"Your Circle Stats \u2728"}),(0,c.jsx)("p",{className:"text-text-secondary",children:"See how strong your connections really are"})]}),(0,c.jsx)(o,{healthScore:N,showPerfectCircle:y,setShowPerfectCircle:j}),y?(0,c.jsx)(p,{}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d,{healthScore:N,circleBestiesLength:f.length}),(0,c.jsx)(x,{avgAlertResponse:k,avgRecency:S,circleSize:g.circleSize}),(0,c.jsx)(m,{connections:w,circleBesties:f}),(0,c.jsx)(h,{tips:C})]})]})})}}}]);
//# sourceMappingURL=102.76fb3265.chunk.js.map