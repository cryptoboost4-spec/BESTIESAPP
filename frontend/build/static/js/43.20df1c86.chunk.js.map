{"version":3,"file":"static/js/43.20df1c86.chunk.js","mappings":"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","sources":["components/profile/themes/typography.js","components/ConfettiCelebration.jsx","components/CountUp.jsx","components/BestieCircleShareModal.jsx","components/LivingCircle.jsx","components/SocialShareCardsModal.jsx","components/profile/ProfileCard.jsx","components/profile/ProfileCompletion.jsx","components/profile/WeeklySummary.jsx","components/profile/LoginStreak.jsx","components/profile/BadgesSection.jsx","components/profile/StatsSection.jsx","components/profile/DonationStatus.jsx","components/profile/ProfileAuraStyles.jsx","pages/ProfilePage.jsx","services/connectionStrength.js","components/profile/themes/backgrounds.js","components/profile/layouts/ClassicLayout.jsx","components/profile/layouts/MagazineLayout.jsx","components/profile/layouts/PolaroidLayout.jsx","components/profile/layouts/SplitScreenLayout.jsx","components/profile/layouts/StoryLayout.jsx","components/profile/layouts/BentoLayout.jsx","components/profile/layouts/MinimalLayout.jsx","components/profile/layouts/ScrapbookLayout.jsx","components/profile/layouts/index.js"],"sourcesContent":["// Typography Pairings for Profile Cards\n// Each pairing includes name font and bio font\n\nexport const TYPOGRAPHY_STYLES = [\n  {\n    id: 'elegant',\n    name: 'Elegant',\n    emoji: '',\n    description: 'Sophisticated serif with clean sans',\n    nameFont: {\n      family: 'Playfair Display',\n      weight: '700',\n      style: 'normal',\n      googleFont: 'Playfair+Display:wght@700'\n    },\n    bioFont: {\n      family: 'Inter',\n      weight: '400',\n      style: 'italic',\n      googleFont: 'Inter:ital,wght@1,400'\n    },\n    nameSizeClass: 'text-4xl',\n    bioSizeClass: 'text-xl'\n  },\n  {\n    id: 'playful',\n    name: 'Playful',\n    emoji: '',\n    description: 'Rounded display with friendly body',\n    nameFont: {\n      family: 'Fredoka One',\n      weight: '400',\n      style: 'normal',\n      googleFont: 'Fredoka+One'\n    },\n    bioFont: {\n      family: 'Quicksand',\n      weight: '400',\n      style: 'normal',\n      googleFont: 'Quicksand:wght@400'\n    },\n    nameSizeClass: 'text-4xl',\n    bioSizeClass: 'text-xl'\n  },\n  {\n    id: 'editorial',\n    name: 'Editorial',\n    emoji: '',\n    description: 'Bold all caps with italic',\n    nameFont: {\n      family: 'Montserrat',\n      weight: '800',\n      style: 'normal',\n      transform: 'uppercase',\n      googleFont: 'Montserrat:wght@800'\n    },\n    bioFont: {\n      family: 'Lora',\n      weight: '400',\n      style: 'italic',\n      googleFont: 'Lora:ital,wght@1,400'\n    },\n    nameSizeClass: 'text-3xl tracking-wider',\n    bioSizeClass: 'text-lg'\n  },\n  {\n    id: 'minimal',\n    name: 'Minimal',\n    emoji: '',\n    description: 'Clean thin sans throughout',\n    nameFont: {\n      family: 'Poppins',\n      weight: '300',\n      style: 'normal',\n      googleFont: 'Poppins:wght@300'\n    },\n    bioFont: {\n      family: 'Poppins',\n      weight: '400',\n      style: 'normal',\n      googleFont: 'Poppins:wght@400'\n    },\n    nameSizeClass: 'text-4xl',\n    bioSizeClass: 'text-lg'\n  },\n  {\n    id: 'bold',\n    name: 'Bold',\n    emoji: '',\n    description: 'Extra thick name with standard body',\n    nameFont: {\n      family: 'Archivo Black',\n      weight: '400',\n      style: 'normal',\n      googleFont: 'Archivo+Black'\n    },\n    bioFont: {\n      family: 'Work Sans',\n      weight: '400',\n      style: 'normal',\n      googleFont: 'Work+Sans:wght@400'\n    },\n    nameSizeClass: 'text-4xl',\n    bioSizeClass: 'text-xl'\n  },\n  {\n    id: 'romantic',\n    name: 'Romantic',\n    emoji: '',\n    description: 'Delicate script with soft serif',\n    nameFont: {\n      family: 'Dancing Script',\n      weight: '700',\n      style: 'normal',\n      googleFont: 'Dancing+Script:wght@700'\n    },\n    bioFont: {\n      family: 'Crimson Text',\n      weight: '400',\n      style: 'normal',\n      googleFont: 'Crimson+Text:wght@400'\n    },\n    nameSizeClass: 'text-5xl',\n    bioSizeClass: 'text-xl'\n  }\n];\n\n// Helper to load Google Fonts dynamically\nexport const loadGoogleFonts = (typography) => {\n  const fonts = new Set();\n\n  if (typography?.nameFont?.googleFont) {\n    fonts.add(typography.nameFont.googleFont);\n  }\n  if (typography?.bioFont?.googleFont) {\n    fonts.add(typography.bioFont.googleFont);\n  }\n\n  if (fonts.size === 0) return;\n\n  const fontString = Array.from(fonts).join('&family=');\n  const linkId = 'profile-custom-fonts';\n\n  // Remove existing font link if present\n  const existingLink = document.getElementById(linkId);\n  if (existingLink) {\n    existingLink.remove();\n  }\n\n  // Add new font link\n  const link = document.createElement('link');\n  link.id = linkId;\n  link.rel = 'stylesheet';\n  link.href = `https://fonts.googleapis.com/css2?family=${fontString}&display=swap`;\n  document.head.appendChild(link);\n};\n\n// Get typography style by ID\nexport const getTypographyById = (id) => {\n  return TYPOGRAPHY_STYLES.find(style => style.id === id) || TYPOGRAPHY_STYLES[0];\n};\n\n// Generate CSS for name styling\nexport const getNameStyle = (typography) => {\n  if (!typography) return {};\n\n  return {\n    fontFamily: typography.nameFont.family,\n    fontWeight: typography.nameFont.weight,\n    fontStyle: typography.nameFont.style,\n    textTransform: typography.nameFont.transform || 'none'\n  };\n};\n\n// Generate CSS for bio styling\nexport const getBioStyle = (typography) => {\n  if (!typography) return {};\n\n  return {\n    fontFamily: typography.bioFont.family,\n    fontWeight: typography.bioFont.weight,\n    fontStyle: typography.bioFont.style\n  };\n};\n","import { useEffect } from 'react';\nimport confetti from 'canvas-confetti';\n\nconst ConfettiCelebration = ({ trigger = false, type = 'default' }) => {\n  useEffect(() => {\n    if (!trigger) return;\n\n    const fireConfetti = () => {\n      if (type === 'badge') {\n        // Badge celebration - stars and hearts\n        const count = 200;\n        const defaults = {\n          origin: { y: 0.7 },\n          shapes: ['circle', 'square'],\n          colors: ['#FF69B4', '#DDA0DD', '#FFB6C1', '#FFC0CB', '#FF1493']\n        };\n\n        function fire(particleRatio, opts) {\n          confetti({\n            ...defaults,\n            ...opts,\n            particleCount: Math.floor(count * particleRatio)\n          });\n        }\n\n        fire(0.25, {\n          spread: 26,\n          startVelocity: 55,\n        });\n\n        fire(0.2, {\n          spread: 60,\n        });\n\n        fire(0.35, {\n          spread: 100,\n          decay: 0.91,\n          scalar: 0.8\n        });\n\n        fire(0.1, {\n          spread: 120,\n          startVelocity: 25,\n          decay: 0.92,\n          scalar: 1.2\n        });\n\n        fire(0.1, {\n          spread: 120,\n          startVelocity: 45,\n        });\n      } else if (type === 'milestone') {\n        // Milestone - explosion from center\n        confetti({\n          particleCount: 150,\n          spread: 70,\n          origin: { y: 0.6 },\n          colors: ['#FF69B4', '#DDA0DD', '#FFB6C1', '#87CEEB', '#98FB98']\n        });\n\n        // Second burst\n        setTimeout(() => {\n          confetti({\n            particleCount: 100,\n            angle: 60,\n            spread: 55,\n            origin: { x: 0 },\n            colors: ['#FF69B4', '#DDA0DD', '#FFB6C1']\n          });\n        }, 200);\n\n        setTimeout(() => {\n          confetti({\n            particleCount: 100,\n            angle: 120,\n            spread: 55,\n            origin: { x: 1 },\n            colors: ['#87CEEB', '#98FB98', '#FFB6C1']\n          });\n        }, 400);\n      } else {\n        // Default celebration\n        confetti({\n          particleCount: 100,\n          spread: 70,\n          origin: { y: 0.6 },\n          colors: ['#FF69B4', '#DDA0DD', '#FFB6C1', '#FFC0CB', '#FF1493']\n        });\n      }\n    };\n\n    fireConfetti();\n  }, [trigger, type]);\n\n  return null; // This component doesn't render anything\n};\n\nexport default ConfettiCelebration;\n","const CountUp = ({ end, duration = 1000, suffix = '', prefix = '', className = '' }) => {\n  // Display value directly without animation\n  const value = parseInt(end) || 0;\n\n  return (\n    <span className={className}>\n      {prefix}{value.toLocaleString()}{suffix}\n    </span>\n  );\n};\n\nexport default CountUp;\n","import React from 'react';\nimport toast from 'react-hot-toast';\n\nconst BestieCircleShareModal = ({ onClose, circleCount }) => {\n  const handleShare = (platform) => {\n    const appUrl = window.location.origin;\n    const message = `Hey! I'm using Besties to stay safe when I go out. It's a safety app where your close friends can check in on you. Want to be part of my safety circle? \\n\\nJoin me on Besties: ${appUrl}`;\n    const encoded = encodeURIComponent(message);\n    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n    switch (platform) {\n      case 'whatsapp':\n        if (isMobile) {\n          window.location.href = `whatsapp://send?text=${encoded}`;\n        } else {\n          window.open(`https://wa.me/?text=${encoded}`, '_blank');\n        }\n        break;\n      case 'messenger':\n        if (isMobile) {\n          window.location.href = `fb-messenger://share?link=${encodeURIComponent(appUrl)}`;\n          setTimeout(() => {\n            window.open(`https://www.facebook.com/dialog/send?link=${encodeURIComponent(appUrl)}&app_id=&redirect_uri=${encodeURIComponent(appUrl)}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://www.facebook.com/dialog/send?link=${encodeURIComponent(appUrl)}&app_id=&redirect_uri=${encodeURIComponent(appUrl)}`, '_blank', 'width=600,height=400');\n        }\n        break;\n      case 'instagram':\n        navigator.clipboard.writeText(message).then(() => {\n          toast.success('Message copied! Opening Instagram DMs...');\n          if (isMobile) {\n            window.location.href = 'instagram://direct/inbox';\n            setTimeout(() => {\n              window.open('https://www.instagram.com/direct/inbox/', '_blank');\n            }, 1500);\n          } else {\n            window.open('https://www.instagram.com/direct/inbox/', '_blank');\n          }\n        }).catch(() => {\n          toast.error('Failed to copy message');\n        });\n        break;\n      case 'sms':\n        window.location.href = `sms:?body=${encoded}`;\n        break;\n      case 'facebook':\n        const textEncoded = encodeURIComponent('Join my safety circle on Besties! ');\n        const urlEncoded = encodeURIComponent(appUrl);\n        if (isMobile) {\n          window.location.href = `fb://profile`;\n          setTimeout(() => {\n            window.open(`https://www.facebook.com/sharer/sharer.php?u=${urlEncoded}&quote=${textEncoded}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://www.facebook.com/sharer/sharer.php?u=${urlEncoded}&quote=${textEncoded}`, '_blank', 'width=600,height=400');\n        }\n        break;\n      default:\n        break;\n    }\n\n    toast.success(`Opening ${platform}...`);\n    onClose();\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 dark:bg-black/75 flex items-center justify-center z-50 p-4 backdrop-blur-sm\" onClick={onClose}>\n      <div className=\"card max-w-lg w-full p-0 animate-scale-up overflow-hidden relative bg-gradient-to-br from-pink-50 via-purple-50 to-pink-50 dark:from-pink-900/20 dark:via-purple-900/20 dark:to-pink-900/20 border-2 border-pink-200 dark:border-pink-600 shadow-2xl\" onClick={(e) => e.stopPropagation()}>\n\n        {/* Close button */}\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 z-10 w-8 h-8 rounded-full bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors shadow-md text-gray-700 dark:text-gray-300\"\n        >\n          \n        </button>\n\n        {/* Header with gradient background - mobile optimized */}\n        <div className=\"bg-gradient-to-r from-primary via-purple-500 to-pink-500 p-4 md:p-8 text-center relative overflow-hidden\">\n          {/* Decorative circles */}\n          <div className=\"absolute top-0 right-0 w-24 h-24 md:w-32 md:h-32 bg-white/10 rounded-full -mr-12 md:-mr-16 -mt-12 md:-mt-16\"></div>\n          <div className=\"absolute bottom-0 left-0 w-16 h-16 md:w-24 md:h-24 bg-white/10 rounded-full -ml-8 md:-ml-12 -mb-8 md:-mb-12\"></div>\n\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl md:text-6xl mb-2 md:mb-3 animate-bounce-slow\"></div>\n            <h3 className=\"text-xl md:text-3xl font-display text-white mb-2 drop-shadow-lg\">\n              Complete Your Circle!\n            </h3>\n            <div className=\"inline-block bg-white/20 backdrop-blur-sm px-3 md:px-4 py-1.5 md:py-2 rounded-full\">\n              <p className=\"text-white font-semibold text-sm md:text-base\">\n                <span className=\"text-xl md:text-2xl font-display\">{circleCount}</span>\n                <span className=\"text-white/80\"> / </span>\n                <span className=\"text-xl md:text-2xl font-display\">5</span>\n                <span className=\"text-xs md:text-sm ml-2\">besties</span>\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"p-4 md:p-6\">\n          {/* Info Box - more compact on mobile */}\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl md:rounded-2xl p-3 md:p-5 mb-4 md:mb-6 shadow-lg border-2 border-pink-100 dark:border-pink-800\">\n            <div className=\"flex items-start gap-2 md:gap-3\">\n              <div className=\"text-2xl md:text-3xl flex-shrink-0\"></div>\n              <div>\n                <h4 className=\"font-display text-base md:text-lg text-primary dark:text-purple-400 mb-1 md:mb-2\">\n                  Why you need 5 besties\n                </h4>\n                <p className=\"text-xs md:text-sm text-gray-700 dark:text-gray-300 leading-relaxed\">\n                  A full circle means maximum protection! Your 5 trusted friends will get alerts when you check in and can help if something goes wrong. The more besties, the safer you are. \n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Social Sharing */}\n          <div className=\"mb-4 md:mb-6\">\n            <h4 className=\"text-base md:text-lg font-display text-center text-primary dark:text-purple-400 mb-3 md:mb-4\">\n               Invite Friends to Join You \n            </h4>\n            <div className=\"grid grid-cols-3 gap-2 md:gap-3\">\n              <button\n                onClick={() => handleShare('whatsapp')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-[#25D366] hover:bg-[#20BA5A] text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share on WhatsApp\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\"/>\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">WhatsApp</span>\n              </button>\n\n              <button\n                onClick={() => handleShare('messenger')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-[#0084FF] hover:bg-[#0073E6] text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share on Messenger\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12 0C5.373 0 0 4.975 0 11.111c0 3.497 1.745 6.616 4.472 8.652V24l4.086-2.242c1.09.301 2.246.464 3.442.464 6.627 0 12-4.974 12-11.111C24 4.975 18.627 0 12 0zm1.191 14.963l-3.055-3.26-5.963 3.26L10.732 8l3.131 3.259L19.752 8l-6.561 6.963z\"/>\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">Messenger</span>\n              </button>\n\n              <button\n                onClick={() => handleShare('instagram')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-gradient-to-r from-[#833AB4] via-[#FD1D1D] to-[#F77737] hover:opacity-90 text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share on Instagram\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">Instagram</span>\n              </button>\n\n              <button\n                onClick={() => handleShare('sms')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-success hover:bg-green-600 text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share via SMS\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">SMS</span>\n              </button>\n\n              <button\n                onClick={() => handleShare('facebook')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-[#1877F2] hover:bg-[#166FE5] text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share on Facebook\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">Facebook</span>\n              </button>\n\n              <button\n                onClick={onClose}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 transition-all hover:scale-105 shadow-md\"\n              >\n                <div className=\"w-6 h-6 md:w-10 md:h-10 flex items-center justify-center text-xl md:text-2xl\"></div>\n                <span className=\"text-[10px] md:text-sm font-semibold\">Maybe Later</span>\n              </button>\n            </div>\n          </div>\n\n          <p className=\"text-xs text-center text-gray-500 dark:text-gray-400 italic\">\n             Building your safety circle is one of the smartest things you can do\n          </p>\n        </div>\n\n        <style>{`\n          @keyframes bounce-slow {\n            0%, 100% { transform: translateY(0); }\n            50% { transform: translateY(-10px); }\n          }\n          .animate-bounce-slow {\n            animation: bounce-slow 2s ease-in-out infinite;\n          }\n        `}</style>\n      </div>\n    </div>\n  );\n};\n\nexport default BestieCircleShareModal;\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { db, auth } from '../services/firebase';\nimport { collection, query, where, getDocs, doc, updateDoc, getDoc, addDoc, Timestamp } from 'firebase/firestore';\nimport toast from 'react-hot-toast';\nimport BestieCircleShareModal from './BestieCircleShareModal';\nimport ProfileWithBubble from './ProfileWithBubble';\nimport {\n  calculateConnectionStrength,\n  getConnectionColor,\n  getConnectionEmoji,\n  formatTimeAgo,\n  getLastInteraction,\n} from '../services/connectionStrength';\n\nconst LivingCircle = ({ userId, onAddClick }) => {\n  const navigate = useNavigate();\n  const [allBesties, setAllBesties] = useState([]);\n  const [circleBesties, setCircleBesties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [showReplaceModal, setShowReplaceModal] = useState(false);\n  const [showShareModal, setShowShareModal] = useState(false);\n  const [connectionStrengths, setConnectionStrengths] = useState({});\n  const [lastSeen, setLastSeen] = useState({});\n  const [loadingConnections, setLoadingConnections] = useState(true);\n  const [showCircleCheck, setShowCircleCheck] = useState(false);\n\n  const loadBesties = async () => {\n    if (!userId) return;\n\n    try {\n      // Get all accepted besties\n      const [requesterQuery, recipientQuery] = await Promise.all([\n        getDocs(\n          query(\n            collection(db, 'besties'),\n            where('requesterId', '==', userId),\n            where('status', '==', 'accepted')\n          )\n        ),\n        getDocs(\n          query(\n            collection(db, 'besties'),\n            where('recipientId', '==', userId),\n            where('status', '==', 'accepted')\n          )\n        ),\n      ]);\n\n      const bestiesList = [];\n\n      for (const docSnap of requesterQuery.docs) {\n        const data = docSnap.data();\n        const userDoc = await getDoc(doc(db, 'users', data.recipientId));\n        const userData = userDoc.exists() ? userDoc.data() : {};\n\n        // Check for active check-ins\n        const checkInVisibility = userData.privacySettings?.checkInVisibility || 'all_besties';\n        let hasActiveCheckIn = false;\n\n        if (checkInVisibility === 'all_besties') {\n          const activeCheckInsQuery = query(\n            collection(db, 'checkins'),\n            where('userId', '==', data.recipientId),\n            where('status', 'in', ['active', 'alerted'])\n          );\n          const activeCheckIns = await getDocs(activeCheckInsQuery);\n          hasActiveCheckIn = !activeCheckIns.empty;\n        } else if (checkInVisibility === 'circle') {\n          const theirFeaturedCircle = userData.featuredCircle || [];\n          if (theirFeaturedCircle.includes(userId)) {\n            const activeCheckInsQuery = query(\n              collection(db, 'checkins'),\n              where('userId', '==', data.recipientId),\n              where('status', 'in', ['active', 'alerted'])\n            );\n            const activeCheckIns = await getDocs(activeCheckInsQuery);\n            hasActiveCheckIn = !activeCheckIns.empty;\n          }\n        }\n\n        bestiesList.push({\n          id: data.recipientId,\n          name: userData.displayName || 'Bestie',\n          photoURL: userData.photoURL || null,\n          requestAttention: userData.requestAttention || null,\n          hasActiveCheckIn: hasActiveCheckIn,\n        });\n      }\n\n      for (const docSnap of recipientQuery.docs) {\n        const data = docSnap.data();\n        const userDoc = await getDoc(doc(db, 'users', data.requesterId));\n        const userData = userDoc.exists() ? userDoc.data() : {};\n\n        // Check for active check-ins\n        const checkInVisibility = userData.privacySettings?.checkInVisibility || 'all_besties';\n        let hasActiveCheckIn = false;\n\n        if (checkInVisibility === 'all_besties') {\n          const activeCheckInsQuery = query(\n            collection(db, 'checkins'),\n            where('userId', '==', data.requesterId),\n            where('status', 'in', ['active', 'alerted'])\n          );\n          const activeCheckIns = await getDocs(activeCheckInsQuery);\n          hasActiveCheckIn = !activeCheckIns.empty;\n        } else if (checkInVisibility === 'circle') {\n          const theirFeaturedCircle = userData.featuredCircle || [];\n          if (theirFeaturedCircle.includes(userId)) {\n            const activeCheckInsQuery = query(\n              collection(db, 'checkins'),\n              where('userId', '==', data.requesterId),\n              where('status', 'in', ['active', 'alerted'])\n            );\n            const activeCheckIns = await getDocs(activeCheckInsQuery);\n            hasActiveCheckIn = !activeCheckIns.empty;\n          }\n        }\n\n        bestiesList.push({\n          id: data.requesterId,\n          name: userData.displayName || 'Bestie',\n          photoURL: userData.photoURL || null,\n          requestAttention: userData.requestAttention || null,\n          hasActiveCheckIn: hasActiveCheckIn,\n        });\n      }\n\n      setAllBesties(bestiesList);\n\n      // Get user's featured circle\n      const userDoc = await getDoc(doc(db, 'users', userId));\n      const featuredIds = userDoc.exists() ? (userDoc.data().featuredCircle || []) : [];\n\n      // Map featured IDs to bestie objects\n      const featured = featuredIds\n        .map(id => bestiesList.find(b => b.id === id))\n        .filter(Boolean);\n\n      // If less than what user has, auto-fill with first few besties\n      const needsAutoFill = featured.length < bestiesList.length && featured.length < 5;\n      if (needsAutoFill) {\n        const remaining = bestiesList.filter(b => !featuredIds.includes(b.id));\n        featured.push(...remaining.slice(0, 5 - featured.length));\n      }\n\n      const finalCircle = featured.slice(0, 5);\n      setCircleBesties(finalCircle);\n\n      // CRITICAL: Save auto-filled circle to Firestore\n      if (needsAutoFill && finalCircle.length > 0) {\n        await saveFeaturedCircle(finalCircle);\n      }\n\n      setLoading(false);\n\n      // Load connection strengths and last seen\n      loadConnectionData(finalCircle);\n    } catch (error) {\n      console.error('Error loading besties:', error);\n      setLoading(false);\n    }\n  };\n\n  const loadConnectionData = async (besties) => {\n    setLoadingConnections(true);\n    const strengths = {};\n    const lastSeenData = {};\n\n    for (const bestie of besties) {\n      try {\n        // Calculate connection strength\n        const strength = await calculateConnectionStrength(userId, bestie.id);\n        strengths[bestie.id] = strength;\n\n        // Get last interaction\n        const lastInteraction = await getLastInteraction(userId, bestie.id);\n        lastSeenData[bestie.id] = lastInteraction;\n      } catch (error) {\n        console.error(`Error loading connection data for ${bestie.id}:`, error);\n      }\n    }\n\n    setConnectionStrengths(strengths);\n    setLastSeen(lastSeenData);\n    setLoadingConnections(false);\n  };\n\n  useEffect(() => {\n    loadBesties();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userId]);\n\n  const saveFeaturedCircle = async (newCircle) => {\n    const featuredIds = newCircle.map(b => b.id);\n    await updateDoc(doc(db, 'users', userId), {\n      featuredCircle: featuredIds,\n    });\n  };\n\n  const handleRemoveFromCircle = async (index) => {\n    // Only allow removal if circle is full (5 members)\n    if (circleBesties.length < 5) {\n      toast.error('Circle must be full to remove members. Use Replace instead.');\n      setSelectedSlot(null);\n      return;\n    }\n\n    const newCircle = circleBesties.filter((_, i) => i !== index);\n    setCircleBesties(newCircle);\n    await saveFeaturedCircle(newCircle);\n    setSelectedSlot(null);\n    toast.success('Removed from circle');\n  };\n\n  const handleReplaceBestie = async (newBestie) => {\n    const newCircle = [...circleBesties];\n    newCircle[selectedSlot] = newBestie;\n    setCircleBesties(newCircle);\n    await saveFeaturedCircle(newCircle);\n    setShowReplaceModal(false);\n    setSelectedSlot(null);\n    toast.success('Bestie replaced');\n\n    // Reload connection data for new bestie\n    loadConnectionData(newCircle);\n  };\n\n  const handleViewProfile = (bestieId) => {\n    navigate(`/user/${bestieId}`);\n    setSelectedSlot(null);\n  };\n\n  const handleCircleCheck = async () => {\n    // Track interaction\n    try {\n      const now = Timestamp.now();\n      for (const bestie of circleBesties) {\n        await addDoc(collection(db, 'interactions'), {\n          userId: userId,\n          bestieId: bestie.id,\n          type: 'circle_check',\n          checkInId: null,\n          alertId: null,\n          metadata: {},\n          createdAt: now,\n        });\n      }\n\n      toast.success('Circle checked! ');\n      setShowCircleCheck(false);\n\n      // Reload to show updated data\n      loadConnectionData(circleBesties);\n    } catch (error) {\n      console.error('Error tracking circle check:', error);\n    }\n  };\n\n  const getStatusInfo = (bestie) => {\n    // Priority: Request Attention > Active Check-in > Safe\n    if (bestie.requestAttention?.active) {\n      return {\n        color: 'bg-purple-500',\n        ringColor: 'ring-purple-400',\n        glowColor: '#a855f7',\n        label: 'Needs support',\n        emoji: '',\n      };\n    } else if (bestie.hasActiveCheckIn) {\n      return {\n        color: 'bg-yellow-500',\n        ringColor: 'ring-yellow-400',\n        glowColor: '#f59e0b',\n        label: 'Active check-in',\n        emoji: '',\n      };\n    } else {\n      return {\n        color: 'bg-green-500',\n        ringColor: 'ring-green-400',\n        glowColor: '#10b981',\n        label: 'Safe',\n        emoji: '',\n      };\n    }\n  };\n\n  const slots = Array.from({ length: 5 }, (_, i) => circleBesties[i] || null);\n\n  // Different colors for each bestie slot\n  const slotColors = [\n    'bg-pink-500',      // Slot 0 - Pink\n    'bg-purple-500',    // Slot 1 - Purple\n    'bg-blue-500',      // Slot 2 - Blue\n    'bg-green-500',     // Slot 3 - Green\n    'bg-orange-500',    // Slot 4 - Orange\n  ];\n\n  if (loading) {\n    return (\n      <div className=\"card p-8 flex items-center justify-center\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"card p-6 md:p-8 bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 border-2 border-purple-100 relative overflow-hidden\">\n      {/* Animated background gradient */}\n      <div className=\"absolute inset-0 opacity-30 animate-gradient-shift pointer-events-none\"></div>\n\n      <div className=\"relative z-10\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h3 className=\"text-xl md:text-2xl font-display text-gradient\">Your Living Circle</h3>\n          {circleBesties.length > 0 && (\n            <button\n              onClick={() => setShowCircleCheck(true)}\n              className=\"btn btn-primary text-sm py-2 px-4 flex items-center gap-2\"\n            >\n              <span>Check Circle</span>\n              <span className=\"text-lg\"></span>\n            </button>\n          )}\n        </div>\n\n        {/* Circle Container - Responsive sizing */}\n        <div className=\"relative w-full max-w-md mx-auto aspect-square mb-6\">\n          <div className=\"absolute inset-0\">\n            {/* Connection Lines with Dynamic Strength */}\n            {slots.map((bestie, index) => {\n              if (!bestie) return null;\n              const angle = (index * 72 - 90) * (Math.PI / 180);\n              const radius = 45; // Percentage-based radius\n              const x = 50 + radius * Math.cos(angle);\n              const y = 50 + radius * Math.sin(angle);\n\n              const connectionStrength = connectionStrengths[bestie.id];\n              const strengthScore = connectionStrength?.total || 0;\n              const connectionColor = getConnectionColor(strengthScore);\n\n              // Line opacity and animation based on strength\n              const opacity = 0.2 + (strengthScore / 100) * 0.6;\n              const strokeWidth = 1 + (strengthScore / 100) * 2;\n\n              return (\n                <svg\n                  key={`line-${index}`}\n                  className=\"absolute inset-0 w-full h-full pointer-events-none\"\n                  style={{ zIndex: 0 }}\n                >\n                  <defs>\n                    <linearGradient id={`gradient-${index}`} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                      <stop offset=\"0%\" stopColor={connectionColor} stopOpacity={opacity} />\n                      <stop offset=\"50%\" stopColor={connectionColor} stopOpacity={opacity * 1.5} />\n                      <stop offset=\"100%\" stopColor={connectionColor} stopOpacity={opacity} />\n                    </linearGradient>\n                    <filter id={`glow-${index}`}>\n                      <feGaussianBlur stdDeviation=\"2\" result=\"coloredBlur\"/>\n                      <feMerge>\n                        <feMergeNode in=\"coloredBlur\"/>\n                        <feMergeNode in=\"SourceGraphic\"/>\n                      </feMerge>\n                    </filter>\n                  </defs>\n                  <line\n                    x1=\"50%\"\n                    y1=\"50%\"\n                    x2={`${x}%`}\n                    y2={`${y}%`}\n                    stroke={`url(#gradient-${index})`}\n                    strokeWidth={strokeWidth}\n                    strokeDasharray=\"4 2\"\n                    filter={`url(#glow-${index})`}\n                    className=\"animate-pulse-connection\"\n                  />\n\n                  {/* Particle effect for strong connections */}\n                  {strengthScore >= 70 && (\n                    <circle\n                      cx=\"50%\"\n                      cy=\"50%\"\n                      r=\"3\"\n                      fill={connectionColor}\n                      opacity={opacity * 2}\n                      className=\"animate-particle\"\n                      style={{\n                        '--target-x': `${x}%`,\n                        '--target-y': `${y}%`,\n                        animationDelay: `${index * 0.5}s`,\n                      }}\n                    />\n                  )}\n                </svg>\n              );\n            })}\n\n            {/* Center Circle (YOU) */}\n            <div className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10\">\n              <div className=\"w-16 h-16 md:w-20 md:h-20 bg-gradient-primary rounded-full flex items-center justify-center text-white text-sm md:text-base font-display shadow-2xl border-4 border-white ring-4 ring-purple-200 animate-breathe\">\n                YOU\n              </div>\n            </div>\n\n            {/* Bestie Slots - all equidistant from center */}\n            {slots.map((bestie, index) => {\n              const angle = (index * 72 - 90) * (Math.PI / 180);\n              const radius = 45; // Percentage-based for better responsiveness\n              const x = 50 + radius * Math.cos(angle);\n              const y = 50 + radius * Math.sin(angle);\n\n              const status = bestie ? getStatusInfo(bestie) : null;\n              const connectionStrength = bestie ? connectionStrengths[bestie.id] : null;\n              const lastSeenTime = bestie ? lastSeen[bestie.id] : null;\n\n              return (\n                <div\n                  key={index}\n                  className=\"absolute\"\n                  style={{\n                    left: `${x}%`,\n                    top: `${y}%`,\n                    transform: 'translate(-50%, -50%)',\n                  }}\n                >\n                  {bestie ? (\n                    <div className=\"relative group\">\n                      {/* Bestie Circle - clickable with status ring */}\n                      <button\n                        onClick={() => setSelectedSlot(selectedSlot === index ? null : index)}\n                        className=\"relative hover:scale-110 transition-all duration-300\"\n                      >\n                        <div className={`w-14 h-14 md:w-16 md:h-16 rounded-full shadow-xl border-4 border-white hover:shadow-2xl ${status.ringColor} ring-4 hover:ring-6 overflow-hidden flex items-center justify-center relative animate-breathe-subtle`}\n                          style={{ animationDelay: `${index * 0.3}s` }}\n                        >\n                          <ProfileWithBubble\n                            photoURL={bestie.photoURL}\n                            name={bestie.name || 'Bestie'}\n                            requestAttention={bestie.requestAttention}\n                            size=\"xl\"\n                            showBubble={true}\n                            className=\"w-full h-full\"\n                          />\n\n                          {/* Status Badge */}\n                          <div className={`absolute -bottom-1 -right-1 w-6 h-6 ${status.color} rounded-full border-2 border-white flex items-center justify-center text-xs shadow-lg animate-pulse-gentle`}>\n                            {status.emoji}\n                          </div>\n                        </div>\n                      </button>\n\n                      {/* Enhanced Tooltip with Connection Strength */}\n                      <div className=\"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none z-20 transform group-hover:-translate-y-1\">\n                        <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-xl text-xs font-semibold whitespace-nowrap shadow-2xl\">\n                          <div className=\"font-bold mb-1\">{bestie.name || 'Unknown'}</div>\n                          {connectionStrength && !loadingConnections && (\n                            <div className=\"flex items-center gap-2 text-white/90\">\n                              <span>{getConnectionEmoji(connectionStrength.total)}</span>\n                              <span>{connectionStrength.total}/100</span>\n                              <span className=\"text-white/70\"></span>\n                              <span className=\"capitalize\">{connectionStrength.level}</span>\n                            </div>\n                          )}\n                          {lastSeenTime && (\n                            <div className=\"text-white/70 text-xs mt-1\">\n                              Last: {formatTimeAgo(lastSeenTime)}\n                            </div>\n                          )}\n                          <div className=\"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-pink-600\"></div>\n                        </div>\n                      </div>\n\n                      {/* Action Menu */}\n                      {selectedSlot === index && (\n                        <div className=\"absolute top-full left-1/2 -translate-x-1/2 mt-2 bg-white rounded-lg shadow-xl border-2 border-gray-200 p-2 z-[200] w-40\">\n                          <button\n                            onClick={() => handleViewProfile(bestie.id)}\n                            className=\"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm font-semibold text-gray-700\"\n                          >\n                             View Profile\n                          </button>\n                          <button\n                            onClick={() => setShowReplaceModal(true)}\n                            className=\"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm font-semibold text-gray-700\"\n                          >\n                             Replace\n                          </button>\n                          <button\n                            onClick={() => handleRemoveFromCircle(index)}\n                            className=\"w-full text-left px-3 py-2 hover:bg-red-50 rounded text-sm font-semibold text-red-600\"\n                          >\n                             Remove\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  ) : (\n                    <button\n                      onClick={() => setShowShareModal(true)}\n                      className={`w-14 h-14 md:w-16 md:h-16 border-4 border-dashed ${slotColors[index].replace('bg-', 'border-')} rounded-full flex items-center justify-center ${slotColors[index].replace('bg-', 'text-')} text-2xl md:text-3xl font-bold hover:scale-110 hover:bg-purple-50 transition-all shadow-lg hover:shadow-xl animate-pulse-slow`}\n                      title=\"Invite a bestie to your circle\"\n                    >\n                      +\n                    </button>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Info - Enhanced */}\n        <div className=\"text-center mt-6\">\n          <div className=\"inline-flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md border-2 border-purple-200 mb-2\">\n            <span className=\"text-2xl\"></span>\n            <span className=\"font-display text-base md:text-lg text-gradient font-bold\">\n              {circleBesties.length}/5 Circle Members\n            </span>\n          </div>\n          <div className=\"text-xs md:text-sm text-gray-600 mt-2\">\n            {circleBesties.length === 5\n              ? \"Your circle is complete! \"\n              : circleBesties.length === 0\n              ? \"Start building your safety network\"\n              : `Add ${5 - circleBesties.length} more to complete your circle`}\n          </div>\n\n          {circleBesties.length > 0 && !loadingConnections && (\n            <button\n              onClick={() => navigate('/circle-health')}\n              className=\"mt-3 text-primary font-semibold text-sm hover:underline flex items-center gap-2 mx-auto\"\n            >\n              View Circle Health Dashboard \n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* CSS Animations */}\n      <style>{`\n        @keyframes breathe {\n          0%, 100% {\n            transform: scale(1);\n          }\n          50% {\n            transform: scale(1.05);\n          }\n        }\n        .animate-breathe {\n          animation: breathe 4s ease-in-out infinite;\n        }\n        .animate-breathe-subtle {\n          animation: breathe 5s ease-in-out infinite;\n        }\n        @keyframes pulse-gentle {\n          0%, 100% {\n            transform: scale(1);\n            opacity: 1;\n          }\n          50% {\n            transform: scale(1.1);\n            opacity: 0.9;\n          }\n        }\n        .animate-pulse-gentle {\n          animation: pulse-gentle 2s ease-in-out infinite;\n        }\n        @keyframes pulse-slow {\n          0%, 100% {\n            opacity: 1;\n          }\n          50% {\n            opacity: 0.6;\n          }\n        }\n        .animate-pulse-slow {\n          animation: pulse-slow 2s ease-in-out infinite;\n        }\n        @keyframes pulse-connection {\n          0%, 100% {\n            opacity: 0.8;\n          }\n          50% {\n            opacity: 1;\n          }\n        }\n        .animate-pulse-connection {\n          animation: pulse-connection 3s ease-in-out infinite;\n        }\n        @keyframes particle {\n          0% {\n            cx: 50%;\n            cy: 50%;\n            opacity: 1;\n          }\n          100% {\n            cx: var(--target-x);\n            cy: var(--target-y);\n            opacity: 0;\n          }\n        }\n        .animate-particle {\n          animation: particle 3s linear infinite;\n        }\n        @keyframes gradient-shift {\n          0%, 100% {\n            background-position: 0% 50%;\n          }\n          50% {\n            background-position: 100% 50%;\n          }\n        }\n        .animate-gradient-shift {\n          background: linear-gradient(120deg, #fdf2f8, #fce7f3, #fff7ed, #fef3c7);\n          background-size: 200% 200%;\n          animation: gradient-shift 8s ease infinite;\n        }\n      `}</style>\n\n      {/* Replace Modal */}\n      {showReplaceModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\" onClick={() => setShowReplaceModal(false)}>\n          <div className=\"bg-white rounded-xl p-6 max-w-sm w-full max-h-96 overflow-y-auto\" onClick={(e) => e.stopPropagation()}>\n            <h3 className=\"text-xl font-display mb-4\">Replace with:</h3>\n            <div className=\"space-y-2\">\n              {allBesties\n                .filter(b => !circleBesties.find(cb => cb.id === b.id))\n                .map(bestie => (\n                  <button\n                    key={bestie.id}\n                    onClick={() => handleReplaceBestie(bestie)}\n                    className=\"w-full flex items-center gap-3 p-3 hover:bg-gray-100 rounded-lg transition-colors\"\n                  >\n                    <ProfileWithBubble\n                      photoURL={bestie.photoURL}\n                      name={bestie.name || 'Unknown'}\n                      requestAttention={bestie.requestAttention}\n                      size=\"md\"\n                      showBubble={true}\n                    />\n                    <div className=\"text-left\">\n                      <div className=\"font-semibold\">{bestie.name || 'Unknown'}</div>\n                    </div>\n                  </button>\n                ))}\n              {allBesties.filter(b => !circleBesties.find(cb => cb.id === b.id)).length === 0 && (\n                <p className=\"text-center text-gray-500 py-4\">All besties are in your circle!</p>\n              )}\n            </div>\n            <button\n              onClick={() => setShowReplaceModal(false)}\n              className=\"mt-4 w-full btn btn-secondary\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Bestie Circle Share Modal */}\n      {showShareModal && (\n        <BestieCircleShareModal\n          onClose={() => setShowShareModal(false)}\n          circleCount={circleBesties.length}\n        />\n      )}\n\n      {/* Circle Check Modal */}\n      {showCircleCheck && (\n        <CircleCheckModal\n          besties={circleBesties}\n          connectionStrengths={connectionStrengths}\n          getStatusInfo={getStatusInfo}\n          onClose={() => setShowCircleCheck(false)}\n          onComplete={handleCircleCheck}\n        />\n      )}\n    </div>\n  );\n};\n\n// Daily Circle Check Modal Component\nconst CircleCheckModal = ({ besties, connectionStrengths, getStatusInfo, onClose, onComplete }) => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [checking, setChecking] = useState(false);\n\n  const currentBestie = besties[currentIndex];\n  const status = currentBestie ? getStatusInfo(currentBestie) : null;\n  const connectionStrength = currentBestie ? connectionStrengths[currentBestie.id] : null;\n\n  const handleNext = () => {\n    if (currentIndex < besties.length - 1) {\n      setCurrentIndex(currentIndex + 1);\n    } else {\n      setChecking(true);\n      onComplete();\n    }\n  };\n\n  if (!currentBestie) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 backdrop-blur-sm\" onClick={onClose}>\n      <div className=\"bg-gradient-to-br from-white via-purple-50 to-pink-50 rounded-2xl p-8 max-w-md w-full shadow-2xl\" onClick={(e) => e.stopPropagation()}>\n        {/* Progress Indicator */}\n        <div className=\"flex gap-2 mb-6\">\n          {besties.map((_, idx) => (\n            <div\n              key={idx}\n              className={`flex-1 h-2 rounded-full transition-all duration-300 ${\n                idx <= currentIndex ? 'bg-gradient-primary' : 'bg-gray-200'\n              }`}\n            />\n          ))}\n        </div>\n\n        {/* Bestie Display */}\n        <div className=\"text-center mb-6\">\n          <div className=\"relative inline-block mb-4\">\n            <div className={`w-32 h-32 rounded-full ${status.ringColor} ring-8 overflow-hidden shadow-2xl animate-breathe`}>\n              {currentBestie.photoURL ? (\n                <img\n                  src={currentBestie.photoURL}\n                  alt={currentBestie.name}\n                  className=\"w-full h-full object-cover\"\n                />\n              ) : (\n                <div className=\"w-full h-full bg-gradient-primary flex items-center justify-center text-white font-display text-4xl\">\n                  {currentBestie.name[0]?.toUpperCase() || '?'}\n                </div>\n              )}\n              <div className={`absolute -bottom-2 -right-2 w-10 h-10 ${status.color} rounded-full border-4 border-white flex items-center justify-center text-xl shadow-lg`}>\n                {status.emoji}\n              </div>\n            </div>\n          </div>\n\n          <h3 className=\"text-2xl font-display text-gradient mb-2\">{currentBestie.name}</h3>\n\n          {/* Status */}\n          <div className=\"text-sm font-semibold text-gray-700 mb-4\">\n            {status.label}\n          </div>\n\n          {/* Connection Strength */}\n          {connectionStrength && (\n            <div className=\"inline-flex items-center gap-3 bg-white px-6 py-3 rounded-full shadow-lg border-2 border-purple-200 mb-4\">\n              <span className=\"text-2xl\">{getConnectionEmoji(connectionStrength.total)}</span>\n              <div className=\"text-left\">\n                <div className=\"text-xs text-gray-500\">Connection</div>\n                <div className=\"font-bold text-lg text-gradient\">{connectionStrength.total}/100</div>\n              </div>\n              <span className=\"text-sm capitalize font-semibold text-gray-600\">{connectionStrength.level}</span>\n            </div>\n          )}\n\n          {/* Action based on status */}\n          {currentBestie.requestAttention?.active && (\n            <div className=\"bg-purple-100 border-2 border-purple-300 rounded-xl p-4 mb-4\">\n              <div className=\"font-semibold text-purple-900 mb-2\"> Needs your support</div>\n              <div className=\"text-sm text-purple-700\">{currentBestie.requestAttention.note || 'Could use a friend right now'}</div>\n            </div>\n          )}\n\n          {currentBestie.hasActiveCheckIn && (\n            <div className=\"bg-yellow-100 border-2 border-yellow-300 rounded-xl p-4 mb-4\">\n              <div className=\"font-semibold text-yellow-900 mb-1\"> Active check-in</div>\n              <div className=\"text-sm text-yellow-700\">They're checking in somewhere</div>\n            </div>\n          )}\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex gap-3\">\n          <button\n            onClick={onClose}\n            className=\"flex-1 btn btn-secondary\"\n          >\n            Close\n          </button>\n          <button\n            onClick={handleNext}\n            disabled={checking}\n            className=\"flex-1 btn btn-primary flex items-center justify-center gap-2\"\n          >\n            {checking ? (\n              'Completing...'\n            ) : currentIndex < besties.length - 1 ? (\n              <>Next <span></span></>\n            ) : (\n              <>Complete </>\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LivingCircle;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { db } from '../services/firebase';\nimport { doc, getDoc } from 'firebase/firestore';\nimport toast from 'react-hot-toast';\nimport html2canvas from 'html2canvas';\n\nconst SocialShareCardsModal = ({ onClose }) => {\n  const { userData, currentUser } = useAuth();\n  const [badges, setBadges] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [generatingImage, setGeneratingImage] = useState(false);\n  const [generatedImageUrl, setGeneratedImageUrl] = useState(null);\n  const [showShareChoice, setShowShareChoice] = useState(false);\n  const [pendingPlatform, setPendingPlatform] = useState(null);\n  const cardRef = useRef(null);\n\n  useEffect(() => {\n    loadBadges();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentUser]);\n\n  const loadBadges = async () => {\n    if (!currentUser) return;\n\n    try {\n      const badgesDoc = await getDoc(doc(db, 'badges', currentUser.uid));\n      if (badgesDoc.exists()) {\n        const allBadges = badgesDoc.data().badges || [];\n        // Get featured badges if set, otherwise first 3\n        const featuredIds = userData?.featuredBadges || [];\n        const featured = featuredIds\n          .map(id => allBadges.find(b => b.id === id))\n          .filter(Boolean)\n          .slice(0, 3);\n\n        if (featured.length < 3) {\n          const remaining = allBadges.filter(b => !featuredIds.includes(b.id));\n          featured.push(...remaining.slice(0, 3 - featured.length));\n        }\n\n        setBadges(featured);\n      }\n      setLoading(false);\n    } catch (error) {\n      console.error('Error loading badges:', error);\n      setLoading(false);\n    }\n  };\n\n  const currentGradient = userData?.profile?.backgroundGradient || 'linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%)';\n  const shareUrl = `${window.location.origin}/?invite=${currentUser?.uid}`;\n  const shareText = \"Come be my safety Bestie! \";\n\n  const generateShareImage = async () => {\n    if (!cardRef.current) return;\n\n    setGeneratingImage(true);\n    try {\n      // Wait a bit for fonts and images to load\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n      const canvas = await html2canvas(cardRef.current, {\n        backgroundColor: null,\n        scale: 2,\n        logging: false,\n        useCORS: true,\n        allowTaint: true,\n      });\n\n      const imageUrl = canvas.toDataURL('image/png');\n      setGeneratedImageUrl(imageUrl);\n      return imageUrl;\n    } catch (error) {\n      console.error('Error generating image:', error);\n      toast.error('Failed to generate image');\n      return null;\n    } finally {\n      setGeneratingImage(false);\n    }\n  };\n\n  const downloadImage = async () => {\n    let imageUrl = generatedImageUrl;\n\n    if (!imageUrl) {\n      imageUrl = await generateShareImage();\n      if (!imageUrl) return;\n    }\n\n    const link = document.createElement('a');\n    link.download = 'besties-profile-share.png';\n    link.href = imageUrl;\n    link.click();\n    toast.success('Image downloaded! Share it anywhere ');\n  };\n\n  const handleCopyText = async () => {\n    const cardText = `${shareText}\\n\\n${shareUrl}`;\n    try {\n      await navigator.clipboard.writeText(cardText);\n      toast.success('Link copied to clipboard!');\n    } catch (error) {\n      toast.error('Failed to copy');\n    }\n  };\n\n  // Show share choice popup\n  const showShareChoicePopup = (platform) => {\n    setPendingPlatform(platform);\n    setShowShareChoice(true);\n  };\n\n  // Handle share with card\n  const handleShareWithCard = async () => {\n    setShowShareChoice(false);\n\n    // Generate image if not already generated\n    let imageUrl = generatedImageUrl;\n    if (!imageUrl) {\n      imageUrl = await generateShareImage();\n      if (!imageUrl) return;\n    }\n\n    toast.success('Card ready! Download and share it ');\n    downloadImage();\n\n    // Then proceed to share\n    setTimeout(() => {\n      executePlatformShare(pendingPlatform, true);\n    }, 1000);\n  };\n\n  // Handle share with link only\n  const handleShareWithLink = () => {\n    setShowShareChoice(false);\n    executePlatformShare(pendingPlatform, false);\n  };\n\n  // Execute the actual platform share\n  const executePlatformShare = (platform, withCard) => {\n    const message = `${shareText}\\n\\n${shareUrl}`;\n    const encoded = encodeURIComponent(message);\n    const urlEncoded = encodeURIComponent(shareUrl);\n    const textEncoded = encodeURIComponent(shareText);\n    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n    switch (platform) {\n      case 'whatsapp':\n        if (isMobile) {\n          window.location.href = `whatsapp://send?text=${encoded}`;\n        } else {\n          window.open(`https://wa.me/?text=${encoded}`, '_blank');\n        }\n        break;\n\n      case 'messenger':\n        if (isMobile) {\n          window.location.href = `fb-messenger://share?link=${urlEncoded}`;\n          setTimeout(() => {\n            window.open(`https://www.facebook.com/dialog/send?link=${urlEncoded}&app_id=&redirect_uri=${urlEncoded}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://www.facebook.com/dialog/send?link=${urlEncoded}&app_id=&redirect_uri=${urlEncoded}`, '_blank', 'width=600,height=400');\n        }\n        break;\n\n      case 'instagram':\n        navigator.clipboard.writeText(message).then(() => {\n          toast.success('Link copied! Opening Instagram DMs...');\n          if (isMobile) {\n            window.location.href = 'instagram://direct/inbox';\n            setTimeout(() => {\n              window.open('https://www.instagram.com/direct/inbox/', '_blank');\n            }, 1500);\n          } else {\n            window.open('https://www.instagram.com/direct/inbox/', '_blank');\n          }\n        }).catch(() => {\n          toast.error('Failed to copy link');\n        });\n        break;\n\n      case 'facebook':\n        if (isMobile) {\n          window.location.href = `fb://profile/${currentUser.uid}`;\n          setTimeout(() => {\n            window.open(`https://www.facebook.com/sharer/sharer.php?u=${urlEncoded}&quote=${textEncoded}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://www.facebook.com/sharer/sharer.php?u=${urlEncoded}&quote=${textEncoded}`, '_blank', 'width=600,height=400');\n        }\n        break;\n\n      case 'twitter':\n        if (isMobile) {\n          window.location.href = `twitter://post?message=${textEncoded} ${urlEncoded}`;\n          setTimeout(() => {\n            window.open(`https://twitter.com/intent/tweet?text=${textEncoded}&url=${urlEncoded}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://twitter.com/intent/tweet?text=${textEncoded}&url=${urlEncoded}`, '_blank', 'width=600,height=400');\n        }\n        break;\n\n      case 'sms':\n        window.location.href = `sms:?body=${encoded}`;\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4\">\n        <div className=\"card p-8 bg-white dark:bg-gray-800\">\n          <div className=\"spinner\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto\">\n      <div className=\"card max-w-2xl w-full p-6 animate-scale-up max-h-[90vh] overflow-y-auto bg-white dark:bg-gray-800\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-display text-text-primary dark:text-white\">Share Your Profile</h2>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors text-gray-700 dark:text-gray-300\"\n          >\n            \n          </button>\n        </div>\n\n        <p className=\"text-text-secondary dark:text-gray-300 mb-6\">Choose how you'd like to share your Besties profile with friends!</p>\n\n        {/* Hidden Card for Image Generation */}\n        <div style={{ position: 'absolute', left: '-9999px', top: '-9999px' }}>\n          <div\n            ref={cardRef}\n            className=\"w-full rounded-2xl p-8 text-center shadow-xl relative overflow-hidden\"\n            style={{ background: currentGradient, width: '600px' }}\n          >\n            {/* Profile Photo */}\n            <div className=\"w-32 h-32 bg-gradient-primary rounded-full flex items-center justify-center text-white text-5xl font-display overflow-hidden mx-auto mb-4 border-4 border-white shadow-xl\">\n              {userData?.photoURL ? (\n                <img src={userData.photoURL} alt=\"Profile\" className=\"w-full h-full object-cover\" crossOrigin=\"anonymous\" />\n              ) : (\n                userData?.displayName?.[0] || currentUser?.email?.[0] || 'U'\n              )}\n            </div>\n\n            {/* Name */}\n            <h3 className=\"font-display text-4xl text-gray-800 mb-3\">\n              {userData?.displayName || 'User'}\n            </h3>\n\n            {/* Bio */}\n            {userData?.profile?.bio && (\n              <p className=\"text-gray-700 italic max-w-md mx-auto mb-4 text-base\">\n                \"{userData.profile.bio}\"\n              </p>\n            )}\n\n            {/* Main Message */}\n            <div className=\"bg-white/95 backdrop-blur-sm rounded-2xl p-6 mb-4 shadow-2xl\">\n              <p className=\"text-2xl font-display text-primary mb-2\">\n                 Come be my safety Bestie!\n              </p>\n              <p className=\"text-sm text-gray-600\">\n                Join me on the Besties safety app\n              </p>\n            </div>\n\n            {/* Top 3 Badges */}\n            {badges.length > 0 && (\n              <div className=\"mb-4\">\n                <p className=\"text-sm font-semibold text-gray-700 mb-3\">Top Badges</p>\n                <div className=\"flex gap-4 justify-center\">\n                  {badges.map((badge) => (\n                    <div key={badge.id} className=\"flex flex-col items-center bg-white/90 backdrop-blur-sm rounded-xl p-3 shadow-md\">\n                      <div className=\"text-4xl mb-1\">{badge.icon}</div>\n                      <div className=\"text-xs font-semibold text-gray-700\">{badge.name}</div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* App branding */}\n            <div className=\"mt-6 pt-4 border-t-2 border-white/40\">\n              <div className=\"text-sm font-semibold text-gray-700\">Download</div>\n              <div className=\"font-display text-2xl text-gray-800\">Besties</div>\n              <div className=\"text-xs text-gray-600 mt-1\">Your Safety Network</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Share Buttons */}\n        <div className=\"grid grid-cols-2 gap-3 mb-4\">\n          <button\n            onClick={() => showShareChoicePopup('whatsapp')}\n            className=\"btn bg-[#25D366] text-white hover:bg-[#20BA5A] flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\"/>\n            </svg>\n            WhatsApp\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('messenger')}\n            className=\"btn bg-[#0084FF] text-white hover:bg-[#0073E6] flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 0C5.373 0 0 4.975 0 11.111c0 3.497 1.745 6.616 4.472 8.652V24l4.086-2.242c1.09.301 2.246.464 3.442.464 6.627 0 12-4.974 12-11.111C24 4.975 18.627 0 12 0zm1.191 14.963l-3.055-3.26-5.963 3.26L10.732 8l3.131 3.259L19.752 8l-6.561 6.963z\"/>\n            </svg>\n            Messenger\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('instagram')}\n            className=\"btn bg-gradient-to-r from-[#833AB4] via-[#FD1D1D] to-[#F77737] text-white hover:opacity-90 flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\n            </svg>\n            Instagram DM\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('facebook')}\n            className=\"btn bg-[#1877F2] text-white hover:bg-[#166FE5] flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n            </svg>\n            Facebook\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('twitter')}\n            className=\"btn bg-black text-white hover:bg-gray-800 flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\"/>\n            </svg>\n            X (Twitter)\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('sms')}\n            className=\"btn bg-success text-white hover:bg-green-600 flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n            </svg>\n            SMS\n          </button>\n        </div>\n\n        {/* Quick Actions */}\n        <div className=\"flex gap-3\">\n          <button\n            onClick={handleCopyText}\n            className=\"flex-1 btn btn-secondary\"\n          >\n             Copy Link\n          </button>\n          <button\n            onClick={downloadImage}\n            disabled={generatingImage}\n            className=\"flex-1 btn btn-primary\"\n          >\n            {generatingImage ? ' Generating...' : ' Download Card'}\n          </button>\n        </div>\n\n        <p className=\"text-xs text-gray-500 dark:text-gray-400 text-center mt-4\">\n          Share your profile with friends so they can join your safety network!\n        </p>\n      </div>\n\n      {/* Share Choice Popup */}\n      {showShareChoice && (\n        <div className=\"fixed inset-0 bg-black/70 dark:bg-black/80 flex items-center justify-center z-[60] p-4 animate-fade-in\">\n          <div className=\"card max-w-md w-full p-6 animate-scale-up bg-white dark:bg-gray-800\">\n            <div className=\"text-center mb-6\">\n              <div className=\"text-6xl mb-4 animate-bounce-slow\"></div>\n              <h3 className=\"text-2xl font-display text-text-primary dark:text-white mb-2\">\n                How do you want to share?\n              </h3>\n              <p className=\"text-sm text-text-secondary dark:text-gray-300\">\n                Choose between a beautiful card or a simple link\n              </p>\n            </div>\n\n            <div className=\"space-y-3 mb-4\">\n              {/* Share with Card */}\n              <button\n                onClick={handleShareWithCard}\n                className=\"w-full p-4 border-2 border-primary bg-purple-50 dark:bg-purple-900/30 rounded-xl hover:bg-purple-100 dark:hover:bg-purple-900/50 transition-all group\"\n                disabled={generatingImage}\n              >\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"text-4xl\"></div>\n                  <div className=\"flex-1 text-left\">\n                    <div className=\"font-display text-lg text-primary dark:text-purple-400 mb-1\">\n                      Share Beautiful Card\n                    </div>\n                    <div className=\"text-xs text-text-secondary dark:text-gray-400\">\n                      Custom image with your profile & badges\n                    </div>\n                  </div>\n                  <div className=\"text-2xl opacity-0 group-hover:opacity-100 transition-opacity dark:text-white\">\n                    \n                  </div>\n                </div>\n              </button>\n\n              {/* Share with Link */}\n              <button\n                onClick={handleShareWithLink}\n                className=\"w-full p-4 border-2 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-all group\"\n              >\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"text-4xl\"></div>\n                  <div className=\"flex-1 text-left\">\n                    <div className=\"font-display text-lg text-gray-800 dark:text-gray-200 mb-1\">\n                      Share Simple Link\n                    </div>\n                    <div className=\"text-xs text-text-secondary dark:text-gray-400\">\n                      Quick text message with link\n                    </div>\n                  </div>\n                  <div className=\"text-2xl opacity-0 group-hover:opacity-100 transition-opacity dark:text-white\">\n                    \n                  </div>\n                </div>\n              </button>\n            </div>\n\n            <button\n              onClick={() => setShowShareChoice(false)}\n              className=\"w-full btn btn-secondary\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* CSS for animations */}\n      <style>{`\n        @keyframes fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes bounce-slow {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-10px); }\n        }\n        .animate-fade-in {\n          animation: fade-in 0.2s ease-out;\n        }\n        .animate-bounce-slow {\n          animation: bounce-slow 2s ease-in-out infinite;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default SocialShareCardsModal;\n","import React, { useState, useRef, lazy, Suspense } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { doc, updateDoc } from 'firebase/firestore';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { db, storage } from '../../services/firebase';\nimport toast from 'react-hot-toast';\nimport html2canvas from 'html2canvas';\nimport { getLayoutById } from './layouts';\nimport { getTypographyById, getNameStyle, getBioStyle } from './themes/typography';\nimport { BACKGROUNDS } from './themes/backgrounds';\nimport './themes/backgroundPatterns.css';\n\nconst ProfileCustomizer = lazy(() => import('./ProfileCustomizer'));\n\nconst GRADIENT_OPTIONS = [\n  { id: 'pink', name: 'Pink Dream', gradient: 'linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%)' },\n  { id: 'purple', name: 'Purple Magic', gradient: 'linear-gradient(135deg, #e9d5ff 0%, #d8b4fe 100%)' },\n  { id: 'blue', name: 'Ocean Blue', gradient: 'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)' },\n  { id: 'green', name: 'Fresh Green', gradient: 'linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)' },\n  { id: 'sunset', name: 'Sunset Glow', gradient: 'linear-gradient(135deg, #fed7aa 0%, #fca5a5 100%)' },\n  { id: 'lavender', name: 'Lavender Fields', gradient: 'linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%)' },\n  { id: 'peach', name: 'Peachy Keen', gradient: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)' },\n  { id: 'mint', name: 'Mint Fresh', gradient: 'linear-gradient(135deg, #ccfbf1 0%, #99f6e4 100%)' }\n];\n\nconst AURA_OPTIONS = [\n  { id: 'none', name: 'None', emoji: '', description: 'No animation' },\n  { id: 'shimmer', name: 'Shimmer', emoji: '', description: 'Subtle shimmering effect' },\n  { id: 'glow', name: 'Glow', emoji: '', description: 'Soft pulsing glow' },\n  { id: 'sparkle', name: 'Sparkle', emoji: '', description: 'Sparkling particles' },\n  { id: 'pulse', name: 'Pulse', emoji: '', description: 'Gentle pulsing' },\n  { id: 'rainbow', name: 'Rainbow', emoji: '', description: 'Rainbow border effect' }\n];\n\nconst ProfileCard = ({ currentUser, userData }) => {\n  const navigate = useNavigate();\n  const [showPhotoMenu, setShowPhotoMenu] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [showColorPicker, setShowColorPicker] = useState(false);\n  const [showAuraPicker, setShowAuraPicker] = useState(false);\n  const [showCustomizer, setShowCustomizer] = useState(false);\n  const fileInputRef = useRef(null);\n\n  const currentGradient = userData?.profile?.backgroundGradient || GRADIENT_OPTIONS[0].gradient;\n  const currentAura = userData?.profile?.aura || 'none';\n\n  // Get customization settings\n  const customization = userData?.profile?.customization || {};\n  const layoutId = customization.layout || 'classic';\n  const backgroundId = customization.background || null;\n  const typographyId = customization.typography || 'playful';\n\n  // Get the selected background or fall back to gradient\n  const getBackgroundById = (id) => {\n    const allBackgrounds = Object.values(BACKGROUNDS).flat();\n    return allBackgrounds.find(bg => bg.id === id);\n  };\n\n  const selectedBackground = backgroundId ? getBackgroundById(backgroundId) : null;\n  const backgroundStyle = selectedBackground ? selectedBackground.gradient : currentGradient;\n  const patternClass = selectedBackground ? `pattern-${selectedBackground.pattern}` : '';\n\n  // Get typography settings\n  const typography = getTypographyById(typographyId);\n  const nameStyle = typography ? getNameStyle(typography) : {};\n  const bioStyle = typography ? getBioStyle(typography) : {};\n  const nameSizeClass = typography?.nameSizeClass || 'text-4xl';\n  const bioSizeClass = typography?.bioSizeClass || 'text-lg';\n\n  // Get layout component\n  const LayoutComponent = getLayoutById(layoutId);\n\n  // Use customization photo settings or defaults\n  const photoShape = customization.photoShape || 'circle';\n  const photoBorder = customization.photoBorder || 'classic';\n\n  const handlePhotoUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    if (file.size > 5 * 1024 * 1024) {\n      toast.error('Photo must be less than 5MB');\n      return;\n    }\n\n    setUploading(true);\n    try {\n      const storageRef = ref(storage, `profile-pictures/${currentUser.uid}/${Date.now()}_${file.name}`);\n      await uploadBytes(storageRef, file);\n      const downloadURL = await getDownloadURL(storageRef);\n\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        photoURL: downloadURL,\n      });\n\n      toast.success('Profile picture updated!');\n      setShowPhotoMenu(false);\n    } catch (error) {\n      console.error('Error uploading photo:', error);\n      toast.error('Failed to upload photo');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleRemovePhoto = async () => {\n    try {\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        photoURL: currentUser?.photoURL || null,\n      });\n\n      toast.success('Profile picture removed');\n      setShowPhotoMenu(false);\n    } catch (error) {\n      console.error('Error removing photo:', error);\n      toast.error('Failed to remove photo');\n    }\n  };\n\n  const handleColorChange = async (gradient) => {\n    try {\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        'profile.backgroundGradient': gradient.gradient,\n      });\n      toast.success(`Background changed to ${gradient.name}!`);\n      setShowColorPicker(false);\n    } catch (error) {\n      console.error('Error updating background:', error);\n      toast.error('Failed to update background');\n    }\n  };\n\n  const handleAuraChange = async (aura) => {\n    try {\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        'profile.aura': aura.id,\n      });\n      toast.success(`Aura changed to ${aura.name}! ${aura.emoji}`);\n      setShowAuraPicker(false);\n    } catch (error) {\n      console.error('Error updating aura:', error);\n      toast.error('Failed to update aura');\n    }\n  };\n\n  const handleShareProfileCard = async () => {\n    const profileCard = document.getElementById('profile-card-shareable');\n    if (!profileCard) {\n      toast.error('Could not capture profile card');\n      return;\n    }\n\n    try {\n      toast('Generating image...', { icon: '' });\n\n      const canvas = await html2canvas(profileCard, {\n        backgroundColor: null,\n        scale: 2,\n        logging: false,\n      });\n\n      canvas.toBlob((blob) => {\n        if (!blob) {\n          toast.error('Failed to generate image');\n          return;\n        }\n\n        if (navigator.share && navigator.canShare({ files: [new File([blob], 'profile.png', { type: 'image/png' })] })) {\n          const file = new File([blob], 'my-besties-profile.png', { type: 'image/png' });\n          navigator.share({\n            title: 'My Besties Profile',\n            text: 'Check out my Besties profile! ',\n            files: [file],\n          }).then(() => {\n            toast.success('Profile card shared! ');\n          }).catch((err) => {\n            if (err.name !== 'AbortError') {\n              downloadImage(blob);\n            }\n          });\n        } else {\n          downloadImage(blob);\n        }\n      }, 'image/png');\n    } catch (error) {\n      console.error('Error sharing profile card:', error);\n      toast.error('Failed to share profile card');\n    }\n  };\n\n  const downloadImage = (blob) => {\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = 'my-besties-profile.png';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n    toast.success('Profile card downloaded! ');\n  };\n\n  // Prepare data for layout component\n  const layoutProps = {\n    profilePhoto: userData?.photoURL,\n    displayName: userData?.displayName,\n    bio: userData?.profile?.bio,\n    badges: userData?.featuredBadges || [],\n    stats: {\n      besties: userData?.totalBesties || 0,\n      checkIns: userData?.checkInCount || 0\n    },\n    nameStyle,\n    bioStyle,\n    nameSizeClass,\n    bioSizeClass,\n    photoShape,\n    photoBorder,\n    decorativeElements: customization.decorativeElements || []\n  };\n\n  return (\n    <>\n      <div\n        id=\"profile-card-shareable\"\n        className={`card mb-6 relative overflow-hidden shadow-2xl profile-card-aura-${currentAura} profile-card-pattern ${patternClass}`}\n        style={{ background: backgroundStyle }}\n      >\n        {/* Action Buttons */}\n        <div className=\"absolute top-4 right-4 color-picker-container flex flex-col gap-2 z-20\">\n          {/* Customize Button */}\n          <button\n            onClick={() => setShowCustomizer(true)}\n            className=\"w-10 h-10 rounded-full bg-gradient-primary text-white backdrop-blur-sm shadow-xl flex items-center justify-center hover:scale-110 transition-all text-lg\"\n            title=\"Customize your vibe\"\n          >\n            \n          </button>\n        <button\n          onClick={() => navigate('/edit-profile')}\n          className=\"w-10 h-10 rounded-full bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm shadow-xl flex items-center justify-center hover:scale-110 transition-all hover:bg-white dark:hover:bg-gray-800 text-xl\"\n          title=\"Edit profile\"\n        >\n          \n        </button>\n\n        {/* Color Picker Button */}\n        <button\n          onClick={() => setShowColorPicker(!showColorPicker)}\n          className=\"w-10 h-10 rounded-full bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm shadow-xl flex items-center justify-center hover:scale-110 transition-all hover:bg-white dark:hover:bg-gray-800\"\n          title=\"Change background color\"\n        >\n          \n        </button>\n\n        {/* Aura Picker Button */}\n        <button\n          onClick={() => setShowAuraPicker(!showAuraPicker)}\n          className=\"w-10 h-10 rounded-full bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm shadow-xl flex items-center justify-center hover:scale-110 transition-all hover:bg-white dark:hover:bg-gray-800\"\n          title=\"Change profile aura\"\n        >\n          \n        </button>\n\n        {showColorPicker && (\n          <>\n            <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 z-40\" onClick={() => setShowColorPicker(false)} />\n            <div className=\"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border-2 border-gray-200 dark:border-gray-600 p-4 z-50 w-80 max-h-[500px] overflow-y-auto\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-lg font-display text-gray-800 dark:text-gray-200\">Choose Background</h3>\n                <button\n                  onClick={() => setShowColorPicker(false)}\n                  className=\"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-400\"\n                >\n                  \n                </button>\n              </div>\n              <div className=\"grid grid-cols-2 gap-3\">\n                {GRADIENT_OPTIONS.map((option) => (\n                  <button\n                    key={option.id}\n                    onClick={() => handleColorChange(option)}\n                    className=\"h-16 rounded-lg shadow-md hover:scale-105 transition-transform border-2 border-transparent hover:border-primary\"\n                    style={{ background: option.gradient }}\n                    title={option.name}\n                  >\n                    <span className=\"text-xs font-semibold text-gray-700 dark:text-gray-300 drop-shadow-sm\">\n                      {option.name}\n                    </span>\n                  </button>\n                ))}\n              </div>\n            </div>\n          </>\n        )}\n\n        {showAuraPicker && (\n          <div className=\"aura-picker-container\">\n            <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 z-40\" onClick={() => setShowAuraPicker(false)} />\n            <div className=\"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border-2 border-gray-200 dark:border-gray-600 p-4 z-50 w-80 max-h-[500px] overflow-y-auto\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-lg font-display text-gray-800 dark:text-gray-200\">Choose Profile Aura </h3>\n                <button\n                  onClick={() => setShowAuraPicker(false)}\n                  className=\"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-400\"\n                >\n                  \n                </button>\n              </div>\n              <div className=\"space-y-2\">\n                {AURA_OPTIONS.map((option) => (\n                  <button\n                    key={option.id}\n                    onClick={() => handleAuraChange(option)}\n                    className={`w-full p-3 rounded-lg shadow-md hover:scale-105 transition-transform border-2 text-left ${\n                      (userData?.profile?.aura || 'none') === option.id\n                        ? 'border-primary bg-purple-50 dark:bg-purple-900/30'\n                        : 'border-transparent hover:border-primary bg-gray-50 dark:bg-gray-700'\n                    }`}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"text-2xl\">{option.emoji}</span>\n                      <div className=\"flex-1\">\n                        <div className=\"font-semibold text-gray-800 dark:text-gray-200\">{option.name}</div>\n                        <div className=\"text-xs text-gray-600 dark:text-gray-400\">{option.description}</div>\n                      </div>\n                      {(userData?.profile?.aura || 'none') === option.id && (\n                        <span className=\"text-primary\"></span>\n                      )}\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n        {/* Photo Management Menu - Floating */}\n        {showPhotoMenu && (\n          <div className=\"fixed inset-0 bg-black/50 z-30\" onClick={() => setShowPhotoMenu(false)}>\n            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border-2 border-gray-200 dark:border-gray-600 p-4 w-64\">\n              <div className=\"text-sm font-bold text-gray-700 dark:text-gray-300 mb-3\">Manage Photo</div>\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  fileInputRef.current?.click();\n                  setShowPhotoMenu(false);\n                }}\n                disabled={uploading}\n                className=\"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n              >\n                 Replace Photo\n              </button>\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleRemovePhoto();\n                }}\n                className=\"w-full text-left px-4 py-3 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg text-sm font-semibold text-red-600 dark:text-red-400\"\n              >\n                 Remove Photo\n              </button>\n            </div>\n          </div>\n        )}\n\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={handlePhotoUpload}\n          className=\"hidden\"\n        />\n\n        {/* Dynamic Layout Component */}\n        <LayoutComponent {...layoutProps} />\n\n      {/* Social Sharing Icons - Cute & Small */}\n      <div className=\"mt-6 relative z-10\">\n        <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-2 font-semibold\">Share your profile:</p>\n\n        {/* Download Card Button */}\n        <button\n          onClick={handleShareProfileCard}\n          className=\"mb-3 px-4 py-2 bg-gradient-primary text-white rounded-full text-sm font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105\"\n        >\n           Download Profile Card\n        </button>\n\n        <div className=\"flex gap-2 justify-center flex-wrap\">\n          {/* Facebook */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              const text = `Come be my bestie on Besties! `;\n              const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n              if (isMobile) {\n                // Try to open Facebook app first\n                window.location.href = `fb://profile/${currentUser.uid}`;\n                // Fallback to web after a delay\n                setTimeout(() => {\n                  window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(text)}`, '_blank');\n                }, 1500);\n              } else {\n                window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(text)}`, '_blank');\n              }\n            }}\n            className=\"w-8 h-8 rounded-full bg-[#1877f2] hover:bg-[#1864d9] text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Share on Facebook\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n            </svg>\n          </button>\n\n          {/* Twitter/X */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              const text = `Come be my bestie on Besties! `;\n              const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n              if (isMobile) {\n                // Try to open Twitter app first\n                window.location.href = `twitter://post?message=${encodeURIComponent(text + ' ' + url)}`;\n                // Fallback to web after a delay\n                setTimeout(() => {\n                  window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`, '_blank');\n                }, 1500);\n              } else {\n                window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`, '_blank');\n              }\n            }}\n            className=\"w-8 h-8 rounded-full bg-black hover:bg-gray-800 text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Share on X (Twitter)\"\n          >\n            <svg className=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\"/>\n            </svg>\n          </button>\n\n          {/* WhatsApp */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              const text = `Come be my bestie on Besties! `;\n              const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n              if (isMobile) {\n                // Try to open WhatsApp app first\n                window.location.href = `whatsapp://send?text=${encodeURIComponent(text + ' ' + url)}`;\n                // Fallback to web after a delay\n                setTimeout(() => {\n                  window.open(`https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`, '_blank');\n                }, 1500);\n              } else {\n                window.open(`https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`, '_blank');\n              }\n            }}\n            className=\"w-8 h-8 rounded-full bg-[#25d366] hover:bg-[#20bd5a] text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Share on WhatsApp\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\"/>\n            </svg>\n          </button>\n\n          {/* Instagram - Copy Link */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              navigator.clipboard.writeText(url);\n              toast.success('Profile link copied! Share it on Instagram ');\n            }}\n            className=\"w-8 h-8 rounded-full bg-gradient-to-tr from-[#f09433] via-[#e6683c] to-[#bc1888] hover:opacity-90 text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Copy link for Instagram\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\n            </svg>\n          </button>\n\n          {/* Copy Link Button */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              navigator.clipboard.writeText(url);\n              toast.success('Profile link copied to clipboard!');\n            }}\n            className=\"w-8 h-8 rounded-full bg-gray-600 hover:bg-gray-700 text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Copy link\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n      </div>\n\n      {/* Profile Customizer Modal */}\n      {showCustomizer && (\n        <Suspense fallback={null}>\n          <ProfileCustomizer\n            currentUser={currentUser}\n            userData={userData}\n            onClose={() => setShowCustomizer(false)}\n          />\n        </Suspense>\n      )}\n    </>\n  );\n};\n\nexport default ProfileCard;\n","import React from 'react';\n\nconst ProfileCompletion = ({\n  profileCompletion,\n  animatedProgress,\n  onTaskNavigation\n}) => {\n  const getProgressColor = (percentage) => {\n    if (percentage === 100) return 'bg-green-500';\n    if (percentage >= 60) return 'bg-yellow-500';\n    return 'bg-red-500';\n  };\n\n  // Hide when 100% complete\n  if (profileCompletion.percentage >= 100) {\n    return null;\n  }\n\n  return (\n    <div className=\"card p-6 mb-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 border-2 border-purple-100 dark:border-gray-600\">\n      <div className=\"flex items-center justify-between mb-3\">\n        <h2 className=\"text-xl font-display text-gradient\">Profile Completion </h2>\n        <span className=\"text-2xl font-bold text-gradient\">\n          {profileCompletion.completed}/{profileCompletion.total}\n        </span>\n      </div>\n\n      {/* Animated Progress Bar with Shimmer Effect */}\n      <div className=\"w-full h-4 bg-white dark:bg-gray-700 rounded-full overflow-hidden mb-4 shadow-inner relative\">\n        <div\n          className={`h-full ${getProgressColor(profileCompletion.percentage)} transition-all duration-1000 ease-out relative overflow-hidden`}\n          style={{ width: `${animatedProgress}%` }}\n        >\n          {/* Shimmer effect */}\n          <div className=\"absolute inset-0 shimmer-effect\"></div>\n        </div>\n        {/* Progress percentage text */}\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          <span className=\"text-xs font-bold text-gray-700 dark:text-gray-300 drop-shadow-sm\">\n            {Math.round(profileCompletion.percentage)}%\n          </span>\n        </div>\n      </div>\n\n      {/* Task List with Navigation */}\n      <div className=\"space-y-2\">\n        {profileCompletion.tasks.map((task, index) => (\n          <div key={index} className=\"flex items-center justify-between gap-2\">\n            <div className=\"flex items-center gap-2 flex-1\">\n              <span className=\"text-lg\">\n                {task.completed ? '' : ''}\n              </span>\n              <span className={`text-sm ${task.completed ? 'text-gray-500 dark:text-gray-400 line-through' : 'text-gray-700 dark:text-gray-300 font-semibold'}`}>\n                {task.name}\n              </span>\n            </div>\n            {!task.completed && (task.path || task.action) && (\n              <button\n                onClick={() => onTaskNavigation(task)}\n                className=\"btn btn-sm btn-primary text-xs px-3 py-1\"\n              >\n                Go \n              </button>\n            )}\n          </div>\n        ))}\n      </div>\n\n      <style>{`\n        @keyframes shimmer {\n          0% {\n            transform: translateX(-100%);\n          }\n          100% {\n            transform: translateX(100%);\n          }\n        }\n        .shimmer-effect {\n          background: linear-gradient(\n            90deg,\n            transparent,\n            rgba(255, 255, 255, 0.4),\n            transparent\n          );\n          animation: shimmer 2s infinite;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ProfileCompletion;\n","import React from 'react';\n\nconst WeeklySummary = ({ weeklySummary, hasWeekOfActivity, userData, bestiesCount }) => {\n  return (\n    <div className=\"card p-6 mb-6\">\n      <h2 className=\"text-xl font-display text-gray-800 dark:text-gray-200 mb-4\">Weekly Summary</h2>\n\n      <div className=\"bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/30 dark:to-purple-900/30 rounded-xl p-4\">\n        <div className=\"flex items-start gap-3\">\n          <span className=\"text-4xl\">{weeklySummary.emoji}</span>\n          <div className=\"flex-1\">\n            <h3 className=\"font-semibold text-lg text-gray-800 dark:text-gray-200 mb-1\">\n              {weeklySummary.message}\n            </h3>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\n               {weeklySummary.tip}\n            </p>\n            {hasWeekOfActivity && (\n              <div className=\"flex gap-4 text-sm\">\n                <div>\n                  <span className=\"font-semibold text-primary\">{userData?.stats?.totalCheckIns || 0}</span>\n                  <span className=\"text-gray-600 dark:text-gray-400\"> check-ins</span>\n                </div>\n                <div>\n                  <span className=\"font-semibold text-secondary\">{bestiesCount}</span>\n                  <span className=\"text-gray-600 dark:text-gray-400\"> besties</span>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WeeklySummary;\n","import React from 'react';\nimport CountUp from '../CountUp';\n\nconst LoginStreak = ({ loginStreak }) => {\n  if (loginStreak <= 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"card p-6 mb-6 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/30 dark:to-red-900/30\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-display text-gray-800 dark:text-gray-200 mb-1\">Daily Login Streak</h2>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">Keep it going! </p>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-5xl mb-1\"></div>\n          <div className=\"text-3xl font-display text-orange-600 dark:text-orange-400\">\n            <CountUp end={loginStreak} duration={1500} />\n          </div>\n          <div className=\"text-xs text-gray-600 dark:text-gray-400\">days</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginStreak;\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { doc, updateDoc } from 'firebase/firestore';\nimport { db } from '../../services/firebase';\nimport toast from 'react-hot-toast';\n\nconst BadgesSection = ({\n  currentUser,\n  badges,\n  featuredBadgeIds,\n  setFeaturedBadgeIds,\n  setConfettiTrigger\n}) => {\n  const navigate = useNavigate();\n  const [showBadgeSelector, setShowBadgeSelector] = useState(false);\n\n  const featuredBadges = badges.filter(b => featuredBadgeIds.includes(b.id));\n  const otherBadges = badges.filter(b => !featuredBadgeIds.includes(b.id));\n  const allBadgesToShow = [...featuredBadges, ...otherBadges];\n\n  const handleToggleFeaturedBadge = async (badgeId) => {\n    let newFeaturedBadges = [...featuredBadgeIds];\n\n    if (newFeaturedBadges.includes(badgeId)) {\n      newFeaturedBadges = newFeaturedBadges.filter(id => id !== badgeId);\n    } else {\n      if (newFeaturedBadges.length >= 3) {\n        toast.error('You can only feature up to 3 badges');\n        return;\n      }\n      newFeaturedBadges.push(badgeId);\n      setConfettiTrigger(true);\n      setTimeout(() => setConfettiTrigger(false), 100);\n    }\n\n    try {\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        featuredBadges: newFeaturedBadges,\n      });\n      setFeaturedBadgeIds(newFeaturedBadges);\n      toast.success('Featured badges updated!');\n    } catch (error) {\n      console.error('Error updating featured badges:', error);\n      toast.error('Failed to update badges');\n    }\n  };\n\n  return (\n    <>\n      <div className=\"mb-6 relative\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <h2 className=\"text-2xl font-display text-gray-800 dark:text-gray-200\">Your Badges</h2>\n          <button\n            onClick={() => navigate('/badges')}\n            className=\"text-primary font-semibold hover:underline text-sm\"\n          >\n            View All \n          </button>\n        </div>\n\n        <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-4\">\n          {featuredBadgeIds.length > 0\n            ? ` ${featuredBadgeIds.length} featured badge${featuredBadgeIds.length > 1 ? 's' : ''} shown first  `\n            : ''}\n          <button\n            onClick={() => setShowBadgeSelector(true)}\n            className=\"text-primary hover:underline\"\n          >\n            Choose your top 3 to feature\n          </button>\n        </p>\n\n        {allBadgesToShow.length > 0 ? (\n          <>\n            {/* Featured Badges - Show prominently */}\n            {featuredBadges.length > 0 && (\n              <div className=\"mb-4\">\n                <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4\">\n                  {featuredBadges.map((badge) => (\n                    <div\n                      key={badge.id}\n                      className=\"card p-4 text-center transition-all bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/30 dark:to-orange-900/30 border-2 border-yellow-400 dark:border-yellow-600 shadow-lg\"\n                    >\n                      <div className=\"text-4xl mb-2\">{badge.icon}</div>\n                      <div className=\"font-semibold text-sm text-gray-800 dark:text-gray-200\">{badge.name}</div>\n                      <div className=\"text-xs text-yellow-600 dark:text-yellow-400 mt-1\"> Featured</div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Other Badges - Scrollable horizontal list if many */}\n            {otherBadges.length > 0 && (\n              <div>\n                {otherBadges.length > 6 ? (\n                  <>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">Scroll to see all badges </p>\n                    <div className=\"flex gap-3 overflow-x-auto pb-2 scrollbar-hide\">\n                      {otherBadges.map((badge) => (\n                        <div\n                          key={badge.id}\n                          className=\"card p-4 text-center transition-all bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-700 flex-shrink-0 w-32\"\n                        >\n                          <div className=\"text-4xl mb-2\">{badge.icon}</div>\n                          <div className=\"font-semibold text-sm text-gray-800 dark:text-gray-200\">{badge.name}</div>\n                        </div>\n                      ))}\n                    </div>\n                  </>\n                ) : (\n                  <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4\">\n                    {otherBadges.map((badge) => (\n                      <div\n                        key={badge.id}\n                        className=\"card p-4 text-center transition-all bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-700\"\n                      >\n                        <div className=\"text-4xl mb-2\">{badge.icon}</div>\n                        <div className=\"font-semibold text-sm text-gray-800 dark:text-gray-200\">{badge.name}</div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n          </>\n        ) : (\n          <div className=\"card p-8 text-center\">\n            <div className=\"text-5xl mb-3\"></div>\n            <p className=\"text-gray-800 dark:text-gray-200 font-semibold mb-2\">\n              Start earning badges!\n            </p>\n            <p className=\"text-gray-600 dark:text-gray-400 text-sm mb-4\">\n              Complete check-ins, invite friends, and stay safe to unlock achievements\n            </p>\n            <button\n              onClick={() => navigate('/badges')}\n              className=\"btn btn-primary text-sm\"\n            >\n              See All Available Badges\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Badge Selector Modal */}\n      {showBadgeSelector && (\n        <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-2xl font-display text-gray-800 dark:text-gray-200\">Choose Featured Badges</h2>\n              <button\n                onClick={() => setShowBadgeSelector(false)}\n                className=\"w-8 h-8 rounded-full bg-red-500 text-white hover:bg-red-600 flex items-center justify-center text-xl font-bold transition-colors\"\n                title=\"Close\"\n              >\n                \n              </button>\n            </div>\n\n            <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\n              Select up to 3 badges to showcase on your profile ({featuredBadgeIds.length}/3 selected)\n            </p>\n\n            {badges.length > 0 ? (\n              <div className=\"grid grid-cols-3 sm:grid-cols-4 gap-4\">\n                {badges.map((badge) => {\n                  const isSelected = featuredBadgeIds.includes(badge.id);\n                  return (\n                    <button\n                      key={badge.id}\n                      onClick={() => handleToggleFeaturedBadge(badge.id)}\n                      className={`p-4 rounded-xl text-center transition-all ${\n                        isSelected\n                          ? 'bg-gradient-to-br from-yellow-100 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30 border-2 border-primary shadow-lg scale-105'\n                          : 'bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border-2 border-transparent'\n                      }`}\n                    >\n                      <div className=\"text-4xl mb-2\">{badge.icon}</div>\n                      <div className=\"font-semibold text-xs text-gray-800 dark:text-gray-200\">{badge.name}</div>\n                      {isSelected && <div className=\"text-xs text-primary mt-1\"> Featured</div>}\n                    </button>\n                  );\n                })}\n              </div>\n            ) : (\n              <div className=\"text-center py-12\">\n                <div className=\"text-5xl mb-3\"></div>\n                <p className=\"text-gray-600 dark:text-gray-400 mb-4\">No badges yet! Complete tasks to earn them.</p>\n              </div>\n            )}\n\n            <div className=\"mt-6 flex justify-center\">\n              <button\n                onClick={() => navigate('/badges')}\n                className=\"btn btn-primary\"\n              >\n                See How to Earn Badges \n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <style>{`\n        /* Hide scrollbar for horizontal badge scroll */\n        .scrollbar-hide {\n          -ms-overflow-style: none;  /* IE and Edge */\n          scrollbar-width: none;  /* Firefox */\n        }\n        .scrollbar-hide::-webkit-scrollbar {\n          display: none;  /* Chrome, Safari, Opera */\n        }\n      `}</style>\n    </>\n  );\n};\n\nexport default BadgesSection;\n","import React from 'react';\nimport CountUp from '../CountUp';\n\nconst StatsSection = ({\n  bestiesCount,\n  emergencyContactCount,\n  daysActive,\n  userData,\n  badges,\n  loginStreak,\n  nighttimeCheckIns,\n  weekendCheckIns\n}) => {\n  return (\n    <div className=\"card p-8 mb-6 bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 dark:from-purple-900/30 dark:via-pink-900/30 dark:to-orange-900/30\">\n      <h2 className=\"text-3xl font-display text-gradient mb-6 text-center\">Your Impact </h2>\n\n      <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n        {/* Besties Count */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={bestiesCount} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Besties</div>\n          </div>\n        </div>\n\n        {/* Emergency Contact Count */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={emergencyContactCount} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Times Selected</div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">as Emergency Contact</div>\n          </div>\n        </div>\n\n        {/* Days Active */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={daysActive} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Days Active</div>\n          </div>\n        </div>\n\n        {/* Completed Check-ins */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={userData?.stats?.completedCheckIns || 0} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Safe Check-ins</div>\n          </div>\n        </div>\n\n        {/* Badges Earned */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={badges.length} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Badges Earned</div>\n          </div>\n        </div>\n\n        {/* Login Streak */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={loginStreak} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Day Streak</div>\n          </div>\n        </div>\n\n        {/* Nighttime Check-ins */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={nighttimeCheckIns} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Night Check-ins</div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">9 PM - 6 AM</div>\n          </div>\n        </div>\n\n        {/* Weekend Check-ins */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={weekendCheckIns} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Weekend Check-ins</div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">Sat & Sun</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StatsSection;\n","import React from 'react';\nimport CountUp from '../CountUp';\n\nconst DonationStatus = ({ userData }) => {\n  if (!userData?.donationStats?.isActive) {\n    return null;\n  }\n\n  return (\n    <div className=\"card p-6 mb-6 bg-gradient-primary text-white\">\n      <h3 className=\"font-display text-xl mb-2\"> Thank You!</h3>\n      <p className=\"mb-2\">\n        You're helping keep Besties free for everyone\n      </p>\n      <div className=\"text-2xl font-display\">\n        $<CountUp end={userData.donationStats.totalDonated} duration={2000} /> donated\n      </div>\n    </div>\n  );\n};\n\nexport default DonationStatus;\n","import React from 'react';\n\nconst ProfileAuraStyles = () => {\n  return (\n    <style>{`\n      /* Aura Animations */\n      @keyframes aura-shimmer {\n        0%, 100% { opacity: 1; }\n        50% { opacity: 0.7; }\n      }\n      @keyframes aura-glow {\n        0%, 100% {\n          box-shadow: 0 0 20px rgba(219, 39, 119, 0.3), 0 0 40px rgba(139, 92, 246, 0.2);\n        }\n        50% {\n          box-shadow: 0 0 40px rgba(219, 39, 119, 0.5), 0 0 80px rgba(139, 92, 246, 0.4);\n        }\n      }\n      @keyframes aura-pulse {\n        0%, 100% { transform: scale(1); }\n        50% { transform: scale(1.02); }\n      }\n      @keyframes rainbow-border {\n        0% { border-color: #ff0000; }\n        16% { border-color: #ff7f00; }\n        33% { border-color: #ffff00; }\n        50% { border-color: #00ff00; }\n        66% { border-color: #0000ff; }\n        83% { border-color: #8b00ff; }\n        100% { border-color: #ff0000; }\n      }\n      @keyframes sparkle {\n        0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }\n        50% { opacity: 1; transform: scale(1) rotate(180deg); }\n      }\n\n      /* Aura Classes */\n      .profile-card-aura-shimmer::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: -100%;\n        width: 100%;\n        height: 100%;\n        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);\n        animation: shimmer 3s infinite;\n        pointer-events: none;\n      }\n\n      .profile-card-aura-glow {\n        animation: aura-glow 3s ease-in-out infinite;\n      }\n\n      .profile-card-aura-pulse {\n        animation: aura-pulse 2s ease-in-out infinite;\n      }\n\n      .profile-card-aura-rainbow {\n        border: 4px solid;\n        animation: rainbow-border 6s linear infinite;\n      }\n\n      .profile-card-aura-sparkle::after {\n        content: '';\n        position: absolute;\n        top: 10%;\n        right: 10%;\n        font-size: 2rem;\n        animation: sparkle 2s ease-in-out infinite;\n        pointer-events: none;\n      }\n    `}</style>\n  );\n};\n\nexport default ProfileAuraStyles;\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { db } from '../services/firebase';\nimport { doc, getDoc, collection, query, where, getDocs } from 'firebase/firestore';\nimport Header from '../components/Header';\nimport LivingCircle from '../components/LivingCircle';\nimport SocialShareCardsModal from '../components/SocialShareCardsModal';\nimport ConfettiCelebration from '../components/ConfettiCelebration';\nimport ProfileCard from '../components/profile/ProfileCard';\nimport ProfileCompletion from '../components/profile/ProfileCompletion';\nimport WeeklySummary from '../components/profile/WeeklySummary';\nimport LoginStreak from '../components/profile/LoginStreak';\nimport BadgesSection from '../components/profile/BadgesSection';\nimport StatsSection from '../components/profile/StatsSection';\nimport DonationStatus from '../components/profile/DonationStatus';\nimport ProfileAuraStyles from '../components/profile/ProfileAuraStyles';\n\nconst ProfilePage = () => {\n  const { currentUser, userData } = useAuth();\n  const navigate = useNavigate();\n  const [badges, setBadges] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showShareModal, setShowShareModal] = useState(false);\n  const [featuredBadgeIds, setFeaturedBadgeIds] = useState([]);\n  const [bestiesCount, setBestiesCount] = useState(0);\n  const [confettiTrigger, setConfettiTrigger] = useState(false);\n  const [emergencyContactCount, setEmergencyContactCount] = useState(0);\n  const [firstCheckInDate, setFirstCheckInDate] = useState(null);\n  const [nighttimeCheckIns, setNighttimeCheckIns] = useState(0);\n  const [weekendCheckIns, setWeekendCheckIns] = useState(0);\n  const [animatedProgress, setAnimatedProgress] = useState(0);\n\n  useEffect(() => {\n    loadData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentUser]);\n\n  // Animate progress bar when profile completion changes\n  useEffect(() => {\n    const profileCompletion = calculateProfileCompletion();\n    const targetProgress = profileCompletion.percentage;\n    setAnimatedProgress(targetProgress);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userData, bestiesCount, currentUser]);\n\n  const loadData = async () => {\n    if (!currentUser) return;\n\n    try {\n      // Load badges\n      const badgesDoc = await getDoc(doc(db, 'badges', currentUser.uid));\n      if (badgesDoc.exists()) {\n        const badgesData = badgesDoc.data().badges || [];\n        setBadges(badgesData);\n      }\n\n      // Load featured badge preferences\n      const userDoc = await getDoc(doc(db, 'users', currentUser.uid));\n      if (userDoc.exists()) {\n        const data = userDoc.data();\n        setFeaturedBadgeIds(data.featuredBadges || []);\n      }\n\n      // Load besties count\n      const bestiesQuery = query(\n        collection(db, 'besties'),\n        where('requesterId', '==', currentUser.uid),\n        where('status', '==', 'accepted')\n      );\n      const bestiesQuery2 = query(\n        collection(db, 'besties'),\n        where('recipientId', '==', currentUser.uid),\n        where('status', '==', 'accepted')\n      );\n\n      const [snapshot1, snapshot2] = await Promise.all([\n        getDocs(bestiesQuery),\n        getDocs(bestiesQuery2)\n      ]);\n\n      setBestiesCount(snapshot1.size + snapshot2.size);\n\n      // Count how many times user is an emergency contact\n      const emergencyContactQuery = query(\n        collection(db, 'checkins'),\n        where('selectedBesties', 'array-contains', currentUser.uid)\n      );\n      const emergencySnapshot = await getDocs(emergencyContactQuery);\n      setEmergencyContactCount(emergencySnapshot.size);\n\n      // Get first check-in date\n      const checkInsQuery = query(\n        collection(db, 'checkins'),\n        where('userId', '==', currentUser.uid)\n      );\n      const checkInsSnapshot = await getDocs(checkInsQuery);\n      if (!checkInsSnapshot.empty) {\n        let earliestDate = null;\n        let nightCount = 0;\n        let weekendCount = 0;\n\n        checkInsSnapshot.forEach(docSnap => {\n          const data = docSnap.data();\n          const date = data.createdAt?.toDate();\n\n          if (date) {\n            if (!earliestDate || date < earliestDate) {\n              earliestDate = date;\n            }\n\n            const hour = date.getHours();\n            if (hour >= 21 || hour < 6) {\n              nightCount++;\n            }\n\n            const day = date.getDay();\n            if (day === 0 || day === 6) {\n              weekendCount++;\n            }\n          }\n        });\n\n        setFirstCheckInDate(earliestDate);\n        setNighttimeCheckIns(nightCount);\n        setWeekendCheckIns(weekendCount);\n      }\n\n      setLoading(false);\n    } catch (error) {\n      console.error('Error loading data:', error);\n      setLoading(false);\n    }\n  };\n\n  const calculateProfileCompletion = () => {\n    const tasks = [];\n    let completed = 0;\n\n    if (currentUser?.email) {\n      tasks.push({ name: 'Add email', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: 'Add email', completed: false, path: '/settings', section: 'account' });\n    }\n\n    if (userData?.phoneNumber) {\n      tasks.push({ name: 'Add phone number', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: 'Add phone number', completed: false, path: '/edit-profile', section: 'phone' });\n    }\n\n    if (userData?.photoURL) {\n      tasks.push({ name: 'Upload profile photo', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: 'Upload profile photo', completed: false, path: null, section: 'photo', action: 'scrollToPhoto' });\n    }\n\n    if (userData?.profile?.bio) {\n      tasks.push({ name: 'Write a bio', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: 'Write a bio', completed: false, path: '/edit-profile', section: 'bio' });\n    }\n\n    if (bestiesCount >= 5) {\n      tasks.push({ name: 'Add 5 besties', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: `Add 5 besties (${bestiesCount}/5)`, completed: false, path: null, section: null, action: 'scrollToBestieCircle' });\n    }\n\n    const percentage = (completed / tasks.length) * 100;\n    return { tasks, percentage, completed, total: tasks.length };\n  };\n\n  const hasWeekOfActivity = () => {\n    if (!firstCheckInDate) return false;\n    const weekAgo = new Date();\n    weekAgo.setDate(weekAgo.getDate() - 7);\n    return firstCheckInDate <= weekAgo;\n  };\n\n  const getWeeklySummary = () => {\n    if (!hasWeekOfActivity()) {\n      return {\n        status: 'new',\n        emoji: '',\n        message: 'Building your safety journey',\n        tip: 'You\\'ll get your weekly summary after you have one week of activity!'\n      };\n    }\n\n    const checkIns = userData?.stats?.totalCheckIns || 0;\n    const besties = userData?.stats?.totalBesties || 0;\n\n    if (checkIns >= 7 && besties >= 3) {\n      return {\n        status: 'excellent',\n        emoji: '',\n        message: 'You\\'re absolutely crushing it this week!',\n        tip: 'Keep up the amazing safety habits!'\n      };\n    } else if (checkIns >= 3 || besties >= 3) {\n      return {\n        status: 'good',\n        emoji: '',\n        message: 'You\\'re doing great! Keep it up!',\n        tip: 'Try to check in regularly and add more besties.'\n      };\n    } else {\n      return {\n        status: 'needsWork',\n        emoji: '',\n        message: 'Let\\'s build your safety network!',\n        tip: 'Start by adding your closest friends as besties.'\n      };\n    }\n  };\n\n  const handleTaskNavigation = (task) => {\n    if (task.action === 'scrollToPhoto') {\n      const photoElement = document.querySelector('.photo-menu-container');\n      if (photoElement) {\n        photoElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    } else if (task.action === 'scrollToBestieCircle') {\n      const bestieCircleElement = document.querySelector('.bestie-circle-section');\n      if (bestieCircleElement) {\n        bestieCircleElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    } else if (task.path) {\n      if (task.section) {\n        navigate(`${task.path}#${task.section}`);\n      } else {\n        navigate(task.path);\n      }\n    }\n  };\n\n  const getDaysActive = () => {\n    if (!firstCheckInDate) return 0;\n    const now = new Date();\n    const diffTime = Math.abs(now - firstCheckInDate);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n\n  const profileCompletion = calculateProfileCompletion();\n  const weeklySummary = getWeeklySummary();\n  const loginStreak = userData?.loginStreak || 0;\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-pattern\">\n        <Header />\n        <div className=\"flex items-center justify-center py-20\">\n          <div className=\"spinner\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-pattern\">\n      <Header />\n      <ConfettiCelebration trigger={confettiTrigger} type=\"badge\" />\n      <ProfileAuraStyles />\n\n      <div className=\"max-w-4xl mx-auto p-4 pb-24 md:pb-6\">\n        {/* Profile Card */}\n        <ProfileCard currentUser={currentUser} userData={userData} />\n\n        {/* Profile Completion */}\n        <ProfileCompletion\n          profileCompletion={profileCompletion}\n          animatedProgress={animatedProgress}\n          onTaskNavigation={handleTaskNavigation}\n        />\n\n        {/* Weekly Summary */}\n        <WeeklySummary\n          weeklySummary={weeklySummary}\n          hasWeekOfActivity={hasWeekOfActivity()}\n          userData={userData}\n          bestiesCount={bestiesCount}\n        />\n\n        {/* Login Streak */}\n        <LoginStreak loginStreak={loginStreak} />\n\n        {/* Badges Section */}\n        <BadgesSection\n          currentUser={currentUser}\n          badges={badges}\n          featuredBadgeIds={featuredBadgeIds}\n          setFeaturedBadgeIds={setFeaturedBadgeIds}\n          setConfettiTrigger={setConfettiTrigger}\n        />\n\n        {/* Stats Section */}\n        <StatsSection\n          bestiesCount={bestiesCount}\n          emergencyContactCount={emergencyContactCount}\n          daysActive={getDaysActive()}\n          userData={userData}\n          badges={badges}\n          loginStreak={loginStreak}\n          nighttimeCheckIns={nighttimeCheckIns}\n          weekendCheckIns={weekendCheckIns}\n        />\n\n        {/* Bestie Circle */}\n        <div className=\"mb-6 bestie-circle-section\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-2xl font-display text-gray-800 dark:text-gray-200\">Your Bestie Circle</h2>\n            <button\n              onClick={() => navigate('/besties')}\n              className=\"text-primary font-semibold hover:underline\"\n            >\n              Manage \n            </button>\n          </div>\n          <LivingCircle userId={currentUser?.uid} onAddClick={() => navigate('/besties')} />\n        </div>\n\n        {/* Donation Status */}\n        <DonationStatus userData={userData} />\n\n        {/* Settings Button */}\n        <div className=\"space-y-3\">\n          <button\n            onClick={() => navigate('/settings')}\n            className=\"w-full btn btn-secondary\"\n          >\n             Settings\n          </button>\n        </div>\n      </div>\n\n      {/* Share Modal */}\n      {showShareModal && (\n        <SocialShareCardsModal onClose={() => setShowShareModal(false)} />\n      )}\n    </div>\n  );\n};\n\nexport default ProfilePage;\n","import { db } from './firebase';\nimport {\n  collection,\n  query,\n  where,\n  getDocs,\n  doc,\n  getDoc,\n  orderBy,\n  limit,\n  Timestamp\n} from 'firebase/firestore';\n\n/**\n * Connection Strength Service\n *\n * Calculates real connection strength between besties based on actual behavior:\n * - Alert response times\n * - Check-in selection frequency\n * - Featured circle inclusion\n * - Relationship duration\n * - Recent interaction recency\n *\n * Returns a score from 0-100 where:\n * - 90-100: Incredible connection (always there when needed)\n * - 70-89: Strong connection (consistently supportive)\n * - 50-69: Good connection (reliable but room for growth)\n * - 30-49: Developing connection (occasional interaction)\n * - 0-29: Weak connection (rarely interact)\n */\n\nconst ONE_DAY = 24 * 60 * 60 * 1000;\nconst ONE_WEEK = 7 * ONE_DAY;\nconst ONE_MONTH = 30 * ONE_DAY;\n\n/**\n * Calculate comprehensive connection strength between two users\n */\nexport const calculateConnectionStrength = async (userId, bestieId) => {\n  try {\n    const scores = {\n      alertResponse: 0,      // 35 points - most important\n      checkInFrequency: 0,   // 25 points\n      featuredCircle: 0,     // 20 points\n      recency: 0,            // 15 points\n      duration: 0,           // 5 points\n    };\n\n    // Run all calculations in parallel for speed\n    const [\n      alertResponseScore,\n      checkInFrequencyScore,\n      featuredCircleScore,\n      recencyScore,\n      durationScore,\n    ] = await Promise.all([\n      calculateAlertResponseScore(userId, bestieId),\n      calculateCheckInFrequencyScore(userId, bestieId),\n      calculateFeaturedCircleScore(userId, bestieId),\n      calculateRecencyScore(userId, bestieId),\n      calculateDurationScore(userId, bestieId),\n    ]);\n\n    scores.alertResponse = alertResponseScore;\n    scores.checkInFrequency = checkInFrequencyScore;\n    scores.featuredCircle = featuredCircleScore;\n    scores.recency = recencyScore;\n    scores.duration = durationScore;\n\n    const totalScore = Math.round(\n      scores.alertResponse +\n      scores.checkInFrequency +\n      scores.featuredCircle +\n      scores.recency +\n      scores.duration\n    );\n\n    return {\n      total: Math.min(100, totalScore),\n      breakdown: scores,\n      level: getConnectionLevel(totalScore),\n    };\n  } catch (error) {\n    console.error('Error calculating connection strength:', error);\n    return {\n      total: 0,\n      breakdown: {},\n      level: 'unknown',\n    };\n  }\n};\n\n/**\n * Alert Response Score (0-35 points)\n * The most important metric - do they show up when you need them?\n */\nconst calculateAlertResponseScore = async (userId, bestieId) => {\n  try {\n    // Get all alert responses where bestieId responded to userId's alerts\n    const responsesQuery = query(\n      collection(db, 'alert_responses'),\n      where('userId', '==', userId),\n      where('responderId', '==', bestieId)\n    );\n    const responsesSnap = await getDocs(responsesQuery);\n\n    if (responsesSnap.empty) {\n      // No alerts yet - check if they've been in check-ins together as a proxy\n      const interactionsQuery = query(\n        collection(db, 'interactions'),\n        where('userId', '==', userId),\n        where('bestieId', '==', bestieId),\n        where('type', '==', 'check_in_together')\n      );\n      const interactionsSnap = await getDocs(interactionsQuery);\n\n      // Give some credit for being selected as guardian\n      return Math.min(15, interactionsSnap.size * 3);\n    }\n\n    const responses = responsesSnap.docs.map(doc => doc.data());\n\n    // Calculate average response time (in minutes)\n    const avgResponseTime = responses.reduce((sum, r) => sum + r.responseTime, 0) / responses.length / 60;\n\n    // Score based on response time\n    let timeScore = 0;\n    if (avgResponseTime < 5) timeScore = 20;        // < 5 min: instant\n    else if (avgResponseTime < 15) timeScore = 17;  // < 15 min: very fast\n    else if (avgResponseTime < 30) timeScore = 14;  // < 30 min: fast\n    else if (avgResponseTime < 60) timeScore = 10;  // < 1 hour: decent\n    else if (avgResponseTime < 180) timeScore = 5;  // < 3 hours: slow\n    else timeScore = 2;                             // > 3 hours: very slow\n\n    // Bonus for response count (reliability)\n    const reliabilityScore = Math.min(15, responses.length * 2);\n\n    return timeScore + reliabilityScore;\n  } catch (error) {\n    console.error('Error calculating alert response score:', error);\n    return 0;\n  }\n};\n\n/**\n * Check-In Frequency Score (0-25 points)\n * How often do they include each other in check-ins?\n */\nconst calculateCheckInFrequencyScore = async (userId, bestieId) => {\n  try {\n    // Get check-ins where userId selected bestieId as guardian (last 90 days)\n    const threeMonthsAgo = Timestamp.fromDate(new Date(Date.now() - 90 * ONE_DAY));\n\n    const checkInsQuery = query(\n      collection(db, 'checkins'),\n      where('userId', '==', userId),\n      where('bestieIds', 'array-contains', bestieId),\n      where('createdAt', '>=', threeMonthsAgo)\n    );\n    const checkInsSnap = await getDocs(checkInsQuery);\n\n    // Get reverse direction (bestieId selecting userId)\n    const reverseCheckInsQuery = query(\n      collection(db, 'checkins'),\n      where('userId', '==', bestieId),\n      where('bestieIds', 'array-contains', userId),\n      where('createdAt', '>=', threeMonthsAgo)\n    );\n    const reverseCheckInsSnap = await getDocs(reverseCheckInsQuery);\n\n    const userSelections = checkInsSnap.size;\n    const bestieSelections = reverseCheckInsSnap.size;\n\n    // Bidirectional is better - give bonus for mutual selection\n    const totalSelections = userSelections + bestieSelections;\n    const mutualBonus = Math.min(userSelections, bestieSelections) > 0 ? 5 : 0;\n\n    // Score based on frequency\n    let frequencyScore = 0;\n    if (totalSelections >= 20) frequencyScore = 15;\n    else if (totalSelections >= 10) frequencyScore = 12;\n    else if (totalSelections >= 5) frequencyScore = 8;\n    else if (totalSelections >= 2) frequencyScore = 5;\n    else if (totalSelections >= 1) frequencyScore = 2;\n\n    return frequencyScore + mutualBonus + Math.min(5, totalSelections);\n  } catch (error) {\n    console.error('Error calculating check-in frequency score:', error);\n    return 0;\n  }\n};\n\n/**\n * Featured Circle Score (0-20 points)\n * Are they in each other's top 5?\n */\nconst calculateFeaturedCircleScore = async (userId, bestieId) => {\n  try {\n    const [userDoc, bestieDoc] = await Promise.all([\n      getDoc(doc(db, 'users', userId)),\n      getDoc(doc(db, 'users', bestieId))\n    ]);\n\n    const userCircle = userDoc.exists() ? (userDoc.data().featuredCircle || []) : [];\n    const bestieCircle = bestieDoc.exists() ? (bestieDoc.data().featuredCircle || []) : [];\n\n    const inUserCircle = userCircle.includes(bestieId);\n    const inBestieCircle = bestieCircle.includes(userId);\n\n    // Scoring\n    if (inUserCircle && inBestieCircle) return 20; // Mutual top 5\n    if (inUserCircle) return 12; // In your top 5\n    if (inBestieCircle) return 10; // You're in their top 5\n    return 0;\n  } catch (error) {\n    console.error('Error calculating featured circle score:', error);\n    return 0;\n  }\n};\n\n/**\n * Recency Score (0-15 points)\n * How recently have they interacted?\n */\nconst calculateRecencyScore = async (userId, bestieId) => {\n  try {\n    // Get most recent interaction of any type\n    const interactionsQuery = query(\n      collection(db, 'interactions'),\n      where('userId', '==', userId),\n      where('bestieId', '==', bestieId),\n      orderBy('createdAt', 'desc'),\n      limit(1)\n    );\n    const interactionsSnap = await getDocs(interactionsQuery);\n\n    // Also check reverse direction\n    const reverseQuery = query(\n      collection(db, 'interactions'),\n      where('userId', '==', bestieId),\n      where('bestieId', '==', userId),\n      orderBy('createdAt', 'desc'),\n      limit(1)\n    );\n    const reverseSnap = await getDocs(reverseQuery);\n\n    // Get most recent from either direction\n    let lastInteraction = null;\n\n    if (!interactionsSnap.empty) {\n      lastInteraction = interactionsSnap.docs[0].data().createdAt;\n    }\n\n    if (!reverseSnap.empty) {\n      const reverseDate = reverseSnap.docs[0].data().createdAt;\n      if (!lastInteraction || reverseDate.toMillis() > lastInteraction.toMillis()) {\n        lastInteraction = reverseDate;\n      }\n    }\n\n    // If no interactions tracked yet, check most recent check-in together\n    if (!lastInteraction) {\n      const checkInQuery = query(\n        collection(db, 'checkins'),\n        where('userId', '==', userId),\n        where('bestieIds', 'array-contains', bestieId),\n        orderBy('createdAt', 'desc'),\n        limit(1)\n      );\n      const checkInSnap = await getDocs(checkInQuery);\n\n      if (!checkInSnap.empty) {\n        lastInteraction = checkInSnap.docs[0].data().createdAt;\n      }\n    }\n\n    if (!lastInteraction) return 0;\n\n    const daysSince = (Date.now() - lastInteraction.toMillis()) / ONE_DAY;\n\n    // Score based on recency\n    if (daysSince < 1) return 15;      // Today\n    if (daysSince < 3) return 12;      // Last 3 days\n    if (daysSince < 7) return 9;       // This week\n    if (daysSince < 14) return 6;      // Last 2 weeks\n    if (daysSince < 30) return 3;      // This month\n    return 1;                           // Over a month\n  } catch (error) {\n    console.error('Error calculating recency score:', error);\n    return 0;\n  }\n};\n\n/**\n * Duration Score (0-5 points)\n * How long have they been besties?\n */\nconst calculateDurationScore = async (userId, bestieId) => {\n  try {\n    // Find the bestie relationship\n    const [requesterQuery, recipientQuery] = await Promise.all([\n      getDocs(\n        query(\n          collection(db, 'besties'),\n          where('requesterId', '==', userId),\n          where('recipientId', '==', bestieId),\n          where('status', '==', 'accepted')\n        )\n      ),\n      getDocs(\n        query(\n          collection(db, 'besties'),\n          where('requesterId', '==', bestieId),\n          where('recipientId', '==', userId),\n          where('status', '==', 'accepted')\n        )\n      ),\n    ]);\n\n    const bestieDoc = !requesterQuery.empty\n      ? requesterQuery.docs[0]\n      : !recipientQuery.empty\n      ? recipientQuery.docs[0]\n      : null;\n\n    if (!bestieDoc) return 0;\n\n    const acceptedAt = bestieDoc.data().acceptedAt;\n    if (!acceptedAt) return 0;\n\n    const daysTogether = (Date.now() - acceptedAt.toMillis()) / ONE_DAY;\n\n    // Score based on duration\n    if (daysTogether >= 365) return 5;  // 1+ year\n    if (daysTogether >= 180) return 4;  // 6+ months\n    if (daysTogether >= 90) return 3;   // 3+ months\n    if (daysTogether >= 30) return 2;   // 1+ month\n    if (daysTogether >= 7) return 1;    // 1+ week\n    return 0;\n  } catch (error) {\n    console.error('Error calculating duration score:', error);\n    return 0;\n  }\n};\n\n/**\n * Get connection level description\n */\nconst getConnectionLevel = (score) => {\n  if (score >= 90) return 'incredible';\n  if (score >= 70) return 'strong';\n  if (score >= 50) return 'good';\n  if (score >= 30) return 'developing';\n  return 'weak';\n};\n\n/**\n * Get connection level color for UI\n */\nexport const getConnectionColor = (score) => {\n  if (score >= 90) return '#10b981'; // green\n  if (score >= 70) return '#3b82f6'; // blue\n  if (score >= 50) return '#f59e0b'; // orange\n  if (score >= 30) return '#f97316'; // deep orange\n  return '#94a3b8'; // gray\n};\n\n/**\n * Get connection level emoji\n */\nexport const getConnectionEmoji = (score) => {\n  if (score >= 90) return '';\n  if (score >= 70) return '';\n  if (score >= 50) return '';\n  if (score >= 30) return '';\n  return '';\n};\n\n/**\n * Calculate Circle Health Score (0-100)\n * Overall health of the entire featured circle\n */\nexport const calculateCircleHealth = async (userId) => {\n  try {\n    // Get user's featured circle\n    const userDoc = await getDoc(doc(db, 'users', userId));\n    if (!userDoc.exists()) return { score: 0, insights: [] };\n\n    const featuredCircle = userDoc.data().featuredCircle || [];\n\n    if (featuredCircle.length === 0) {\n      return {\n        score: 0,\n        insights: ['Add besties to your circle to start building connections'],\n      };\n    }\n\n    // Calculate connection strength with each circle member\n    const connectionPromises = featuredCircle.map(bestieId =>\n      calculateConnectionStrength(userId, bestieId)\n    );\n    const connections = await Promise.all(connectionPromises);\n\n    // Average connection strength\n    const avgStrength = connections.reduce((sum, c) => sum + c.total, 0) / connections.length;\n\n    // Penalties and bonuses\n    let finalScore = avgStrength;\n\n    // Penalty for incomplete circle (not having 5 besties)\n    if (featuredCircle.length < 5) {\n      finalScore *= (featuredCircle.length / 5);\n    }\n\n    // Generate insights\n    const insights = generateCircleInsights(userId, connections, featuredCircle);\n\n    return {\n      score: Math.round(finalScore),\n      avgConnectionStrength: Math.round(avgStrength),\n      circleSize: featuredCircle.length,\n      connections,\n      insights,\n    };\n  } catch (error) {\n    console.error('Error calculating circle health:', error);\n    return { score: 0, insights: ['Error calculating circle health'] };\n  }\n};\n\n/**\n * Generate actionable insights about circle health\n */\nconst generateCircleInsights = (userId, connections, featuredCircle) => {\n  const insights = [];\n\n  // Check for weak connections\n  const weakConnections = connections.filter(c => c.total < 30);\n  if (weakConnections.length > 0) {\n    insights.push({\n      type: 'warning',\n      message: `${weakConnections.length} connection${weakConnections.length > 1 ? 's' : ''} need attention`,\n      action: 'reach_out',\n    });\n  }\n\n  // Check for incomplete circle\n  if (featuredCircle.length < 5) {\n    insights.push({\n      type: 'info',\n      message: `Add ${5 - featuredCircle.length} more ${featuredCircle.length === 4 ? 'bestie' : 'besties'} to complete your circle`,\n      action: 'add_besties',\n    });\n  }\n\n  // Check for lack of recent interactions\n  const staleConnections = connections.filter(c => c.breakdown.recency < 6);\n  if (staleConnections.length > 0) {\n    insights.push({\n      type: 'tip',\n      message: `${staleConnections.length} connection${staleConnections.length > 1 ? 's' : ''} haven't been active recently`,\n      action: 'circle_check',\n    });\n  }\n\n  // Celebrate strong circle\n  if (connections.every(c => c.total >= 70) && featuredCircle.length === 5) {\n    insights.push({\n      type: 'success',\n      message: 'Your circle is thriving! Keep up the great connections ',\n      action: null,\n    });\n  }\n\n  return insights;\n};\n\n/**\n * Get last interaction time with a bestie\n */\nexport const getLastInteraction = async (userId, bestieId) => {\n  try {\n    // Check interactions collection\n    const interactionsQuery = query(\n      collection(db, 'interactions'),\n      where('userId', '==', userId),\n      where('bestieId', '==', bestieId),\n      orderBy('createdAt', 'desc'),\n      limit(1)\n    );\n    const snap = await getDocs(interactionsQuery);\n\n    if (!snap.empty) {\n      return snap.docs[0].data().createdAt;\n    }\n\n    // Fallback: check check-ins\n    const checkInQuery = query(\n      collection(db, 'checkins'),\n      where('userId', '==', userId),\n      where('bestieIds', 'array-contains', bestieId),\n      orderBy('createdAt', 'desc'),\n      limit(1)\n    );\n    const checkInSnap = await getDocs(checkInQuery);\n\n    if (!checkInSnap.empty) {\n      return checkInSnap.docs[0].data().createdAt;\n    }\n\n    return null;\n  } catch (error) {\n    console.error('Error getting last interaction:', error);\n    return null;\n  }\n};\n\n/**\n * Format time ago string\n */\nexport const formatTimeAgo = (timestamp) => {\n  if (!timestamp) return 'Never';\n\n  const ms = Date.now() - timestamp.toMillis();\n  const minutes = Math.floor(ms / (1000 * 60));\n  const hours = Math.floor(ms / (1000 * 60 * 60));\n  const days = Math.floor(ms / ONE_DAY);\n\n  if (minutes < 1) return 'Just now';\n  if (minutes < 60) return `${minutes}m ago`;\n  if (hours < 24) return `${hours}h ago`;\n  if (days === 1) return 'Yesterday';\n  if (days < 7) return `${days}d ago`;\n  if (days < 30) return `${Math.floor(days / 7)}w ago`;\n  if (days < 365) return `${Math.floor(days / 30)}mo ago`;\n  return `${Math.floor(days / 365)}y ago`;\n};\n","// 60+ Beautiful Background Themes for Profile Cards\n// Organized by aesthetic categories for 18-30 year old women\n\nexport const BACKGROUND_CATEGORIES = [\n  'plantMom',\n  'beauty',\n  'equestrian',\n  'coffee',\n  'wellness',\n  'bookworm',\n  'travel',\n  'mystical',\n  'fashion',\n  'creative',\n  'beach',\n  'cottagecore',\n  'cityGirl',\n  'cozy',\n  'whimsical',\n  'luxe'\n];\n\nexport const BACKGROUNDS = {\n  //  PLANT MOM\n  plantMom: [\n    {\n      id: 'monstera-dream',\n      name: 'Monstera Dream',\n      category: 'plantMom',\n      gradient: 'linear-gradient(135deg, #8B9D83 0%, #F5F1E8 100%)',\n      pattern: 'monstera',\n      description: 'Sage green with tropical vibes'\n    },\n    {\n      id: 'terracotta-garden',\n      name: 'Terracotta Garden',\n      category: 'plantMom',\n      gradient: 'linear-gradient(135deg, #D4A574 0%, #E8C4B8 100%)',\n      pattern: 'pots',\n      description: 'Warm terracotta and dusty rose'\n    },\n    {\n      id: 'jungle-vibes',\n      name: 'Jungle Vibes',\n      category: 'plantMom',\n      gradient: 'linear-gradient(135deg, #2D5016 0%, #4A7C59 100%)',\n      pattern: 'tropical',\n      description: 'Deep emerald jungle aesthetic'\n    },\n    {\n      id: 'succulent-garden',\n      name: 'Succulent Garden',\n      category: 'plantMom',\n      gradient: 'linear-gradient(135deg, #9DC183 0%, #E8F5E9 100%)',\n      pattern: 'geometric',\n      description: 'Fresh green with geometric touches'\n    },\n    {\n      id: 'botanical-print',\n      name: ' Botanical Print',\n      category: 'plantMom',\n      gradient: 'linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 50%, #A5D6A7 100%)',\n      pattern: 'leaves',\n      description: 'Illustrated leafy pattern',\n      illustrated: true\n    }\n  ],\n\n  //  BEAUTY & GLAM\n  beauty: [\n    {\n      id: 'rose-gold-glow',\n      name: 'Rose Gold Glow',\n      category: 'beauty',\n      gradient: 'linear-gradient(135deg, #E8B298 0%, #F5E6D3 100%)',\n      pattern: 'shimmer',\n      description: 'Rose gold with shimmer effect'\n    },\n    {\n      id: 'velvet-vanity',\n      name: 'Velvet Vanity',\n      category: 'beauty',\n      gradient: 'linear-gradient(135deg, #8B2E5D 0%, #F4A6C8 100%)',\n      pattern: 'bokeh',\n      description: 'Rich burgundy and blush'\n    },\n    {\n      id: 'pearl-elegance',\n      name: 'Pearl Elegance',\n      category: 'beauty',\n      gradient: 'linear-gradient(135deg, #F8F3F0 0%, #E8C4D8 100%)',\n      pattern: 'pearl',\n      description: 'Iridescent white and soft pink'\n    },\n    {\n      id: 'makeup-palette',\n      name: 'Makeup Palette',\n      category: 'beauty',\n      gradient: 'linear-gradient(135deg, #D4A574 0%, #F0C4B8 50%, #E8A4A4 100%)',\n      pattern: 'none',\n      description: 'Warm neutrals and blush tones'\n    },\n    {\n      id: 'glossy-glam',\n      name: 'Glossy Glam',\n      category: 'beauty',\n      gradient: 'linear-gradient(135deg, #FFB6C1 0%, #FFC0CB 50%, #FFE4E1 100%)',\n      pattern: 'shine',\n      description: 'Glossy pink perfection'\n    },\n    {\n      id: 'lipstick-kisses',\n      name: ' Lipstick Kisses',\n      category: 'beauty',\n      gradient: 'linear-gradient(135deg, #FFC0CB 0%, #FFB6C1 50%, #FF69B4 100%)',\n      pattern: 'hearts',\n      description: 'Playful pink lip print vibes',\n      illustrated: true\n    },\n    {\n      id: 'makeup-brushes',\n      name: ' Glam Vanity',\n      category: 'beauty',\n      gradient: 'linear-gradient(135deg, #E8C4B8 0%, #D4A574 50%, #F5E6D3 100%)',\n      pattern: 'shimmer',\n      description: 'Chic makeup counter aesthetic',\n      illustrated: true\n    }\n  ],\n\n  //  EQUESTRIAN\n  equestrian: [\n    {\n      id: 'golden-hour-stable',\n      name: 'Golden Hour Stable',\n      category: 'equestrian',\n      gradient: 'linear-gradient(135deg, #D4A574 0%, #F5DEB3 100%)',\n      pattern: 'fence',\n      description: 'Warm wheat and honey tones'\n    },\n    {\n      id: 'english-countryside',\n      name: 'English Countryside',\n      category: 'equestrian',\n      gradient: 'linear-gradient(135deg, #8B9D83 0%, #F5F1E8 100%)',\n      pattern: 'horseshoe',\n      description: 'Sage and cream elegance'\n    },\n    {\n      id: 'western-sunset',\n      name: 'Western Sunset',\n      category: 'equestrian',\n      gradient: 'linear-gradient(135deg, #CC5500 0%, #9B7EBD 100%)',\n      pattern: 'landscape',\n      description: 'Burnt orange and dusty purple'\n    },\n    {\n      id: 'stable-chic',\n      name: 'Stable Chic',\n      category: 'equestrian',\n      gradient: 'linear-gradient(135deg, #8B7355 0%, #D2B48C 100%)',\n      pattern: 'wood',\n      description: 'Rich brown and tan'\n    },\n  ],\n\n  //  COFFEE CULTURE\n  coffee: [\n    {\n      id: 'latte-love',\n      name: 'Latte Love',\n      category: 'coffee',\n      gradient: 'linear-gradient(135deg, #F5F1E8 0%, #D4A574 100%)',\n      pattern: 'steam',\n      description: 'Cream and caramel swirls'\n    },\n    {\n      id: 'espresso-yourself',\n      name: 'Espresso Yourself',\n      category: 'coffee',\n      gradient: 'linear-gradient(135deg, #6F4E37 0%, #C4A484 100%)',\n      pattern: 'beans',\n      description: 'Rich coffee brown'\n    },\n    {\n      id: 'matcha-morning',\n      name: 'Matcha Morning',\n      category: 'coffee',\n      gradient: 'linear-gradient(135deg, #A8D5BA 0%, #F5F1E8 100%)',\n      pattern: 'zen',\n      description: 'Soft green zen vibes'\n    },\n    {\n      id: 'cappuccino-dream',\n      name: 'Cappuccino Dream',\n      category: 'coffee',\n      gradient: 'linear-gradient(135deg, #F0E6DC 0%, #C9A98D 100%)',\n      pattern: 'foam',\n      description: 'Foamy beige perfection'\n    },\n    {\n      id: 'coffee-cups',\n      name: ' Coffee Shop',\n      category: 'coffee',\n      gradient: 'linear-gradient(135deg, #FFF8E1 0%, #D7CCC8 50%, #8D6E63 100%)',\n      pattern: 'dots',\n      description: 'Cozy coffee cup pattern',\n      illustrated: true\n    },\n    {\n      id: 'latte-art',\n      name: ' Latte Art',\n      category: 'coffee',\n      gradient: 'linear-gradient(135deg, #EFEBE9 0%, #A1887F 50%, #6D4C41 100%)',\n      pattern: 'swirl',\n      description: 'Barista hearts and rosettas',\n      illustrated: true\n    }\n  ],\n\n  //  WELLNESS & FITNESS\n  wellness: [\n    {\n      id: 'pilates-princess',\n      name: 'Pilates Princess',\n      category: 'wellness',\n      gradient: 'linear-gradient(135deg, #E6D5F5 0%, #FFFFFF 100%)',\n      pattern: 'geometric',\n      description: 'Soft lilac and white'\n    },\n    {\n      id: 'hot-girl-walk',\n      name: 'Hot Girl Walk',\n      category: 'wellness',\n      gradient: 'linear-gradient(135deg, #FFB6A3 0%, #FF8B94 100%)',\n      pattern: 'mesh',\n      description: 'Peachy pink energy'\n    },\n    {\n      id: 'yoga-flow',\n      name: 'Yoga Flow',\n      category: 'wellness',\n      gradient: 'linear-gradient(135deg, #A8D5E2 0%, #D5B8F0 100%)',\n      pattern: 'waves',\n      description: 'Calming blue and lavender'\n    },\n    {\n      id: 'green-smoothie',\n      name: 'Green Smoothie',\n      category: 'wellness',\n      gradient: 'linear-gradient(135deg, #B8E6B8 0%, #E8F5E8 100%)',\n      pattern: 'organic',\n      description: 'Fresh green vitality'\n    },\n    {\n      id: 'fitness-vibes',\n      name: ' Fitness Vibes',\n      category: 'wellness',\n      gradient: 'linear-gradient(135deg, #FFCCBC 0%, #FF8A65 50%, #FF5722 100%)',\n      pattern: 'energy',\n      description: 'Energetic coral orange',\n      illustrated: true\n    }\n  ],\n\n  //  BOOKWORM\n  bookworm: [\n    {\n      id: 'golden-library',\n      name: 'Golden Library',\n      category: 'bookworm',\n      gradient: 'linear-gradient(135deg, #6B2C2C 0%, #D4AF37 100%)',\n      pattern: 'books',\n      description: 'Burgundy and gold'\n    },\n    {\n      id: 'paperback-dreams',\n      name: 'Paperback Dreams',\n      category: 'bookworm',\n      gradient: 'linear-gradient(135deg, #F5F1E8 0%, #C4A484 100%)',\n      pattern: 'pages',\n      description: 'Cream and coffee'\n    },\n    {\n      id: 'midnight-reader',\n      name: 'Midnight Reader',\n      category: 'bookworm',\n      gradient: 'linear-gradient(135deg, #1A2238 0%, #D4AF37 100%)',\n      pattern: 'stars',\n      description: 'Navy and gold constellation'\n    },\n    {\n      id: 'cozy-chapter',\n      name: 'Cozy Chapter',\n      category: 'bookworm',\n      gradient: 'linear-gradient(135deg, #8B7355 0%, #F5E6D3 100%)',\n      pattern: 'vintage',\n      description: 'Vintage book aesthetic'\n    },\n  ],\n\n  //  TRAVEL & ADVENTURE\n  travel: [\n    {\n      id: 'passport-ready',\n      name: 'Passport Ready',\n      category: 'travel',\n      gradient: 'linear-gradient(135deg, #87CEEB 0%, #FFB6A3 100%)',\n      pattern: 'map',\n      description: 'Sky blue and coral'\n    },\n    {\n      id: 'santorini-sunset',\n      name: 'Santorini Sunset',\n      category: 'travel',\n      gradient: 'linear-gradient(135deg, #FFFFFF 0%, #4A90E2 100%)',\n      pattern: 'mediterranean',\n      description: 'White and cobalt blue'\n    },\n    {\n      id: 'wanderlust',\n      name: 'Wanderlust',\n      category: 'travel',\n      gradient: 'linear-gradient(135deg, #FF6B6B 0%, #FFE66D 50%, #4ECDC4 100%)',\n      pattern: 'compass',\n      description: 'Sunset gradient'\n    },\n    {\n      id: 'mountain-peaks',\n      name: 'Mountain Peaks',\n      category: 'travel',\n      gradient: 'linear-gradient(135deg, #5D8AA8 0%, #F0F8FF 100%)',\n      pattern: 'mountains',\n      description: 'Blue mountain ranges'\n    },\n    {\n      id: 'tropical-escape',\n      name: 'Tropical Escape',\n      category: 'travel',\n      gradient: 'linear-gradient(135deg, #00CED1 0%, #FFD700 100%)',\n      pattern: 'palm',\n      description: 'Turquoise and gold'\n    },\n  ],\n\n  //  MYSTICAL & ASTROLOGY\n  mystical: [\n    {\n      id: 'cosmic-connection',\n      name: 'Cosmic Connection',\n      category: 'mystical',\n      gradient: 'linear-gradient(135deg, #4A148C 0%, #1A237E 100%)',\n      pattern: 'constellation',\n      description: 'Deep purple galaxy'\n    },\n    {\n      id: 'moon-child',\n      name: 'Moon Child',\n      category: 'mystical',\n      gradient: 'linear-gradient(135deg, #2C2C2C 0%, #C0C0C0 100%)',\n      pattern: 'moon',\n      description: 'Soft black and silver'\n    },\n    {\n      id: 'stargazer',\n      name: 'Stargazer',\n      category: 'mystical',\n      gradient: 'linear-gradient(135deg, #0F2027 0%, #203A43 50%, #2C5364 100%)',\n      pattern: 'stars',\n      description: 'Midnight blue with stars'\n    },\n    {\n      id: 'crystal-energy',\n      name: 'Crystal Energy',\n      category: 'mystical',\n      gradient: 'linear-gradient(135deg, #E6D5F5 0%, #B4A5D8 100%)',\n      pattern: 'crystals',\n      description: 'Amethyst and lavender'\n    },\n  ],\n\n  //  FASHION & STYLE\n  fashion: [\n    {\n      id: 'parisian-pink',\n      name: 'Parisian Pink',\n      category: 'fashion',\n      gradient: 'linear-gradient(135deg, #FFB6C1 0%, #F5F1E8 100%)',\n      pattern: 'eiffel',\n      description: 'Soft blush and cream'\n    },\n    {\n      id: 'runway-ready',\n      name: 'Runway Ready',\n      category: 'fashion',\n      gradient: 'linear-gradient(135deg, #000000 0%, #FFFFFF 50%, #FFB6C1 100%)',\n      pattern: 'geometric',\n      description: 'Black, white, and pink'\n    },\n    {\n      id: 'vintage-vogue',\n      name: 'Vintage Vogue',\n      category: 'fashion',\n      gradient: 'linear-gradient(135deg, #D4A574 0%, #F5E6D3 100%)',\n      pattern: 'retro',\n      description: 'Sepia vintage tones'\n    },\n    {\n      id: 'designer-dreams',\n      name: 'Designer Dreams',\n      category: 'fashion',\n      gradient: 'linear-gradient(135deg, #C9A98D 0%, #2C2C2C 100%)',\n      pattern: 'luxe',\n      description: 'Tan and black chic'\n    },\n    {\n      id: 'fashion-week',\n      name: ' Fashion Week',\n      category: 'fashion',\n      gradient: 'linear-gradient(135deg, #FFE4E1 0%, #FFB6C1 50%, #FF69B4 100%)',\n      pattern: 'stripes',\n      description: 'Runway stripes and pink',\n      illustrated: true\n    },\n    {\n      id: 'handbag-heaven',\n      name: ' Handbag Heaven',\n      category: 'fashion',\n      gradient: 'linear-gradient(135deg, #F5E6D3 0%, #D4A574 50%, #8B7355 100%)',\n      pattern: 'luxury',\n      description: 'Luxe leather tones',\n      illustrated: true\n    }\n  ],\n\n  //  CREATIVE & ARTSY\n  creative: [\n    {\n      id: 'paint-palette',\n      name: 'Paint Palette',\n      category: 'creative',\n      gradient: 'linear-gradient(135deg, #FFB6C1 0%, #FFE4B5 25%, #B0E57C 50%, #87CEEB 75%, #DDA0DD 100%)',\n      pattern: 'watercolor',\n      description: 'Rainbow pastel blend'\n    },\n    {\n      id: 'gallery-girl',\n      name: 'Gallery Girl',\n      category: 'creative',\n      gradient: 'linear-gradient(135deg, #FFFFFF 0%, #F5F5F5 100%)',\n      pattern: 'minimal',\n      description: 'Clean white gallery'\n    },\n    {\n      id: 'abstract-expression',\n      name: 'Abstract Expression',\n      category: 'creative',\n      gradient: 'linear-gradient(135deg, #FF6B6B 0%, #4ECDC4 50%, #FFE66D 100%)',\n      pattern: 'abstract',\n      description: 'Bold color blocks'\n    },\n    {\n      id: 'sketch-book',\n      name: 'Sketch Book',\n      category: 'creative',\n      gradient: 'linear-gradient(135deg, #F5F1E8 0%, #E8E8E8 100%)',\n      pattern: 'doodles',\n      description: 'Paper texture with doodles'\n    },\n    {\n      id: 'paint-splatter',\n      name: ' Paint Splatter',\n      category: 'creative',\n      gradient: 'linear-gradient(135deg, #FFF9C4 0%, #FFB74D 35%, #E57373 65%, #9575CD 100%)',\n      pattern: 'splatter',\n      description: 'Colorful paint drops',\n      illustrated: true\n    },\n    {\n      id: 'music-notes',\n      name: ' Music Vibes',\n      category: 'creative',\n      gradient: 'linear-gradient(135deg, #E1BEE7 0%, #CE93D8 50%, #BA68C8 100%)',\n      pattern: 'notes',\n      description: 'Musical note pattern',\n      illustrated: true\n    }\n  ],\n\n  //  BEACH & OCEAN\n  beach: [\n    {\n      id: 'coastal-calm',\n      name: 'Coastal Calm',\n      category: 'beach',\n      gradient: 'linear-gradient(135deg, #A8D5E2 0%, #F5DEB3 100%)',\n      pattern: 'waves',\n      description: 'Seafoam and sand'\n    },\n    {\n      id: 'malibu-sunset',\n      name: 'Malibu Sunset',\n      category: 'beach',\n      gradient: 'linear-gradient(135deg, #FFB6A3 0%, #00CED1 50%, #FFD700 100%)',\n      pattern: 'sunset',\n      description: 'Coral, turquoise, gold'\n    },\n    {\n      id: 'seashell-collection',\n      name: 'Seashell Collection',\n      category: 'beach',\n      gradient: 'linear-gradient(135deg, #F5F1E8 0%, #B0E0E6 100%)',\n      pattern: 'shells',\n      description: 'Cream and soft blue'\n    },\n    {\n      id: 'tropical-waters',\n      name: 'Tropical Waters',\n      category: 'beach',\n      gradient: 'linear-gradient(135deg, #00CED1 0%, #20B2AA 100%)',\n      pattern: 'ripple',\n      description: 'Crystal clear turquoise'\n    },\n  ],\n\n  //  COTTAGECORE\n  cottagecore: [\n    {\n      id: 'wildflower-meadow',\n      name: 'Wildflower Meadow',\n      category: 'cottagecore',\n      gradient: 'linear-gradient(135deg, #FFFACD 0%, #E6D5F5 100%)',\n      pattern: 'flowers',\n      description: 'Soft yellow and lavender'\n    },\n    {\n      id: 'french-countryside',\n      name: 'French Countryside',\n      category: 'cottagecore',\n      gradient: 'linear-gradient(135deg, #8B9D83 0%, #F5F1E8 100%)',\n      pattern: 'gingham',\n      description: 'Olive and cream'\n    },\n    {\n      id: 'cottage-garden',\n      name: 'Cottage Garden',\n      category: 'cottagecore',\n      gradient: 'linear-gradient(135deg, #FFB6C1 0%, #E6D5F5 50%, #B0E57C 100%)',\n      pattern: 'florals',\n      description: 'Soft pastels with flowers'\n    },\n    {\n      id: 'strawberry-patch',\n      name: 'Strawberry Patch',\n      category: 'cottagecore',\n      gradient: 'linear-gradient(135deg, #FFE4E1 0%, #FF6B6B 100%)',\n      pattern: 'strawberry',\n      description: 'Pink and berry red'\n    },\n    {\n      id: 'butterfly-garden',\n      name: ' Butterfly Garden',\n      category: 'cottagecore',\n      gradient: 'linear-gradient(135deg, #FFF9C4 0%, #F48FB1 50%, #BA68C8 100%)',\n      pattern: 'butterflies',\n      description: 'Fluttering butterfly wings',\n      illustrated: true\n    },\n    {\n      id: 'flower-field',\n      name: ' Flower Field',\n      category: 'cottagecore',\n      gradient: 'linear-gradient(135deg, #FFEBEE 0%, #F8BBD0 35%, #CE93D8 65%, #90CAF9 100%)',\n      pattern: 'blooms',\n      description: 'Dreamy pastel blooms',\n      illustrated: true\n    }\n  ],\n\n  //  CITY GIRL\n  cityGirl: [\n    {\n      id: 'manhattan-nights',\n      name: 'Manhattan Nights',\n      category: 'cityGirl',\n      gradient: 'linear-gradient(135deg, #1A1A2E 0%, #D4AF37 100%)',\n      pattern: 'skyline',\n      description: 'Dark with gold accents'\n    },\n    {\n      id: 'rooftop-views',\n      name: 'Rooftop Views',\n      category: 'cityGirl',\n      gradient: 'linear-gradient(135deg, #FFB6A3 0%, #9B7EBD 100%)',\n      pattern: 'city',\n      description: 'Peachy pink and purple'\n    },\n    {\n      id: 'concrete-jungle',\n      name: 'Concrete Jungle',\n      category: 'cityGirl',\n      gradient: 'linear-gradient(135deg, #808080 0%, #FF1493 100%)',\n      pattern: 'urban',\n      description: 'Gray with neon accents'\n    },\n    {\n      id: 'penthouse-chic',\n      name: 'Penthouse Chic',\n      category: 'cityGirl',\n      gradient: 'linear-gradient(135deg, #2C2C2C 0%, #C9A98D 100%)',\n      pattern: 'luxe',\n      description: 'Black and tan sophistication'\n    },\n  ],\n\n  //  COZY & HYGGE\n  cozy: [\n    {\n      id: 'sunday-morning',\n      name: 'Sunday Morning',\n      category: 'cozy',\n      gradient: 'linear-gradient(135deg, #F5F1E8 0%, #D4A574 100%)',\n      pattern: 'fuzzy',\n      description: 'Warm cream and brown'\n    },\n    {\n      id: 'candle-glow',\n      name: 'Candle Glow',\n      category: 'cozy',\n      gradient: 'linear-gradient(135deg, #FFCC80 0%, #F5F1E8 100%)',\n      pattern: 'bokeh',\n      description: 'Amber and cream'\n    },\n    {\n      id: 'rainy-day',\n      name: 'Rainy Day',\n      category: 'cozy',\n      gradient: 'linear-gradient(135deg, #A8B8C8 0%, #B0E0E6 100%)',\n      pattern: 'rain',\n      description: 'Cool gray and soft blue'\n    },\n    {\n      id: 'fireplace-warmth',\n      name: 'Fireplace Warmth',\n      category: 'cozy',\n      gradient: 'linear-gradient(135deg, #8B4513 0%, #FFB347 100%)',\n      pattern: 'warm',\n      description: 'Deep brown and orange'\n    },\n    {\n      id: 'hot-cocoa',\n      name: ' Hot Cocoa',\n      category: 'cozy',\n      gradient: 'linear-gradient(135deg, #8D6E63 0%, #D7CCC8 50%, #FFCCBC 100%)',\n      pattern: 'steam',\n      description: 'Warm chocolate tones',\n      illustrated: true\n    }\n  ],\n\n  //  WHIMSICAL & DREAMY\n  whimsical: [\n    {\n      id: 'butterfly-garden',\n      name: 'Butterfly Garden',\n      category: 'whimsical',\n      gradient: 'linear-gradient(135deg, #FFB6C1 0%, #E6D5F5 100%)',\n      pattern: 'butterfly',\n      description: 'Soft pink and lilac'\n    },\n    {\n      id: 'cloud-nine',\n      name: 'Cloud Nine',\n      category: 'whimsical',\n      gradient: 'linear-gradient(135deg, #B0E0E6 0%, #FFFFFF 100%)',\n      pattern: 'clouds',\n      description: 'Soft blue and white'\n    },\n    {\n      id: 'fairy-lights',\n      name: 'Fairy Lights',\n      category: 'whimsical',\n      gradient: 'linear-gradient(135deg, #FFFACD 0%, #FFB6C1 100%)',\n      pattern: 'lights',\n      description: 'Warm with bokeh'\n    },\n    {\n      id: 'unicorn-dreams',\n      name: 'Unicorn Dreams',\n      category: 'whimsical',\n      gradient: 'linear-gradient(135deg, #FFB6C1 0%, #DDA0DD 33%, #87CEEB 66%, #FFE4E1 100%)',\n      pattern: 'magic',\n      description: 'Pastel rainbow'\n    },\n    {\n      id: 'star-gazing',\n      name: ' Star Gazing',\n      category: 'whimsical',\n      gradient: 'linear-gradient(135deg, #1A237E 0%, #3F51B5 50%, #B39DDB 100%)',\n      pattern: 'stars',\n      description: 'Night sky with twinkling stars',\n      illustrated: true\n    },\n    {\n      id: 'moon-phases',\n      name: ' Moon Phases',\n      category: 'whimsical',\n      gradient: 'linear-gradient(135deg, #424242 0%, #78909C 50%, #CFD8DC 100%)',\n      pattern: 'moons',\n      description: 'Celestial moon pattern',\n      illustrated: true\n    }\n  ],\n\n  //  LUXE & BOUGIE\n  luxe: [\n    {\n      id: 'champagne-dreams',\n      name: 'Champagne Dreams',\n      category: 'luxe',\n      gradient: 'linear-gradient(135deg, #D4AF37 0%, #F5F1E8 100%)',\n      pattern: 'bubbles',\n      description: 'Gold and cream'\n    },\n    {\n      id: 'diamond-dust',\n      name: 'Diamond Dust',\n      category: 'luxe',\n      gradient: 'linear-gradient(135deg, #C0C0C0 0%, #FFFFFF 100%)',\n      pattern: 'sparkle',\n      description: 'Silver with sparkle'\n    },\n    {\n      id: 'velvet-luxe',\n      name: 'Velvet Luxe',\n      category: 'luxe',\n      gradient: 'linear-gradient(135deg, #4A148C 0%, #D4AF37 100%)',\n      pattern: 'rich',\n      description: 'Deep purple and gold'\n    },\n    {\n      id: 'black-gold',\n      name: 'Black Gold',\n      category: 'luxe',\n      gradient: 'linear-gradient(135deg, #1A1A2E 0%, #D4AF37 100%)',\n      pattern: 'luxe',\n      description: 'Black and metallic gold'\n    },\n  ],\n};\n\n// Helper to get all backgrounds as flat array\nexport const getAllBackgrounds = () => {\n  return Object.values(BACKGROUNDS).flat();\n};\n\n// Helper to get backgrounds by category\nexport const getBackgroundsByCategory = (category) => {\n  return BACKGROUNDS[category] || [];\n};\n\n// Helper to get category display name\nexport const getCategoryName = (category) => {\n  const names = {\n    plantMom: ' Plant Mom',\n    beauty: ' Beauty & Glam',\n    equestrian: ' Equestrian',\n    coffee: ' Coffee Culture',\n    wellness: ' Wellness',\n    bookworm: ' Bookworm',\n    travel: ' Travel',\n    mystical: ' Mystical',\n    fashion: ' Fashion',\n    creative: ' Creative',\n    beach: ' Beach',\n    cottagecore: ' Cottagecore',\n    cityGirl: ' City Girl',\n    cozy: ' Cozy',\n    whimsical: ' Whimsical',\n    luxe: ' Luxe'\n  };\n  return names[category] || category;\n};\n","import React from 'react';\n\n// Classic Centered Layout - Traditional, easy to read\nconst ClassicLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  photoBorder,\n  decorativeElements\n}) => {\n  const getPhotoShapeClass = () => {\n    const shapes = {\n      circle: 'rounded-full',\n      square: 'rounded-none',\n      rounded: 'rounded-2xl',\n      heart: 'rounded-full' // Will add custom shape later\n    };\n    return shapes[photoShape] || 'rounded-full';\n  };\n\n  const getPhotoBorderClass = () => {\n    const borders = {\n      none: '',\n      classic: 'border-4 border-white shadow-2xl ring-4 ring-purple-200',\n      metallic: 'border-4 border-yellow-400 shadow-2xl ring-4 ring-yellow-300',\n      scalloped: 'border-4 border-white shadow-2xl',\n      dotted: 'border-4 border-dashed border-white shadow-xl'\n    };\n    return borders[photoBorder] || '';\n  };\n\n  return (\n    <div className=\"relative w-full p-8 text-center\">\n      {/* Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 1,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Profile Photo */}\n      <div className=\"relative inline-block z-10 mb-4\">\n        <div\n          className={`w-36 h-36 bg-gradient-primary flex items-center justify-center text-white text-5xl font-display overflow-hidden hover:scale-105 transition-all ${getPhotoShapeClass()} ${getPhotoBorderClass()}`}\n        >\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n      </div>\n\n      {/* Name */}\n      <h1\n        className={`${nameSizeClass || 'text-4xl'} font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-3`}\n        style={nameStyle}\n      >\n        {displayName || 'User'}\n      </h1>\n\n      {/* Bio */}\n      {bio && (\n        <p\n          className={`${bioSizeClass || 'text-xl'} text-gray-800 dark:text-gray-200 max-w-md mx-auto mt-4`}\n          style={bioStyle}\n        >\n          \"{bio}\"\n        </p>\n      )}\n\n      {/* Badges */}\n      {badges && badges.length > 0 && (\n        <div className=\"flex gap-3 justify-center mt-6 flex-wrap\">\n          {badges.slice(0, 3).map((badge, index) => (\n            <div\n              key={index}\n              className=\"w-16 h-16 rounded-xl bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-lg flex items-center justify-center text-3xl hover:scale-110 transition-transform\"\n              title={badge.name}\n            >\n              {badge.icon || badge.emoji}\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Stats */}\n      {stats && (\n        <div className=\"mt-6 text-sm font-semibold text-gray-700 dark:text-gray-300 space-y-1\">\n          {stats.besties && <div> {stats.besties} Besties</div>}\n          {stats.checkIns && <div> {stats.checkIns} Check-ins</div>}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ClassicLayout;\n","import React from 'react';\n\n// Magazine Cover Layout - Editorial, sophisticated\nconst MagazineLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  photoBorder,\n  decorativeElements\n}) => {\n  const getPhotoShapeClass = () => {\n    const shapes = {\n      circle: 'rounded-full',\n      square: 'rounded-none',\n      rounded: 'rounded-2xl',\n      heart: 'rounded-full'\n    };\n    return shapes[photoShape] || 'rounded-2xl';\n  };\n\n  const getPhotoBorderClass = () => {\n    const borders = {\n      none: 'shadow-xl',\n      classic: 'border-4 border-white shadow-2xl',\n      metallic: 'border-4 border-yellow-400 shadow-2xl ring-4 ring-yellow-300',\n      scalloped: 'border-4 border-white shadow-2xl'\n    };\n    return borders[photoBorder] || 'shadow-xl';\n  };\n\n  return (\n    <div className=\"relative w-full p-6 text-left\">\n      {/* Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 1,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Photo and Name Section */}\n      <div className=\"relative flex items-start gap-4 mb-4 z-10\">\n        <div\n          className={`w-24 h-24 bg-gradient-primary flex items-center justify-center text-white text-3xl font-display overflow-hidden flex-shrink-0 ${getPhotoShapeClass()} ${getPhotoBorderClass()}`}\n        >\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n\n        <div className=\"flex-1 pt-2\">\n          <h1\n            className={`${nameSizeClass || 'text-3xl'} font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent leading-tight`}\n            style={nameStyle}\n          >\n            {displayName || 'User'}\n          </h1>\n        </div>\n      </div>\n\n      {/* Bio */}\n      {bio && (\n        <p\n          className={`${bioSizeClass || 'text-xl'} text-gray-800 dark:text-gray-200 mb-4 leading-relaxed`}\n          style={bioStyle}\n        >\n          \"{bio}\"\n        </p>\n      )}\n\n      {/* Badges - List Style */}\n      {badges && badges.length > 0 && (\n        <div className=\"space-y-2 mb-4\">\n          {badges.slice(0, 3).map((badge, index) => (\n            <div\n              key={index}\n              className=\"flex items-center gap-3 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-lg px-3 py-2 shadow-md\"\n            >\n              <span className=\"text-2xl\">{badge.icon || badge.emoji}</span>\n              <span className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">\n                {badge.name || 'Badge'}\n              </span>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Stats - Inline */}\n      {stats && (\n        <div className=\"flex gap-4 text-xs font-semibold text-gray-700 dark:text-gray-300\">\n          {stats.besties && <div> {stats.besties}</div>}\n          {stats.checkIns && <div> {stats.checkIns}</div>}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MagazineLayout;\n","import React from 'react';\n\n// Polaroid Stack Layout - Nostalgic, scrapbook vibes\nconst PolaroidLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  decorativeElements\n}) => {\n  return (\n    <div className=\"relative w-full p-6 text-center\">\n      {/* Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 1,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Main Polaroid */}\n      <div className=\"inline-block bg-white shadow-2xl p-3 pb-12 transform rotate-1 hover:rotate-0 transition-transform z-10 relative\">\n        <div className=\"w-56 h-56 bg-gradient-primary flex items-center justify-center text-white text-5xl font-display overflow-hidden\">\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n        <div className=\"mt-3 text-center\">\n          <h1\n            className={`${nameSizeClass || 'text-2xl'} font-display text-gray-800`}\n            style={{...nameStyle, background: 'none', WebkitTextFillColor: 'initial'}}\n          >\n            {displayName || 'User'}\n          </h1>\n        </div>\n      </div>\n\n      {/* Bio */}\n      {bio && (\n        <p\n          className={`${bioSizeClass || 'text-xl'} text-gray-800 dark:text-gray-200 mt-4 max-w-xs mx-auto`}\n          style={bioStyle}\n        >\n          \"{bio}\"\n        </p>\n      )}\n\n      {/* Badge Polaroids */}\n      {badges && badges.length > 0 && (\n        <div className=\"flex gap-3 justify-center mt-4 flex-wrap\">\n          {badges.slice(0, 3).map((badge, index) => (\n            <div\n              key={index}\n              className=\"inline-block bg-white shadow-lg p-2 pb-6 transform -rotate-2 hover:rotate-0 transition-transform\"\n            >\n              <div className=\"w-12 h-12 flex items-center justify-center text-2xl\">\n                {badge.icon || badge.emoji}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Stats */}\n      {stats && (\n        <div className=\"mt-4 text-xs font-semibold text-gray-700 dark:text-gray-300\">\n          {stats.besties && stats.checkIns && (\n            <span>{stats.besties} Besties  {stats.checkIns} Check-ins</span>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PolaroidLayout;\n","import React from 'react';\n\n// Split Screen Layout - Modern, balanced\nconst SplitScreenLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  photoBorder,\n  decorativeElements\n}) => {\n  const getPhotoShapeClass = () => {\n    const shapes = {\n      circle: 'rounded-full',\n      square: 'rounded-none',\n      rounded: 'rounded-2xl',\n      heart: 'rounded-full'\n    };\n    return shapes[photoShape] || 'rounded-2xl';\n  };\n\n  const getPhotoBorderClass = () => {\n    const borders = {\n      none: 'shadow-xl',\n      classic: 'border-4 border-white shadow-2xl',\n      metallic: 'border-4 border-yellow-400 shadow-2xl ring-4 ring-yellow-300',\n      scalloped: 'border-4 border-white shadow-2xl'\n    };\n    return borders[photoBorder] || 'shadow-xl';\n  };\n\n  return (\n    <div className=\"relative w-full p-6\">\n      {/* Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 1,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Main Content - Split Layout */}\n      <div className=\"flex items-center gap-4 mb-4 z-10 relative\">\n        {/* Left: Photo */}\n        <div\n          className={`w-28 h-28 bg-gradient-primary flex items-center justify-center text-white text-4xl font-display overflow-hidden flex-shrink-0 ${getPhotoShapeClass()} ${getPhotoBorderClass()}`}\n        >\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n\n        {/* Right: Info */}\n        <div className=\"flex-1\">\n          <h1\n            className={`${nameSizeClass || 'text-2xl'} font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent leading-tight mb-1`}\n            style={nameStyle}\n          >\n            {displayName || 'User'}\n          </h1>\n          {bio && (\n            <p\n              className={`${bioSizeClass || 'text-lg'} text-gray-800 dark:text-gray-200 line-clamp-2`}\n              style={bioStyle}\n            >\n              \"{bio}\"\n            </p>\n          )}\n        </div>\n      </div>\n\n      {/* Bottom Section - Split */}\n      <div className=\"flex gap-4 items-center z-10 relative\">\n        {/* Left: Badges */}\n        {badges && badges.length > 0 && (\n          <div className=\"flex gap-2 flex-1\">\n            {badges.slice(0, 3).map((badge, index) => (\n              <div\n                key={index}\n                className=\"w-12 h-12 rounded-lg bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-md flex items-center justify-center text-2xl\"\n                title={badge.name}\n              >\n                {badge.icon || badge.emoji}\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Right: Stats */}\n        {stats && (\n          <div className=\"text-xs font-semibold text-gray-700 dark:text-gray-300 text-right\">\n            {stats.besties && <div> {stats.besties}</div>}\n            {stats.checkIns && <div> {stats.checkIns}</div>}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SplitScreenLayout;\n","import React from 'react';\n\n// Story/Full Bleed Layout - Instagram Story style, maximum impact\nconst StoryLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  decorativeElements\n}) => {\n  return (\n    <div className=\"relative w-full min-h-[400px] p-6 flex flex-col items-center justify-center text-center\">\n      {/* Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 1,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Large Photo */}\n      <div className=\"relative z-10 mb-6\">\n        <div className=\"w-40 h-40 bg-gradient-primary rounded-full flex items-center justify-center text-white text-6xl font-display overflow-hidden shadow-2xl ring-4 ring-white/50\">\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n      </div>\n\n      {/* Name - Overlaid */}\n      <h1\n        className={`${nameSizeClass || 'text-5xl'} font-display text-white drop-shadow-2xl mb-3 z-10 relative`}\n        style={{...nameStyle, textShadow: '0 2px 10px rgba(0,0,0,0.3)'}}\n      >\n        {displayName || 'User'}\n      </h1>\n\n      {/* Bio - Overlaid */}\n      {bio && (\n        <p\n          className={`${bioSizeClass || 'text-xl'} text-white drop-shadow-lg max-w-xs mx-auto mb-6 z-10 relative`}\n          style={{...bioStyle, textShadow: '0 1px 5px rgba(0,0,0,0.3)'}}\n        >\n          \"{bio}\"\n        </p>\n      )}\n\n      {/* Badges - Overlaid */}\n      {badges && badges.length > 0 && (\n        <div className=\"flex gap-3 justify-center mb-4 z-10 relative\">\n          {badges.slice(0, 3).map((badge, index) => (\n            <div\n              key={index}\n              className=\"w-14 h-14 rounded-full bg-white/90 backdrop-blur-sm shadow-xl flex items-center justify-center text-2xl\"\n              title={badge.name}\n            >\n              {badge.icon || badge.emoji}\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Stats - Minimal */}\n      {stats && (\n        <div className=\"text-sm font-semibold text-white/90 drop-shadow-lg z-10 relative\">\n          {stats.besties && stats.checkIns && (\n            <span>{stats.besties}  {stats.checkIns}  </span>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default StoryLayout;\n","import React from 'react';\n\n// Bento Grid Layout - Widget-style, modern and organized\nconst BentoLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  decorativeElements\n}) => {\n  const getPhotoShapeClass = () => {\n    const shapes = {\n      circle: 'rounded-full',\n      square: 'rounded-xl',\n      rounded: 'rounded-2xl',\n      heart: 'rounded-full'\n    };\n    return shapes[photoShape] || 'rounded-2xl';\n  };\n\n  return (\n    <div className=\"relative w-full p-4\">\n      {/* Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 1,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Bento Grid */}\n      <div className=\"grid grid-cols-4 gap-3 z-10 relative\">\n        {/* Photo + Name (2x2) */}\n        <div className=\"col-span-2 row-span-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-4 shadow-lg flex flex-col items-center justify-center text-center\">\n          <div\n            className={`w-20 h-20 bg-gradient-primary flex items-center justify-center text-white text-3xl font-display overflow-hidden mb-2 shadow-md ${getPhotoShapeClass()}`}\n          >\n            {profilePhoto ? (\n              <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n            ) : (\n              <span>{displayName?.[0] || 'U'}</span>\n            )}\n          </div>\n          <h1\n            className={`text-lg font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent leading-tight`}\n            style={nameStyle}\n          >\n            {displayName || 'User'}\n          </h1>\n        </div>\n\n        {/* Bio (2x1) */}\n        {bio && (\n          <div className=\"col-span-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-3 shadow-lg flex items-center\">\n            <p\n              className={`${bioSizeClass || 'text-base'} text-gray-800 dark:text-gray-200 line-clamp-3`}\n              style={bioStyle}\n            >\n              \"{bio}\"\n            </p>\n          </div>\n        )}\n\n        {/* Badges (1x1 each) */}\n        {badges && badges.slice(0, 3).map((badge, index) => (\n          <div\n            key={index}\n            className=\"col-span-1 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-3 shadow-lg flex items-center justify-center text-2xl\"\n            title={badge.name}\n          >\n            {badge.icon || badge.emoji}\n          </div>\n        ))}\n\n        {/* Stats (2x1) */}\n        {stats && (\n          <div className=\"col-span-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-3 shadow-lg flex items-center justify-around text-xs font-semibold text-gray-700 dark:text-gray-300\">\n            {stats.besties && <div> {stats.besties}</div>}\n            {stats.checkIns && <div> {stats.checkIns}</div>}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default BentoLayout;\n","import React from 'react';\n\n// Minimal Layout - Clean, zen, sophisticated\nconst MinimalLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  decorativeElements\n}) => {\n  return (\n    <div className=\"relative w-full p-12 text-center\">\n      {/* Decorative Elements (minimal, sparse) */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.slice(0, 2).map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 20,\n                height: element.size || 20,\n                color: element.color || 'currentColor',\n                opacity: (element.opacity || 1) * 0.3,\n                transform: 'translate(-50%, -50%)'\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Spacer */}\n      <div className=\"h-6\" />\n\n      {/* Small, elegant photo */}\n      <div className=\"relative inline-block z-10 mb-6\">\n        <div className=\"w-24 h-24 bg-gradient-primary rounded-full flex items-center justify-center text-white text-3xl font-display overflow-hidden shadow-lg\">\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n      </div>\n\n      {/* Name - Elegant */}\n      <h1\n        className={`${nameSizeClass || 'text-3xl'} font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-4`}\n        style={nameStyle}\n      >\n        {displayName || 'User'}\n      </h1>\n\n      {/* Thin divider */}\n      <div className=\"w-12 h-px bg-gradient-to-r from-transparent via-gray-400 to-transparent mx-auto mb-4\" />\n\n      {/* Bio - Minimal */}\n      {bio && (\n        <p\n          className={`${bioSizeClass || 'text-lg'} text-gray-600 dark:text-gray-400 max-w-xs mx-auto mb-6 leading-relaxed`}\n          style={bioStyle}\n        >\n          {bio}\n        </p>\n      )}\n\n      {/* Badges - Minimal icons only */}\n      {badges && badges.length > 0 && (\n        <div className=\"flex gap-4 justify-center mb-6\">\n          {badges.slice(0, 3).map((badge, index) => (\n            <div\n              key={index}\n              className=\"text-2xl opacity-70 hover:opacity-100 transition-opacity\"\n              title={badge.name}\n            >\n              {badge.icon || badge.emoji}\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Stats - Minimal */}\n      {stats && (\n        <div className=\"text-xs font-light text-gray-500 dark:text-gray-500 space-x-3\">\n          {stats.besties && <span>{stats.besties} besties</span>}\n          {stats.besties && stats.checkIns && <span></span>}\n          {stats.checkIns && <span>{stats.checkIns} check-ins</span>}\n        </div>\n      )}\n\n      {/* Spacer */}\n      <div className=\"h-6\" />\n    </div>\n  );\n};\n\nexport default MinimalLayout;\n","import React from 'react';\n\n// Scrapbook Layout - Playful, creative, journaling aesthetic\nconst ScrapbookLayout = ({\n  profilePhoto,\n  displayName,\n  bio,\n  badges,\n  stats,\n  nameStyle,\n  bioStyle,\n  nameSizeClass,\n  bioSizeClass,\n  photoShape,\n  decorativeElements\n}) => {\n  return (\n    <div className=\"relative w-full p-6 text-center\">\n      {/* Scattered Decorative Elements */}\n      {decorativeElements && decorativeElements.length > 0 && (\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          {decorativeElements.map((element, index) => (\n            <div\n              key={index}\n              className=\"absolute animate-pulse\"\n              style={{\n                left: `${element.x}%`,\n                top: `${element.y}%`,\n                width: element.size || 24,\n                height: element.size || 24,\n                color: element.color || 'currentColor',\n                opacity: element.opacity || 0.8,\n                transform: `translate(-50%, -50%) rotate(${index * 15}deg)`,\n                animationDuration: `${2 + index}s`,\n                animationDelay: `${index * 0.3}s`\n              }}\n              dangerouslySetInnerHTML={{ __html: element.svg }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Additional decorative doodles */}\n      <div className=\"absolute inset-0 pointer-events-none overflow-hidden opacity-20\">\n        {/* Wavy line doodle */}\n        <svg className=\"absolute top-[20%] left-[10%] w-16 h-8\" viewBox=\"0 0 100 50\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n          <path d=\"M0,25 Q25,10 50,25 T100,25\" />\n        </svg>\n        {/* Circle doodle */}\n        <svg className=\"absolute bottom-[25%] right-[15%] w-12 h-12\" viewBox=\"0 0 50 50\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n          <circle cx=\"25\" cy=\"25\" r=\"20\" />\n        </svg>\n        {/* Star doodle */}\n        <svg className=\"absolute top-[70%] left-[20%] w-10 h-10\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n          <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n        </svg>\n      </div>\n\n      {/* Photo - Slightly rotated */}\n      <div className=\"relative inline-block z-10 mb-4 transform rotate-2\">\n        <div className=\"w-32 h-32 bg-gradient-primary rounded-2xl flex items-center justify-center text-white text-4xl font-display overflow-hidden shadow-xl border-4 border-white\">\n          {profilePhoto ? (\n            <img src={profilePhoto} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span>{displayName?.[0] || 'U'}</span>\n          )}\n        </div>\n        {/* Tape effect */}\n        <div className=\"absolute -top-2 left-1/2 transform -translate-x-1/2 w-16 h-6 bg-yellow-100 opacity-70 rounded-sm shadow-md\" style={{transform: 'translateX(-50%) rotate(-5deg)'}} />\n      </div>\n\n      {/* Name - Playful */}\n      <h1\n        className={`${nameSizeClass || 'text-3xl'} font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-2 relative z-10`}\n        style={nameStyle}\n      >\n        {displayName || 'User'}\n        <span className=\"absolute -right-4 -top-1 text-2xl\"></span>\n      </h1>\n\n      {/* Wavy underline */}\n      <svg className=\"w-32 h-2 mx-auto mb-3 relative z-10\" viewBox=\"0 0 100 10\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n        <path d=\"M0,5 Q25,0 50,5 T100,5\" />\n      </svg>\n\n      {/* Bio - Handwritten style */}\n      {bio && (\n        <p\n          className={`${bioSizeClass || 'text-xl'} text-gray-800 dark:text-gray-200 max-w-xs mx-auto mb-4 relative z-10`}\n          style={bioStyle}\n        >\n          \"{bio}\"\n        </p>\n      )}\n\n      {/* Badges - Sticker style */}\n      {badges && badges.length > 0 && (\n        <div className=\"flex gap-3 justify-center mb-4 z-10 relative flex-wrap\">\n          {badges.slice(0, 3).map((badge, index) => (\n            <div\n              key={index}\n              className=\"transform hover:scale-110 transition-transform\"\n              style={{rotate: `${(index - 1) * 5}deg`}}\n            >\n              <div className=\"bg-white dark:bg-gray-800 rounded-full w-16 h-16 flex flex-col items-center justify-center shadow-lg border-2 border-gray-200 dark:border-gray-600\">\n                <span className=\"text-2xl\">{badge.icon || badge.emoji}</span>\n                <span className=\"text-[8px] font-bold text-gray-600 dark:text-gray-400 mt-1\">\n                  {badge.name?.split(' ')[0] || ''}\n                </span>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Stats - Casual */}\n      {stats && (\n        <div className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 z-10 relative\">\n          {stats.besties && <span>{stats.besties} </span>}\n          {stats.checkIns && <span>{stats.checkIns} </span>}\n          {stats.checkIns && <span>5</span>}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ScrapbookLayout;\n","// Export all layout components\nimport ClassicLayout from './ClassicLayout';\nimport MagazineLayout from './MagazineLayout';\nimport PolaroidLayout from './PolaroidLayout';\nimport SplitScreenLayout from './SplitScreenLayout';\nimport StoryLayout from './StoryLayout';\nimport BentoLayout from './BentoLayout';\nimport MinimalLayout from './MinimalLayout';\nimport ScrapbookLayout from './ScrapbookLayout';\n\nexport const LAYOUTS = {\n  classic: ClassicLayout,\n  magazine: MagazineLayout,\n  polaroid: PolaroidLayout,\n  split: SplitScreenLayout,\n  story: StoryLayout,\n  bento: BentoLayout,\n  minimal: MinimalLayout,\n  scrapbook: ScrapbookLayout\n};\n\nexport const LAYOUT_OPTIONS = [\n  {\n    id: 'classic',\n    name: 'Classic',\n    emoji: '',\n    description: 'Traditional, easy to read',\n    component: ClassicLayout,\n    preview: 'Center-aligned with prominent photo'\n  },\n  {\n    id: 'magazine',\n    name: 'Magazine',\n    emoji: '',\n    description: 'Editorial, sophisticated',\n    component: MagazineLayout,\n    preview: 'Magazine cover style layout'\n  },\n  {\n    id: 'polaroid',\n    name: 'Polaroid',\n    emoji: '',\n    description: 'Nostalgic, scrapbook vibes',\n    component: PolaroidLayout,\n    preview: 'Instant camera style cards'\n  },\n  {\n    id: 'split',\n    name: 'Split Screen',\n    emoji: '',\n    description: 'Modern, balanced',\n    component: SplitScreenLayout,\n    preview: 'Split layout with photo and info'\n  },\n  {\n    id: 'story',\n    name: 'Story',\n    emoji: '',\n    description: 'Instagram Story style',\n    component: StoryLayout,\n    preview: 'Full-bleed vertical format'\n  },\n  {\n    id: 'bento',\n    name: 'Bento Grid',\n    emoji: '',\n    description: 'Widget-style, organized',\n    component: BentoLayout,\n    preview: 'Modular grid system'\n  },\n  {\n    id: 'minimal',\n    name: 'Minimal',\n    emoji: '',\n    description: 'Clean, zen, sophisticated',\n    component: MinimalLayout,\n    preview: 'Maximum whitespace and elegance'\n  },\n  {\n    id: 'scrapbook',\n    name: 'Scrapbook',\n    emoji: '',\n    description: 'Playful, creative',\n    component: ScrapbookLayout,\n    preview: 'Journaling aesthetic with doodles'\n  }\n];\n\nexport const getLayoutById = (id) => {\n  return LAYOUTS[id] || LAYOUTS.classic;\n};\n\nexport const getLayoutOption = (id) => {\n  return LAYOUT_OPTIONS.find(option => option.id === id) || LAYOUT_OPTIONS[0];\n};\n\nexport {\n  ClassicLayout,\n  MagazineLayout,\n  PolaroidLayout,\n  SplitScreenLayout,\n  StoryLayout,\n  BentoLayout,\n  MinimalLayout,\n  ScrapbookLayout\n};\n"],"names":["TYPOGRAPHY_STYLES","id","name","emoji","description","nameFont","family","weight","style","googleFont","bioFont","nameSizeClass","bioSizeClass","transform","loadGoogleFonts","typography","_typography$nameFont","_typography$bioFont","fonts","Set","add","size","fontString","Array","from","join","linkId","existingLink","document","getElementById","remove","link","createElement","rel","href","concat","head","appendChild","getTypographyById","find","getNameStyle","fontFamily","fontWeight","fontStyle","textTransform","getBioStyle","_ref","trigger","type","useEffect","fireConfetti","count","defaults","origin","y","shapes","colors","fire","particleRatio","opts","confetti","_objectSpread","particleCount","Math","floor","spread","startVelocity","decay","scalar","setTimeout","angle","x","end","duration","suffix","prefix","className","value","parseInt","_jsxs","children","toLocaleString","onClose","circleCount","handleShare","platform","appUrl","window","location","message","encoded","encodeURIComponent","isMobile","test","navigator","userAgent","open","clipboard","writeText","then","toast","success","catch","error","textEncoded","urlEncoded","_jsx","onClick","e","stopPropagation","title","fill","viewBox","d","stroke","strokeLinecap","strokeLinejoin","strokeWidth","CircleCheckModal","_ref2","_currentBestie$name$","_currentBestie$reques","besties","connectionStrengths","getStatusInfo","onComplete","currentIndex","setCurrentIndex","useState","checking","setChecking","currentBestie","status","connectionStrength","map","_","idx","ringColor","photoURL","src","alt","toUpperCase","color","label","getConnectionEmoji","total","level","requestAttention","active","note","hasActiveCheckIn","handleNext","length","disabled","_Fragment","userId","onAddClick","navigate","useNavigate","allBesties","setAllBesties","circleBesties","setCircleBesties","loading","setLoading","selectedSlot","setSelectedSlot","showReplaceModal","setShowReplaceModal","showShareModal","setShowShareModal","setConnectionStrengths","lastSeen","setLastSeen","loadingConnections","setLoadingConnections","showCircleCheck","setShowCircleCheck","loadConnectionData","async","strengths","lastSeenData","bestie","strength","calculateConnectionStrength","lastInteraction","getLastInteraction","console","requesterQuery","recipientQuery","Promise","all","getDocs","query","collection","db","where","bestiesList","docSnap","docs","_userData$privacySett","data","userDoc","getDoc","doc","recipientId","userData","exists","checkInVisibility","privacySettings","activeCheckInsQuery","empty","featuredCircle","includes","push","displayName","_userData$privacySett2","requesterId","featuredIds","featured","b","filter","Boolean","needsAutoFill","remaining","slice","finalCircle","saveFeaturedCircle","loadBesties","newCircle","updateDoc","_bestie$requestAttent","glowColor","slots","i","slotColors","index","PI","cos","sin","strengthScore","connectionColor","getConnectionColor","opacity","zIndex","x1","y1","x2","y2","offset","stopColor","stopOpacity","stdDeviation","result","in","strokeDasharray","cx","cy","r","animationDelay","lastSeenTime","left","top","ProfileWithBubble","showBubble","formatTimeAgo","handleViewProfile","bestieId","handleRemoveFromCircle","replace","cb","newBestie","handleReplaceBestie","BestieCircleShareModal","now","Timestamp","addDoc","checkInId","alertId","metadata","createdAt","_userData$profile","_userData$displayName","_currentUser$email","_userData$profile2","currentUser","useAuth","badges","setBadges","generatingImage","setGeneratingImage","generatedImageUrl","setGeneratedImageUrl","showShareChoice","setShowShareChoice","pendingPlatform","setPendingPlatform","cardRef","useRef","loadBadges","badgesDoc","uid","allBadges","featuredBadges","currentGradient","profile","backgroundGradient","shareUrl","shareText","generateShareImage","current","resolve","imageUrl","html2canvas","backgroundColor","scale","logging","useCORS","allowTaint","toDataURL","downloadImage","download","click","showShareChoicePopup","executePlatformShare","withCard","position","ref","background","width","crossOrigin","email","bio","badge","icon","cardText","handleShareWithLink","ProfileCustomizer","lazy","GRADIENT_OPTIONS","gradient","AURA_OPTIONS","_userData$profile3","_userData$profile4","showPhotoMenu","setShowPhotoMenu","uploading","setUploading","showColorPicker","setShowColorPicker","showAuraPicker","setShowAuraPicker","showCustomizer","setShowCustomizer","fileInputRef","currentAura","aura","customization","layoutId","layout","backgroundId","typographyId","selectedBackground","Object","values","BACKGROUNDS","flat","bg","backgroundStyle","patternClass","pattern","nameStyle","bioStyle","LayoutComponent","getLayoutById","photoShape","photoBorder","blob","url","URL","createObjectURL","body","removeChild","revokeObjectURL","layoutProps","profilePhoto","stats","totalBesties","checkIns","checkInCount","decorativeElements","option","handleColorChange","_userData$profile5","_userData$profile6","handleAuraChange","_fileInputRef$current","handleRemovePhoto","accept","onChange","file","target","files","storageRef","storage","Date","uploadBytes","downloadURL","getDownloadURL","profileCard","toBlob","share","canShare","File","text","err","Suspense","fallback","profileCompletion","animatedProgress","onTaskNavigation","percentage","completed","round","tasks","task","path","action","_userData$stats","weeklySummary","hasWeekOfActivity","bestiesCount","tip","totalCheckIns","loginStreak","CountUp","featuredBadgeIds","setFeaturedBadgeIds","setConfettiTrigger","showBadgeSelector","setShowBadgeSelector","otherBadges","allBadgesToShow","isSelected","newFeaturedBadges","badgeId","handleToggleFeaturedBadge","emergencyContactCount","daysActive","nighttimeCheckIns","weekendCheckIns","completedCheckIns","_userData$donationSta","donationStats","isActive","totalDonated","ProfileAuraStyles","ProfilePage","setBestiesCount","confettiTrigger","setEmergencyContactCount","firstCheckInDate","setFirstCheckInDate","setNighttimeCheckIns","setWeekendCheckIns","setAnimatedProgress","loadData","targetProgress","calculateProfileCompletion","badgesData","bestiesQuery","bestiesQuery2","snapshot1","snapshot2","emergencyContactQuery","emergencySnapshot","checkInsQuery","checkInsSnapshot","earliestDate","nightCount","weekendCount","forEach","_data$createdAt","date","toDate","hour","getHours","day","getDay","section","phoneNumber","weekAgo","setDate","getDate","getWeeklySummary","_userData$stats2","Header","ConfettiCelebration","ProfileCard","ProfileCompletion","photoElement","querySelector","scrollIntoView","behavior","block","bestieCircleElement","WeeklySummary","LoginStreak","BadgesSection","StatsSection","getDaysActive","diffTime","abs","ceil","LivingCircle","DonationStatus","SocialShareCardsModal","ONE_DAY","scores","alertResponse","checkInFrequency","recency","alertResponseScore","checkInFrequencyScore","featuredCircleScore","recencyScore","durationScore","calculateAlertResponseScore","calculateCheckInFrequencyScore","calculateFeaturedCircleScore","calculateRecencyScore","calculateDurationScore","totalScore","min","breakdown","getConnectionLevel","responsesQuery","responsesSnap","interactionsQuery","interactionsSnap","responses","avgResponseTime","reduce","sum","responseTime","timeScore","threeMonthsAgo","fromDate","checkInsSnap","reverseCheckInsQuery","reverseCheckInsSnap","userSelections","bestieSelections","totalSelections","mutualBonus","frequencyScore","bestieDoc","userCircle","bestieCircle","inUserCircle","inBestieCircle","orderBy","limit","reverseQuery","reverseSnap","reverseDate","toMillis","checkInQuery","checkInSnap","daysSince","acceptedAt","daysTogether","score","calculateCircleHealth","insights","connectionPromises","connections","avgStrength","c","finalScore","generateCircleInsights","avgConnectionStrength","circleSize","weakConnections","staleConnections","every","snap","timestamp","ms","minutes","hours","days","BACKGROUND_CATEGORIES","plantMom","category","illustrated","beauty","equestrian","coffee","wellness","bookworm","travel","mystical","fashion","creative","beach","cottagecore","cityGirl","cozy","whimsical","luxe","getCategoryName","element","height","dangerouslySetInnerHTML","__html","svg","circle","square","rounded","heart","none","classic","metallic","scalloped","dotted","WebkitTextFillColor","textShadow","animationDuration","_badge$name","rotate","split","LAYOUTS","ClassicLayout","magazine","MagazineLayout","polaroid","PolaroidLayout","SplitScreenLayout","story","StoryLayout","bento","BentoLayout","minimal","MinimalLayout","scrapbook","ScrapbookLayout","LAYOUT_OPTIONS","component","preview"],"sourceRoot":""}