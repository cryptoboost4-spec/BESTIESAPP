/*! For license information please see main.21654657.js.LICENSE.txt */
(()=>{var e={52:(e,t,n)=>{"use strict";n.d(t,{KO:()=>Z,MF:()=>J,Sx:()=>Y,Wp:()=>X,j6:()=>V,om:()=>K,xZ:()=>G});var A=n(8812),r=n(443),s=n(7700),i=n(2799);class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const a="@firebase/app",l="0.10.13",c=new r.Vy("@firebase/app"),u="@firebase/app-compat",d="@firebase/analytics-compat",h="@firebase/analytics",f="@firebase/app-check-compat",g="@firebase/app-check",p="@firebase/auth",m="@firebase/auth-compat",w="@firebase/database",y="@firebase/data-connect",B="@firebase/database-compat",v="@firebase/functions",b="@firebase/functions-compat",C="@firebase/installations",x="@firebase/installations-compat",E="@firebase/messaging",U="@firebase/messaging-compat",I="@firebase/performance",Q="@firebase/performance-compat",F="@firebase/remote-config",k="@firebase/remote-config-compat",S="@firebase/storage",T="@firebase/storage-compat",_="@firebase/firestore",N="@firebase/vertexai-preview",D="@firebase/firestore-compat",L="firebase",H="[DEFAULT]",O={[a]:"fire-core",[u]:"fire-core-compat",[h]:"fire-analytics",[d]:"fire-analytics-compat",[g]:"fire-app-check",[f]:"fire-app-check-compat",[p]:"fire-auth",[m]:"fire-auth-compat",[w]:"fire-rtdb",[y]:"fire-data-connect",[B]:"fire-rtdb-compat",[v]:"fire-fn",[b]:"fire-fn-compat",[C]:"fire-iid",[x]:"fire-iid-compat",[E]:"fire-fcm",[U]:"fire-fcm-compat",[I]:"fire-perf",[Q]:"fire-perf-compat",[F]:"fire-rc",[k]:"fire-rc-compat",[S]:"fire-gcs",[T]:"fire-gcs-compat",[_]:"fire-fst",[D]:"fire-fst-compat",[N]:"fire-vertex","fire-js":"fire-js",[L]:"fire-js-all"},P=new Map,R=new Map,M=new Map;function j(e,t){try{e.container.addComponent(t)}catch(n){c.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function K(e){const t=e.name;if(M.has(t))return c.debug("There were multiple attempts to register component ".concat(t,".")),!1;M.set(t,e);for(const n of P.values())j(n,e);for(const n of R.values())j(n,e);return!0}function V(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function G(e){return void 0!==e.settings}const z={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},W=new s.FA("app","Firebase",z);class q{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new A.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw W.create("app-deleted",{appName:this._name})}}const J="10.14.1";function X(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:H,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw W.create("bad-app-name",{appName:String(i)});if(n||(n=(0,s.T9)()),!n)throw W.create("no-options");const o=P.get(i);if(o){if((0,s.bD)(n,o.options)&&(0,s.bD)(r,o.config))return o;throw W.create("duplicate-app",{appName:i})}const a=new A.h1(i);for(const A of M.values())a.addComponent(A);const l=new q(n,r,a);return P.set(i,l),l}function Y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;const t=P.get(e);if(!t&&e===H&&(0,s.T9)())return X();if(!t)throw W.create("no-app",{appName:e});return t}function Z(e,t,n){var r;let s=null!==(r=O[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void c.warn(e.join(" "))}K(new A.uA("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const $="firebase-heartbeat-store";let ee=null;function te(){return ee||(ee=(0,i.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore($)}catch(n){console.warn(n)}}}).catch(e=>{throw W.create("idb-open",{originalErrorMessage:e.message})})),ee}async function ne(e,t){try{const n=(await te()).transaction($,"readwrite"),A=n.objectStore($);await A.put(t,Ae(e)),await n.done}catch(n){if(n instanceof s.g)c.warn(n.message);else{const e=W.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});c.warn(e.message)}}}function Ae(e){return"".concat(e.name,"!").concat(e.options.appId)}class re{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ie(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),A=se();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===A||this._heartbeatsCache.heartbeats.some(e=>e.date===A))return;return this._heartbeatsCache.heartbeats.push({date:A,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(n){c.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=se(),{heartbeatsToSend:n,unsentEntries:A}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let A=e.slice();for(const r of e){const e=n.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),oe(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),oe(n)>t){n.pop();break}A=A.slice(1)}return{heartbeatsToSend:n,unsentEntries:A}}(this._heartbeatsCache.heartbeats),r=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,A.length>0?(this._heartbeatsCache.heartbeats=A,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return c.warn(t),""}}}function se(){return(new Date).toISOString().substring(0,10)}class ie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await te()).transaction($),n=await t.objectStore($).get(Ae(e));return await t.done,n}catch(t){if(t instanceof s.g)c.warn(t.message);else{const e=W.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});c.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function oe(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ae;ae="",K(new A.uA("platform-logger",e=>new o(e),"PRIVATE")),K(new A.uA("heartbeat",e=>new re(e),"PRIVATE")),Z(a,l,ae),Z(a,l,"esm2017"),Z("fire-js","")},443:(e,t,n)=>{"use strict";n.d(t,{$b:()=>r,Vy:()=>l});const A=[];var r;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));const s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},i=r.INFO,o={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},a=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),A=o[t];if(!A)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];console[A]("[".concat(n,"]  ").concat(e.name,":"),...s)};class l{constructor(e){this.name=e,this._logLevel=i,this._logHandler=a,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...t),this._logHandler(this,r.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...t),this._logHandler(this,r.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.INFO,...t),this._logHandler(this,r.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.WARN,...t),this._logHandler(this,r.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.ERROR,...t),this._logHandler(this,r.ERROR,...t)}}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},626:(e,t,n)=>{"use strict";n.d(t,{Uz:()=>b,Qg:()=>C});var A=n(52),r=n(7700),s=n(8812);const i="type.googleapis.com/google.protobuf.Int64Value",o="type.googleapis.com/google.protobuf.UInt64Value";function a(e,t){const n={};for(const A in e)e.hasOwnProperty(A)&&(n[A]=t(e[A]));return n}function l(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(e=>l(e));if("function"===typeof e||"object"===typeof e)return a(e,e=>l(e));throw new Error("Data cannot be encoded in JSON: "+e)}function c(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case i:case o:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(e=>c(e)):"function"===typeof e||"object"===typeof e?a(e,e=>c(e)):e}const u="functions",d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class h extends r.g{constructor(e,t,n){super("".concat(u,"/").concat(e),t||""),this.details=n}}class f{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(e=>this.auth=e,()=>{}),this.messaging||t.get().then(e=>this.messaging=e,()=>{}),this.appCheck||n.get().then(e=>this.appCheck=e,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const g="us-central1";class p{constructor(e,t,n,A){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:g,s=arguments.length>5?arguments[5]:void 0;this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new f(t,n,A),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{const e=new URL(r);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=g}catch(i){this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}function m(e,t,n){return A=>function(e,t,n,A){const r=e._url(t);return y(e,r,n,A)}(e,t,A,n||{})}async function w(e,t,n,A){let r;n["Content-Type"]="application/json";try{r=await A(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(i){return{status:0,json:null}}let s=null;try{s=await r.json()}catch(i){}return{status:r.status,json:s}}async function y(e,t,n,A){const r={data:n=l(n)},s={},i=await e.contextProvider.getContext(A.limitedUseAppCheckTokens);i.authToken&&(s.Authorization="Bearer "+i.authToken),i.messagingToken&&(s["Firebase-Instance-ID-Token"]=i.messagingToken),null!==i.appCheckToken&&(s["X-Firebase-AppCheck"]=i.appCheckToken);const o=function(e){let t=null;return{promise:new Promise((n,A)=>{t=setTimeout(()=>{A(new h("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}(A.timeout||7e4),a=await Promise.race([w(t,r,s,e.fetchImpl),o.promise,e.cancelAllRequests]);if(o.cancel(),!a)throw new h("cancelled","Firebase Functions instance was deleted.");const u=function(e,t){let n,A=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=A;try{const e=t&&t.error;if(e){const t=e.status;if("string"===typeof t){if(!d[t])return new h("internal","internal");A=d[t],r=t}const s=e.message;"string"===typeof s&&(r=s),n=e.details,void 0!==n&&(n=c(n))}}catch(s){}return"ok"===A?null:new h(A,r,n)}(a.status,a.json);if(u)throw u;if(!a.json)throw new h("internal","Response is not valid JSON object.");let f=a.json.data;if("undefined"===typeof f&&(f=a.json.result),"undefined"===typeof f)throw new h("internal","Response is missing data field.");return{data:c(f)}}const B="@firebase/functions",v="0.11.8";function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.Sx)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;const n=(0,A.j6)((0,r.Ku)(e),u).getImmediate({identifier:t}),s=(0,r.yU)("functions");return s&&function(e,t,n){!function(e,t,n){e.emulatorOrigin="http://".concat(t,":").concat(n)}((0,r.Ku)(e),t,n)}(n,...s),n}function C(e,t,n){return m((0,r.Ku)(e),t,n)}var x,E;x=fetch.bind(self),(0,A.om)(new s.uA(u,(e,t)=>{let{instanceIdentifier:n}=t;const A=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("messaging-internal"),i=e.getProvider("app-check-internal");return new p(A,r,s,i,n,x)},"PUBLIC").setMultipleInstances(!0)),(0,A.KO)(B,v,E),(0,A.KO)(B,v,"esm2017")},1019:(e,t,n)=>{"use strict";function A(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}n.d(t,{w:()=>A})},1153:(e,t,n)=>{"use strict";var A=n(5043),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var A,s={},l=null,c=null;for(A in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,A)&&!a.hasOwnProperty(A)&&(s[A]=t[A]);if(e&&e.defaultProps)for(A in t=e.defaultProps)void 0===s[A]&&(s[A]=t[A]);return{$$typeof:r,type:e,key:l,ref:c,props:s,_owner:o.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},1182:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var A=n(2555),r=n(7400),s=n(5472);const i=new class{constructor(){this.sessionId=this.generateSessionId(),this.userId=null,this.userAgent=navigator.userAgent,this.startTime=Date.now(),this.errors=[],this.performance=[],this.setupErrorHandlers()}generateSessionId(){return"session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}setUser(e){this.userId=e}setupErrorHandlers(){window.addEventListener("error",e=>{var t;this.logError({type:"uncaught_error",message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,stack:null===(t=e.error)||void 0===t?void 0:t.stack})}),window.addEventListener("unhandledrejection",e=>{var t,n;this.logError({type:"unhandled_promise",message:(null===(t=e.reason)||void 0===t?void 0:t.message)||String(e.reason),stack:null===(n=e.reason)||void 0===n?void 0:n.stack})}),this.trackPerformance()}logError(e){const t=(0,A.A)((0,A.A)({},e),{},{stack:e.stack||null,sessionId:this.sessionId,userId:this.userId,timestamp:Date.now(),url:window.location.href,userAgent:this.userAgent});this.errors.push(t),this.sendToFirestore("errors",t),console.error("Error tracked:",t)}logCustomError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.logError({type:"custom_error",message:e,details:t,stack:(new Error).stack})}trackPerformance(){window.addEventListener("load",()=>{setTimeout(()=>{const e=performance.getEntriesByType("navigation")[0];e&&this.logPerformance({type:"page_load",metrics:{dns:e.domainLookupEnd-e.domainLookupStart,tcp:e.connectEnd-e.connectStart,request:e.responseStart-e.requestStart,response:e.responseEnd-e.responseStart,dom:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,load:e.loadEventEnd-e.loadEventStart,total:e.loadEventEnd-e.fetchStart}})},0)});new PerformanceObserver(e=>{for(const t of e.getEntries())t.duration>1e3&&this.logPerformance({type:"slow_resource",name:t.name,duration:t.duration,size:t.transferSize})}).observe({entryTypes:["resource","measure"]})}logPerformance(e){const t=(0,A.A)((0,A.A)({},e),{},{sessionId:this.sessionId,userId:this.userId,timestamp:Date.now(),url:window.location.href});this.performance.push(t),this.sendToFirestore("performance",t)}trackAction(e){const t={action:e,details:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},sessionId:this.sessionId,userId:this.userId,timestamp:Date.now(),url:window.location.href};this.sendToFirestore("user_actions",t)}trackPageView(e){this.trackAction("page_view",{page:e})}trackFunnelStep(e,t){const n={funnel:e,step:t,metadata:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},sessionId:this.sessionId,userId:this.userId,timestamp:Date.now(),url:window.location.href};this.sendToFirestore("funnel_events",n)}async sendToFirestore(e,t){try{await(0,s.gS)((0,s.rJ)(r.db,e),(0,A.A)((0,A.A)({},t),{},{createdAt:s.Dc.now()}))}catch(n){console.error("Failed to send to Firestore:",n),this.storeLocally(e,t)}}storeLocally(e,t){try{const n="besties_".concat(e),A=JSON.parse(localStorage.getItem(n)||"[]");A.push(t),A.length>100&&A.shift(),localStorage.setItem(n,JSON.stringify(A))}catch(n){console.error("Failed to store locally:",n)}}getSessionSummary(){return{sessionId:this.sessionId,userId:this.userId,duration:Date.now()-this.startTime,errors:this.errors.length,url:window.location.href,userAgent:this.userAgent}}}},1387:(e,t,n)=>{"use strict";function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(e[A]=n[A])}return e},A.apply(this,arguments)}var r;n.d(t,{AO:()=>u,Gh:()=>H,HS:()=>O,Oi:()=>o,Rr:()=>d,pX:()=>K,pb:()=>k,rc:()=>r,tH:()=>j,ue:()=>g,yD:()=>L,zR:()=>i}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const s="popstate";function i(e){return void 0===e&&(e={}),h(function(e,t){let{pathname:n,search:A,hash:r}=e.location;return c("",{pathname:n,search:A,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:u(t)},null,e)}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function a(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function u(e){let{pathname:t="/",search:n="",hash:A=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),A&&"#"!==A&&(t+="#"===A.charAt(0)?A:"#"+A),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let A=e.indexOf("?");A>=0&&(t.search=e.substr(A),e=e.substr(0,A)),e&&(t.pathname=e)}return t}function h(e,t,n,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:d=!1}=i,h=a.history,f=r.Pop,g=null,p=m();function m(){return(h.state||{idx:null}).idx}function w(){f=r.Pop;let e=m(),t=null==e?null:e-p;p=e,g&&g({action:f,location:B.location,delta:t})}function y(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==p&&(p=0,h.replaceState(A({},h.state,{idx:p}),""));let B={get action(){return f},get location(){return e(a,h)},listen(e){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(s,w),g=e,()=>{a.removeEventListener(s,w),g=null}},createHref:e=>t(a,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;let A=c(B.location,e,t);n&&n(A,e),p=m()+1;let s=l(A,p),i=B.createHref(A);try{h.pushState(s,"",i)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;a.location.assign(i)}d&&g&&g({action:f,location:B.location,delta:1})},replace:function(e,t){f=r.Replace;let A=c(B.location,e,t);n&&n(A,e),p=m();let s=l(A,p),i=B.createHref(A);h.replaceState(s,"",i),d&&g&&g({action:f,location:B.location,delta:0})},go:e=>h.go(e)};return B}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),p(e,t,n,!1)}function p(e,t,n,A){let r=k(("string"===typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let s=m(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=F(r);i=I(s[o],e,A)}return i}function m(e,t,n,A){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===A&&(A="");let r=(e,r,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(o(i.relativePath.startsWith(A),'Absolute route path "'+i.relativePath+'" nested under path "'+A+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(A.length));let a=O([A,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),m(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:U(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let A of w(e.path))r(e,t,A);else r(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...A]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===A.length)return r?[s,""]:[s];let i=w(A.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),r&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const y=/^:[\w-]+$/,B=3,v=2,b=1,C=10,x=-2,E=e=>"*"===e;function U(e,t){let n=e.split("/"),A=n.length;return n.some(E)&&(A+=x),t&&(A+=v),n.filter(e=>!E(e)).reduce((e,t)=>e+(y.test(t)?B:""===t?b:C),A)}function I(e,t,n){void 0===n&&(n=!1);let{routesMeta:A}=e,r={},s="/",i=[];for(let o=0;o<A.length;++o){let e=A[o],a=o===A.length-1,l="/"===s?t:t.slice(s.length)||"/",c=Q({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l),u=e.route;if(!c&&a&&n&&!A[A.length-1].route.index&&(c=Q({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!c)return null;Object.assign(r,c.params),i.push({params:r,pathname:O([s,c.pathname]),pathnameBase:P(O([s,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(s=O([s,c.pathnameBase]))}return i}function Q(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,A]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);a("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let A=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(A.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(A.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,A]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:A.reduce((e,t,n)=>{let{paramName:A,isOptional:r}=t;if("*"===A){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const a=o[n];return e[A]=r&&!a?void 0:(a||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function F(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return a(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function k(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,A=e.charAt(n);return A&&"/"!==A?null:e.slice(n)||"/"}const S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T=e=>S.test(e);function _(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function N(e,t,n,A){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(A)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let n=D(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function H(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=d(e):(s=A({},e),o(!s.pathname||!s.pathname.includes("?"),N("?","pathname","search",s)),o(!s.pathname||!s.pathname.includes("#"),N("#","pathname","hash",s)),o(!s.search||!s.search.includes("#"),N("#","search","hash",s)));let i,l=""===e||""===s.pathname,c=l?"/":s.pathname;if(null==c)i=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let n,{pathname:A,search:r="",hash:s=""}="string"===typeof e?d(e):e;if(A)if(T(A))n=A;else{if(A.includes("//")){let e=A;A=A.replace(/\/\/+/g,"/"),a(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+A)}n=A.startsWith("/")?_(A.substring(1),"/"):_(A,t)}else n=t;return{pathname:n,search:R(r),hash:M(s)}}(s,i),h=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!f||(u.pathname+="/"),u}const O=e=>e.join("/").replace(/\/\/+/g,"/"),P=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class j extends Error{}function K(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],G=(new Set(V),["get",...V]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},1479:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});const A={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function r(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const s={date:r({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:r({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:r({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function o(e){return(t,n)=>{let A;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,r=null!==n&&void 0!==n&&n.width?String(n.width):t;A=e.formattingValues[r]||e.formattingValues[t]}else{const t=e.defaultWidth,r=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;A=e.values[r]||e.values[t]}return A[e.argumentCallback?e.argumentCallback(t):t]}}function a(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const A=n.width,r=A&&e.matchPatterns[A]||e.matchPatterns[e.defaultMatchWidth],s=t.match(r);if(!s)return null;const i=s[0],o=A&&e.parsePatterns[A]||e.parsePatterns[e.defaultParseWidth],a=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,e=>e.test(i)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,e=>e.test(i));let l;l=e.valueCallback?e.valueCallback(a):a,l=n.valueCallback?n.valueCallback(l):l;return{value:l,rest:t.slice(i.length)}}}var l;const c={code:"en-US",formatDistance:(e,t,n)=>{let r;const s=A[e];return r="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:s,formatRelative:(e,t,n,A)=>i[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),A=n%100;if(A>20||A<10)switch(A%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:o({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:o({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:o({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:o({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:o({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(l={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(l.matchPattern);if(!n)return null;const A=n[0],r=e.match(l.parsePattern);if(!r)return null;let s=l.valueCallback?l.valueCallback(r[0]):r[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(A.length)}}),era:a({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:a({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:a({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:a({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:a({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},2339:(e,t,n)=>{"use strict";function A(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{l$:()=>ye,Ay:()=>Be});var r=n(2555),s=n(5043);let i={data:""},o=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||i},a=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,l=/\/\*[^]*?\*\/|  +/g,c=/\n+/g,u=(e,t)=>{let n="",A="",r="";for(let s in e){let i=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+i+";":A+="f"==s[1]?u(i,s):s+"{"+u(i,"k"==s[1]?"":t)+"}":"object"==typeof i?A+=u(i,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=i&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=u.p?u.p(s,i):s+":"+i+";")}return n+(t&&r?t+"{"+r+"}":r)+A},d={},h=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+h(e[n]);return t}return e},f=(e,t,n,A,r)=>{let s=h(e),i=d[s]||(d[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!d[i]){let t=s!==e?e:(e=>{let t,n,A=[{}];for(;t=a.exec(e.replace(l,""));)t[4]?A.shift():t[3]?(n=t[3].replace(c," ").trim(),A.unshift(A[0][n]=A[0][n]||{})):A[0][t[1]]=t[2].replace(c," ").trim();return A[0]})(e);d[i]=u(r?{["@keyframes "+i]:t}:t,n?"":"."+i)}let o=n&&d.g?d.g:null;return n&&(d.g=d[i]),((e,t,n,A)=>{A?t.data=t.data.replace(A,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(d[i],t,A,o),i};function g(e){let t=this||{},n=e.call?e(t.p):e;return f(n.unshift?n.raw?((e,t,n)=>e.reduce((e,A,r)=>{let s=t[r];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":u(e,""):!1===e?"":e}return e+A+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,o(t.target),t.g,t.o,t.k)}g.bind({g:1});let p,m,w,y=g.bind({k:1});function B(e,t){let n=this||{};return function(){let A=arguments;function r(s,i){let o=Object.assign({},s),a=o.className||r.className;n.p=Object.assign({theme:m&&m()},o),n.o=/ *go\d+/.test(a),o.className=g.apply(n,A)+(a?" "+a:""),t&&(o.ref=i);let l=e;return e[0]&&(l=o.as||e,delete o.as),w&&l[0]&&w(o),p(l,o)}return t?t(r):r}}var v,b,C,x,E,U,I,Q,F,k,S,T,_,N,D,L,H=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,O=(()=>{let e=0;return()=>(++e).toString()})(),P=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),R="default",M=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return(0,r.A)((0,r.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return(0,r.A)((0,r.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,r.A)((0,r.A)({},e),t.toast):e)});case 2:let{toast:A}=t;return M(e,{type:e.toasts.find(e=>e.id===A.id)?1:0,toast:A});case 3:let{toastId:s}=t;return(0,r.A)((0,r.A)({},e),{},{toasts:e.toasts.map(e=>e.id===s||void 0===s?(0,r.A)((0,r.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,r.A)((0,r.A)({},e),{},{toasts:[]}):(0,r.A)((0,r.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,r.A)((0,r.A)({},e),{},{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return(0,r.A)((0,r.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,r.A)((0,r.A)({},e),{},{pauseDuration:e.pauseDuration+i}))})}},j=[],K={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},V={},G=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;V[t]=M(V[t]||K,e),j.forEach(e=>{let[n,A]=e;n===t&&A(V[t])})},z=e=>Object.keys(V).forEach(t=>G(e,t)),W=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return t=>{G(t,e)}},q={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},J=e=>(t,n)=>{let A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return(0,r.A)((0,r.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||O()})}(t,e,n);return W(A.toasterId||(e=>Object.keys(V).find(t=>V[t].toasts.some(t=>t.id===e)))(A.id))({type:2,toast:A}),A.id},X=(e,t)=>J("blank")(e,t);X.error=J("error"),X.success=J("success"),X.loading=J("loading"),X.custom=J("custom"),X.dismiss=(e,t)=>{let n={type:3,toastId:e};t?W(t)(n):z(n)},X.dismissAll=e=>X.dismiss(void 0,e),X.remove=(e,t)=>{let n={type:4,toastId:e};t?W(t)(n):z(n)},X.removeAll=e=>X.remove(void 0,e),X.promise=(e,t,n)=>{let A=X.loading(t.loading,(0,r.A)((0,r.A)({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let s=t.success?H(t.success,e):void 0;return s?X.success(s,(0,r.A)((0,r.A)({id:A},n),null==n?void 0:n.success)):X.dismiss(A),e}).catch(e=>{let s=t.error?H(t.error,e):void 0;s?X.error(s,(0,r.A)((0,r.A)({id:A},n),null==n?void 0:n.error)):X.dismiss(A)}),e};var Y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:A}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R,[n,A]=(0,s.useState)(V[t]||K),i=(0,s.useRef)(V[t]);(0,s.useEffect)(()=>(i.current!==V[t]&&A(V[t]),j.push([t,A]),()=>{let e=j.findIndex(e=>{let[n]=e;return n===t});e>-1&&j.splice(e,1)}),[t]);let o=n.toasts.map(t=>{var n,A,s;return(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(A=e[t.type])?void 0:A.duration)||(null==e?void 0:e.duration)||q[t.type],style:(0,r.A)((0,r.A)((0,r.A)({},e.style),null==(s=e[t.type])?void 0:s.style),t.style)})});return(0,r.A)((0,r.A)({},n),{},{toasts:o})}(e,t),i=(0,s.useRef)(new Map).current,o=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(i.has(e))return;let n=setTimeout(()=>{i.delete(e),a({type:4,toastId:e})},t);i.set(e,n)},[]);(0,s.useEffect)(()=>{if(A)return;let e=Date.now(),r=n.map(n=>{if(n.duration===1/0)return;let A=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(A<0))return setTimeout(()=>X.dismiss(n.id,t),A);n.visible&&X.dismiss(n.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[n,A,t]);let a=(0,s.useCallback)(W(t),[t]),l=(0,s.useCallback)(()=>{a({type:5,time:Date.now()})},[a]),c=(0,s.useCallback)((e,t)=>{a({type:1,toast:{id:e,height:t}})},[a]),u=(0,s.useCallback)(()=>{A&&a({type:6,time:Date.now()})},[A,a]),d=(0,s.useCallback)((e,t)=>{let{reverseOrder:A=!1,gutter:r=8,defaultPosition:s}=t||{},i=n.filter(t=>(t.position||s)===(e.position||s)&&t.height),o=i.findIndex(t=>t.id===e.id),a=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...A?[a+1]:[0,a]).reduce((e,t)=>e+(t.height||0)+r,0)},[n]);return(0,s.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)o(e.id,e.removeDelay);else{let t=i.get(e.id);t&&(clearTimeout(t),i.delete(e.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},Z=y(v||(v=A(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),$=y(b||(b=A(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ee=y(C||(C=A(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),te=B("div")(x||(x=A(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Z,$,e=>e.secondary||"#fff",ee),ne=y(E||(E=A(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Ae=B("div")(U||(U=A(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",ne),re=y(I||(I=A(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),se=y(Q||(Q=A(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),ie=B("div")(F||(F=A(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",re,se,e=>e.secondary||"#fff"),oe=B("div")(k||(k=A(["\n  position: absolute;\n"]))),ae=B("div")(S||(S=A(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),le=y(T||(T=A(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ce=B("div")(_||(_=A(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),le),ue=e=>{let{toast:t}=e,{icon:n,type:A,iconTheme:i}=t;return void 0!==n?"string"==typeof n?s.createElement(ce,null,n):n:"blank"===A?null:s.createElement(ae,null,s.createElement(Ae,(0,r.A)({},i)),"loading"!==A&&s.createElement(oe,null,"error"===A?s.createElement(te,(0,r.A)({},i)):s.createElement(ie,(0,r.A)({},i))))},de=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),he=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),fe=B("div")(N||(N=A(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),ge=B("div")(D||(D=A(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),pe=s.memo(e=>{let{toast:t,position:n,style:A,children:i}=e,o=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[A,r]=P()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[de(n),he(n)];return{animation:t?"".concat(y(A)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(y(r)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},a=s.createElement(ue,{toast:t}),l=s.createElement(ge,(0,r.A)({},t.ariaProps),H(t.message,t));return s.createElement(fe,{className:t.className,style:(0,r.A)((0,r.A)((0,r.A)({},o),A),t.style)},"function"==typeof i?i({icon:a,message:l}):s.createElement(s.Fragment,null,a,l))});!function(e,t,n,A){u.p=t,p=e,m=n,w=A}(s.createElement);var me=e=>{let{id:t,className:n,style:A,onHeightUpdate:r,children:i}=e,o=s.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;r(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return s.createElement("div",{ref:o,className:n,style:A},i)},we=g(L||(L=A(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),ye=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:A,gutter:i,children:o,toasterId:a,containerStyle:l,containerClassName:c}=e,{toasts:u,handlers:d}=Y(A,a);return s.createElement("div",{"data-rht-toaster":a||"",style:(0,r.A)({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(e=>{let A=e.position||n,a=((e,t)=>{let n=e.includes("top"),A=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return(0,r.A)((0,r.A)({left:0,right:0,display:"flex",position:"absolute",transition:P()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},A),s)})(A,d.calculateOffset(e,{reverseOrder:t,gutter:i,defaultPosition:n}));return s.createElement(me,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?we:"",style:a},"custom"===e.type?H(e.message,e):o?o(e):s.createElement(pe,{toast:e,position:A}))}))},Be=X},2555:(e,t,n)=>{"use strict";function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function r(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}function s(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);t&&(A=A.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,A)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>o})},2730:(e,t,n)=>{"use strict";var A=n(5043),r=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function g(e,t,n,A,r,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=A,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){p[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];p[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){p[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){p[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){p[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){p[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){p[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){p[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){p[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function y(e,t,n,A){var r=p.hasOwnProperty(t)?p[t]:null;(null!==r?0!==r.type:A||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,A){if(null===t||"undefined"===typeof t||function(e,t,n,A){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!A&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,A))return!0;if(A)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,A)&&(n=null),A||null===r?function(e){return!!u.call(f,e)||!u.call(h,e)&&(d.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,A=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,A?e.setAttributeNS(A,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,w);p[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,w);p[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,w);p[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){p[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),p.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){p[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var B=A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,v=Symbol.for("react.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),I=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var L,H=Object.assign;function O(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var P=!1;function R(e,t){if(!e||P)return"";P=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var A=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){A=l}e.call(t.prototype)}else{try{throw Error()}catch(l){A=l}e()}}catch(l){if(l&&A&&"string"===typeof l.stack){for(var r=l.stack.split("\n"),s=A.stack.split("\n"),i=r.length-1,o=s.length-1;1<=i&&0<=o&&r[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||r[i]!==s[o]){var a="\n"+r[i].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}}while(1<=i&&0<=o);break}}}finally{P=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function M(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case b:return"Portal";case E:return"Profiler";case x:return"StrictMode";case F:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case U:return(e._context.displayName||"Context")+".Provider";case Q:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function z(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),A=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){A=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return A},setValue:function(e){A=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),A="";return e&&(A=G(e)?e.checked?"true":"false":e.value),(e=A)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,A=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:A,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){Y(e,t);var n=V(t.value),A=t.type;if(null!=n)"number"===A?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===A||"reset"===A)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var A=t.type;if(!("submit"!==A&&"reset"!==A||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,A){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&A&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(A&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),A=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=A&&(e.defaultValue=""+A)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,ue=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,A){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function pe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var A=0===n.indexOf("--"),r=ge(n,t[n],A);"float"===n&&(n="cssFloat"),A?e.setProperty(n,r):e[n]=r}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var me=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Be=null;function ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,Ce=null,xe=null;function Ee(e){if(e=yr(e)){if("function"!==typeof be)throw Error(s(280));var t=e.stateNode;t&&(t=vr(t),be(e.stateNode,e.type,t))}}function Ue(e){Ce?xe?xe.push(e):xe=[e]:Ce=e}function Ie(){if(Ce){var e=Ce,t=xe;if(xe=Ce=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Qe(e,t){return e(t)}function Fe(){}var ke=!1;function Se(e,t,n){if(ke)return e(t,n);ke=!0;try{return Qe(e,t,n)}finally{ke=!1,(null!==Ce||null!==xe)&&(Fe(),Ie())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var A=vr(n);if(null===A)return null;n=A[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(A=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!A;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var _e=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){_e=!1}function De(e,t,n,A,r,s,i,o,a){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,He=null,Oe=!1,Pe=null,Re={onError:function(e){Le=!0,He=e}};function Me(e,t,n,A,r,s,i,o,a){Le=!1,He=null,De.apply(Re,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(je(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,A=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(A=r.return)){n=A;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Ve(r),e;if(i===A)return Ve(r),t;i=i.sibling}throw Error(s(188))}if(n.return!==A.return)n=r,A=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,A=i;break}if(a===A){o=!0,A=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,A=r;break}if(a===A){o=!0,A=i,n=r;break}a=a.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==A)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?ze(e):null}function ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ze(e);if(null!==t)return t;e=e.sibling}return null}var We=r.unstable_scheduleCallback,qe=r.unstable_cancelCallback,Je=r.unstable_shouldYield,Xe=r.unstable_requestPaint,Ye=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,At=r.unstable_IdlePriority,rt=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/at|0)|0},ot=Math.log,at=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var A=0,r=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~r;0!==o?A=ut(o):0!==(s&=i)&&(A=ut(s))}else 0!==(i=n&~r)?A=ut(i):0!==s&&(A=ut(s));if(0===A)return 0;if(0!==t&&t!==A&&0===(t&r)&&((r=A&-A)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&A)&&(A|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=A;0<t;)r=1<<(n=31-it(t)),A|=e[n],t&=~r;return A}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function wt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var A=31-it(n),r=1<<A;r&t|e[A]&t&&(e[A]|=t),n&=~r}}var yt=0;function Bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var vt,bt,Ct,xt,Et,Ut=!1,It=[],Qt=null,Ft=null,kt=null,St=new Map,Tt=new Map,_t=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Lt(e,t,n,A,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:A,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=yr(t))&&bt(t)),e):(e.eventSystemFlags|=A,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ht(e){var t=wr(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void Et(e.priority,function(){Ct(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yr(n))&&bt(t),e.blockedOn=n,!1;var A=new(n=e.nativeEvent).constructor(n.type,n);Be=A,n.target.dispatchEvent(A),Be=null,t.shift()}return!0}function Pt(e,t,n){Ot(e)&&n.delete(t)}function Rt(){Ut=!1,null!==Qt&&Ot(Qt)&&(Qt=null),null!==Ft&&Ot(Ft)&&(Ft=null),null!==kt&&Ot(kt)&&(kt=null),St.forEach(Pt),Tt.forEach(Pt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ut||(Ut=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Rt)))}function jt(e){function t(t){return Mt(t,e)}if(0<It.length){Mt(It[0],e);for(var n=1;n<It.length;n++){var A=It[n];A.blockedOn===e&&(A.blockedOn=null)}}for(null!==Qt&&Mt(Qt,e),null!==Ft&&Mt(Ft,e),null!==kt&&Mt(kt,e),St.forEach(t),Tt.forEach(t),n=0;n<_t.length;n++)(A=_t[n]).blockedOn===e&&(A.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Ht(n),null===n.blockedOn&&_t.shift()}var Kt=B.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,n,A){var r=yt,s=Kt.transition;Kt.transition=null;try{yt=1,Wt(e,t,n,A)}finally{yt=r,Kt.transition=s}}function zt(e,t,n,A){var r=yt,s=Kt.transition;Kt.transition=null;try{yt=4,Wt(e,t,n,A)}finally{yt=r,Kt.transition=s}}function Wt(e,t,n,A){if(Vt){var r=Jt(e,t,n,A);if(null===r)VA(e,t,A,qt,n),Dt(e,A);else if(function(e,t,n,A,r){switch(t){case"focusin":return Qt=Lt(Qt,e,t,n,A,r),!0;case"dragenter":return Ft=Lt(Ft,e,t,n,A,r),!0;case"mouseover":return kt=Lt(kt,e,t,n,A,r),!0;case"pointerover":var s=r.pointerId;return St.set(s,Lt(St.get(s)||null,e,t,n,A,r)),!0;case"gotpointercapture":return s=r.pointerId,Tt.set(s,Lt(Tt.get(s)||null,e,t,n,A,r)),!0}return!1}(r,e,t,n,A))A.stopPropagation();else if(Dt(e,A),4&t&&-1<Nt.indexOf(e)){for(;null!==r;){var s=yr(r);if(null!==s&&vt(s),null===(s=Jt(e,t,n,A))&&VA(e,t,A,qt,n),s===r)break;r=s}null!==r&&A.stopPropagation()}else VA(e,t,A,null,n)}}var qt=null;function Jt(e,t,n,A){if(qt=null,null!==(e=wr(e=ve(A))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case At:return 536870912;default:return 16}default:return 16}}var Yt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,A=n.length,r="value"in Yt?Yt.value:Yt.textContent,s=r.length;for(e=0;e<A&&n[e]===r[e];e++);var i=A-e;for(t=1;t<=i&&n[A-t]===r[s-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function An(){return!1}function rn(e){function t(t,n,A,r,s){for(var i in this._reactName=t,this._targetInst=A,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:An,this.isPropagationStopped=An,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,an,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=H({},ln,{view:0,detail:0}),dn=rn(un),hn=H({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(sn=e.screenX-an.screenX,on=e.screenY-an.screenY):on=sn=0,an=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=rn(hn),gn=rn(H({},hn,{dataTransfer:0})),pn=rn(H({},un,{relatedTarget:0})),mn=rn(H({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=H({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=rn(wn),Bn=rn(H({},ln,{data:0})),vn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function En(){return xn}var Un=H({},un,{key:function(e){if(e.key){var t=vn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=rn(Un),Qn=rn(H({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fn=rn(H({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),kn=rn(H({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=H({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=rn(Sn),_n=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Dn,Hn=c&&(!Nn||Dn&&8<Dn&&11>=Dn),On=String.fromCharCode(32),Pn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Gn(e,t,n,A){Ue(A),0<(t=zA(t,"onChange")).length&&(n=new cn("onChange","change",null,n,A),e.push({event:n,listeners:t}))}var zn=null,Wn=null;function qn(e){OA(e,0)}function Jn(e){if(W(Br(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Zn;if(c){var $n="oninput"in document;if(!$n){var eA=document.createElement("div");eA.setAttribute("oninput","return;"),$n="function"===typeof eA.oninput}Zn=$n}else Zn=!1;Yn=Zn&&(!document.documentMode||9<document.documentMode)}function tA(){zn&&(zn.detachEvent("onpropertychange",nA),Wn=zn=null)}function nA(e){if("value"===e.propertyName&&Jn(Wn)){var t=[];Gn(t,Wn,e,ve(e)),Se(qn,t)}}function AA(e,t,n){"focusin"===e?(tA(),Wn=n,(zn=t).attachEvent("onpropertychange",nA)):"focusout"===e&&tA()}function rA(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Wn)}function sA(e,t){if("click"===e)return Jn(t)}function iA(e,t){if("input"===e||"change"===e)return Jn(t)}var oA="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function aA(e,t){if(oA(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),A=Object.keys(t);if(n.length!==A.length)return!1;for(A=0;A<n.length;A++){var r=n[A];if(!u.call(t,r)||!oA(e[r],t[r]))return!1}return!0}function lA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cA(e,t){var n,A=lA(e);for(e=0;A;){if(3===A.nodeType){if(n=e+A.textContent.length,e<=t&&n>=t)return{node:A,offset:t-e};e=n}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=lA(A)}}function uA(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?uA(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dA(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(A){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function hA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fA(e){var t=dA(),n=e.focusedElem,A=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uA(n.ownerDocument.documentElement,n)){if(null!==A&&hA(n))if(t=A.start,void 0===(e=A.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(A.start,r);A=void 0===A.end?s:Math.min(A.end,r),!e.extend&&s>A&&(r=A,A=s,s=r),r=cA(n,s);var i=cA(n,A);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>A?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gA=c&&"documentMode"in document&&11>=document.documentMode,pA=null,mA=null,wA=null,yA=!1;function BA(e,t,n){var A=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yA||null==pA||pA!==q(A)||("selectionStart"in(A=pA)&&hA(A)?A={start:A.selectionStart,end:A.selectionEnd}:A={anchorNode:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset},wA&&aA(wA,A)||(wA=A,0<(A=zA(mA,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:A}),t.target=pA)))}function vA(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bA={animationend:vA("Animation","AnimationEnd"),animationiteration:vA("Animation","AnimationIteration"),animationstart:vA("Animation","AnimationStart"),transitionend:vA("Transition","TransitionEnd")},CA={},xA={};function EA(e){if(CA[e])return CA[e];if(!bA[e])return e;var t,n=bA[e];for(t in n)if(n.hasOwnProperty(t)&&t in xA)return CA[e]=n[t];return e}c&&(xA=document.createElement("div").style,"AnimationEvent"in window||(delete bA.animationend.animation,delete bA.animationiteration.animation,delete bA.animationstart.animation),"TransitionEvent"in window||delete bA.transitionend.transition);var UA=EA("animationend"),IA=EA("animationiteration"),QA=EA("animationstart"),FA=EA("transitionend"),kA=new Map,SA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function TA(e,t){kA.set(e,t),a(t,[e])}for(var _A=0;_A<SA.length;_A++){var NA=SA[_A];TA(NA.toLowerCase(),"on"+(NA[0].toUpperCase()+NA.slice(1)))}TA(UA,"onAnimationEnd"),TA(IA,"onAnimationIteration"),TA(QA,"onAnimationStart"),TA("dblclick","onDoubleClick"),TA("focusin","onFocus"),TA("focusout","onBlur"),TA(FA,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var DA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LA=new Set("cancel close invalid load scroll toggle".split(" ").concat(DA));function HA(e,t,n){var A=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,A,r,i,o,a,l){if(Me.apply(this,arguments),Le){if(!Le)throw Error(s(198));var c=He;Le=!1,He=null,Oe||(Oe=!0,Pe=c)}}(A,t,void 0,e),e.currentTarget=null}function OA(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var A=e[n],r=A.event;A=A.listeners;e:{var s=void 0;if(t)for(var i=A.length-1;0<=i;i--){var o=A[i],a=o.instance,l=o.currentTarget;if(o=o.listener,a!==s&&r.isPropagationStopped())break e;HA(r,o,l),s=a}else for(i=0;i<A.length;i++){if(a=(o=A[i]).instance,l=o.currentTarget,o=o.listener,a!==s&&r.isPropagationStopped())break e;HA(r,o,l),s=a}}}if(Oe)throw e=Pe,Oe=!1,Pe=null,e}function PA(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var A=e+"__bubble";n.has(A)||(KA(t,e,2,!1),n.add(A))}function RA(e,t,n){var A=0;t&&(A|=4),KA(n,e,A,t)}var MA="_reactListening"+Math.random().toString(36).slice(2);function jA(e){if(!e[MA]){e[MA]=!0,i.forEach(function(t){"selectionchange"!==t&&(LA.has(t)||RA(t,!1,e),RA(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[MA]||(t[MA]=!0,RA("selectionchange",!1,t))}}function KA(e,t,n,A){switch(Xt(t)){case 1:var r=Gt;break;case 4:r=zt;break;default:r=Wt}n=r.bind(null,t,n,e),r=void 0,!_e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),A?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function VA(e,t,n,A,r){var s=A;if(0===(1&t)&&0===(2&t)&&null!==A)e:for(;;){if(null===A)return;var i=A.tag;if(3===i||4===i){var o=A.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===i)for(i=A.return;null!==i;){var a=i.tag;if((3===a||4===a)&&((a=i.stateNode.containerInfo)===r||8===a.nodeType&&a.parentNode===r))return;i=i.return}for(;null!==o;){if(null===(i=wr(o)))return;if(5===(a=i.tag)||6===a){A=s=i;continue e}o=o.parentNode}}A=A.return}Se(function(){var A=s,r=ve(n),i=[];e:{var o=kA.get(e);if(void 0!==o){var a=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":a=In;break;case"focusin":l="focus",a=pn;break;case"focusout":l="blur",a=pn;break;case"beforeblur":case"afterblur":a=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=Fn;break;case UA:case IA:case QA:a=mn;break;case FA:a=kn;break;case"scroll":a=dn;break;case"wheel":a=Tn;break;case"copy":case"cut":case"paste":a=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=Qn}var c=0!==(4&t),u=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var h,f=A;null!==f;){var g=(h=f).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==d&&(null!=(g=Te(f,d))&&c.push(GA(f,g,h)))),u)break;f=f.return}0<c.length&&(o=new a(o,l,null,n,r),i.push({event:o,listeners:c}))}}if(0===(7&t)){if(a="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Be||!(l=n.relatedTarget||n.fromElement)||!wr(l)&&!l[fr])&&(a||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=A,null!==(l=(l=n.relatedTarget||n.toElement)?wr(l):null)&&(l!==(u=je(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(a=null,l=A),a!==l)){if(c=fn,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Qn,g="onPointerLeave",d="onPointerEnter",f="pointer"),u=null==a?o:Br(a),h=null==l?o:Br(l),(o=new c(g,f+"leave",a,n,r)).target=u,o.relatedTarget=h,g=null,wr(r)===A&&((c=new c(d,f+"enter",l,n,r)).target=h,c.relatedTarget=u,g=c),u=g,a&&l)e:{for(d=l,f=0,h=c=a;h;h=WA(h))f++;for(h=0,g=d;g;g=WA(g))h++;for(;0<f-h;)c=WA(c),f--;for(;0<h-f;)d=WA(d),h--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break e;c=WA(c),d=WA(d)}c=null}else c=null;null!==a&&qA(i,o,a,c,!1),null!==l&&null!==u&&qA(i,u,l,c,!0)}if("select"===(a=(o=A?Br(A):window).nodeName&&o.nodeName.toLowerCase())||"input"===a&&"file"===o.type)var p=Xn;else if(Vn(o))if(Yn)p=iA;else{p=rA;var m=AA}else(a=o.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(p=sA);switch(p&&(p=p(e,A))?Gn(i,p,n,r):(m&&m(e,o,A),"focusout"===e&&(m=o._wrapperState)&&m.controlled&&"number"===o.type&&ee(o,"number",o.value)),m=A?Br(A):window,e){case"focusin":(Vn(m)||"true"===m.contentEditable)&&(pA=m,mA=A,wA=null);break;case"focusout":wA=mA=pA=null;break;case"mousedown":yA=!0;break;case"contextmenu":case"mouseup":case"dragend":yA=!1,BA(i,n,r);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":BA(i,n,r)}var w;if(Nn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else jn?Rn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Hn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==y?"onCompositionEnd"===y&&jn&&(w=en()):(Zt="value"in(Yt=r)?Yt.value:Yt.textContent,jn=!0)),0<(m=zA(A,y)).length&&(y=new Bn(y,e,null,n,r),i.push({event:y,listeners:m}),w?y.data=w:null!==(w=Mn(n))&&(y.data=w))),(w=Ln?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Pn=!0,On);case"textInput":return(e=t.data)===On&&Pn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Nn&&Rn(e,t)?(e=en(),$t=Zt=Yt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(A=zA(A,"onBeforeInput")).length&&(r=new Bn("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:A}),r.data=w))}OA(i,t)})}function GA(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zA(e,t){for(var n=t+"Capture",A=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Te(e,n))&&A.unshift(GA(e,s,r)),null!=(s=Te(e,t))&&A.push(GA(e,s,r))),e=e.return}return A}function WA(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qA(e,t,n,A,r){for(var s=t._reactName,i=[];null!==n&&n!==A;){var o=n,a=o.alternate,l=o.stateNode;if(null!==a&&a===A)break;5===o.tag&&null!==l&&(o=l,r?null!=(a=Te(n,s))&&i.unshift(GA(n,a,o)):r||null!=(a=Te(n,s))&&i.push(GA(n,a,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var JA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function YA(e){return("string"===typeof e?e:""+e).replace(JA,"\n").replace(XA,"")}function ZA(e,t,n){if(t=YA(t),YA(e)!==t&&n)throw Error(s(425))}function $A(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ir="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(or)}:Ar;function or(e){setTimeout(function(){throw e})}function ar(e,t){var n=t,A=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===A)return e.removeChild(r),void jt(t);A--}else"$"!==n&&"$?"!==n&&"$!"!==n||A++;n=r}while(n);jt(t)}function lr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),dr="__reactFiber$"+ur,hr="__reactProps$"+ur,fr="__reactContainer$"+ur,gr="__reactEvents$"+ur,pr="__reactListeners$"+ur,mr="__reactHandles$"+ur;function wr(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[dr])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function yr(e){return!(e=e[dr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function vr(e){return e[hr]||null}var br=[],Cr=-1;function xr(e){return{current:e}}function Er(e){0>Cr||(e.current=br[Cr],br[Cr]=null,Cr--)}function Ur(e,t){Cr++,br[Cr]=e.current,e.current=t}var Ir={},Qr=xr(Ir),Fr=xr(!1),kr=Ir;function Sr(e,t){var n=e.type.contextTypes;if(!n)return Ir;var A=e.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===t)return A.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return A&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Tr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _r(){Er(Fr),Er(Qr)}function Nr(e,t,n){if(Qr.current!==Ir)throw Error(s(168));Ur(Qr,t),Ur(Fr,n)}function Dr(e,t,n){var A=e.stateNode;if(t=t.childContextTypes,"function"!==typeof A.getChildContext)return n;for(var r in A=A.getChildContext())if(!(r in t))throw Error(s(108,K(e)||"Unknown",r));return H({},n,A)}function Lr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ir,kr=Qr.current,Ur(Qr,e),Ur(Fr,Fr.current),!0}function Hr(e,t,n){var A=e.stateNode;if(!A)throw Error(s(169));n?(e=Dr(e,t,kr),A.__reactInternalMemoizedMergedChildContext=e,Er(Fr),Er(Qr),Ur(Qr,e)):Er(Fr),Ur(Fr,n)}var Or=null,Pr=!1,Rr=!1;function Mr(e){null===Or?Or=[e]:Or.push(e)}function jr(){if(!Rr&&null!==Or){Rr=!0;var e=0,t=yt;try{var n=Or;for(yt=1;e<n.length;e++){var A=n[e];do{A=A(!0)}while(null!==A)}Or=null,Pr=!1}catch(r){throw null!==Or&&(Or=Or.slice(e+1)),We($e,jr),r}finally{yt=t,Rr=!1}}return null}var Kr=[],Vr=0,Gr=null,zr=0,Wr=[],qr=0,Jr=null,Xr=1,Yr="";function Zr(e,t){Kr[Vr++]=zr,Kr[Vr++]=Gr,Gr=e,zr=t}function $r(e,t,n){Wr[qr++]=Xr,Wr[qr++]=Yr,Wr[qr++]=Jr,Jr=e;var A=Xr;e=Yr;var r=32-it(A)-1;A&=~(1<<r),n+=1;var s=32-it(t)+r;if(30<s){var i=r-r%5;s=(A&(1<<i)-1).toString(32),A>>=i,r-=i,Xr=1<<32-it(t)+r|n<<r|A,Yr=s+e}else Xr=1<<s|n<<r|A,Yr=e}function es(e){null!==e.return&&(Zr(e,1),$r(e,1,0))}function ts(e){for(;e===Gr;)Gr=Kr[--Vr],Kr[Vr]=null,zr=Kr[--Vr],Kr[Vr]=null;for(;e===Jr;)Jr=Wr[--qr],Wr[qr]=null,Yr=Wr[--qr],Wr[qr]=null,Xr=Wr[--qr],Wr[qr]=null}var ns=null,As=null,rs=!1,ss=null;function is(e,t){var n=Sl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,As=lr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,As=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jr?{id:Xr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Sl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,As=null,!0);default:return!1}}function as(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(rs){var t=As;if(t){var n=t;if(!os(e,t)){if(as(e))throw Error(s(418));t=lr(n.nextSibling);var A=ns;t&&os(e,t)?is(A,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(as(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!rs)return cs(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=As)){if(as(e))throw ds(),Error(s(418));for(;t;)is(e,t),t=lr(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){As=lr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}As=null}}else As=ns?lr(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=As;e;)e=lr(e.nextSibling)}function hs(){As=ns=null,rs=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var gs=B.ReactCurrentBatchConfig;function ps(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var A=n.stateNode}if(!A)throw Error(s(147,e));var r=A,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ms(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ws(e){return(0,e._init)(e._payload)}function ys(e){function t(t,n){if(e){var A=t.deletions;null===A?(t.deletions=[n],t.flags|=16):A.push(n)}}function n(n,A){if(!e)return null;for(;null!==A;)t(n,A),A=A.sibling;return null}function A(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=_l(e,t)).index=0,e.sibling=null,e}function i(t,n,A){return t.index=A,e?null!==(A=t.alternate)?(A=A.index)<n?(t.flags|=2,n):A:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,A){return null===t||6!==t.tag?((t=Hl(n,e.mode,A)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,A){var s=n.type;return s===C?u(e,t,n.props.children,A,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&ws(s)===t.type)?((A=r(t,n.props)).ref=ps(e,t,n),A.return=e,A):((A=Nl(n.type,n.key,n.props,null,e.mode,A)).ref=ps(e,t,n),A.return=e,A)}function c(e,t,n,A){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ol(n,e.mode,A)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,A,s){return null===t||7!==t.tag?((t=Dl(n,e.mode,A,s)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Hl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case v:return(n=Nl(t.type,t.key,t.props,null,e.mode,n)).ref=ps(e,null,t),n.return=e,n;case b:return(t=Ol(t,e.mode,n)).return=e,t;case T:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dl(t,e.mode,n,null)).return=e,t;ms(e,t)}return null}function h(e,t,n,A){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:a(e,t,""+n,A);if("object"===typeof n&&null!==n){switch(n.$$typeof){case v:return n.key===r?l(e,t,n,A):null;case b:return n.key===r?c(e,t,n,A):null;case T:return h(e,t,(r=n._init)(n._payload),A)}if(te(n)||D(n))return null!==r?null:u(e,t,n,A,null);ms(e,n)}return null}function f(e,t,n,A,r){if("string"===typeof A&&""!==A||"number"===typeof A)return a(t,e=e.get(n)||null,""+A,r);if("object"===typeof A&&null!==A){switch(A.$$typeof){case v:return l(t,e=e.get(null===A.key?n:A.key)||null,A,r);case b:return c(t,e=e.get(null===A.key?n:A.key)||null,A,r);case T:return f(e,t,n,(0,A._init)(A._payload),r)}if(te(A)||D(A))return u(t,e=e.get(n)||null,A,r,null);ms(t,A)}return null}function g(r,s,o,a){for(var l=null,c=null,u=s,g=s=0,p=null;null!==u&&g<o.length;g++){u.index>g?(p=u,u=null):p=u.sibling;var m=h(r,u,o[g],a);if(null===m){null===u&&(u=p);break}e&&u&&null===m.alternate&&t(r,u),s=i(m,s,g),null===c?l=m:c.sibling=m,c=m,u=p}if(g===o.length)return n(r,u),rs&&Zr(r,g),l;if(null===u){for(;g<o.length;g++)null!==(u=d(r,o[g],a))&&(s=i(u,s,g),null===c?l=u:c.sibling=u,c=u);return rs&&Zr(r,g),l}for(u=A(r,u);g<o.length;g++)null!==(p=f(u,r,g,o[g],a))&&(e&&null!==p.alternate&&u.delete(null===p.key?g:p.key),s=i(p,s,g),null===c?l=p:c.sibling=p,c=p);return e&&u.forEach(function(e){return t(r,e)}),rs&&Zr(r,g),l}function p(r,o,a,l){var c=D(a);if("function"!==typeof c)throw Error(s(150));if(null==(a=c.call(a)))throw Error(s(151));for(var u=c=null,g=o,p=o=0,m=null,w=a.next();null!==g&&!w.done;p++,w=a.next()){g.index>p?(m=g,g=null):m=g.sibling;var y=h(r,g,w.value,l);if(null===y){null===g&&(g=m);break}e&&g&&null===y.alternate&&t(r,g),o=i(y,o,p),null===u?c=y:u.sibling=y,u=y,g=m}if(w.done)return n(r,g),rs&&Zr(r,p),c;if(null===g){for(;!w.done;p++,w=a.next())null!==(w=d(r,w.value,l))&&(o=i(w,o,p),null===u?c=w:u.sibling=w,u=w);return rs&&Zr(r,p),c}for(g=A(r,g);!w.done;p++,w=a.next())null!==(w=f(g,r,p,w.value,l))&&(e&&null!==w.alternate&&g.delete(null===w.key?p:w.key),o=i(w,o,p),null===u?c=w:u.sibling=w,u=w);return e&&g.forEach(function(e){return t(r,e)}),rs&&Zr(r,p),c}return function e(A,s,i,a){if("object"===typeof i&&null!==i&&i.type===C&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case v:e:{for(var l=i.key,c=s;null!==c;){if(c.key===l){if((l=i.type)===C){if(7===c.tag){n(A,c.sibling),(s=r(c,i.props.children)).return=A,A=s;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===T&&ws(l)===c.type){n(A,c.sibling),(s=r(c,i.props)).ref=ps(A,c,i),s.return=A,A=s;break e}n(A,c);break}t(A,c),c=c.sibling}i.type===C?((s=Dl(i.props.children,A.mode,a,i.key)).return=A,A=s):((a=Nl(i.type,i.key,i.props,null,A.mode,a)).ref=ps(A,s,i),a.return=A,A=a)}return o(A);case b:e:{for(c=i.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(A,s.sibling),(s=r(s,i.children||[])).return=A,A=s;break e}n(A,s);break}t(A,s),s=s.sibling}(s=Ol(i,A.mode,a)).return=A,A=s}return o(A);case T:return e(A,s,(c=i._init)(i._payload),a)}if(te(i))return g(A,s,i,a);if(D(i))return p(A,s,i,a);ms(A,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(A,s.sibling),(s=r(s,i)).return=A,A=s):(n(A,s),(s=Hl(i,A.mode,a)).return=A,A=s),o(A)):n(A,s)}}var Bs=ys(!0),vs=ys(!1),bs=xr(null),Cs=null,xs=null,Es=null;function Us(){Es=xs=Cs=null}function Is(e){var t=bs.current;Er(bs),e._currentValue=t}function Qs(e,t,n){for(;null!==e;){var A=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==A&&(A.childLanes|=t)):null!==A&&(A.childLanes&t)!==t&&(A.childLanes|=t),e===n)break;e=e.return}}function Fs(e,t){Cs=e,Es=xs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===xs){if(null===Cs)throw Error(s(308));xs=e,Cs.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var Ss=null;function Ts(e){null===Ss?Ss=[e]:Ss.push(e)}function _s(e,t,n,A){var r=t.interleaved;return null===r?(n.next=n,Ts(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ns(e,A)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,n){var A=e.updateQueue;if(null===A)return null;if(A=A.shared,0!==(2&Qa)){var r=A.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),A.pending=t,Ns(e,n)}return null===(r=A.interleaved)?(t.next=t,Ts(A)):(t.next=r.next,r.next=t),A.interleaved=t,Ns(e,n)}function Rs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var A=t.lanes;n|=A&=e.pendingLanes,t.lanes=n,wt(e,n)}}function Ms(e,t){var n=e.updateQueue,A=e.alternate;if(null!==A&&n===(A=A.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:A.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:A.shared,effects:A.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function js(e,t,n,A){var r=e.updateQueue;Ds=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var a=o,l=a.next;a.next=null,null===i?s=l:i.next=l,i=a;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===o?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=a))}if(null!==s){var u=r.baseState;for(i=0,c=l=a=null,o=s;;){var d=o.lane,h=o.eventTime;if((A&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,g=o;switch(d=t,h=n,g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(h,u,d);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=g.payload)?f.call(h,u,d):f)||void 0===d)break e;u=H({},u,d);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(l=c=h,a=u):c=c.next=h,i|=d;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(d=o).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===c&&(a=u),r.baseState=a,r.firstBaseUpdate=l,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);La|=i,e.lanes=i,e.memoizedState=u}}function Ks(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var A=e[t],r=A.callback;if(null!==r){if(A.callback=null,A=n,"function"!==typeof r)throw Error(s(191,r));r.call(A)}}}var Vs={},Gs=xr(Vs),zs=xr(Vs),Ws=xr(Vs);function qs(e){if(e===Vs)throw Error(s(174));return e}function Js(e,t){switch(Ur(Ws,t),Ur(zs,e),Ur(Gs,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ae(null,"");break;default:t=ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Er(Gs),Ur(Gs,t)}function Xs(){Er(Gs),Er(zs),Er(Ws)}function Ys(e){qs(Ws.current);var t=qs(Gs.current),n=ae(t,e.type);t!==n&&(Ur(zs,e),Ur(Gs,n))}function Zs(e){zs.current===e&&(Er(Gs),Er(zs))}var $s=xr(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var Ai=B.ReactCurrentDispatcher,ri=B.ReactCurrentBatchConfig,si=0,ii=null,oi=null,ai=null,li=!1,ci=!1,ui=0,di=0;function hi(){throw Error(s(321))}function fi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oA(e[n],t[n]))return!1;return!0}function gi(e,t,n,A,r,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ai.current=null===e||null===e.memoizedState?Zi:$i,e=n(A,r),ci){i=0;do{if(ci=!1,ui=0,25<=i)throw Error(s(301));i+=1,ai=oi=null,t.updateQueue=null,Ai.current=eo,e=n(A,r)}while(ci)}if(Ai.current=Yi,t=null!==oi&&null!==oi.next,si=0,ai=oi=ii=null,li=!1,t)throw Error(s(300));return e}function pi(){var e=0!==ui;return ui=0,e}function mi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ai?ii.memoizedState=ai=e:ai=ai.next=e,ai}function wi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===ai?ii.memoizedState:ai.next;if(null!==t)ai=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===ai?ii.memoizedState=ai=e:ai=ai.next=e}return ai}function yi(e,t){return"function"===typeof t?t(e):t}function Bi(e){var t=wi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var A=oi,r=A.baseQueue,i=n.pending;if(null!==i){if(null!==r){var o=r.next;r.next=i.next,i.next=o}A.baseQueue=r=i,n.pending=null}if(null!==r){i=r.next,A=A.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((si&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),A=c.hasEagerState?c.eagerState:e(A,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(a=l=d,o=A):l=l.next=d,ii.lanes|=u,La|=u}c=c.next}while(null!==c&&c!==i);null===l?o=A:l.next=a,oA(A,t.memoizedState)||(yo=!0),t.memoizedState=A,t.baseState=o,t.baseQueue=l,n.lastRenderedState=A}if(null!==(e=n.interleaved)){r=e;do{i=r.lane,ii.lanes|=i,La|=i,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vi(e){var t=wi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var A=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{i=e(i,o.action),o=o.next}while(o!==r);oA(i,t.memoizedState)||(yo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,A]}function bi(){}function Ci(e,t){var n=ii,A=wi(),r=t(),i=!oA(A.memoizedState,r);if(i&&(A.memoizedState=r,yo=!0),A=A.queue,Di(Ui.bind(null,n,A,e),[e]),A.getSnapshot!==t||i||null!==ai&&1&ai.memoizedState.tag){if(n.flags|=2048,ki(9,Ei.bind(null,n,A,r,t),void 0,null),null===Fa)throw Error(s(349));0!==(30&si)||xi(n,t,r)}return r}function xi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ei(e,t,n,A){t.value=n,t.getSnapshot=A,Ii(t)&&Qi(e)}function Ui(e,t,n){return n(function(){Ii(t)&&Qi(e)})}function Ii(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oA(e,n)}catch(A){return!0}}function Qi(e){var t=Ns(e,1);null!==t&&nl(t,e,1,-1)}function Fi(e){var t=mi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Wi.bind(null,ii,e),[t.memoizedState,e]}function ki(e,t,n,A){return e={tag:e,create:t,destroy:n,deps:A,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(A=n.next,n.next=e,e.next=A,t.lastEffect=e),e}function Si(){return wi().memoizedState}function Ti(e,t,n,A){var r=mi();ii.flags|=e,r.memoizedState=ki(1|t,n,void 0,void 0===A?null:A)}function _i(e,t,n,A){var r=wi();A=void 0===A?null:A;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==A&&fi(A,i.deps))return void(r.memoizedState=ki(t,n,s,A))}ii.flags|=e,r.memoizedState=ki(1|t,n,s,A)}function Ni(e,t){return Ti(8390656,8,e,t)}function Di(e,t){return _i(2048,8,e,t)}function Li(e,t){return _i(4,2,e,t)}function Hi(e,t){return _i(4,4,e,t)}function Oi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Pi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_i(4,4,Oi.bind(null,t,e),n)}function Ri(){}function Mi(e,t){var n=wi();t=void 0===t?null:t;var A=n.memoizedState;return null!==A&&null!==t&&fi(t,A[1])?A[0]:(n.memoizedState=[e,t],e)}function ji(e,t){var n=wi();t=void 0===t?null:t;var A=n.memoizedState;return null!==A&&null!==t&&fi(t,A[1])?A[0]:(e=e(),n.memoizedState=[e,t],e)}function Ki(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n):(oA(n,t)||(n=gt(),ii.lanes|=n,La|=n,e.baseState=!0),t)}function Vi(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var A=ri.transition;ri.transition={};try{e(!1),t()}finally{yt=n,ri.transition=A}}function Gi(){return wi().memoizedState}function zi(e,t,n){var A=tl(e);if(n={lane:A,action:n,hasEagerState:!1,eagerState:null,next:null},qi(e))Ji(t,n);else if(null!==(n=_s(e,t,n,A))){nl(n,e,A,el()),Xi(n,t,A)}}function Wi(e,t,n){var A=tl(e),r={lane:A,action:n,hasEagerState:!1,eagerState:null,next:null};if(qi(e))Ji(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(r.hasEagerState=!0,r.eagerState=o,oA(o,i)){var a=t.interleaved;return null===a?(r.next=r,Ts(t)):(r.next=a.next,a.next=r),void(t.interleaved=r)}}catch(l){}null!==(n=_s(e,t,r,A))&&(nl(n,e,A,r=el()),Xi(n,t,A))}}function qi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Ji(e,t){ci=li=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xi(e,t,n){if(0!==(4194240&n)){var A=t.lanes;n|=A&=e.pendingLanes,t.lanes=n,wt(e,n)}}var Yi={readContext:ks,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Zi={readContext:ks,useCallback:function(e,t){return mi().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:Ni,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ti(4194308,4,Oi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var n=mi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var A=mi();return t=void 0!==n?n(t):t,A.memoizedState=A.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},A.queue=e,e=e.dispatch=zi.bind(null,ii,e),[A.memoizedState,e]},useRef:function(e){return e={current:e},mi().memoizedState=e},useState:Fi,useDebugValue:Ri,useDeferredValue:function(e){return mi().memoizedState=e},useTransition:function(){var e=Fi(!1),t=e[0];return e=Vi.bind(null,e[1]),mi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var A=ii,r=mi();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Fa)throw Error(s(349));0!==(30&si)||xi(A,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Ni(Ui.bind(null,A,i,e),[e]),A.flags|=2048,ki(9,Ei.bind(null,A,i,n,t),void 0,null),n},useId:function(){var e=mi(),t=Fa.identifierPrefix;if(rs){var n=Yr;t=":"+t+"R"+(n=(Xr&~(1<<32-it(Xr)-1)).toString(32)+n),0<(n=ui++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=di++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$i={readContext:ks,useCallback:Mi,useContext:ks,useEffect:Di,useImperativeHandle:Pi,useInsertionEffect:Li,useLayoutEffect:Hi,useMemo:ji,useReducer:Bi,useRef:Si,useState:function(){return Bi(yi)},useDebugValue:Ri,useDeferredValue:function(e){return Ki(wi(),oi.memoizedState,e)},useTransition:function(){return[Bi(yi)[0],wi().memoizedState]},useMutableSource:bi,useSyncExternalStore:Ci,useId:Gi,unstable_isNewReconciler:!1},eo={readContext:ks,useCallback:Mi,useContext:ks,useEffect:Di,useImperativeHandle:Pi,useInsertionEffect:Li,useLayoutEffect:Hi,useMemo:ji,useReducer:vi,useRef:Si,useState:function(){return vi(yi)},useDebugValue:Ri,useDeferredValue:function(e){var t=wi();return null===oi?t.memoizedState=e:Ki(t,oi.memoizedState,e)},useTransition:function(){return[vi(yi)[0],wi().memoizedState]},useMutableSource:bi,useSyncExternalStore:Ci,useId:Gi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=H({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,A){n=null===(n=n(A,t=e.memoizedState))||void 0===n?t:H({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ao={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var A=el(),r=tl(e),s=Os(A,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,r))&&(nl(t,e,r,A),Rs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var A=el(),r=tl(e),s=Os(A,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,r))&&(nl(t,e,r,A),Rs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),A=tl(e),r=Os(n,A);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ps(e,r,A))&&(nl(t,e,A,n),Rs(t,e,A))}};function ro(e,t,n,A,r,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(A,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!aA(n,A)||!aA(r,s))}function so(e,t,n){var A=!1,r=Ir,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(r=Tr(t)?kr:Qr.current,s=(A=null!==(A=t.contextTypes)&&void 0!==A)?Sr(e,r):Ir),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ao,e.stateNode=t,t._reactInternals=e,A&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,A){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,A),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,A),t.state!==e&&Ao.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,A){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=ks(s):(s=Tr(t)?kr:Qr.current,r.context=Sr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Ao.enqueueReplaceState(r,r.state,null),js(e,n,r,A),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ao(e,t){try{var n="",A=t;do{n+=M(A),A=A.return}while(A);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function lo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=Os(-1,n)).tag=3,n.payload={element:null};var A=t.value;return n.callback=function(){Va||(Va=!0,Ga=A),co(0,t)},n}function fo(e,t,n){(n=Os(-1,n)).tag=3;var A=e.type.getDerivedStateFromError;if("function"===typeof A){var r=t.value;n.payload=function(){return A(r)},n.callback=function(){co(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof A&&(null===za?za=new Set([this]):za.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var A=e.pingCache;if(null===A){A=e.pingCache=new uo;var r=new Set;A.set(t,r)}else void 0===(r=A.get(t))&&(r=new Set,A.set(t,r));r.has(n)||(r.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function po(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mo(e,t,n,A,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Os(-1,1)).tag=2,Ps(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var wo=B.ReactCurrentOwner,yo=!1;function Bo(e,t,n,A){t.child=null===e?vs(t,null,n,A):Bs(t,e.child,n,A)}function vo(e,t,n,A,r){n=n.render;var s=t.ref;return Fs(t,r),A=gi(e,t,n,A,s,r),n=pi(),null===e||yo?(rs&&n&&es(t),t.flags|=1,Bo(e,t,A,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vo(e,t,r))}function bo(e,t,n,A,r){if(null===e){var s=n.type;return"function"!==typeof s||Tl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nl(n.type,null,A,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Co(e,t,s,A,r))}if(s=e.child,0===(e.lanes&r)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:aA)(i,A)&&e.ref===t.ref)return Vo(e,t,r)}return t.flags|=1,(e=_l(s,A)).ref=t.ref,e.return=t,t.child=e}function Co(e,t,n,A,r){if(null!==e){var s=e.memoizedProps;if(aA(s,A)&&e.ref===t.ref){if(yo=!1,t.pendingProps=A=s,0===(e.lanes&r))return t.lanes=e.lanes,Vo(e,t,r);0!==(131072&e.flags)&&(yo=!0)}}return Uo(e,t,n,A,r)}function xo(e,t,n){var A=t.pendingProps,r=A.children,s=null!==e?e.memoizedState:null;if("hidden"===A.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ur(_a,Ta),Ta|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ur(_a,Ta),Ta|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=null!==s?s.baseLanes:n,Ur(_a,Ta),Ta|=A}else null!==s?(A=s.baseLanes|n,t.memoizedState=null):A=n,Ur(_a,Ta),Ta|=A;return Bo(e,t,r,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uo(e,t,n,A,r){var s=Tr(n)?kr:Qr.current;return s=Sr(t,s),Fs(t,r),n=gi(e,t,n,A,s,r),A=pi(),null===e||yo?(rs&&A&&es(t),t.flags|=1,Bo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vo(e,t,r))}function Io(e,t,n,A,r){if(Tr(n)){var s=!0;Lr(t)}else s=!1;if(Fs(t,r),null===t.stateNode)Ko(e,t),so(t,n,A),oo(t,n,A,r),A=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var a=i.context,l=n.contextType;"object"===typeof l&&null!==l?l=ks(l):l=Sr(t,l=Tr(n)?kr:Qr.current);var c=n.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==A||a!==l)&&io(t,i,A,l),Ds=!1;var d=t.memoizedState;i.state=d,js(t,A,i,r),a=t.memoizedState,o!==A||d!==a||Fr.current||Ds?("function"===typeof c&&(no(t,n,c,A),a=t.memoizedState),(o=Ds||ro(t,n,o,A,d,a,l))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=A,t.memoizedState=a),i.props=A,i.state=a,i.context=l,A=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),A=!1)}else{i=t.stateNode,Hs(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:to(t.type,o),i.props=l,u=t.pendingProps,d=i.context,"object"===typeof(a=n.contextType)&&null!==a?a=ks(a):a=Sr(t,a=Tr(n)?kr:Qr.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||d!==a)&&io(t,i,A,a),Ds=!1,d=t.memoizedState,i.state=d,js(t,A,i,r);var f=t.memoizedState;o!==u||d!==f||Fr.current||Ds?("function"===typeof h&&(no(t,n,h,A),f=t.memoizedState),(l=Ds||ro(t,n,l,A,d,f,a)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(A,f,a),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(A,f,a)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=A,t.memoizedState=f),i.props=A,i.state=f,i.context=a,A=l):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),A=!1)}return Qo(e,t,n,A,s,r)}function Qo(e,t,n,A,r,s){Eo(e,t);var i=0!==(128&t.flags);if(!A&&!i)return r&&Hr(t,n,!1),Vo(e,t,s);A=t.stateNode,wo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:A.render();return t.flags|=1,null!==e&&i?(t.child=Bs(t,e.child,null,s),t.child=Bs(t,null,o,s)):Bo(e,t,o,s),t.memoizedState=A.state,r&&Hr(t,n,!0),t.child}function Fo(e){var t=e.stateNode;t.pendingContext?Nr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nr(0,t.context,!1),Js(e,t.containerInfo)}function ko(e,t,n,A,r){return hs(),fs(r),t.flags|=256,Bo(e,t,n,A),t.child}var So,To,_o,No,Do={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ho(e,t,n){var A,r=t.pendingProps,i=$s.current,o=!1,a=0!==(128&t.flags);if((A=a)||(A=(null===e||null!==e.memoizedState)&&0!==(2&i)),A?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ur($s,1&i),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=Ll(a,r,0,null),e=Dl(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Do,e):Oo(t,a));if(null!==(i=e.memoizedState)&&null!==(A=i.dehydrated))return function(e,t,n,A,r,i,o){if(n)return 256&t.flags?(t.flags&=-257,Po(e,t,o,A=lo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=A.fallback,r=t.mode,A=Ll({mode:"visible",children:A.children},r,0,null),(i=Dl(i,r,o,null)).flags|=2,A.return=t,i.return=t,A.sibling=i,t.child=A,0!==(1&t.mode)&&Bs(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Do,i);if(0===(1&t.mode))return Po(e,t,o,null);if("$!"===r.data){if(A=r.nextSibling&&r.nextSibling.dataset)var a=A.dgst;return A=a,Po(e,t,o,A=lo(i=Error(s(419)),A,void 0))}if(a=0!==(o&e.childLanes),yo||a){if(null!==(A=Fa)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(A.suspendedLanes|o))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Ns(e,r),nl(A,e,r,-1))}return gl(),Po(e,t,o,A=lo(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,As=lr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&(Wr[qr++]=Xr,Wr[qr++]=Yr,Wr[qr++]=Jr,Xr=e.id,Yr=e.overflow,Jr=t),t=Oo(t,A.children),t.flags|=4096,t)}(e,t,a,r,A,i,n);if(o){o=r.fallback,a=t.mode,A=(i=e.child).sibling;var l={mode:"hidden",children:r.children};return 0===(1&a)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=l,t.deletions=null):(r=_l(i,l)).subtreeFlags=14680064&i.subtreeFlags,null!==A?o=_l(A,o):(o=Dl(o,a,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=null===(a=e.child.memoizedState)?Lo(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Do,r}return e=(o=e.child).sibling,r=_l(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Oo(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Po(e,t,n,A){return null!==A&&fs(A),Bs(t,e.child,null,n),(e=Oo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ro(e,t,n){e.lanes|=t;var A=e.alternate;null!==A&&(A.lanes|=t),Qs(e.return,t,n)}function Mo(e,t,n,A,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:A,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=A,s.tail=n,s.tailMode=r)}function jo(e,t,n){var A=t.pendingProps,r=A.revealOrder,s=A.tail;if(Bo(e,t,A.children,n),0!==(2&(A=$s.current)))A=1&A|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ro(e,n,t);else if(19===e.tag)Ro(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}A&=1}if(Ur($s,A),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Mo(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ei(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Mo(t,!0,n,null,s);break;case"together":Mo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ko(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),La|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=_l(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_l(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var A=null;null!==n;)null!==n.alternate&&(A=n),n=n.sibling;null===A?t||null===e.tail?e.tail=null:e.tail.sibling=null:A.sibling=null}}function zo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,A=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,A|=14680064&r.subtreeFlags,A|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,A|=r.subtreeFlags,A|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=A,e.childLanes=n,t}function Wo(e,t,n){var A=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zo(t),null;case 1:case 17:return Tr(t.type)&&_r(),zo(t),null;case 3:return A=t.stateNode,Xs(),Er(Fr),Er(Qr),ni(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(il(ss),ss=null))),To(e,t),zo(t),null;case 5:Zs(t);var r=qs(Ws.current);if(n=t.type,null!==e&&null!=t.stateNode)_o(e,t,n,A,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!A){if(null===t.stateNode)throw Error(s(166));return zo(t),null}if(e=qs(Gs.current),us(t)){A=t.stateNode,n=t.type;var i=t.memoizedProps;switch(A[dr]=t,A[hr]=i,e=0!==(1&t.mode),n){case"dialog":PA("cancel",A),PA("close",A);break;case"iframe":case"object":case"embed":PA("load",A);break;case"video":case"audio":for(r=0;r<DA.length;r++)PA(DA[r],A);break;case"source":PA("error",A);break;case"img":case"image":case"link":PA("error",A),PA("load",A);break;case"details":PA("toggle",A);break;case"input":X(A,i),PA("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!i.multiple},PA("invalid",A);break;case"textarea":re(A,i),PA("invalid",A)}for(var a in we(n,i),r=null,i)if(i.hasOwnProperty(a)){var l=i[a];"children"===a?"string"===typeof l?A.textContent!==l&&(!0!==i.suppressHydrationWarning&&ZA(A.textContent,l,e),r=["children",l]):"number"===typeof l&&A.textContent!==""+l&&(!0!==i.suppressHydrationWarning&&ZA(A.textContent,l,e),r=["children",""+l]):o.hasOwnProperty(a)&&null!=l&&"onScroll"===a&&PA("scroll",A)}switch(n){case"input":z(A),$(A,i,!0);break;case"textarea":z(A),ie(A);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(A.onclick=$A)}A=r,t.updateQueue=A,null!==A&&(t.flags|=4)}else{a=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof A.is?e=a.createElement(n,{is:A.is}):(e=a.createElement(n),"select"===n&&(a=e,A.multiple?a.multiple=!0:A.size&&(a.size=A.size))):e=a.createElementNS(e,n),e[dr]=t,e[hr]=A,So(e,t,!1,!1),t.stateNode=e;e:{switch(a=ye(n,A),n){case"dialog":PA("cancel",e),PA("close",e),r=A;break;case"iframe":case"object":case"embed":PA("load",e),r=A;break;case"video":case"audio":for(r=0;r<DA.length;r++)PA(DA[r],e);r=A;break;case"source":PA("error",e),r=A;break;case"img":case"image":case"link":PA("error",e),PA("load",e),r=A;break;case"details":PA("toggle",e),r=A;break;case"input":X(e,A),r=J(e,A),PA("invalid",e);break;case"option":default:r=A;break;case"select":e._wrapperState={wasMultiple:!!A.multiple},r=H({},A,{value:void 0}),PA("invalid",e);break;case"textarea":re(e,A),r=Ae(e,A),PA("invalid",e)}for(i in we(n,r),l=r)if(l.hasOwnProperty(i)){var c=l[i];"style"===i?pe(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===i?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=c&&"onScroll"===i&&PA("scroll",e):null!=c&&y(e,i,c,a))}switch(n){case"input":z(e),$(e,A,!1);break;case"textarea":z(e),ie(e);break;case"option":null!=A.value&&e.setAttribute("value",""+V(A.value));break;case"select":e.multiple=!!A.multiple,null!=(i=A.value)?ne(e,!!A.multiple,i,!1):null!=A.defaultValue&&ne(e,!!A.multiple,A.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$A)}switch(n){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return zo(t),null;case 6:if(e&&null!=t.stateNode)No(e,t,e.memoizedProps,A);else{if("string"!==typeof A&&null===t.stateNode)throw Error(s(166));if(n=qs(Ws.current),qs(Gs.current),us(t)){if(A=t.stateNode,n=t.memoizedProps,A[dr]=t,(i=A.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:ZA(A.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ZA(A.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(A=(9===n.nodeType?n:n.ownerDocument).createTextNode(A))[dr]=t,t.stateNode=A}return zo(t),null;case 13:if(Er($s),A=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==As&&0!==(1&t.mode)&&0===(128&t.flags))ds(),hs(),t.flags|=98560,i=!1;else if(i=us(t),null!==A&&null!==A.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[dr]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;zo(t),i=!1}else null!==ss&&(il(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((A=null!==A)!==(null!==e&&null!==e.memoizedState)&&A&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$s.current)?0===Na&&(Na=3):gl())),null!==t.updateQueue&&(t.flags|=4),zo(t),null);case 4:return Xs(),To(e,t),null===e&&jA(t.stateNode.containerInfo),zo(t),null;case 10:return Is(t.type._context),zo(t),null;case 19:if(Er($s),null===(i=t.memoizedState))return zo(t),null;if(A=0!==(128&t.flags),null===(a=i.rendering))if(A)Go(i,!1);else{if(0!==Na||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ei(e))){for(t.flags|=128,Go(i,!1),null!==(A=a.updateQueue)&&(t.updateQueue=A,t.flags|=4),t.subtreeFlags=0,A=n,n=t.child;null!==n;)e=A,(i=n).flags&=14680066,null===(a=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ur($s,1&$s.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>ja&&(t.flags|=128,A=!0,Go(i,!1),t.lanes=4194304)}else{if(!A)if(null!==(e=ei(a))){if(t.flags|=128,A=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!rs)return zo(t),null}else 2*Ye()-i.renderingStartTime>ja&&1073741824!==n&&(t.flags|=128,A=!0,Go(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=i.last)?n.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=$s.current,Ur($s,A?1&n|2:1&n),t):(zo(t),null);case 22:case 23:return ul(),A=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==A&&(t.flags|=8192),A&&0!==(1&t.mode)?0!==(1073741824&Ta)&&(zo(t),6&t.subtreeFlags&&(t.flags|=8192)):zo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function qo(e,t){switch(ts(t),t.tag){case 1:return Tr(t.type)&&_r(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Er(Fr),Er(Qr),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Er($s),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Er($s),null;case 4:return Xs(),null;case 10:return Is(t.type._context),null;case 22:case 23:return ul(),null;default:return null}}So=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},To=function(){},_o=function(e,t,n,A){var r=e.memoizedProps;if(r!==A){e=t.stateNode,qs(Gs.current);var s,i=null;switch(n){case"input":r=J(e,r),A=J(e,A),i=[];break;case"select":r=H({},r,{value:void 0}),A=H({},A,{value:void 0}),i=[];break;case"textarea":r=Ae(e,r),A=Ae(e,A),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof A.onClick&&(e.onclick=$A)}for(c in we(n,A),n=null,r)if(!A.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var a=r[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in A){var l=A[c];if(a=null!=r?r[c]:void 0,A.hasOwnProperty(c)&&l!==a&&(null!=l||null!=a))if("style"===c)if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(i=i||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(i=i||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&PA("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},No=function(e,t,n,A){n!==A&&(t.flags|=4)};var Jo=!1,Xo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function $o(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(A){xl(e,t,A)}else n.current=null}function ea(e,t,n){try{n()}catch(A){xl(e,t,A)}}var ta=!1;function na(e,t,n){var A=t.updateQueue;if(null!==(A=null!==A?A.lastEffect:null)){var r=A=A.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&ea(t,n,s)}r=r.next}while(r!==A)}}function Aa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var A=n.create;n.destroy=A()}n=n.next}while(n!==t)}}function ra(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sa(e){var t=e.alternate;null!==t&&(e.alternate=null,sa(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[hr],delete t[gr],delete t[pr],delete t[mr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ia(e){return 5===e.tag||3===e.tag||4===e.tag}function oa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ia(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function aa(e,t,n){var A=e.tag;if(5===A||6===A)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$A));else if(4!==A&&null!==(e=e.child))for(aa(e,t,n),e=e.sibling;null!==e;)aa(e,t,n),e=e.sibling}function la(e,t,n){var A=e.tag;if(5===A||6===A)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==A&&null!==(e=e.child))for(la(e,t,n),e=e.sibling;null!==e;)la(e,t,n),e=e.sibling}var ca=null,ua=!1;function da(e,t,n){for(n=n.child;null!==n;)ha(e,t,n),n=n.sibling}function ha(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Xo||$o(n,t);case 6:var A=ca,r=ua;ca=null,da(e,t,n),ua=r,null!==(ca=A)&&(ua?(e=ca,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ca.removeChild(n.stateNode));break;case 18:null!==ca&&(ua?(e=ca,n=n.stateNode,8===e.nodeType?ar(e.parentNode,n):1===e.nodeType&&ar(e,n),jt(e)):ar(ca,n.stateNode));break;case 4:A=ca,r=ua,ca=n.stateNode.containerInfo,ua=!0,da(e,t,n),ca=A,ua=r;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(A=n.updateQueue)&&null!==(A=A.lastEffect))){r=A=A.next;do{var s=r,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&ea(n,t,i),r=r.next}while(r!==A)}da(e,t,n);break;case 1:if(!Xo&&($o(n,t),"function"===typeof(A=n.stateNode).componentWillUnmount))try{A.props=n.memoizedProps,A.state=n.memoizedState,A.componentWillUnmount()}catch(o){xl(n,t,o)}da(e,t,n);break;case 21:da(e,t,n);break;case 22:1&n.mode?(Xo=(A=Xo)||null!==n.memoizedState,da(e,t,n),Xo=A):da(e,t,n);break;default:da(e,t,n)}}function fa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var A=Ql.bind(null,e,t);n.has(t)||(n.add(t),t.then(A,A))})}}function ga(e,t){var n=t.deletions;if(null!==n)for(var A=0;A<n.length;A++){var r=n[A];try{var i=e,o=t,a=o;e:for(;null!==a;){switch(a.tag){case 5:ca=a.stateNode,ua=!1;break e;case 3:case 4:ca=a.stateNode.containerInfo,ua=!0;break e}a=a.return}if(null===ca)throw Error(s(160));ha(i,o,r),ca=null,ua=!1;var l=r.alternate;null!==l&&(l.return=null),r.return=null}catch(c){xl(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pa(t,e),t=t.sibling}function pa(e,t){var n=e.alternate,A=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ga(t,e),ma(e),4&A){try{na(3,e,e.return),Aa(3,e)}catch(p){xl(e,e.return,p)}try{na(5,e,e.return)}catch(p){xl(e,e.return,p)}}break;case 1:ga(t,e),ma(e),512&A&&null!==n&&$o(n,n.return);break;case 5:if(ga(t,e),ma(e),512&A&&null!==n&&$o(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(p){xl(e,e.return,p)}}if(4&A&&null!=(r=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===i.type&&null!=i.name&&Y(r,i),ye(a,o);var c=ye(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];"style"===u?pe(r,d):"dangerouslySetInnerHTML"===u?ue(r,d):"children"===u?de(r,d):y(r,u,d,c)}switch(a){case"input":Z(r,i);break;case"textarea":se(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var f=i.value;null!=f?ne(r,!!i.multiple,f,!1):h!==!!i.multiple&&(null!=i.defaultValue?ne(r,!!i.multiple,i.defaultValue,!0):ne(r,!!i.multiple,i.multiple?[]:"",!1))}r[hr]=i}catch(p){xl(e,e.return,p)}}break;case 6:if(ga(t,e),ma(e),4&A){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(p){xl(e,e.return,p)}}break;case 3:if(ga(t,e),ma(e),4&A&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(p){xl(e,e.return,p)}break;case 4:default:ga(t,e),ma(e);break;case 13:ga(t,e),ma(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(Ma=Ye())),4&A&&fa(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(c=Xo)||u,ga(t,e),Xo=c):ga(t,e),ma(e),8192&A){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(d=Zo=u;null!==Zo;){switch(f=(h=Zo).child,h.tag){case 0:case 11:case 14:case 15:na(4,h,h.return);break;case 1:$o(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){A=h,n=h.return;try{t=A,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){xl(A,n,p)}}break;case 5:$o(h,h.return);break;case 22:if(null!==h.memoizedState){va(d);continue}}null!==f?(f.return=h,Zo=f):va(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{r=d.stateNode,c?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(a=d.stateNode,o=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,a.style.display=ge("display",o))}catch(p){xl(e,e.return,p)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){xl(e,e.return,p)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ga(t,e),ma(e),4&A&&fa(e);case 21:}}function ma(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ia(n)){var A=n;break e}n=n.return}throw Error(s(160))}switch(A.tag){case 5:var r=A.stateNode;32&A.flags&&(de(r,""),A.flags&=-33),la(e,oa(e),r);break;case 3:case 4:var i=A.stateNode.containerInfo;aa(e,oa(e),i);break;default:throw Error(s(161))}}catch(o){xl(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wa(e,t,n){Zo=e,ya(e,t,n)}function ya(e,t,n){for(var A=0!==(1&e.mode);null!==Zo;){var r=Zo,s=r.child;if(22===r.tag&&A){var i=null!==r.memoizedState||Jo;if(!i){var o=r.alternate,a=null!==o&&null!==o.memoizedState||Xo;o=Jo;var l=Xo;if(Jo=i,(Xo=a)&&!l)for(Zo=r;null!==Zo;)a=(i=Zo).child,22===i.tag&&null!==i.memoizedState?ba(r):null!==a?(a.return=i,Zo=a):ba(r);for(;null!==s;)Zo=s,ya(s,t,n),s=s.sibling;Zo=r,Jo=o,Xo=l}Ba(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Zo=s):Ba(e)}}function Ba(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||Aa(5,t);break;case 1:var A=t.stateNode;if(4&t.flags&&!Xo)if(null===n)A.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);A.componentDidUpdate(r,n.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ks(t,i,A);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ks(t,o,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&jt(d)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&ra(t)}catch(h){xl(t,t.return,h)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function va(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function ba(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Aa(4,t)}catch(a){xl(t,n,a)}break;case 1:var A=t.stateNode;if("function"===typeof A.componentDidMount){var r=t.return;try{A.componentDidMount()}catch(a){xl(t,r,a)}}var s=t.return;try{ra(t)}catch(a){xl(t,s,a)}break;case 5:var i=t.return;try{ra(t)}catch(a){xl(t,i,a)}}}catch(a){xl(t,t.return,a)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Ca,xa=Math.ceil,Ea=B.ReactCurrentDispatcher,Ua=B.ReactCurrentOwner,Ia=B.ReactCurrentBatchConfig,Qa=0,Fa=null,ka=null,Sa=0,Ta=0,_a=xr(0),Na=0,Da=null,La=0,Ha=0,Oa=0,Pa=null,Ra=null,Ma=0,ja=1/0,Ka=null,Va=!1,Ga=null,za=null,Wa=!1,qa=null,Ja=0,Xa=0,Ya=null,Za=-1,$a=0;function el(){return 0!==(6&Qa)?Ye():-1!==Za?Za:Za=Ye()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Qa)&&0!==Sa?Sa&-Sa:null!==gs.transition?(0===$a&&($a=gt()),$a):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nl(e,t,n,A){if(50<Xa)throw Xa=0,Ya=null,Error(s(185));mt(e,n,A),0!==(2&Qa)&&e===Fa||(e===Fa&&(0===(2&Qa)&&(Ha|=n),4===Na&&ol(e,Sa)),Al(e,A),1===n&&0===Qa&&0===(1&t.mode)&&(ja=Ye()+500,Pr&&jr()))}function Al(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,A=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,a=r[i];-1===a?0!==(o&n)&&0===(o&A)||(r[i]=ht(o,t)):a<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var A=dt(e,e===Fa?Sa:0);if(0===A)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=A&-A,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Pr=!0,Mr(e)}(al.bind(null,e)):Mr(al.bind(null,e)),ir(function(){0===(6&Qa)&&jr()}),n=null;else{switch(Bt(A)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=At}n=Fl(n,rl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rl(e,t){if(Za=-1,$a=0,0!==(6&Qa))throw Error(s(327));var n=e.callbackNode;if(bl()&&e.callbackNode!==n)return null;var A=dt(e,e===Fa?Sa:0);if(0===A)return null;if(0!==(30&A)||0!==(A&e.expiredLanes)||t)t=pl(e,A);else{t=A;var r=Qa;Qa|=2;var i=fl();for(Fa===e&&Sa===t||(Ka=null,ja=Ye()+500,dl(e,t));;)try{wl();break}catch(a){hl(e,a)}Us(),Ea.current=i,Qa=r,null!==ka?t=0:(Fa=null,Sa=0,t=Na)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(A=r,t=sl(e,r))),1===t)throw n=Da,dl(e,0),ol(e,A),Al(e,Ye()),n;if(6===t)ol(e,A);else{if(r=e.current.alternate,0===(30&A)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var A=0;A<n.length;A++){var r=n[A],s=r.getSnapshot;r=r.value;try{if(!oA(s(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=pl(e,A))&&(0!==(i=ft(e))&&(A=i,t=sl(e,i))),1===t))throw n=Da,dl(e,0),ol(e,A),Al(e,Ye()),n;switch(e.finishedWork=r,e.finishedLanes=A,t){case 0:case 1:throw Error(s(345));case 2:case 5:vl(e,Ra,Ka);break;case 3:if(ol(e,A),(130023424&A)===A&&10<(t=Ma+500-Ye())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&A)!==A){el(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Ar(vl.bind(null,e,Ra,Ka),t);break}vl(e,Ra,Ka);break;case 4:if(ol(e,A),(4194240&A)===A)break;for(t=e.eventTimes,r=-1;0<A;){var o=31-it(A);i=1<<o,(o=t[o])>r&&(r=o),A&=~i}if(A=r,10<(A=(120>(A=Ye()-A)?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*xa(A/1960))-A)){e.timeoutHandle=Ar(vl.bind(null,e,Ra,Ka),A);break}vl(e,Ra,Ka);break;default:throw Error(s(329))}}}return Al(e,Ye()),e.callbackNode===n?rl.bind(null,e):null}function sl(e,t){var n=Pa;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=pl(e,t))&&(t=Ra,Ra=n,null!==t&&il(t)),e}function il(e){null===Ra?Ra=e:Ra.push.apply(Ra,e)}function ol(e,t){for(t&=~Oa,t&=~Ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),A=1<<n;e[n]=-1,t&=~A}}function al(e){if(0!==(6&Qa))throw Error(s(327));bl();var t=dt(e,0);if(0===(1&t))return Al(e,Ye()),null;var n=pl(e,t);if(0!==e.tag&&2===n){var A=ft(e);0!==A&&(t=A,n=sl(e,A))}if(1===n)throw n=Da,dl(e,0),ol(e,t),Al(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vl(e,Ra,Ka),Al(e,Ye()),null}function ll(e,t){var n=Qa;Qa|=1;try{return e(t)}finally{0===(Qa=n)&&(ja=Ye()+500,Pr&&jr())}}function cl(e){null!==qa&&0===qa.tag&&0===(6&Qa)&&bl();var t=Qa;Qa|=1;var n=Ia.transition,A=yt;try{if(Ia.transition=null,yt=1,e)return e()}finally{yt=A,Ia.transition=n,0===(6&(Qa=t))&&jr()}}function ul(){Ta=_a.current,Er(_a)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==ka)for(n=ka.return;null!==n;){var A=n;switch(ts(A),A.tag){case 1:null!==(A=A.type.childContextTypes)&&void 0!==A&&_r();break;case 3:Xs(),Er(Fr),Er(Qr),ni();break;case 5:Zs(A);break;case 4:Xs();break;case 13:case 19:Er($s);break;case 10:Is(A.type._context);break;case 22:case 23:ul()}n=n.return}if(Fa=e,ka=e=_l(e.current,null),Sa=Ta=t,Na=0,Da=null,Oa=Ha=La=0,Ra=Pa=null,null!==Ss){for(t=0;t<Ss.length;t++)if(null!==(A=(n=Ss[t]).interleaved)){n.interleaved=null;var r=A.next,s=n.pending;if(null!==s){var i=s.next;s.next=r,A.next=i}n.pending=A}Ss=null}return e}function hl(e,t){for(;;){var n=ka;try{if(Us(),Ai.current=Yi,li){for(var A=ii.memoizedState;null!==A;){var r=A.queue;null!==r&&(r.pending=null),A=A.next}li=!1}if(si=0,ai=oi=ii=null,ci=!1,ui=0,Ua.current=null,null===n||null===n.return){Na=1,Da=t,ka=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Sa,a.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,u=a,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=po(o);if(null!==f){f.flags&=-257,mo(f,o,a,0,t),1&f.mode&&go(i,c,t),l=c;var g=(t=f).updateQueue;if(null===g){var p=new Set;p.add(l),t.updateQueue=p}else g.add(l);break e}if(0===(1&t)){go(i,c,t),gl();break e}l=Error(s(426))}else if(rs&&1&a.mode){var m=po(o);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),mo(m,o,a,0,t),fs(ao(l,a));break e}}i=l=ao(l,a),4!==Na&&(Na=2),null===Pa?Pa=[i]:Pa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ms(i,ho(0,l,t));break e;case 1:a=l;var w=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof w.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===za||!za.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Ms(i,fo(i,a,t));break e}}i=i.return}while(null!==i)}Bl(n)}catch(B){t=B,ka===n&&null!==n&&(ka=n=n.return);continue}break}}function fl(){var e=Ea.current;return Ea.current=Yi,null===e?Yi:e}function gl(){0!==Na&&3!==Na&&2!==Na||(Na=4),null===Fa||0===(268435455&La)&&0===(268435455&Ha)||ol(Fa,Sa)}function pl(e,t){var n=Qa;Qa|=2;var A=fl();for(Fa===e&&Sa===t||(Ka=null,dl(e,t));;)try{ml();break}catch(r){hl(e,r)}if(Us(),Qa=n,Ea.current=A,null!==ka)throw Error(s(261));return Fa=null,Sa=0,Na}function ml(){for(;null!==ka;)yl(ka)}function wl(){for(;null!==ka&&!Je();)yl(ka)}function yl(e){var t=Ca(e.alternate,e,Ta);e.memoizedProps=e.pendingProps,null===t?Bl(e):ka=t,Ua.current=null}function Bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wo(n,t,Ta)))return void(ka=n)}else{if(null!==(n=qo(n,t)))return n.flags&=32767,void(ka=n);if(null===e)return Na=6,void(ka=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ka=t);ka=t=e}while(null!==t);0===Na&&(Na=5)}function vl(e,t,n){var A=yt,r=Ia.transition;try{Ia.transition=null,yt=1,function(e,t,n,A){do{bl()}while(null!==qa);if(0!==(6&Qa))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var A=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-it(n),s=1<<r;t[r]=0,A[r]=-1,e[r]=-1,n&=~s}}(e,i),e===Fa&&(ka=Fa=null,Sa=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wa||(Wa=!0,Fl(tt,function(){return bl(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Ia.transition,Ia.transition=null;var o=yt;yt=1;var a=Qa;Qa|=4,Ua.current=null,function(e,t){if(er=Vt,hA(e=dA())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var A=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(A&&0!==A.rangeCount){n=A.anchorNode;var r=A.anchorOffset,i=A.focusNode;A=A.focusOffset;try{n.nodeType,i.nodeType}catch(v){n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==r&&3!==d.nodeType||(a=o+r),d!==i||0!==A&&3!==d.nodeType||(l=o+A),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++c===r&&(a=o),h===i&&++u===A&&(l=o),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Vt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var p=g.memoizedProps,m=g.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?p:to(t.type,p),m);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var B=t.stateNode.containerInfo;1===B.nodeType?B.textContent="":9===B.nodeType&&B.documentElement&&B.removeChild(B.documentElement);break;default:throw Error(s(163))}}catch(v){xl(t,t.return,v)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}g=ta,ta=!1}(e,n),pa(n,e),fA(tr),Vt=!!er,tr=er=null,e.current=n,wa(n,e,r),Xe(),Qa=a,yt=o,Ia.transition=i}else e.current=n;if(Wa&&(Wa=!1,qa=e,Ja=r),i=e.pendingLanes,0===i&&(za=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Al(e,Ye()),null!==t)for(A=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],A(r.value,{componentStack:r.stack,digest:r.digest});if(Va)throw Va=!1,e=Ga,Ga=null,e;0!==(1&Ja)&&0!==e.tag&&bl(),i=e.pendingLanes,0!==(1&i)?e===Ya?Xa++:(Xa=0,Ya=e):Xa=0,jr()}(e,t,n,A)}finally{Ia.transition=r,yt=A}return null}function bl(){if(null!==qa){var e=Bt(Ja),t=Ia.transition,n=yt;try{if(Ia.transition=null,yt=16>e?16:e,null===qa)var A=!1;else{if(e=qa,qa=null,Ja=0,0!==(6&Qa))throw Error(s(331));var r=Qa;for(Qa|=4,Zo=e.current;null!==Zo;){var i=Zo,o=i.child;if(0!==(16&Zo.flags)){var a=i.deletions;if(null!==a){for(var l=0;l<a.length;l++){var c=a[l];for(Zo=c;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:na(8,u,i)}var d=u.child;if(null!==d)d.return=u,Zo=d;else for(;null!==Zo;){var h=(u=Zo).sibling,f=u.return;if(sa(u),u===c){Zo=null;break}if(null!==h){h.return=f,Zo=h;break}Zo=f}}}var g=i.alternate;if(null!==g){var p=g.child;if(null!==p){g.child=null;do{var m=p.sibling;p.sibling=null,p=m}while(null!==p)}}Zo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(i=Zo).flags))switch(i.tag){case 0:case 11:case 15:na(9,i,i.return)}var w=i.sibling;if(null!==w){w.return=i.return,Zo=w;break e}Zo=i.return}}var y=e.current;for(Zo=y;null!==Zo;){var B=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==B)B.return=o,Zo=B;else e:for(o=y;null!==Zo;){if(0!==(2048&(a=Zo).flags))try{switch(a.tag){case 0:case 11:case 15:Aa(9,a)}}catch(b){xl(a,a.return,b)}if(a===o){Zo=null;break e}var v=a.sibling;if(null!==v){v.return=a.return,Zo=v;break e}Zo=a.return}}if(Qa=r,jr(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(b){}A=!0}return A}finally{yt=n,Ia.transition=t}}return!1}function Cl(e,t,n){e=Ps(e,t=ho(0,t=ao(n,t),1),1),t=el(),null!==e&&(mt(e,1,t),Al(e,t))}function xl(e,t,n){if(3===e.tag)Cl(e,e,n);else for(;null!==t;){if(3===t.tag){Cl(t,e,n);break}if(1===t.tag){var A=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof A.componentDidCatch&&(null===za||!za.has(A))){t=Ps(t,e=fo(t,e=ao(n,e),1),1),e=el(),null!==t&&(mt(t,1,e),Al(t,e));break}}t=t.return}}function El(e,t,n){var A=e.pingCache;null!==A&&A.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Fa===e&&(Sa&n)===n&&(4===Na||3===Na&&(130023424&Sa)===Sa&&500>Ye()-Ma?dl(e,0):Oa|=n),Al(e,t)}function Ul(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Ns(e,t))&&(mt(e,t,n),Al(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ul(e,n)}function Ql(e,t){var n=0;switch(e.tag){case 13:var A=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:A=e.stateNode;break;default:throw Error(s(314))}null!==A&&A.delete(t),Ul(e,n)}function Fl(e,t){return We(e,t)}function kl(e,t,n,A){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sl(e,t,n,A){return new kl(e,t,n,A)}function Tl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _l(e,t){var n=e.alternate;return null===n?((n=Sl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nl(e,t,n,A,r,i){var o=2;if(A=e,"function"===typeof e)Tl(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case C:return Dl(n.children,r,i,t);case x:o=8,r|=8;break;case E:return(e=Sl(12,n,t,2|r)).elementType=E,e.lanes=i,e;case F:return(e=Sl(13,n,t,r)).elementType=F,e.lanes=i,e;case k:return(e=Sl(19,n,t,r)).elementType=k,e.lanes=i,e;case _:return Ll(n,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case U:o=10;break e;case I:o=9;break e;case Q:o=11;break e;case S:o=14;break e;case T:o=16,A=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Sl(o,n,t,r)).elementType=e,t.type=A,t.lanes=i,t}function Dl(e,t,n,A){return(e=Sl(7,e,A,t)).lanes=n,e}function Ll(e,t,n,A){return(e=Sl(22,e,A,t)).elementType=_,e.lanes=n,e.stateNode={isHidden:!1},e}function Hl(e,t,n){return(e=Sl(6,e,null,t)).lanes=n,e}function Ol(e,t,n){return(t=Sl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pl(e,t,n,A,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=A,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Rl(e,t,n,A,r,s,i,o,a){return e=new Pl(e,t,n,o,a),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Sl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:A,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Ml(e){if(!e)return Ir;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Tr(n))return Dr(e,n,t)}return t}function jl(e,t,n,A,r,s,i,o,a){return(e=Rl(n,A,!0,e,0,s,0,o,a)).context=Ml(null),n=e.current,(s=Os(A=el(),r=tl(n))).callback=void 0!==t&&null!==t?t:null,Ps(n,s,r),e.current.lanes=r,mt(e,r,A),Al(e,A),e}function Kl(e,t,n,A){var r=t.current,s=el(),i=tl(r);return n=Ml(n),null===t.context?t.context=n:t.pendingContext=n,(t=Os(s,i)).payload={element:e},null!==(A=void 0===A?null:A)&&(t.callback=A),null!==(e=Ps(r,t,i))&&(nl(e,r,i,s),Rs(e,r,i)),i}function Vl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function zl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Ca=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Fr.current)yo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:Fo(t),hs();break;case 5:Ys(t);break;case 1:Tr(t.type)&&Lr(t);break;case 4:Js(t,t.stateNode.containerInfo);break;case 10:var A=t.type._context,r=t.memoizedProps.value;Ur(bs,A._currentValue),A._currentValue=r;break;case 13:if(null!==(A=t.memoizedState))return null!==A.dehydrated?(Ur($s,1&$s.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ho(e,t,n):(Ur($s,1&$s.current),null!==(e=Vo(e,t,n))?e.sibling:null);Ur($s,1&$s.current);break;case 19:if(A=0!==(n&t.childLanes),0!==(128&e.flags)){if(A)return jo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ur($s,$s.current),A)break;return null;case 22:case 23:return t.lanes=0,xo(e,t,n)}return Vo(e,t,n)}(e,t,n);yo=0!==(131072&e.flags)}else yo=!1,rs&&0!==(1048576&t.flags)&&$r(t,zr,t.index);switch(t.lanes=0,t.tag){case 2:var A=t.type;Ko(e,t),e=t.pendingProps;var r=Sr(t,Qr.current);Fs(t,n),r=gi(null,t,A,e,r,n);var i=pi();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tr(A)?(i=!0,Lr(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ls(t),r.updater=Ao,t.stateNode=r,r._reactInternals=t,oo(t,A,e,n),t=Qo(null,t,A,!0,i,n)):(t.tag=0,rs&&i&&es(t),Bo(null,t,r,n),t=t.child),t;case 16:A=t.elementType;e:{switch(Ko(e,t),e=t.pendingProps,A=(r=A._init)(A._payload),t.type=A,r=t.tag=function(e){if("function"===typeof e)return Tl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===Q)return 11;if(e===S)return 14}return 2}(A),e=to(A,e),r){case 0:t=Uo(null,t,A,e,n);break e;case 1:t=Io(null,t,A,e,n);break e;case 11:t=vo(null,t,A,e,n);break e;case 14:t=bo(null,t,A,to(A.type,e),n);break e}throw Error(s(306,A,""))}return t;case 0:return A=t.type,r=t.pendingProps,Uo(e,t,A,r=t.elementType===A?r:to(A,r),n);case 1:return A=t.type,r=t.pendingProps,Io(e,t,A,r=t.elementType===A?r:to(A,r),n);case 3:e:{if(Fo(t),null===e)throw Error(s(387));A=t.pendingProps,r=(i=t.memoizedState).element,Hs(e,t),js(t,A,null,n);var o=t.memoizedState;if(A=o.element,i.isDehydrated){if(i={element:A,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ko(e,t,A,n,r=ao(Error(s(423)),t));break e}if(A!==r){t=ko(e,t,A,n,r=ao(Error(s(424)),t));break e}for(As=lr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=vs(t,null,A,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),A===r){t=Vo(e,t,n);break e}Bo(e,t,A,n)}t=t.child}return t;case 5:return Ys(t),null===e&&ls(t),A=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,o=r.children,nr(A,r)?o=null:null!==i&&nr(A,i)&&(t.flags|=32),Eo(e,t),Bo(e,t,o,n),t.child;case 6:return null===e&&ls(t),null;case 13:return Ho(e,t,n);case 4:return Js(t,t.stateNode.containerInfo),A=t.pendingProps,null===e?t.child=Bs(t,null,A,n):Bo(e,t,A,n),t.child;case 11:return A=t.type,r=t.pendingProps,vo(e,t,A,r=t.elementType===A?r:to(A,r),n);case 7:return Bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(A=t.type._context,r=t.pendingProps,i=t.memoizedProps,o=r.value,Ur(bs,A._currentValue),A._currentValue=o,null!==i)if(oA(i.value,o)){if(i.children===r.children&&!Fr.current){t=Vo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var a=i.dependencies;if(null!==a){o=i.child;for(var l=a.firstContext;null!==l;){if(l.context===A){if(1===i.tag){(l=Os(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Qs(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),Qs(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}Bo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,A=t.pendingProps.children,Fs(t,n),A=A(r=ks(r)),t.flags|=1,Bo(e,t,A,n),t.child;case 14:return r=to(A=t.type,t.pendingProps),bo(e,t,A,r=to(A.type,r),n);case 15:return Co(e,t,t.type,t.pendingProps,n);case 17:return A=t.type,r=t.pendingProps,r=t.elementType===A?r:to(A,r),Ko(e,t),t.tag=1,Tr(A)?(e=!0,Lr(t)):e=!1,Fs(t,n),so(t,A,r),oo(t,A,r,n),Qo(null,t,A,!0,e,n);case 19:return jo(e,t,n);case 22:return xo(e,t,n)}throw Error(s(156,t.tag))};var Wl="function"===typeof reportError?reportError:function(e){console.error(e)};function ql(e){this._internalRoot=e}function Jl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function $l(e,t,n,A,r){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof r){var o=r;r=function(){var e=Vl(i);o.call(e)}}Kl(t,i,e,r)}else i=function(e,t,n,A,r){if(r){if("function"===typeof A){var s=A;A=function(){var e=Vl(i);s.call(e)}}var i=jl(t,A,e,0,null,!1,0,"",Zl);return e._reactRootContainer=i,e[fr]=i.current,jA(8===e.nodeType?e.parentNode:e),cl(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof A){var o=A;A=function(){var e=Vl(a);o.call(e)}}var a=Rl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=a,e[fr]=a.current,jA(8===e.nodeType?e.parentNode:e),cl(function(){Kl(t,a,n,A)}),a}(n,t,e,r,A);return Vl(i)}Jl.prototype.render=ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Kl(e,t,null,null)},Jl.prototype.unmount=ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl(function(){Kl(null,e,null,null)}),t[fr]=null}},Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&0!==t&&t<_t[n].priority;n++);_t.splice(n,0,e),0===n&&Ht(e)}},vt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(wt(t,1|n),Al(t,Ye()),0===(6&Qa)&&(ja=Ye()+500,jr()))}break;case 13:cl(function(){var t=Ns(e,1);if(null!==t){var n=el();nl(t,e,1,n)}}),zl(e,1)}},bt=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)nl(t,e,134217728,el());zl(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tl(e),n=Ns(e,t);if(null!==n)nl(n,e,t,el());zl(e,t)}},xt=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},be=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var A=n[t];if(A!==e&&A.form===e.form){var r=vr(A);if(!r)throw Error(s(90));W(A),Z(A,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Qe=ll,Fe=cl;var ec={usingClientEntryPoint:!1,Events:[yr,Br,vr,Ue,Ie,ll]},tc={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{rt=Ac.inject(nc),st=Ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(s(200));return function(e,t,n){var A=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==A?null:""+A,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(s(299));var n=!1,A="",r=Wl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(A=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Rl(e,1,!1,null,0,n,0,A,r),e[fr]=t.current,jA(8===e.nodeType?e.parentNode:e),new ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Yl(t))throw Error(s(200));return $l(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(s(405));var A=null!=n&&n.hydratedSources||null,r=!1,i="",o=Wl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=jl(t,null,e,1,null!=n?n:null,r,0,i,o),e[fr]=t.current,jA(e),A)for(e=0;e<A.length;e++)r=(r=(n=A[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Jl(t)},t.render=function(e,t,n){if(!Yl(t))throw Error(s(200));return $l(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(s(40));return!!e._reactRootContainer&&(cl(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[fr]=null})}),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,A){if(!Yl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return $l(e,t,n,!1,A)},t.version="18.3.1-next-f1338f8080-20240426"},2799:(e,t,n)=>{"use strict";n.d(t,{MR:()=>w,P2:()=>m});var A=n(2555);const r=(e,t)=>t.some(t=>e instanceof t);let s,i;const o=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;let d={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),A=0;A<t;A++)n[A]=arguments[A];return e.apply(p(this),n),g(o.get(this))}:function(){for(var t=arguments.length,n=new Array(t),A=0;A<t;A++)n[A]=arguments[A];return g(e.apply(p(this),n))}:function(t){for(var n=arguments.length,A=new Array(n>1?n-1:0),r=1;r<n;r++)A[r-1]=arguments[r];const s=e.call(p(this),t,...A);return l.set(s,t.sort?t.sort():[t]),g(s)}}function f(e){return"function"===typeof e?h(e):(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise((t,n)=>{const A=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),A()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),A()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});a.set(e,t)}(e),r(e,s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,d):e)}function g(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const A=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(g(e.result)),A()},s=()=>{n(e.error),A()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&o.set(t,e)}).catch(()=>{}),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=f(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const p=e=>u.get(e);function m(e,t){let{blocked:n,upgrade:A,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),o=g(i);return A&&i.addEventListener("upgradeneeded",e=>{A(g(i.result),e.oldVersion,e.newVersion,g(i.transaction),e)}),n&&i.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}function w(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),g(n).then(()=>{})}const y=["get","getKey","getAll","getAllKeys","count"],B=["put","add","delete","clear"],v=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(v.get(t))return v.get(t);const n=t.replace(/FromIndex$/,""),A=t!==n,r=B.includes(n);if(!(n in(A?IDBIndex:IDBObjectStore).prototype)||!r&&!y.includes(n))return;const s=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let s=t.store;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return A&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),r&&t.done]))[0]};return v.set(t,s),s}d=(e=>(0,A.A)((0,A.A)({},e),{},{get:(t,n,A)=>b(t,n)||e.get(t,n,A),has:(t,n)=>!!b(t,n)||e.has(t,n)}))(d)},3007:(e,t,n)=>{"use strict";n.d(t,{m:()=>y});var A=n(1019);function r(e){return(0,A.w)(e,Date.now())}var s=n(9119);function i(e,t){const n=(0,s.a)(e),A=(0,s.a)(t),r=n.getTime()-A.getTime();return r<0?-1:r>0?1:r}var o=n(6815);function a(e,t){const n=(0,s.a)(e),A=(0,s.a)(t);return 12*(n.getFullYear()-A.getFullYear())+(n.getMonth()-A.getMonth())}function l(e){const t=(0,s.a)(e);return t.setHours(23,59,59,999),t}function c(e){const t=(0,s.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function u(e){const t=(0,s.a)(e);return+l(t)===+c(t)}function d(e,t){const n=(0,s.a)(e),A=(0,s.a)(t),r=i(n,A),o=Math.abs(a(n,A));let l;if(o<1)l=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*o);let t=i(n,A)===-r;u((0,s.a)(e))&&1===o&&1===i(e,A)&&(t=!1),l=r*(o-Number(t))}return 0===l?0:l}function h(e,t){return+(0,s.a)(e)-+(0,s.a)(t)}function f(e,t,n){const A=h(e,t)/1e3;return(r=null===n||void 0===n?void 0:n.roundingMethod,e=>{const t=(r?Math[r]:Math.trunc)(e);return 0===t?0:t})(A);var r}var g=n(1479),p=n(8176),m=n(4774);function w(e,t,n){var A,r;const a=(0,p.q)(),l=null!==(A=null!==(r=null===n||void 0===n?void 0:n.locale)&&void 0!==r?r:a.locale)&&void 0!==A?A:g.c,c=i(e,t);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:null===n||void 0===n?void 0:n.addSuffix,comparison:c});let h,w;c>0?(h=(0,s.a)(t),w=(0,s.a)(e)):(h=(0,s.a)(e),w=(0,s.a)(t));const y=f(w,h),B=((0,m.G)(w)-(0,m.G)(h))/1e3,v=Math.round((y-B)/60);let b;if(v<2)return null!==n&&void 0!==n&&n.includeSeconds?y<5?l.formatDistance("lessThanXSeconds",5,u):y<10?l.formatDistance("lessThanXSeconds",10,u):y<20?l.formatDistance("lessThanXSeconds",20,u):y<40?l.formatDistance("halfAMinute",0,u):y<60?l.formatDistance("lessThanXMinutes",1,u):l.formatDistance("xMinutes",1,u):0===v?l.formatDistance("lessThanXMinutes",1,u):l.formatDistance("xMinutes",v,u);if(v<45)return l.formatDistance("xMinutes",v,u);if(v<90)return l.formatDistance("aboutXHours",1,u);if(v<o.F6){const e=Math.round(v/60);return l.formatDistance("aboutXHours",e,u)}if(v<2520)return l.formatDistance("xDays",1,u);if(v<o.Nw){const e=Math.round(v/o.F6);return l.formatDistance("xDays",e,u)}if(v<2*o.Nw)return b=Math.round(v/o.Nw),l.formatDistance("aboutXMonths",b,u);if(b=d(w,h),b<12){const e=Math.round(v/o.Nw);return l.formatDistance("xMonths",e,u)}{const e=b%12,t=Math.trunc(b/12);return e<3?l.formatDistance("aboutXYears",t,u):e<9?l.formatDistance("overXYears",t,u):l.formatDistance("almostXYears",t+1,u)}}function y(e,t){return w(e,r(e),t)}},3216:(e,t,n)=>{"use strict";var A;n.d(t,{$P:()=>h,BV:()=>H,C5:()=>N,Ix:()=>L,V8:()=>_,Zp:()=>m,g:()=>w,jb:()=>l,qh:()=>D,x$:()=>y,zy:()=>g});var r=n(5043),s=n(1387);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(e[A]=n[A])}return e},i.apply(this,arguments)}const o=r.createContext(null);const a=r.createContext(null);const l=r.createContext(null);const c=r.createContext(null);const u=r.createContext({outlet:null,matches:[],isDataRoute:!1});const d=r.createContext(null);function h(e,t){let{relative:n}=void 0===t?{}:t;f()||(0,s.Oi)(!1);let{basename:A,navigator:i}=r.useContext(l),{hash:o,pathname:a,search:c}=y(e,{relative:n}),u=a;return"/"!==A&&(u="/"===a?A:(0,s.HS)([A,a])),i.createHref({pathname:u,search:c,hash:o})}function f(){return null!=r.useContext(c)}function g(){return f()||(0,s.Oi)(!1),r.useContext(c).location}function p(e){r.useContext(l).static||r.useLayoutEffect(e)}function m(){let{isDataRoute:e}=r.useContext(u);return e?function(){let{router:e}=Q(U.UseNavigateStable),t=k(I.UseNavigateStable),n=r.useRef(!1);return p(()=>{n.current=!0}),r.useCallback(function(A,r){void 0===r&&(r={}),n.current&&("number"===typeof A?e.navigate(A):e.navigate(A,i({fromRouteId:t},r)))},[e,t])}():function(){f()||(0,s.Oi)(!1);let e=r.useContext(o),{basename:t,future:n,navigator:A}=r.useContext(l),{matches:i}=r.useContext(u),{pathname:a}=g(),c=JSON.stringify((0,s.yD)(i,n.v7_relativeSplatPath)),d=r.useRef(!1);return p(()=>{d.current=!0}),r.useCallback(function(n,r){if(void 0===r&&(r={}),!d.current)return;if("number"===typeof n)return void A.go(n);let i=(0,s.Gh)(n,JSON.parse(c),a,"path"===r.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:(0,s.HS)([t,i.pathname])),(r.replace?A.replace:A.push)(i,r.state,r)},[t,A,c,a,e])}()}function w(){let{matches:e}=r.useContext(u),t=e[e.length-1];return t?t.params:{}}function y(e,t){let{relative:n}=void 0===t?{}:t,{future:A}=r.useContext(l),{matches:i}=r.useContext(u),{pathname:o}=g(),a=JSON.stringify((0,s.yD)(i,A.v7_relativeSplatPath));return r.useMemo(()=>(0,s.Gh)(e,JSON.parse(a),o,"path"===n),[e,a,o,n])}function B(e,t,n,A){f()||(0,s.Oi)(!1);let{navigator:o}=r.useContext(l),{matches:a}=r.useContext(u),d=a[a.length-1],h=d?d.params:{},p=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let m,w=g();if(t){var y;let e="string"===typeof t?(0,s.Rr)(t):t;"/"===p||(null==(y=e.pathname)?void 0:y.startsWith(p))||(0,s.Oi)(!1),m=e}else m=w;let B=m.pathname||"/",v=B;if("/"!==p){let e=p.replace(/^\//,"").split("/");v="/"+B.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=(0,s.ue)(e,{pathname:v});let C=E(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:(0,s.HS)([p,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:(0,s.HS)([p,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,A);return t&&C?r.createElement(c.Provider,{value:{location:i({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:s.rc.Pop}},C):C}function v(){let e=function(){var e;let t=r.useContext(d),n=F(I.UseRouteError),A=k(I.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[A]}(),t=(0,s.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,A="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:A};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,null)}const b=r.createElement(v,null);class C extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(u.Provider,{value:this.props.routeContext},r.createElement(d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x(e){let{routeContext:t,match:n,children:A}=e,s=r.useContext(o);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(u.Provider,{value:t},A)}function E(e,t,n,A){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===A&&(A=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=A)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||(0,s.Oi)(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&A&&A.v7_partialHydration)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:A}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!A||void 0===A[e.route.id]);if(e.route.lazy||r){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight((e,A,s)=>{let i,o=!1,d=null,h=null;var f;n&&(i=l&&A.route.id?l[A.route.id]:void 0,d=A.route.errorElement||b,c&&(u<0&&0===s?(f="route-fallback",!1||S[f]||(S[f]=!0),o=!0,h=null):u===s&&(o=!0,h=A.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,s+1)),p=()=>{let t;return t=i?d:o?h:A.route.Component?r.createElement(A.route.Component,null):A.route.element?A.route.element:e,r.createElement(x,{match:A,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(A.route.ErrorBoundary||A.route.errorElement||0===s)?r.createElement(C,{location:n.location,revalidation:n.revalidation,component:d,error:i,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var U=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(U||{}),I=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(I||{});function Q(e){let t=r.useContext(o);return t||(0,s.Oi)(!1),t}function F(e){let t=r.useContext(a);return t||(0,s.Oi)(!1),t}function k(e){let t=function(){let e=r.useContext(u);return e||(0,s.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,s.Oi)(!1),n.route.id}const S={};const T=(e,t,n)=>{};function _(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&T("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&void 0!==t.v7_relativeSplatPath||T("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&T("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&T("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&T("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&T("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}(A||(A=n.t(r,2))).startTransition;function N(e){let{to:t,replace:n,state:A,relative:i}=e;f()||(0,s.Oi)(!1);let{future:o,static:a}=r.useContext(l),{matches:c}=r.useContext(u),{pathname:d}=g(),h=m(),p=(0,s.Gh)(t,(0,s.yD)(c,o.v7_relativeSplatPath),d,"path"===i),w=JSON.stringify(p);return r.useEffect(()=>h(JSON.parse(w),{replace:n,state:A,relative:i}),[h,w,i,n,A]),null}function D(e){(0,s.Oi)(!1)}function L(e){let{basename:t="/",children:n=null,location:A,navigationType:o=s.rc.Pop,navigator:a,static:u=!1,future:d}=e;f()&&(0,s.Oi)(!1);let h=t.replace(/^\/*/,"/"),g=r.useMemo(()=>({basename:h,navigator:a,static:u,future:i({v7_relativeSplatPath:!1},d)}),[h,d,a,u]);"string"===typeof A&&(A=(0,s.Rr)(A));let{pathname:p="/",search:m="",hash:w="",state:y=null,key:B="default"}=A,v=r.useMemo(()=>{let e=(0,s.pb)(p,h);return null==e?null:{location:{pathname:e,search:m,hash:w,state:y,key:B},navigationType:o}},[h,p,m,w,y,B,o]);return null==v?null:r.createElement(l.Provider,{value:g},r.createElement(c.Provider,{children:n,value:v}))}function H(e){let{children:t,location:n}=e;return B(O(t),n)}new Promise(()=>{});r.Component;function O(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,A)=>{if(!r.isValidElement(e))return;let i=[...t,A];if(e.type===r.Fragment)return void n.push.apply(n,O(e.props.children,i));e.type!==D&&(0,s.Oi)(!1),e.props.index&&e.props.children&&(0,s.Oi)(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=O(e.props.children,i)),n.push(o)}),n}},3889:(e,t,n)=>{"use strict";n.d(t,{D:()=>i,L:()=>o});var A=n(5043),r=n(579);const s=(0,A.createContext)(),i=()=>{const e=(0,A.useContext)(s);if(!e)throw new Error("useDarkMode must be used within DarkModeProvider");return e},o=e=>{let{children:t}=e;const[n,i]=(0,A.useState)(()=>{const e=localStorage.getItem("darkMode");return!!e&&JSON.parse(e)});(0,A.useEffect)(()=>{localStorage.setItem("darkMode",JSON.stringify(n)),n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);return(0,r.jsx)(s.Provider,{value:{isDark:n,toggle:()=>i(!n)},children:t})}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),A=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,p={};function m(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}function w(){}function y(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=m.prototype;var B=y.prototype=new w;B.constructor=y,g(B,m.prototype),B.isPureReactComponent=!0;var v=Array.isArray,b=Object.prototype.hasOwnProperty,C={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,A){var r,s={},i=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(1===a)s.children=A;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===s[r]&&(s[r]=a[r]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:C.current}}function U(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function Q(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function F(e,t,r,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case n:case A:a=!0}}if(a)return i=i(a=e),e=""===s?"."+Q(a,0):s,v(i)?(r="",null!=e&&(r=e.replace(I,"$&/")+"/"),F(i,t,r,"",function(e){return e})):null!=i&&(U(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(I,"$&/")+"/")+e)),t.push(i)),1;if(a=0,s=""===s?".":s+":",v(e))for(var l=0;l<e.length;l++){var c=s+Q(o=e[l],l);a+=F(o,t,r,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(o=e.next()).done;)a+=F(o=o.value,t,r,c=s+Q(o,l++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function k(e,t,n){if(null==e)return e;var A=[],r=0;return F(e,A,"","",function(e){return t.call(n,e,r++)}),A}function S(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},_={transition:null},N={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:_,ReactCurrentOwner:C};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:k,forEach:function(e,t,n){k(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return k(e,function(){t++}),t},toArray:function(e){return k(e,function(e){return e})||[]},only:function(e){if(!U(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=r,t.Profiler=i,t.PureComponent=y,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=D,t.cloneElement=function(e,t,A){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=A;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:n,type:e.type,key:s,ref:i,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=U,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.transition;_.transition={};try{e()}finally{_.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var A=n(7950);t.createRoot=A.createRoot,t.hydrateRoot=A.hydrateRoot},4428:(e,t,n)=>{"use strict";n.d(t,{As:()=>o,ak:()=>w,ds:()=>m,rC:()=>f,uH:()=>h,zp:()=>g});var A=n(2555),r=n(7400),s=n(5472);const i=864e5,o=async(e,t)=>{try{const n={alertResponse:0,storyEngagement:0,featuredCircle:0,recency:0},[A,r,s,i]=await Promise.all([a(e,t),l(e,t),c(e,t),u(e,t)]);n.alertResponse=A,n.storyEngagement=r,n.featuredCircle=s,n.recency=i;const o=Math.round(n.alertResponse+n.storyEngagement+n.featuredCircle+n.recency);return{total:Math.min(100,o),breakdown:n,level:d(o)}}catch(n){return console.error("Error calculating connection energy:",n),{total:0,breakdown:{},level:"spark"}}},a=async(e,t)=>{try{const n=(0,s.P)((0,s.rJ)(r.db,"alert_responses"),(0,s._M)("userId","==",e),(0,s._M)("responderId","==",t)),A=await(0,s.GG)(n);if(A.empty)return 0;const i=A.docs.map(e=>e.data()),o=i.reduce((e,t)=>e+t.responseTime,0)/i.length/60;let a=0;a=o<5?35:o<15?30:o<30?25:o<60?18:o<180?10:5;return a+Math.min(15,2*i.length)}catch(n){return console.error("Error calculating alert response score:",n),0}},l=async(e,t)=>0,c=async(e,t)=>{try{const[n,A]=await Promise.all([(0,s.x7)((0,s.H9)(r.db,"users",e)),(0,s.x7)((0,s.H9)(r.db,"users",t))]),i=n.exists()&&n.data().featuredCircle||[],o=A.exists()&&A.data().featuredCircle||[],a=i.includes(t),l=o.includes(e);return a&&l?15:a?9:l?8:0}catch(n){return console.error("Error calculating featured circle score:",n),0}},u=async(e,t)=>{try{const n=(0,s.P)((0,s.rJ)(r.db,"interactions"),(0,s._M)("userId","==",e),(0,s._M)("bestieId","==",t),(0,s.My)("createdAt","desc"),(0,s.AB)(1)),A=await(0,s.GG)(n),o=(0,s.P)((0,s.rJ)(r.db,"interactions"),(0,s._M)("userId","==",t),(0,s._M)("bestieId","==",e),(0,s.My)("createdAt","desc"),(0,s.AB)(1)),a=await(0,s.GG)(o);let l=null;if(A.empty||(l=A.docs[0].data().createdAt),!a.empty){const e=a.docs[0].data().createdAt;(!l||e.toMillis()>l.toMillis())&&(l=e)}if(!l)return 0;const c=(Date.now()-l.toMillis())/i;return c<1?10:c<3?8:c<7?6:c<14?4:c<30?2:0}catch(n){return console.error("Error calculating recency score:",n),0}},d=e=>e>=90?"unbreakable":e>=70?"powerful":e>=50?"strong":e>=30?"growing":"spark",h=e=>e>=90?"#10b981":e>=70?"#3b82f6":e>=50?"#8b5cf6":e>=30?"#f59e0b":"#ec4899",f=e=>e>=90?"\ud83d\udd25":e>=70?"\u26a1":e>=50?"\ud83d\udcaa":e>=30?"\ud83d\udd06":"\ud83c\udf31",g=async e=>{try{const t=await(0,s.x7)((0,s.H9)(r.db,"users",e));if(!t.exists())return{score:0,insights:[]};const n=t.data().featuredCircle||[];if(0===n.length)return{score:0,insights:["Add besties to your circle to start building connections"]};const i=n.map(t=>o(e,t).then(e=>(0,A.A)((0,A.A)({},e),{},{id:t}))),a=await Promise.all(i),l=a.reduce((e,t)=>e+t.total,0)/a.length;let c=l;n.length<5&&(c*=n.length/5);const u=p(e,a,n);return{score:Math.round(c),avgConnectionStrength:Math.round(l),circleSize:n.length,connections:a,insights:u}}catch(t){return console.error("Error calculating circle health:",t),{score:0,insights:["Error calculating circle health"]}}},p=(e,t,n)=>{const A=[],r=t.filter(e=>e.total<30);r.length>0&&A.push({type:"tip",message:"".concat(r.length," connection").concat(r.length>1?"s are":" is"," just getting started - keep building!"),action:"reach_out"}),n.length<5&&A.push({type:"info",message:"Add ".concat(5-n.length," more ").concat(4===n.length?"bestie":"besties"," to unlock full circle power"),action:"add_besties"});const s=t.filter(e=>e.breakdown.recency<4);return s.length>0&&A.push({type:"tip",message:"".concat(s.length," connection").concat(s.length>1?"s could":" could"," use some love - reach out today!"),action:"post_story"}),t.every(e=>e.total>=70)&&5===n.length&&A.push({type:"success",message:"Your circle is unstoppable! This is what real connection looks like \ud83d\udd25",action:null}),A},m=async(e,t)=>{try{const n=(0,s.P)((0,s.rJ)(r.db,"interactions"),(0,s._M)("userId","==",e),(0,s._M)("bestieId","==",t),(0,s.My)("createdAt","desc"),(0,s.AB)(1)),A=await(0,s.GG)(n);if(!A.empty)return A.docs[0].data().createdAt;const i=(0,s.P)((0,s.rJ)(r.db,"checkins"),(0,s._M)("userId","==",e),(0,s._M)("bestieIds","array-contains",t),(0,s.My)("createdAt","desc"),(0,s.AB)(1)),o=await(0,s.GG)(i);return o.empty?null:o.docs[0].data().createdAt}catch(n){return console.error("Error getting last interaction:",n),null}},w=e=>{if(!e)return"Never";const t=Date.now()-e.toMillis(),n=Math.floor(t/6e4),A=Math.floor(t/36e5),r=Math.floor(t/i);return n<1?"Just now":n<60?"".concat(n,"m ago"):A<24?"".concat(A,"h ago"):1===r?"Yesterday":r<7?"".concat(r,"d ago"):r<30?"".concat(Math.floor(r/7),"w ago"):r<365?"".concat(Math.floor(r/30),"mo ago"):"".concat(Math.floor(r/365),"y ago")}},4505:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s});var A=n(7400),r=n(626);const s={extendCheckIn:(0,r.Qg)(A.Cn,"extendCheckIn"),completeCheckIn:(0,r.Qg)(A.Cn,"completeCheckIn"),sendBestieInvite:(0,r.Qg)(A.Cn,"sendBestieInvite"),acceptBestieRequest:(0,r.Qg)(A.Cn,"acceptBestieRequest"),declineBestieRequest:(0,r.Qg)(A.Cn,"declineBestieRequest"),triggerEmergencySOS:(0,r.Qg)(A.Cn,"triggerEmergencySOS"),createCheckoutSession:(0,r.Qg)(A.Cn,"createCheckoutSession"),createPortalSession:(0,r.Qg)(A.Cn,"createPortalSession"),sendTestAlert:(0,r.Qg)(A.Cn,"sendTestAlert"),migratePhoneNumbers:(0,r.Qg)(A.Cn,"migratePhoneNumbers")}},4528:(e,t,n)=>{"use strict";n.d(t,{As:()=>u,OJ:()=>d});var A=n(2555),r=n(5043),s=n(7400),i=n(5472),o=n(2339),a=n(1182),l=n(579);const c=(0,r.createContext)(),u=()=>{const e=(0,r.useContext)(c);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},d=e=>{let{children:t}=e;const[n,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(null),[f,g]=(0,r.useState)(!0),p=(0,r.useRef)(null);return(0,r.useEffect)(()=>{const e=new URLSearchParams(window.location.search).get("invite");if(e){sessionStorage.setItem("pending_invite",e),localStorage.setItem("pending_invite",e);(async()=>{try{const t=(0,i.H9)(s.db,"users",e),n=await(0,i.x7)(t);if(n.exists()){const t=n.data(),A=JSON.stringify({uid:e,displayName:t.displayName,photoURL:t.photoURL});sessionStorage.setItem("inviter_info",A),localStorage.setItem("inviter_info",A)}}catch(t){console.log("Could not fetch inviter info (this is normal):",t.code)}})();const t=window.location.pathname;window.history.replaceState({},"",t)}},[]),(0,r.useEffect)(()=>{const e=s.j2.onAuthStateChanged(async e=>{if(u(e),e){a.A.setUser(e.uid);const n=(0,i.H9)(s.db,"users",e.uid),r=await(0,i.x7)(n),l=!r.exists();if(l)await(0,i.BN)(n,{displayName:e.displayName||"New User",email:e.email,phoneNumber:e.phoneNumber||null,photoURL:e.photoURL||null,stats:{joinedAt:i.Dc.now(),totalCheckIns:0,completedCheckIns:0,alertedCheckIns:0,totalBesties:0},notificationPreferences:{whatsapp:!1,email:!0},notificationsEnabled:!1,smsSubscription:{active:!1},lastActive:i.Dc.now(),onboardingCompleted:!1});else{const e={lastActive:i.Dc.now()};void 0===r.data().onboardingCompleted&&(e.onboardingCompleted=!0),r.data().notifications&&!r.data().notificationPreferences&&(e.notificationPreferences=r.data().notifications),void 0===r.data().notificationsEnabled&&(e.notificationsEnabled=!!r.data().fcmToken),await(0,i.mZ)(n,e)}const c=sessionStorage.getItem("pending_invite")||localStorage.getItem("pending_invite");if(c&&(console.log("\ud83d\udce8 Found pending invite, processing..."),await(async(e,t)=>{if(e&&t&&t!==e.uid){console.log("\ud83d\udd04 Processing invite for user:",e.uid,"from inviter:",t);try{const r=(0,i.H9)(s.db,"users",e.uid),o=await(0,i.x7)(r),a=o.exists()?o.data():{},l=sessionStorage.getItem("inviter_info")||localStorage.getItem("inviter_info");let c="Your Bestie",u=null;if(l)try{const e=JSON.parse(l);c=e.displayName||"Your Bestie",u=e.photoURL}catch(n){console.log("Could not parse cached inviter info")}const d=[(0,i.P)((0,i.rJ)(s.db,"besties"),(0,i._M)("requesterId","==",t),(0,i._M)("recipientId","==",e.uid)),(0,i.P)((0,i.rJ)(s.db,"besties"),(0,i._M)("requesterId","==",e.uid),(0,i._M)("recipientId","==",t)),(0,i.P)((0,i.rJ)(s.db,"besties"),(0,i._M)("requesterId","==",t),(0,i._M)("recipientPhone","==",e.phoneNumber||e.email))];let h=!1;for(let t of d){const n=await(0,i.GG)(t);if(!n.empty){const t=n.docs[0];await(0,i.mZ)((0,i.H9)(s.db,"besties",t.id),{status:"accepted",acceptedAt:i.Dc.now(),recipientId:e.uid,recipientName:a.displayName||e.displayName||"Unknown",recipientPhone:e.phoneNumber||a.phoneNumber||e.email,recipientPhotoURL:a.photoURL||e.photoURL||null}),h=!0;break}}h?console.log("\u2705 Updated existing bestie connection"):(console.log("\u2728 Creating new bestie connection"),await(0,i.gS)((0,i.rJ)(s.db,"besties"),{requesterId:t,recipientId:e.uid,status:"accepted",acceptedAt:i.Dc.now(),createdAt:i.Dc.now(),requesterName:c,requesterPhotoURL:u,recipientName:a.displayName||e.displayName||"Unknown",recipientPhone:e.phoneNumber||a.phoneNumber||e.email,recipientPhotoURL:a.photoURL||e.photoURL||null}),console.log("\u2705 Bestie connection created"));try{console.log("\ud83d\udd04 Updating featured circles and bestie lists");const e=a.featuredCircle||[],n=a.bestieUserIds||[],A={};n.includes(t)||(A.bestieUserIds=[...n,t]),!e.includes(t)&&e.length<5&&(A.featuredCircle=[...e,t]),Object.keys(A).length>0&&(await(0,i.mZ)(r,A),console.log("\u2705 Updated current user document"));const o=(0,i.H9)(s.db,"users",t),l=await(0,i.x7)(o);if(l.exists()){const e=l.data();e.displayName&&e.displayName!==c&&(c=e.displayName,u=e.photoURL||u,console.log("\u2705 Got real inviter name:",c))}}catch(A){console.error("Failed to update user documents:",A)}try{console.log("\ud83c\udf89 Creating celebration documents with real names"),await(0,i.gS)((0,i.rJ)(s.db,"bestie_celebrations"),{userId:e.uid,bestieId:t,bestieName:c,bestiePhotoURL:u,seen:!1,createdAt:i.Dc.now()}),await(0,i.gS)((0,i.rJ)(s.db,"bestie_celebrations"),{userId:t,bestieId:e.uid,bestieName:a.displayName||e.displayName||"Someone",bestiePhotoURL:a.photoURL||e.photoURL||null,seen:!1,createdAt:i.Dc.now()}),console.log("\u2705 Celebrations created with names:",c,"and",a.displayName||e.displayName)}catch(A){console.error("Failed to create celebration documents:",A)}sessionStorage.removeItem("pending_invite"),localStorage.removeItem("pending_invite")}catch(A){console.error("Auto-add bestie failed:",A),sessionStorage.removeItem("pending_invite"),localStorage.removeItem("pending_invite")}}})(e,c),console.log("\u2705 Invite processing complete"),!l)){const e=sessionStorage.getItem("inviter_info")||localStorage.getItem("inviter_info");if(e){try{const{displayName:t}=JSON.parse(e);o.Ay.success("You're now besties with ".concat(t,"! \ud83d\udc9c"),{duration:5e3})}catch(t){console.error("Failed to parse inviter info:",t)}sessionStorage.removeItem("inviter_info"),localStorage.removeItem("inviter_info")}}p.current&&p.current(),p.current=(0,i.aQ)(n,t=>{if(t.exists()){const e=(0,A.A)({id:t.id},t.data());h(e)}else console.error("\u274c User document does not exist at path:","users/".concat(e.uid));g(!1)},e=>{console.error("\u274c Firestore listener error:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),g(!1)})}else p.current&&(p.current(),p.current=null),a.A.setUser(null),h(null),g(!1)});return()=>{e(),p.current&&p.current()}},[]),(0,l.jsx)(c.Provider,{value:{currentUser:n,userData:d,loading:f},children:t})}},4774:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var A=n(9119);function r(e){const t=(0,A.a)(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function A(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(A.prototype=n.prototype,new A)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,A=arguments.length;n<A;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};function A(e,t,n,A){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,s){function i(e){try{a(A.next(e))}catch(Ht){s(Ht)}}function o(e){try{a(A.throw(e))}catch(Ht){s(Ht)}}function a(e){e.done?n(e.value):r(e.value).then(i,o)}a((A=A.apply(e,t||[])).next())})}function r(e,t){var n,A,r,s,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(e){return function(t){return a([e,t])}}function a(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,A&&(r=2&s[0]?A.return:s[0]?A.throw||((r=A.return)&&r.call(A),0):A.next)&&!(r=r.call(A,s[1])).done)return r;switch(A=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,A=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(Ht){s=[6,Ht],A=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function s(e,t,n){if(n||2===arguments.length)for(var A,r=0,s=t.length;r<s;r++)!A&&r in t||(A||(A=Array.prototype.slice.call(t,0,r)),A[r]=t[r]);return e.concat(A||t)}for(var i=function(){function e(e,t,n,A){this.left=e,this.top=t,this.width=n,this.height=A}return e.prototype.add=function(t,n,A,r){return new e(this.left+t,this.top+n,this.width+A,this.height+r)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var A=Array.from(n).find(function(e){return 0!==e.width});return A?new e(A.left+t.windowBounds.left,A.top+t.windowBounds.top,A.width,A.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,t){return i.fromClientRect(e,t.getBoundingClientRect())},a=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var A=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),r=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new i(0,0,A,r)},l=function(e){for(var t=[],n=0,A=e.length;n<A;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<A){var s=e.charCodeAt(n++);56320===(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),n--)}else t.push(r)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var A=[],r=-1,s="";++r<n;){var i=e[r];i<=65535?A.push(i):(i-=65536,A.push(55296+(i>>10),i%1024+56320)),(r+1===n||A.length>16384)&&(s+=String.fromCharCode.apply(String,A),A.length=0)}return s},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<u.length;h++)d[u.charCodeAt(h)]=h;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g="undefined"===typeof Uint8Array?[]:new Uint8Array(256),p=0;p<f.length;p++)g[f.charCodeAt(p)]=p;for(var m=function(e){var t,n,A,r,s,i=.75*e.length,o=e.length,a=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)n=g[e.charCodeAt(t)],A=g[e.charCodeAt(t+1)],r=g[e.charCodeAt(t+2)],s=g[e.charCodeAt(t+3)],c[a++]=n<<2|A>>4,c[a++]=(15&A)<<4|r>>2,c[a++]=(3&r)<<6|63&s;return l},w=function(e){for(var t=e.length,n=[],A=0;A<t;A+=2)n.push(e[A+1]<<8|e[A]);return n},y=function(e){for(var t=e.length,n=[],A=0;A<t;A+=4)n.push(e[A+3]<<24|e[A+2]<<16|e[A+1]<<8|e[A]);return n},B=5,v=11,b=2,C=65536>>B,x=(1<<B)-1,E=C+(1024>>B)+32,U=65536>>v,I=(1<<v-B)-1,Q=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},F=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},k=function(e,t){var n=m(e),A=Array.isArray(n)?y(n):new Uint32Array(n),r=Array.isArray(n)?w(n):new Uint16Array(n),s=24,i=Q(r,s/2,A[4]/2),o=2===A[5]?Q(r,(s+A[4])/2):F(A,Math.ceil((s+A[4])/4));return new S(A[0],A[1],A[2],A[3],i,o)},S=function(){function e(e,t,n,A,r,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=A,this.index=r,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>B])<<b)+(e&x),this.data[t];if(e<=65535)return t=((t=this.index[C+(e-55296>>B)])<<b)+(e&x),this.data[t];if(e<this.highStart)return t=E-U+(e>>v),t=this.index[t],t+=e>>B&I,t=((t=this.index[t])<<b)+(e&x),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_="undefined"===typeof Uint8Array?[]:new Uint8Array(256),N=0;N<T.length;N++)_[T.charCodeAt(N)]=N;var D=50,L=1,H=2,O=3,P=4,R=5,M=7,j=8,K=9,V=10,G=11,z=12,W=13,q=14,J=15,X=16,Y=17,Z=18,$=19,ee=20,te=21,ne=22,Ae=23,re=24,se=25,ie=26,oe=27,ae=28,le=29,ce=30,ue=31,de=32,he=33,fe=34,ge=35,pe=36,me=37,we=38,ye=39,Be=40,ve=41,be=42,Ce=43,xe=[9001,65288],Ee="!",Ue="\xd7",Ie="\xf7",Qe=k("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Fe=[ce,pe],ke=[L,H,O,R],Se=[V,j],Te=[oe,ie],_e=ke.concat(Se),Ne=[we,ye,Be,fe,ge],De=[J,W],Le=function(e,t){void 0===t&&(t="strict");var n=[],A=[],r=[];return e.forEach(function(e,s){var i=Qe.get(e);if(i>D?(r.push(!0),i-=D):r.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return A.push(s),n.push(X);if(i===P||i===G){if(0===s)return A.push(s),n.push(ce);var o=n[s-1];return-1===_e.indexOf(o)?(A.push(A[s-1]),n.push(o)):(A.push(s),n.push(ce))}return A.push(s),i===ue?n.push("strict"===t?te:me):i===be||i===le?n.push(ce):i===Ce?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(ce):void n.push(i)}),[A,n,r]},He=function(e,t,n,A){var r=A[n];if(Array.isArray(e)?-1!==e.indexOf(r):e===r)for(var s=n;s<=A.length;){if((a=A[++s])===t)return!0;if(a!==V)break}if(r===V)for(s=n;s>0;){var i=A[--s];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=A.length;){var a;if((a=A[++o])===t)return!0;if(a!==V)break}if(i!==V)break}return!1},Oe=function(e,t){for(var n=e;n>=0;){var A=t[n];if(A!==V)return A;n--}return 0},Pe=function(e,t,n,A,r){if(0===n[A])return Ue;var s=A-1;if(Array.isArray(r)&&!0===r[s])return Ue;var i=s-1,o=s+1,a=t[s],l=i>=0?t[i]:0,c=t[o];if(a===H&&c===O)return Ue;if(-1!==ke.indexOf(a))return Ee;if(-1!==ke.indexOf(c))return Ue;if(-1!==Se.indexOf(c))return Ue;if(Oe(s,t)===j)return Ie;if(Qe.get(e[s])===G)return Ue;if((a===de||a===he)&&Qe.get(e[o])===G)return Ue;if(a===M||c===M)return Ue;if(a===K)return Ue;if(-1===[V,W,J].indexOf(a)&&c===K)return Ue;if(-1!==[Y,Z,$,re,ae].indexOf(c))return Ue;if(Oe(s,t)===ne)return Ue;if(He(Ae,ne,s,t))return Ue;if(He([Y,Z],te,s,t))return Ue;if(He(z,z,s,t))return Ue;if(a===V)return Ie;if(a===Ae||c===Ae)return Ue;if(c===X||a===X)return Ie;if(-1!==[W,J,te].indexOf(c)||a===q)return Ue;if(l===pe&&-1!==De.indexOf(a))return Ue;if(a===ae&&c===pe)return Ue;if(c===ee)return Ue;if(-1!==Fe.indexOf(c)&&a===se||-1!==Fe.indexOf(a)&&c===se)return Ue;if(a===oe&&-1!==[me,de,he].indexOf(c)||-1!==[me,de,he].indexOf(a)&&c===ie)return Ue;if(-1!==Fe.indexOf(a)&&-1!==Te.indexOf(c)||-1!==Te.indexOf(a)&&-1!==Fe.indexOf(c))return Ue;if(-1!==[oe,ie].indexOf(a)&&(c===se||-1!==[ne,J].indexOf(c)&&t[o+1]===se)||-1!==[ne,J].indexOf(a)&&c===se||a===se&&-1!==[se,ae,re].indexOf(c))return Ue;if(-1!==[se,ae,re,Y,Z].indexOf(c))for(var u=s;u>=0;){if((d=t[u])===se)return Ue;if(-1===[ae,re].indexOf(d))break;u--}if(-1!==[oe,ie].indexOf(c))for(u=-1!==[Y,Z].indexOf(a)?i:s;u>=0;){var d;if((d=t[u])===se)return Ue;if(-1===[ae,re].indexOf(d))break;u--}if(we===a&&-1!==[we,ye,fe,ge].indexOf(c)||-1!==[ye,fe].indexOf(a)&&-1!==[ye,Be].indexOf(c)||-1!==[Be,ge].indexOf(a)&&c===Be)return Ue;if(-1!==Ne.indexOf(a)&&-1!==[ee,ie].indexOf(c)||-1!==Ne.indexOf(c)&&a===oe)return Ue;if(-1!==Fe.indexOf(a)&&-1!==Fe.indexOf(c))return Ue;if(a===re&&-1!==Fe.indexOf(c))return Ue;if(-1!==Fe.concat(se).indexOf(a)&&c===ne&&-1===xe.indexOf(e[o])||-1!==Fe.concat(se).indexOf(c)&&a===Z)return Ue;if(a===ve&&c===ve){for(var h=n[s],f=1;h>0&&t[--h]===ve;)f++;if(f%2!==0)return Ue}return a===de&&c===he?Ue:Ie},Re=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Le(e,t.lineBreak),A=n[0],r=n[1],s=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(r=r.map(function(e){return-1!==[se,ce,be].indexOf(e)?me:e}));var i="keep-all"===t.wordBreak?s.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0;return[A,r,i]},Me=function(){function e(e,t,n,A){this.codePoints=e,this.required=t===Ee,this.start=n,this.end=A}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),je=function(e,t){var n=l(e),A=Re(n,t),r=A[0],s=A[1],i=A[2],o=n.length,a=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var e=Ue;c<o&&(e=Pe(n,s,r,++c,i))===Ue;);if(e!==Ue||c===o){var t=new Me(n,e,a,c);return a=c,{value:t,done:!1}}return{done:!0,value:null}}}},Ke=1,Ve=2,Ge=4,ze=8,We=10,qe=47,Je=92,Xe=9,Ye=32,Ze=34,$e=61,et=35,tt=36,nt=37,At=39,rt=40,st=41,it=95,ot=45,at=33,lt=60,ct=62,ut=64,dt=91,ht=93,ft=61,gt=123,pt=63,mt=125,wt=124,yt=126,Bt=128,vt=65533,bt=42,Ct=43,xt=44,Et=58,Ut=59,It=46,Qt=0,Ft=8,kt=11,St=14,Tt=31,_t=127,Nt=-1,Dt=48,Lt=97,Ht=101,Ot=102,Pt=117,Rt=122,Mt=65,jt=69,Kt=70,Vt=85,Gt=90,zt=function(e){return e>=Dt&&e<=57},Wt=function(e){return e>=55296&&e<=57343},qt=function(e){return zt(e)||e>=Mt&&e<=Kt||e>=Lt&&e<=Ot},Jt=function(e){return e>=Lt&&e<=Rt},Xt=function(e){return e>=Mt&&e<=Gt},Yt=function(e){return Jt(e)||Xt(e)},Zt=function(e){return e>=Bt},$t=function(e){return e===We||e===Xe||e===Ye},en=function(e){return Yt(e)||Zt(e)||e===it},tn=function(e){return en(e)||zt(e)||e===ot},nn=function(e){return e>=Qt&&e<=Ft||e===kt||e>=St&&e<=Tt||e===_t},An=function(e,t){return e===Je&&t!==We},rn=function(e,t,n){return e===ot?en(t)||An(t,n):!!en(e)||!(e!==Je||!An(e,t))},sn=function(e,t,n){return e===Ct||e===ot?!!zt(t)||t===It&&zt(n):zt(e===It?t:e)},on=function(e){var t=0,n=1;e[t]!==Ct&&e[t]!==ot||(e[t]===ot&&(n=-1),t++);for(var A=[];zt(e[t]);)A.push(e[t++]);var r=A.length?parseInt(c.apply(void 0,A),10):0;e[t]===It&&t++;for(var s=[];zt(e[t]);)s.push(e[t++]);var i=s.length,o=i?parseInt(c.apply(void 0,s),10):0;e[t]!==jt&&e[t]!==Ht||t++;var a=1;e[t]!==Ct&&e[t]!==ot||(e[t]===ot&&(a=-1),t++);for(var l=[];zt(e[t]);)l.push(e[t++]);var u=l.length?parseInt(c.apply(void 0,l),10):0;return n*(r+o*Math.pow(10,-i))*Math.pow(10,a*u)},an={type:2},ln={type:3},cn={type:4},un={type:13},dn={type:8},hn={type:21},fn={type:9},gn={type:10},pn={type:11},mn={type:12},wn={type:14},yn={type:23},Bn={type:1},vn={type:25},bn={type:24},Cn={type:26},xn={type:27},En={type:28},Un={type:29},In={type:31},Qn={type:32},Fn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Qn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),A=this.peekCodePoint(2);if(tn(t)||An(n,A)){var r=rn(t,n,A)?Ve:Ke;return{type:5,value:this.consumeName(),flags:r}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),un;break;case At:return this.consumeStringToken(At);case rt:return an;case st:return ln;case bt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),wn;break;case Ct:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case xt:return cn;case ot:var s=e,i=this.peekCodePoint(0),o=this.peekCodePoint(1);if(sn(s,i,o))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(rn(s,i,o))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(i===ot&&o===ct)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case It:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case qe:if(this.peekCodePoint(0)===bt)for(this.consumeCodePoint();;){var a=this.consumeCodePoint();if(a===bt&&(a=this.consumeCodePoint())===qe)return this.consumeToken();if(a===Nt)return this.consumeToken()}break;case Et:return Cn;case Ut:return xn;case lt:if(this.peekCodePoint(0)===at&&this.peekCodePoint(1)===ot&&this.peekCodePoint(2)===ot)return this.consumeCodePoint(),this.consumeCodePoint(),vn;break;case ut:var l=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(rn(l,u,d))return{type:7,value:this.consumeName()};break;case dt:return En;case Je:if(An(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return Un;case ft:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),dn;break;case gt:return pn;case mt:return mn;case Pt:case Vt:var h=this.peekCodePoint(0),f=this.peekCodePoint(1);return h!==Ct||!qt(f)&&f!==pt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case wt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),fn;if(this.peekCodePoint(0)===wt)return this.consumeCodePoint(),hn;break;case yt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),gn;break;case Nt:return Qn}return $t(e)?(this.consumeWhiteSpace(),In):zt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();qt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===pt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map(function(e){return e===pt?Dt:e})),16),end:parseInt(c.apply(void 0,e.map(function(e){return e===pt?Kt:e})),16)};var A=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===ot&&qt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var r=[];qt(t)&&r.length<6;)r.push(t),t=this.consumeCodePoint();return{type:30,start:A,end:parseInt(c.apply(void 0,r),16)}}return{type:30,start:A,end:A}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===rt?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===rt?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Nt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===At||t===Ze){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Nt||this.peekCodePoint(0)===st)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yn)}for(;;){var A=this.consumeCodePoint();if(A===Nt||A===st)return{type:22,value:c.apply(void 0,e)};if($t(A))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Nt||this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yn);if(A===Ze||A===At||A===rt||nn(A))return this.consumeBadUrlRemnants(),yn;if(A===Je){if(!An(A,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yn;e.push(this.consumeEscapedCodePoint())}else e.push(A)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===st||e===Nt)return;An(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var A=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,A)),e-=A}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var A=this._value[n];if(A===Nt||void 0===A||A===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(A===We)return this._value.splice(0,n),Bn;if(A===Je){var r=this._value[n+1];r!==Nt&&void 0!==r&&(r===We?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):An(A,r)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=Ge,n=this.peekCodePoint(0);for(n!==Ct&&n!==ot||e.push(this.consumeCodePoint());zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var A=this.peekCodePoint(1);if(n===It&&zt(A))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),A=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((n===jt||n===Ht)&&((A===Ct||A===ot)&&zt(r)||zt(A)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[on(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],A=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);return rn(A,r,s)?{type:15,number:t,flags:n,unit:this.consumeName()}:A===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(qt(e)){for(var t=c(e);qt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Wt(n)||n>1114111?vt:n}return e===Nt?vt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=c(t);else{if(!An(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),kn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Fn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Pn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?Qn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Sn=function(e){return 15===e.type},Tn=function(e){return 17===e.type},_n=function(e){return 20===e.type},Nn=function(e){return 0===e.type},Dn=function(e,t){return _n(e)&&e.value===t},Ln=function(e){return 31!==e.type},Hn=function(e){return 31!==e.type&&4!==e.type},On=function(e){var t=[],n=[];return e.forEach(function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)}),n.length&&t.push(n),t},Pn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Rn=function(e){return 17===e.type||15===e.type},Mn=function(e){return 16===e.type||Rn(e)},jn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Kn={type:17,number:0,flags:Ge},Vn={type:16,number:50,flags:Ge},Gn={type:16,number:100,flags:Ge},zn=function(e,t,n){var A=e[0],r=e[1];return[Wn(A,t),Wn("undefined"!==typeof r?r:A,n)]},Wn=function(e,t){if(16===e.type)return e.number/100*t;if(Sn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},qn="deg",Jn="grad",Xn="rad",Yn="turn",Zn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case qn:return Math.PI*t.number/180;case Jn:return Math.PI/200*t.number;case Xn:return t.number;case Yn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},$n=function(e){return 15===e.type&&(e.unit===qn||e.unit===Jn||e.unit===Xn||e.unit===Yn)},eA=function(e){switch(e.filter(_n).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kn,Kn];case"to top":case"bottom":return tA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kn,Gn];case"to right":case"left":return tA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Gn,Gn];case"to bottom":case"top":return tA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Gn,Kn];case"to left":case"right":return tA(270)}return 0},tA=function(e){return Math.PI*e/180},nA={name:"color",parse:function(e,t){if(18===t.type){var n=cA[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var A=t.value.substring(0,1),r=t.value.substring(1,2),s=t.value.substring(2,3);return sA(parseInt(A+A,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(4===t.value.length){A=t.value.substring(0,1),r=t.value.substring(1,2),s=t.value.substring(2,3);var i=t.value.substring(3,4);return sA(parseInt(A+A,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(6===t.value.length)return A=t.value.substring(0,2),r=t.value.substring(2,4),s=t.value.substring(4,6),sA(parseInt(A,16),parseInt(r,16),parseInt(s,16),1);if(8===t.value.length)return A=t.value.substring(0,2),r=t.value.substring(2,4),s=t.value.substring(4,6),i=t.value.substring(6,8),sA(parseInt(A,16),parseInt(r,16),parseInt(s,16),parseInt(i,16)/255)}if(20===t.type){var o=dA[t.value.toUpperCase()];if("undefined"!==typeof o)return o}return dA.TRANSPARENT}},AA=function(e){return 0===(255&e)},rA=function(e){var t=255&e,n=255&e>>8,A=255&e>>16,r=255&e>>24;return t<255?"rgba("+r+","+A+","+n+","+t/255+")":"rgb("+r+","+A+","+n+")"},sA=function(e,t,n,A){return(e<<24|t<<16|n<<8|Math.round(255*A))>>>0},iA=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},oA=function(e,t){var n=t.filter(Hn);if(3===n.length){var A=n.map(iA),r=A[0],s=A[1],i=A[2];return sA(r,s,i,1)}if(4===n.length){var o=n.map(iA),a=(r=o[0],s=o[1],i=o[2],o[3]);return sA(r,s,i,a)}return 0};function aA(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var lA=function(e,t){var n=t.filter(Hn),A=n[0],r=n[1],s=n[2],i=n[3],o=(17===A.type?tA(A.number):Zn.parse(e,A))/(2*Math.PI),a=Mn(r)?r.number/100:0,l=Mn(s)?s.number/100:0,c="undefined"!==typeof i&&Mn(i)?Wn(i,1):1;if(0===a)return sA(255*l,255*l,255*l,1);var u=l<=.5?l*(a+1):l+a-l*a,d=2*l-u,h=aA(d,u,o+1/3),f=aA(d,u,o),g=aA(d,u,o-1/3);return sA(255*h,255*f,255*g,c)},cA={hsl:lA,hsla:lA,rgb:oA,rgba:oA},uA=function(e,t){return nA.parse(e,kn.create(t).parseComponentValue())},dA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hA={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(_n(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fA={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gA=function(e,t){var n=nA.parse(e,t[0]),A=t[1];return A&&Mn(A)?{color:n,stop:A}:{color:n,stop:null}},pA=function(e,t){var n=e[0],A=e[e.length-1];null===n.stop&&(n.stop=Kn),null===A.stop&&(A.stop=Gn);for(var r=[],s=0,i=0;i<e.length;i++){var o=e[i].stop;if(null!==o){var a=Wn(o,t);a>s?r.push(a):r.push(s),s=a}else r.push(null)}var l=null;for(i=0;i<r.length;i++){var c=r[i];if(null===c)null===l&&(l=i);else if(null!==l){for(var u=i-l,d=(c-r[l-1])/(u+1),h=1;h<=u;h++)r[l+h-1]=d*h;l=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,r[n]/t),0)}})},mA=function(e,t,n){var A=t/2,r=n/2,s=Wn(e[0],t)-A,i=r-Wn(e[1],n);return(Math.atan2(i,s)+2*Math.PI)%(2*Math.PI)},wA=function(e,t,n){var A="number"===typeof e?e:mA(e,t,n),r=Math.abs(t*Math.sin(A))+Math.abs(n*Math.cos(A)),s=t/2,i=n/2,o=r/2,a=Math.sin(A-Math.PI/2)*o,l=Math.cos(A-Math.PI/2)*o;return[r,s-l,s+l,i-a,i+a]},yA=function(e,t){return Math.sqrt(e*e+t*t)},BA=function(e,t,n,A,r){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var s=t[0],i=t[1],o=yA(n-s,A-i);return(r?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:t,optimumDistance:o}:e},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},vA=function(e,t,n,A,r){var s=0,i=0;switch(e.size){case 0:0===e.shape?s=i=Math.min(Math.abs(t),Math.abs(t-A),Math.abs(n),Math.abs(n-r)):1===e.shape&&(s=Math.min(Math.abs(t),Math.abs(t-A)),i=Math.min(Math.abs(n),Math.abs(n-r)));break;case 2:if(0===e.shape)s=i=Math.min(yA(t,n),yA(t,n-r),yA(t-A,n),yA(t-A,n-r));else if(1===e.shape){var o=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(t),Math.abs(t-A)),a=BA(A,r,t,n,!0),l=a[0],c=a[1];i=o*(s=yA(l-t,(c-n)/o))}break;case 1:0===e.shape?s=i=Math.max(Math.abs(t),Math.abs(t-A),Math.abs(n),Math.abs(n-r)):1===e.shape&&(s=Math.max(Math.abs(t),Math.abs(t-A)),i=Math.max(Math.abs(n),Math.abs(n-r)));break;case 3:if(0===e.shape)s=i=Math.max(yA(t,n),yA(t,n-r),yA(t-A,n),yA(t-A,n-r));else if(1===e.shape){o=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(t),Math.abs(t-A));var u=BA(A,r,t,n,!1);l=u[0],c=u[1],i=o*(s=yA(l-t,(c-n)/o))}}return Array.isArray(e.size)&&(s=Wn(e.size[0],A),i=2===e.size.length?Wn(e.size[1],r):s),[s,i]},bA=function(e,t){var n=tA(180),A=[];return On(t).forEach(function(t,r){if(0===r){var s=t[0];if(20===s.type&&-1!==["top","left","right","bottom"].indexOf(s.value))return void(n=eA(t));if($n(s))return void(n=(Zn.parse(e,s)+tA(270))%tA(360))}var i=gA(e,t);A.push(i)}),{angle:n,stops:A,type:1}},CA="closest-side",xA="farthest-side",EA="closest-corner",UA="farthest-corner",IA="circle",QA="ellipse",FA="cover",kA="contain",SA=function(e,t){var n=0,A=3,r=[],s=[];return On(t).forEach(function(t,i){var o=!0;if(0===i?o=t.reduce(function(e,t){if(_n(t))switch(t.value){case"center":return s.push(Vn),!1;case"top":case"left":return s.push(Kn),!1;case"right":case"bottom":return s.push(Gn),!1}else if(Mn(t)||Rn(t))return s.push(t),!1;return e},o):1===i&&(o=t.reduce(function(e,t){if(_n(t))switch(t.value){case IA:return n=0,!1;case QA:return n=1,!1;case kA:case CA:return A=0,!1;case xA:return A=1,!1;case EA:return A=2,!1;case FA:case UA:return A=3,!1}else if(Rn(t)||Mn(t))return Array.isArray(A)||(A=[]),A.push(t),!1;return e},o)),o){var a=gA(e,t);r.push(a)}}),{size:A,shape:n,stops:r,position:s,type:2}},TA=function(e){return 1===e.type},_A=function(e){return 2===e.type},NA={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var A=HA[t.name];if("undefined"===typeof A)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return A(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function DA(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!HA[e.name])}var LA,HA={"linear-gradient":function(e,t){var n=tA(180),A=[];return On(t).forEach(function(t,r){if(0===r){var s=t[0];if(20===s.type&&"to"===s.value)return void(n=eA(t));if($n(s))return void(n=Zn.parse(e,s))}var i=gA(e,t);A.push(i)}),{angle:n,stops:A,type:1}},"-moz-linear-gradient":bA,"-ms-linear-gradient":bA,"-o-linear-gradient":bA,"-webkit-linear-gradient":bA,"radial-gradient":function(e,t){var n=0,A=3,r=[],s=[];return On(t).forEach(function(t,i){var o=!0;if(0===i){var a=!1;o=t.reduce(function(e,t){if(a)if(_n(t))switch(t.value){case"center":return s.push(Vn),e;case"top":case"left":return s.push(Kn),e;case"right":case"bottom":return s.push(Gn),e}else(Mn(t)||Rn(t))&&s.push(t);else if(_n(t))switch(t.value){case IA:return n=0,!1;case QA:return n=1,!1;case"at":return a=!0,!1;case CA:return A=0,!1;case FA:case xA:return A=1,!1;case kA:case EA:return A=2,!1;case UA:return A=3,!1}else if(Rn(t)||Mn(t))return Array.isArray(A)||(A=[]),A.push(t),!1;return e},o)}if(o){var l=gA(e,t);r.push(l)}}),{size:A,shape:n,stops:r,position:s,type:2}},"-moz-radial-gradient":SA,"-ms-radial-gradient":SA,"-o-radial-gradient":SA,"-webkit-radial-gradient":SA,"-webkit-gradient":function(e,t){var n=tA(180),A=[],r=1,s=0,i=3,o=[];return On(t).forEach(function(t,n){var s=t[0];if(0===n){if(_n(s)&&"linear"===s.value)return void(r=1);if(_n(s)&&"radial"===s.value)return void(r=2)}if(18===s.type)if("from"===s.name){var i=nA.parse(e,s.values[0]);A.push({stop:Kn,color:i})}else if("to"===s.name)i=nA.parse(e,s.values[0]),A.push({stop:Gn,color:i});else if("color-stop"===s.name){var o=s.values.filter(Hn);if(2===o.length){i=nA.parse(e,o[1]);var a=o[0];Tn(a)&&A.push({stop:{type:16,number:100*a.number,flags:a.flags},color:i})}}}),1===r?{angle:(n+tA(180))%tA(360),stops:A,type:r}:{size:i,shape:s,stops:A,position:o,type:r}}},OA={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter(function(e){return Hn(e)&&DA(e)}).map(function(t){return NA.parse(e,t)})}},PA={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(_n(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},RA={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return On(t).map(function(e){return e.filter(Mn)}).map(jn)}},MA={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return On(t).map(function(e){return e.filter(_n).map(function(e){return e.value}).join(" ")}).map(jA)}},jA=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(LA||(LA={}));var KA,VA={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return On(t).map(function(e){return e.filter(GA)})}},GA=function(e){return _n(e)||Mn(e)},zA=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},WA=zA("top"),qA=zA("right"),JA=zA("bottom"),XA=zA("left"),YA=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return jn(t.filter(Mn))}}},ZA=YA("top-left"),$A=YA("top-right"),er=YA("bottom-right"),tr=YA("bottom-left"),nr=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ar=nr("top"),rr=nr("right"),sr=nr("bottom"),ir=nr("left"),or=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Sn(t)?t.number:0}}},ar=or("top"),lr=or("right"),cr=or("bottom"),ur=or("left"),dr={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hr={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},fr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(_n).reduce(function(e,t){return e|gr(t.value)},0)}},gr=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},pr={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mr={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(KA||(KA={}));var wr,yr={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?KA.STRICT:KA.NORMAL}},Br={name:"line-height",initialValue:"normal",prefix:!1,type:4},vr=function(e,t){return _n(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Mn(e)?Wn(e,t):t},br={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:NA.parse(e,t)}},Cr={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},xr={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Er=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Ur=Er("top"),Ir=Er("right"),Qr=Er("bottom"),Fr=Er("left"),kr={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(_n).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Sr={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Tr=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},_r=Tr("top"),Nr=Tr("right"),Dr=Tr("bottom"),Lr=Tr("left"),Hr={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Or={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Pr={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Dn(t[0],"none")?[]:On(t).map(function(t){for(var n={color:dA.TRANSPARENT,offsetX:Kn,offsetY:Kn,blur:Kn},A=0,r=0;r<t.length;r++){var s=t[r];Rn(s)?(0===A?n.offsetX=s:1===A?n.offsetY=s:n.blur=s,A++):n.color=nA.parse(e,s)}return n})}},Rr={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Mr={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=jr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},jr={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),n=t[0],A=t[1];t[2],t[3];var r=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],16===t.length?[n,A,r,s,i,o]:null}},Kr={type:16,number:50,flags:Ge},Vr=[Kr,Kr],Gr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Mn);return 2!==n.length?Vr:[n[0],n[1]]}},zr={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(wr||(wr={}));for(var Wr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return wr.BREAK_ALL;case"keep-all":return wr.KEEP_ALL;default:return wr.NORMAL}}},qr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Tn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Jr={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Xr={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Tn(t)?t.number:1}},Yr={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zr={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(_n).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},$r={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],A=[];return t.forEach(function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:A.push(n.join(" ")),n.length=0}}),n.length&&A.push(n.join(" ")),A.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},es={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ts={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Tn(t)?t.number:_n(t)&&"bold"===t.value?700:400}},ns={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(_n).map(function(e){return e.value})}},As={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},rs=function(e,t){return 0!==(e&t)},ss={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},is={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var A=[],r=t.filter(Ln),s=0;s<r.length;s++){var i=r[s],o=r[s+1];if(20===i.type){var a=o&&Tn(o)?o.number:1;A.push({counter:i.value,increment:a})}}return A}},os={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],A=t.filter(Ln),r=0;r<A.length;r++){var s=A[r],i=A[r+1];if(_n(s)&&"none"!==s.value){var o=i&&Tn(i)?i.number:0;n.push({counter:s.value,reset:o})}}return n}},as={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Sn).map(function(t){return Jr.parse(e,t)})}},ls={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var A=[],r=t.filter(Nn);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var i=r[s].value,o=r[s+1].value;A.push({open:i,close:o})}return A}},cs=function(e,t,n){if(!e)return"";var A=e[Math.min(t,e.length-1)];return A?n?A.open:A.close:""},us={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Dn(t[0],"none")?[]:On(t).map(function(t){for(var n={color:255,offsetX:Kn,offsetY:Kn,blur:Kn,spread:Kn,inset:!1},A=0,r=0;r<t.length;r++){var s=t[r];Dn(s,"inset")?n.inset=!0:Rn(s)?(0===A?n.offsetX=s:1===A?n.offsetY=s:2===A?n.blur=s:n.spread=s,A++):n.color=nA.parse(e,s)}return n})}},ds={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],A=[];return t.filter(_n).forEach(function(e){switch(e.value){case"stroke":A.push(1);break;case"fill":A.push(0);break;case"markers":A.push(2)}}),n.forEach(function(e){-1===A.indexOf(e)&&A.push(e)}),A}},hs={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fs={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Sn(t)?t.number:0}},gs=function(){function e(e,t){var n,A;this.animationDuration=ws(e,as,t.animationDuration),this.backgroundClip=ws(e,hA,t.backgroundClip),this.backgroundColor=ws(e,fA,t.backgroundColor),this.backgroundImage=ws(e,OA,t.backgroundImage),this.backgroundOrigin=ws(e,PA,t.backgroundOrigin),this.backgroundPosition=ws(e,RA,t.backgroundPosition),this.backgroundRepeat=ws(e,MA,t.backgroundRepeat),this.backgroundSize=ws(e,VA,t.backgroundSize),this.borderTopColor=ws(e,WA,t.borderTopColor),this.borderRightColor=ws(e,qA,t.borderRightColor),this.borderBottomColor=ws(e,JA,t.borderBottomColor),this.borderLeftColor=ws(e,XA,t.borderLeftColor),this.borderTopLeftRadius=ws(e,ZA,t.borderTopLeftRadius),this.borderTopRightRadius=ws(e,$A,t.borderTopRightRadius),this.borderBottomRightRadius=ws(e,er,t.borderBottomRightRadius),this.borderBottomLeftRadius=ws(e,tr,t.borderBottomLeftRadius),this.borderTopStyle=ws(e,Ar,t.borderTopStyle),this.borderRightStyle=ws(e,rr,t.borderRightStyle),this.borderBottomStyle=ws(e,sr,t.borderBottomStyle),this.borderLeftStyle=ws(e,ir,t.borderLeftStyle),this.borderTopWidth=ws(e,ar,t.borderTopWidth),this.borderRightWidth=ws(e,lr,t.borderRightWidth),this.borderBottomWidth=ws(e,cr,t.borderBottomWidth),this.borderLeftWidth=ws(e,ur,t.borderLeftWidth),this.boxShadow=ws(e,us,t.boxShadow),this.color=ws(e,dr,t.color),this.direction=ws(e,hr,t.direction),this.display=ws(e,fr,t.display),this.float=ws(e,pr,t.cssFloat),this.fontFamily=ws(e,$r,t.fontFamily),this.fontSize=ws(e,es,t.fontSize),this.fontStyle=ws(e,As,t.fontStyle),this.fontVariant=ws(e,ns,t.fontVariant),this.fontWeight=ws(e,ts,t.fontWeight),this.letterSpacing=ws(e,mr,t.letterSpacing),this.lineBreak=ws(e,yr,t.lineBreak),this.lineHeight=ws(e,Br,t.lineHeight),this.listStyleImage=ws(e,br,t.listStyleImage),this.listStylePosition=ws(e,Cr,t.listStylePosition),this.listStyleType=ws(e,xr,t.listStyleType),this.marginTop=ws(e,Ur,t.marginTop),this.marginRight=ws(e,Ir,t.marginRight),this.marginBottom=ws(e,Qr,t.marginBottom),this.marginLeft=ws(e,Fr,t.marginLeft),this.opacity=ws(e,Xr,t.opacity);var r=ws(e,kr,t.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=ws(e,Sr,t.overflowWrap),this.paddingTop=ws(e,_r,t.paddingTop),this.paddingRight=ws(e,Nr,t.paddingRight),this.paddingBottom=ws(e,Dr,t.paddingBottom),this.paddingLeft=ws(e,Lr,t.paddingLeft),this.paintOrder=ws(e,ds,t.paintOrder),this.position=ws(e,Or,t.position),this.textAlign=ws(e,Hr,t.textAlign),this.textDecorationColor=ws(e,Yr,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=ws(e,Zr,null!==(A=t.textDecorationLine)&&void 0!==A?A:t.textDecoration),this.textShadow=ws(e,Pr,t.textShadow),this.textTransform=ws(e,Rr,t.textTransform),this.transform=ws(e,Mr,t.transform),this.transformOrigin=ws(e,Gr,t.transformOrigin),this.visibility=ws(e,zr,t.visibility),this.webkitTextStrokeColor=ws(e,hs,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=ws(e,fs,t.webkitTextStrokeWidth),this.wordBreak=ws(e,Wr,t.wordBreak),this.zIndex=ws(e,qr,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return AA(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return rs(this.display,4)||rs(this.display,33554432)||rs(this.display,268435456)||rs(this.display,536870912)||rs(this.display,67108864)||rs(this.display,134217728)},e}(),ps=function(){function e(e,t){this.content=ws(e,ss,t.content),this.quotes=ws(e,ls,t.quotes)}return e}(),ms=function(){function e(e,t){this.counterIncrement=ws(e,is,t.counterIncrement),this.counterReset=ws(e,os,t.counterReset)}return e}(),ws=function(e,t,n){var A=new Fn,r=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;A.write(r);var s=new kn(A.read());switch(t.type){case 2:var i=s.parseComponentValue();return t.parse(e,_n(i)?i.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Zn.parse(e,s.parseComponentValue());case"color":return nA.parse(e,s.parseComponentValue());case"image":return NA.parse(e,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Rn(o)?o:Kn;case"length-percentage":var a=s.parseComponentValue();return Mn(a)?a:Kn;case"time":return Jr.parse(e,s.parseComponentValue())}}},ys="data-html2canvas-debug",Bs=function(e){switch(e.getAttribute(ys)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},vs=function(e,t){var n=Bs(e);return 1===n||t===n},bs=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,vs(t,3),this.styles=new gs(e,window.getComputedStyle(t,null)),lo(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),vs(t,4)&&(this.flags|=16)}return e}(),Cs="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",xs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Es="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Us=0;Us<xs.length;Us++)Es[xs.charCodeAt(Us)]=Us;for(var Is=function(e){var t,n,A,r,s,i=.75*e.length,o=e.length,a=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)n=Es[e.charCodeAt(t)],A=Es[e.charCodeAt(t+1)],r=Es[e.charCodeAt(t+2)],s=Es[e.charCodeAt(t+3)],c[a++]=n<<2|A>>4,c[a++]=(15&A)<<4|r>>2,c[a++]=(3&r)<<6|63&s;return l},Qs=function(e){for(var t=e.length,n=[],A=0;A<t;A+=2)n.push(e[A+1]<<8|e[A]);return n},Fs=function(e){for(var t=e.length,n=[],A=0;A<t;A+=4)n.push(e[A+3]<<24|e[A+2]<<16|e[A+1]<<8|e[A]);return n},ks=5,Ss=11,Ts=2,_s=65536>>ks,Ns=(1<<ks)-1,Ds=_s+(1024>>ks)+32,Ls=65536>>Ss,Hs=(1<<Ss-ks)-1,Os=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Ps=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Rs=function(e,t){var n=Is(e),A=Array.isArray(n)?Fs(n):new Uint32Array(n),r=Array.isArray(n)?Qs(n):new Uint16Array(n),s=24,i=Os(r,s/2,A[4]/2),o=2===A[5]?Os(r,(s+A[4])/2):Ps(A,Math.ceil((s+A[4])/4));return new Ms(A[0],A[1],A[2],A[3],i,o)},Ms=function(){function e(e,t,n,A,r,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=A,this.index=r,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>ks])<<Ts)+(e&Ns),this.data[t];if(e<=65535)return t=((t=this.index[_s+(e-55296>>ks)])<<Ts)+(e&Ns),this.data[t];if(e<this.highStart)return t=Ds-Ls+(e>>Ss),t=this.index[t],t+=e>>ks&Hs,t=((t=this.index[t])<<Ts)+(e&Ns),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),js="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ks="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Vs=0;Vs<js.length;Vs++)Ks[js.charCodeAt(Vs)]=Vs;var Gs,zs=1,Ws=2,qs=3,Js=4,Xs=5,Ys=7,Zs=8,$s=9,ei=10,ti=11,ni=12,Ai=13,ri=14,si=15,ii=function(e){for(var t=[],n=0,A=e.length;n<A;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<A){var s=e.charCodeAt(n++);56320===(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),n--)}else t.push(r)}return t},oi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var A=[],r=-1,s="";++r<n;){var i=e[r];i<=65535?A.push(i):(i-=65536,A.push(55296+(i>>10),i%1024+56320)),(r+1===n||A.length>16384)&&(s+=String.fromCharCode.apply(String,A),A.length=0)}return s},ai=Rs(Cs),li="\xd7",ci="\xf7",ui=function(e){return ai.get(e)},di=function(e,t,n){var A=n-2,r=t[A],s=t[n-1],i=t[n];if(s===Ws&&i===qs)return li;if(s===Ws||s===qs||s===Js)return ci;if(i===Ws||i===qs||i===Js)return ci;if(s===Zs&&-1!==[Zs,$s,ti,ni].indexOf(i))return li;if((s===ti||s===$s)&&(i===$s||i===ei))return li;if((s===ni||s===ei)&&i===ei)return li;if(i===Ai||i===Xs)return li;if(i===Ys)return li;if(s===zs)return li;if(s===Ai&&i===ri){for(;r===Xs;)r=t[--A];if(r===ri)return li}if(s===si&&i===si){for(var o=0;r===si;)o++,r=t[--A];if(o%2===0)return li}return ci},hi=function(e){var t=ii(e),n=t.length,A=0,r=0,s=t.map(ui);return{next:function(){if(A>=n)return{done:!0,value:null};for(var e=li;A<n&&(e=di(t,s,++A))===li;);if(e!==li||A===n){var i=oi.apply(null,t.slice(r,A));return r=A,{value:i,done:!1}}return{done:!0,value:null}}}},fi=function(e){for(var t,n=hi(e),A=[];!(t=n.next()).done;)t.value&&A.push(t.value.slice());return A},gi=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var A=e.createElement("boundtest");A.style.height=t+"px",A.style.display="block",e.body.appendChild(A),n.selectNode(A);var r=n.getBoundingClientRect(),s=Math.round(r.height);if(e.body.removeChild(A),s===t)return!0}}return!1},pi=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var A=t.firstChild,r=l(A.data).map(function(e){return c(e)}),s=0,i={},o=r.every(function(e,t){n.setStart(A,s),n.setEnd(A,s+e.length);var r=n.getBoundingClientRect();s+=e.length;var o=r.x>i.x||r.y>i.y;return i=r,0===t||o});return e.body.removeChild(t),o},mi=function(){return"undefined"!==typeof(new Image).crossOrigin},wi=function(){return"string"===typeof(new XMLHttpRequest).responseType},yi=function(e){var t=new Image,n=e.createElement("canvas"),A=n.getContext("2d");if(!A)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{A.drawImage(t,0,0),n.toDataURL()}catch(Ht){return!1}return!0},Bi=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},vi=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var A=t.getContext("2d");if(!A)return Promise.reject(!1);A.fillStyle="rgb(0, 255, 0)",A.fillRect(0,0,n,n);var r=new Image,s=t.toDataURL();r.src=s;var i=bi(n,n,0,0,r);return A.fillStyle="red",A.fillRect(0,0,n,n),Ci(i).then(function(t){A.drawImage(t,0,0);var r=A.getImageData(0,0,n,n).data;A.fillStyle="red",A.fillRect(0,0,n,n);var i=e.createElement("div");return i.style.backgroundImage="url("+s+")",i.style.height=n+"px",Bi(r)?Ci(bi(n,n,0,0,i)):Promise.reject(!1)}).then(function(e){return A.drawImage(e,0,0),Bi(A.getImageData(0,0,n,n).data)}).catch(function(){return!1})},bi=function(e,t,n,A,r){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",A.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(r),i},Ci=function(e){return new Promise(function(t,n){var A=new Image;A.onload=function(){return t(A)},A.onerror=n,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},xi={get SUPPORT_RANGE_BOUNDS(){var e=gi(document);return Object.defineProperty(xi,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=xi.SUPPORT_RANGE_BOUNDS&&pi(document);return Object.defineProperty(xi,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=yi(document);return Object.defineProperty(xi,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?vi(document):Promise.resolve(!1);return Object.defineProperty(xi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=mi();return Object.defineProperty(xi,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=wi();return Object.defineProperty(xi,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(xi,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(xi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Ei=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Ui=function(e,t,n,A){var r=Si(t,n),s=[],o=0;return r.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(xi.SUPPORT_RANGE_BOUNDS){var r=Qi(A,o,t.length).getClientRects();if(r.length>1){var a=Fi(t),l=0;a.forEach(function(t){s.push(new Ei(t,i.fromDOMRectList(e,Qi(A,l+o,t.length).getClientRects()))),l+=t.length})}else s.push(new Ei(t,i.fromDOMRectList(e,r)))}else{var c=A.splitText(t.length);s.push(new Ei(t,Ii(e,A))),A=c}else xi.SUPPORT_RANGE_BOUNDS||(A=A.splitText(t.length));o+=t.length}),s},Ii=function(e,t){var n=t.ownerDocument;if(n){var A=n.createElement("html2canvaswrapper");A.appendChild(t.cloneNode(!0));var r=t.parentNode;if(r){r.replaceChild(A,t);var s=o(e,A);return A.firstChild&&r.replaceChild(A.firstChild,A),s}}return i.EMPTY},Qi=function(e,t,n){var A=e.ownerDocument;if(!A)throw new Error("Node has no owner document");var r=A.createRange();return r.setStart(e,t),r.setEnd(e,t+n),r},Fi=function(e){if(xi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return fi(e)},ki=function(e,t){if(xi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(e){return e.segment})}return _i(e,t)},Si=function(e,t){return 0!==t.letterSpacing?Fi(e):ki(e,t)},Ti=[32,160,4961,65792,65793,4153,4241],_i=function(e,t){for(var n,A=je(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),r=[],s=function(){if(n.value){var e=n.value.slice(),t=l(e),A="";t.forEach(function(e){-1===Ti.indexOf(e)?A+=c(e):(A.length&&r.push(A),r.push(c(e)),A="")}),A.length&&r.push(A)}};!(n=A.next()).done;)s();return r},Ni=function(){function e(e,t,n){this.text=Di(t.data,n.textTransform),this.textBounds=Ui(e,this.text,n,t)}return e}(),Di=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Li,Hi);case 2:return e.toUpperCase();default:return e}},Li=/(^|\s|:|-|\(|\))([a-z])/g,Hi=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Oi=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A.src=n.currentSrc||n.src,A.intrinsicWidth=n.naturalWidth,A.intrinsicHeight=n.naturalHeight,A.context.cache.addImage(A.src),A}return t(n,e),n}(bs),Pi=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A.canvas=n,A.intrinsicWidth=n.width,A.intrinsicHeight=n.height,A}return t(n,e),n}(bs),Ri=function(e){function n(t,n){var A=e.call(this,t,n)||this,r=new XMLSerializer,s=o(t,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),A.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(n)),A.intrinsicWidth=n.width.baseVal.value,A.intrinsicHeight=n.height.baseVal.value,A.context.cache.addImage(A.svg),A}return t(n,e),n}(bs),Mi=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A.value=n.value,A}return t(n,e),n}(bs),ji=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A.start=n.start,A.reversed="boolean"===typeof n.reversed&&!0===n.reversed,A}return t(n,e),n}(bs),Ki=[{type:15,flags:0,unit:"px",number:3}],Vi=[{type:16,flags:0,number:50}],Gi=function(e){return e.width>e.height?new i(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new i(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},zi=function(e){var t=e.type===Ji?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Wi="checkbox",qi="radio",Ji="password",Xi=707406591,Yi=function(e){function n(t,n){var A=e.call(this,t,n)||this;switch(A.type=n.type.toLowerCase(),A.checked=n.checked,A.value=zi(n),A.type!==Wi&&A.type!==qi||(A.styles.backgroundColor=3739148031,A.styles.borderTopColor=A.styles.borderRightColor=A.styles.borderBottomColor=A.styles.borderLeftColor=2779096575,A.styles.borderTopWidth=A.styles.borderRightWidth=A.styles.borderBottomWidth=A.styles.borderLeftWidth=1,A.styles.borderTopStyle=A.styles.borderRightStyle=A.styles.borderBottomStyle=A.styles.borderLeftStyle=1,A.styles.backgroundClip=[0],A.styles.backgroundOrigin=[0],A.bounds=Gi(A.bounds)),A.type){case Wi:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=Ki;break;case qi:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=Vi}return A}return t(n,e),n}(bs),Zi=function(e){function n(t,n){var A=e.call(this,t,n)||this,r=n.options[n.selectedIndex||0];return A.value=r&&r.text||"",A}return t(n,e),n}(bs),$i=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A.value=n.value,A}return t(n,e),n}(bs),eo=function(e){function n(t,n){var A=e.call(this,t,n)||this;A.src=n.src,A.width=parseInt(n.width,10)||0,A.height=parseInt(n.height,10)||0,A.backgroundColor=A.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){A.tree=ro(t,n.contentWindow.document.documentElement);var r=n.contentWindow.document.documentElement?uA(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):dA.TRANSPARENT,s=n.contentWindow.document.body?uA(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):dA.TRANSPARENT;A.backgroundColor=AA(r)?AA(s)?A.styles.backgroundColor:s:r}}catch(Ht){}return A}return t(n,e),n}(bs),to=["OL","UL","MENU"],no=function(e,t,n,A){for(var r=t.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,oo(r)&&r.data.trim().length>0)n.textNodes.push(new Ni(e,r,n.styles));else if(ao(r))if(Uo(r)&&r.assignedNodes)r.assignedNodes().forEach(function(t){return no(e,t,n,A)});else{var i=Ao(e,r);i.styles.isVisible()&&(so(r,i,A)?i.flags|=4:io(i.styles)&&(i.flags|=2),-1!==to.indexOf(r.tagName)&&(i.flags|=8),n.elements.push(i),r.slot,r.shadowRoot?no(e,r.shadowRoot,i,A):xo(r)||po(r)||Eo(r)||no(e,r,i,A))}},Ao=function(e,t){return Bo(t)?new Oi(e,t):wo(t)?new Pi(e,t):po(t)?new Ri(e,t):uo(t)?new Mi(e,t):ho(t)?new ji(e,t):fo(t)?new Yi(e,t):Eo(t)?new Zi(e,t):xo(t)?new $i(e,t):vo(t)?new eo(e,t):new bs(e,t)},ro=function(e,t){var n=Ao(e,t);return n.flags|=4,no(e,t,n,n),n},so=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||mo(e)&&n.styles.isTransparent()},io=function(e){return e.isPositioned()||e.isFloating()},oo=function(e){return e.nodeType===Node.TEXT_NODE},ao=function(e){return e.nodeType===Node.ELEMENT_NODE},lo=function(e){return ao(e)&&"undefined"!==typeof e.style&&!co(e)},co=function(e){return"object"===typeof e.className},uo=function(e){return"LI"===e.tagName},ho=function(e){return"OL"===e.tagName},fo=function(e){return"INPUT"===e.tagName},go=function(e){return"HTML"===e.tagName},po=function(e){return"svg"===e.tagName},mo=function(e){return"BODY"===e.tagName},wo=function(e){return"CANVAS"===e.tagName},yo=function(e){return"VIDEO"===e.tagName},Bo=function(e){return"IMG"===e.tagName},vo=function(e){return"IFRAME"===e.tagName},bo=function(e){return"STYLE"===e.tagName},Co=function(e){return"SCRIPT"===e.tagName},xo=function(e){return"TEXTAREA"===e.tagName},Eo=function(e){return"SELECT"===e.tagName},Uo=function(e){return"SLOT"===e.tagName},Io=function(e){return e.tagName.indexOf("-")>0},Qo=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,A=e.counterReset,r=!0;null!==n&&n.forEach(function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(r=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)});var s=[];return r&&A.forEach(function(e){var n=t.counters[e.counter];s.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)}),s},e}(),Fo={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ko={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},So={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},To={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},_o=function(e,t,n,A,r,s){return e<t||e>n?zo(e,r,s.length>0):A.integers.reduce(function(t,n,r){for(;e>=n;)e-=n,t+=A.values[r];return t},"")+s},No=function(e,t,n,A){var r="";do{n||e--,r=A(e)+r,e/=t}while(e*t>=t);return r},Do=function(e,t,n,A,r){var s=n-t+1;return(e<0?"-":"")+(No(Math.abs(e),s,A,function(e){return c(Math.floor(e%s)+t)})+r)},Lo=function(e,t,n){void 0===n&&(n=". ");var A=t.length;return No(Math.abs(e),A,!1,function(e){return t[Math.floor(e%A)]})+n},Ho=1,Oo=2,Po=4,Ro=8,Mo=function(e,t,n,A,r,s){if(e<-9999||e>9999)return zo(e,4,r.length>0);var i=Math.abs(e),o=r;if(0===i)return t[0]+o;for(var a=0;i>0&&a<=4;a++){var l=i%10;0===l&&rs(s,Ho)&&""!==o?o=t[l]+o:l>1||1===l&&0===a||1===l&&1===a&&rs(s,Oo)||1===l&&1===a&&rs(s,Po)&&e>100||1===l&&a>1&&rs(s,Ro)?o=t[l]+(a>0?n[a-1]:"")+o:1===l&&a>0&&(o=n[a-1]+o),i=Math.floor(i/10)}return(e<0?A:"")+o},jo="\u5341\u767e\u5343\u842c",Ko="\u62fe\u4f70\u4edf\u842c",Vo="\u30de\u30a4\u30ca\u30b9",Go="\ub9c8\uc774\ub108\uc2a4",zo=function(e,t,n){var A=n?". ":"",r=n?"\u3001":"",s=n?", ":"",i=n?" ":"";switch(t){case 0:return"\u2022"+i;case 1:return"\u25e6"+i;case 2:return"\u25fe"+i;case 5:var o=Do(e,48,57,!0,A);return o.length<4?"0"+o:o;case 4:return Lo(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",r);case 6:return _o(e,1,3999,Fo,3,A).toLowerCase();case 7:return _o(e,1,3999,Fo,3,A);case 8:return Do(e,945,969,!1,A);case 9:return Do(e,97,122,!1,A);case 10:return Do(e,65,90,!1,A);case 11:return Do(e,1632,1641,!0,A);case 12:case 49:return _o(e,1,9999,ko,3,A);case 35:return _o(e,1,9999,ko,3,A).toLowerCase();case 13:return Do(e,2534,2543,!0,A);case 14:case 30:return Do(e,6112,6121,!0,A);case 15:return Lo(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",r);case 16:return Lo(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",r);case 17:case 48:return Mo(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",jo,"\u8ca0",r,Oo|Po|Ro);case 47:return Mo(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Ko,"\u8ca0",r,Ho|Oo|Po|Ro);case 42:return Mo(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",jo,"\u8d1f",r,Oo|Po|Ro);case 41:return Mo(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Ko,"\u8d1f",r,Ho|Oo|Po|Ro);case 26:return Mo(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Vo,r,0);case 25:return Mo(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Vo,r,Ho|Oo|Po);case 31:return Mo(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Go,s,Ho|Oo|Po);case 33:return Mo(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Go,s,0);case 32:return Mo(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Go,s,Ho|Oo|Po);case 18:return Do(e,2406,2415,!0,A);case 20:return _o(e,1,19999,To,3,A);case 21:return Do(e,2790,2799,!0,A);case 22:return Do(e,2662,2671,!0,A);case 22:return _o(e,1,10999,So,3,A);case 23:return Lo(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Lo(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Do(e,3302,3311,!0,A);case 28:return Lo(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",r);case 29:return Lo(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",r);case 34:return Do(e,3792,3801,!0,A);case 37:return Do(e,6160,6169,!0,A);case 38:return Do(e,4160,4169,!0,A);case 39:return Do(e,2918,2927,!0,A);case 40:return Do(e,1776,1785,!0,A);case 43:return Do(e,3046,3055,!0,A);case 44:return Do(e,3174,3183,!0,A);case 45:return Do(e,3664,3673,!0,A);case 46:return Do(e,3872,3881,!0,A);default:return Do(e,48,57,!0,A)}},Wo="data-html2canvas-ignore",qo=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Qo,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,s=Xo(e,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=s.contentWindow,l=a.document,c=$o(s).then(function(){return A(n,void 0,void 0,function(){var e,n;return r(this,function(A){switch(A.label){case 0:return this.scrolledElements.forEach(ra),a&&(a.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===t.top&&a.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-t.left,a.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:A.sent(),A.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zo(l)]:[3,4];case 3:A.sent(),A.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then(function(){return e(l,n)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(na(document.doctype)+"<html></html>"),Aa(this.referenceElement.ownerDocument,i,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(e){if(vs(e,2),wo(e))return this.createCanvasClone(e);if(yo(e))return this.createVideoClone(e);if(bo(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Bo(t)&&(Bo(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Io(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return ta(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e},""),A=e.cloneNode(!1);return A.textContent=n,A}}catch(Ht){if(this.context.logger.error("Unable to access cssRules property",Ht),"SecurityError"!==Ht.name)throw Ht}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Ht){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var A=e.cloneNode(!1);try{A.width=e.width,A.height=e.height;var r=e.getContext("2d"),s=A.getContext("2d");if(s)if(!this.options.allowTaint&&r)s.putImageData(r.getImageData(0,0,e.width,e.height),0,0);else{var i=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(i){var o=i.getContextAttributes();!1===(null===o||void 0===o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return A}catch(Ht){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return A},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Ht){this.context.logger.info("Unable to clone video as it is tainted",e)}var A=e.ownerDocument.createElement("canvas");return A.width=e.offsetWidth,A.height=e.offsetHeight,A},e.prototype.appendChildNode=function(e,t,n){ao(t)&&(Co(t)||t.hasAttribute(Wo)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ao(t)&&bo(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var A=this,r=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;r;r=r.nextSibling)if(ao(r)&&Uo(r)&&"function"===typeof r.assignedNodes){var s=r.assignedNodes();s.length&&s.forEach(function(e){return A.appendChildNode(t,e,n)})}else this.appendChildNode(t,r,n)},e.prototype.cloneNode=function(e,t){if(oo(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ao(e)&&(lo(e)||co(e))){var A=this.createElementClone(e);A.style.transitionProperty="none";var r=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),i=n.getComputedStyle(e,":after");this.referenceElement===e&&lo(A)&&(this.clonedReferenceElement=A),mo(A)&&ca(A);var o=this.counters.parse(new ms(this.context,r)),a=this.resolvePseudoContent(e,A,s,Gs.BEFORE);Io(e)&&(t=!0),yo(e)||this.cloneChildNodes(e,A,t),a&&A.insertBefore(a,A.firstChild);var l=this.resolvePseudoContent(e,A,i,Gs.AFTER);return l&&A.appendChild(l),this.counters.pop(o),(r&&(this.options.copyStyles||co(e))&&!vo(e)||t)&&ta(r,A),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([A,e.scrollLeft,e.scrollTop]),(xo(e)||Eo(e))&&(xo(A)||Eo(A))&&(A.value=e.value),A}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,A){var r=this;if(n){var s=n.content,i=t.ownerDocument;if(i&&s&&"none"!==s&&"-moz-alt-content"!==s&&"none"!==n.display){this.counters.parse(new ms(this.context,n));var o=new ps(this.context,n),a=i.createElement("html2canvaspseudoelement");ta(n,a),o.content.forEach(function(t){if(0===t.type)a.appendChild(i.createTextNode(t.value));else if(22===t.type){var n=i.createElement("img");n.src=t.value,n.style.opacity="1",a.appendChild(n)}else if(18===t.type){if("attr"===t.name){var A=t.values.filter(_n);A.length&&a.appendChild(i.createTextNode(e.getAttribute(A[0].value)||""))}else if("counter"===t.name){var s=t.values.filter(Hn),l=s[0],c=s[1];if(l&&_n(l)){var u=r.counters.getCounterValue(l.value),d=c&&_n(c)?xr.parse(r.context,c.value):3;a.appendChild(i.createTextNode(zo(u,d,!1)))}}else if("counters"===t.name){var h=t.values.filter(Hn),f=(l=h[0],h[1]);if(c=h[2],l&&_n(l)){var g=r.counters.getCounterValues(l.value),p=c&&_n(c)?xr.parse(r.context,c.value):3,m=f&&0===f.type?f.value:"",w=g.map(function(e){return zo(e,p,!1)}).join(m);a.appendChild(i.createTextNode(w))}}}else if(20===t.type)switch(t.value){case"open-quote":a.appendChild(i.createTextNode(cs(o.quotes,r.quoteDepth++,!0)));break;case"close-quote":a.appendChild(i.createTextNode(cs(o.quotes,--r.quoteDepth,!1)));break;default:a.appendChild(i.createTextNode(t.value))}}),a.className=oa+" "+aa;var l=A===Gs.BEFORE?" "+oa:" "+aa;return co(t)?t.className.baseValue+=l:t.className+=l,a}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Gs||(Gs={}));var Jo,Xo=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Wo,"true"),e.body.appendChild(n),n},Yo=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},Zo=function(e){return Promise.all([].slice.call(e.images,0).map(Yo))},$o=function(e){return new Promise(function(t,n){var A=e.contentWindow;if(!A)return n("No window assigned for iframe");var r=A.document;A.onload=e.onload=function(){A.onload=e.onload=null;var n=setInterval(function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(n),t(e))},50)}})},ea=["all","d","content"],ta=function(e,t){for(var n=e.length-1;n>=0;n--){var A=e.item(n);-1===ea.indexOf(A)&&t.style.setProperty(A,e.getPropertyValue(A))}return t},na=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Aa=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},ra=function(e){var t=e[0],n=e[1],A=e[2];t.scrollLeft=n,t.scrollTop=A},sa=":before",ia=":after",oa="___html2canvas___pseudoelement_before",aa="___html2canvas___pseudoelement_after",la='{\n    content: "" !important;\n    display: none !important;\n}',ca=function(e){ua(e,"."+oa+sa+la+"\n         ."+aa+ia+la)},ua=function(e,t){var n=e.ownerDocument;if(n){var A=n.createElement("style");A.textContent=t,e.appendChild(A)}},da=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),ha=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:Ba(e)||ma(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return A(this,void 0,void 0,function(){var t,n,A,s,i=this;return r(this,function(r){switch(r.label){case 0:return t=da.isSameOrigin(e),n=!wa(e)&&!0===this._options.useCORS&&xi.SUPPORT_CORS_IMAGES&&!t,A=!wa(e)&&!t&&!Ba(e)&&"string"===typeof this._options.proxy&&xi.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||wa(e)||Ba(e)||A||n?(s=e,A?[4,this.proxy(s)]:[3,2]):[2];case 1:s=r.sent(),r.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var A=new Image;A.onload=function(){return e(A)},A.onerror=t,(ya(s)||n)&&(A.crossOrigin="anonymous"),A.src=s,!0===A.complete&&setTimeout(function(){return e(A)},500),i._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,r.sent()]}})})},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var A=e.substring(0,256);return new Promise(function(r,s){var i=xi.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===i)r(o.response);else{var e=new FileReader;e.addEventListener("load",function(){return r(e.result)},!1),e.addEventListener("error",function(e){return s(e)},!1),e.readAsDataURL(o.response)}else s("Failed to proxy resource "+A+" with status code "+o.status)},o.onerror=s;var a=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+a+"url="+encodeURIComponent(e)+"&responseType="+i),"text"!==i&&o instanceof XMLHttpRequest&&(o.responseType=i),t._options.imageTimeout){var l=t._options.imageTimeout;o.timeout=l,o.ontimeout=function(){return s("Timed out ("+l+"ms) proxying "+A)}}o.send()})},e}(),fa=/^data:image\/svg\+xml/i,ga=/^data:image\/.*;base64,/i,pa=/^data:image\/.*/i,ma=function(e){return xi.SUPPORT_SVG_DRAWING||!va(e)},wa=function(e){return pa.test(e)},ya=function(e){return ga.test(e)},Ba=function(e){return"blob"===e.substr(0,4)},va=function(e){return"svg"===e.substr(-3).toLowerCase()||fa.test(e)},ba=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Ca=function(e,t,n){return new ba(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},xa=function(){function e(e,t,n,A){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=A}return e.prototype.subdivide=function(t,n){var A=Ca(this.start,this.startControl,t),r=Ca(this.startControl,this.endControl,t),s=Ca(this.endControl,this.end,t),i=Ca(A,r,t),o=Ca(r,s,t),a=Ca(i,o,t);return n?new e(this.start,A,i,a):new e(a,o,s,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Ea=function(e){return 1===e.type},Ua=function(){function e(e){var t=e.styles,n=e.bounds,A=zn(t.borderTopLeftRadius,n.width,n.height),r=A[0],s=A[1],i=zn(t.borderTopRightRadius,n.width,n.height),o=i[0],a=i[1],l=zn(t.borderBottomRightRadius,n.width,n.height),c=l[0],u=l[1],d=zn(t.borderBottomLeftRadius,n.width,n.height),h=d[0],f=d[1],g=[];g.push((r+o)/n.width),g.push((h+c)/n.width),g.push((s+f)/n.height),g.push((a+u)/n.height);var p=Math.max.apply(Math,g);p>1&&(r/=p,s/=p,o/=p,a/=p,c/=p,u/=p,h/=p,f/=p);var m=n.width-o,w=n.height-u,y=n.width-c,B=n.height-f,v=t.borderTopWidth,b=t.borderRightWidth,C=t.borderBottomWidth,x=t.borderLeftWidth,E=Wn(t.paddingTop,e.bounds.width),U=Wn(t.paddingRight,e.bounds.width),I=Wn(t.paddingBottom,e.bounds.width),Q=Wn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||s>0?Ia(n.left+x/3,n.top+v/3,r-x/3,s-v/3,Jo.TOP_LEFT):new ba(n.left+x/3,n.top+v/3),this.topRightBorderDoubleOuterBox=r>0||s>0?Ia(n.left+m,n.top+v/3,o-b/3,a-v/3,Jo.TOP_RIGHT):new ba(n.left+n.width-b/3,n.top+v/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?Ia(n.left+y,n.top+w,c-b/3,u-C/3,Jo.BOTTOM_RIGHT):new ba(n.left+n.width-b/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=h>0||f>0?Ia(n.left+x/3,n.top+B,h-x/3,f-C/3,Jo.BOTTOM_LEFT):new ba(n.left+x/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=r>0||s>0?Ia(n.left+2*x/3,n.top+2*v/3,r-2*x/3,s-2*v/3,Jo.TOP_LEFT):new ba(n.left+2*x/3,n.top+2*v/3),this.topRightBorderDoubleInnerBox=r>0||s>0?Ia(n.left+m,n.top+2*v/3,o-2*b/3,a-2*v/3,Jo.TOP_RIGHT):new ba(n.left+n.width-2*b/3,n.top+2*v/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?Ia(n.left+y,n.top+w,c-2*b/3,u-2*C/3,Jo.BOTTOM_RIGHT):new ba(n.left+n.width-2*b/3,n.top+n.height-2*C/3),this.bottomLeftBorderDoubleInnerBox=h>0||f>0?Ia(n.left+2*x/3,n.top+B,h-2*x/3,f-2*C/3,Jo.BOTTOM_LEFT):new ba(n.left+2*x/3,n.top+n.height-2*C/3),this.topLeftBorderStroke=r>0||s>0?Ia(n.left+x/2,n.top+v/2,r-x/2,s-v/2,Jo.TOP_LEFT):new ba(n.left+x/2,n.top+v/2),this.topRightBorderStroke=r>0||s>0?Ia(n.left+m,n.top+v/2,o-b/2,a-v/2,Jo.TOP_RIGHT):new ba(n.left+n.width-b/2,n.top+v/2),this.bottomRightBorderStroke=c>0||u>0?Ia(n.left+y,n.top+w,c-b/2,u-C/2,Jo.BOTTOM_RIGHT):new ba(n.left+n.width-b/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=h>0||f>0?Ia(n.left+x/2,n.top+B,h-x/2,f-C/2,Jo.BOTTOM_LEFT):new ba(n.left+x/2,n.top+n.height-C/2),this.topLeftBorderBox=r>0||s>0?Ia(n.left,n.top,r,s,Jo.TOP_LEFT):new ba(n.left,n.top),this.topRightBorderBox=o>0||a>0?Ia(n.left+m,n.top,o,a,Jo.TOP_RIGHT):new ba(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?Ia(n.left+y,n.top+w,c,u,Jo.BOTTOM_RIGHT):new ba(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||f>0?Ia(n.left,n.top+B,h,f,Jo.BOTTOM_LEFT):new ba(n.left,n.top+n.height),this.topLeftPaddingBox=r>0||s>0?Ia(n.left+x,n.top+v,Math.max(0,r-x),Math.max(0,s-v),Jo.TOP_LEFT):new ba(n.left+x,n.top+v),this.topRightPaddingBox=o>0||a>0?Ia(n.left+Math.min(m,n.width-b),n.top+v,m>n.width+b?0:Math.max(0,o-b),Math.max(0,a-v),Jo.TOP_RIGHT):new ba(n.left+n.width-b,n.top+v),this.bottomRightPaddingBox=c>0||u>0?Ia(n.left+Math.min(y,n.width-x),n.top+Math.min(w,n.height-C),Math.max(0,c-b),Math.max(0,u-C),Jo.BOTTOM_RIGHT):new ba(n.left+n.width-b,n.top+n.height-C),this.bottomLeftPaddingBox=h>0||f>0?Ia(n.left+x,n.top+Math.min(B,n.height-C),Math.max(0,h-x),Math.max(0,f-C),Jo.BOTTOM_LEFT):new ba(n.left+x,n.top+n.height-C),this.topLeftContentBox=r>0||s>0?Ia(n.left+x+Q,n.top+v+E,Math.max(0,r-(x+Q)),Math.max(0,s-(v+E)),Jo.TOP_LEFT):new ba(n.left+x+Q,n.top+v+E),this.topRightContentBox=o>0||a>0?Ia(n.left+Math.min(m,n.width+x+Q),n.top+v+E,m>n.width+x+Q?0:o-x+Q,a-(v+E),Jo.TOP_RIGHT):new ba(n.left+n.width-(b+U),n.top+v+E),this.bottomRightContentBox=c>0||u>0?Ia(n.left+Math.min(y,n.width-(x+Q)),n.top+Math.min(w,n.height+v+E),Math.max(0,c-(b+U)),u-(C+I),Jo.BOTTOM_RIGHT):new ba(n.left+n.width-(b+U),n.top+n.height-(C+I)),this.bottomLeftContentBox=h>0||f>0?Ia(n.left+x+Q,n.top+B,Math.max(0,h-(x+Q)),f-(C+I),Jo.BOTTOM_LEFT):new ba(n.left+x+Q,n.top+n.height-(C+I))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Jo||(Jo={}));var Ia=function(e,t,n,A,r){var s=(Math.sqrt(2)-1)/3*4,i=n*s,o=A*s,a=e+n,l=t+A;switch(r){case Jo.TOP_LEFT:return new xa(new ba(e,l),new ba(e,l-o),new ba(a-i,t),new ba(a,t));case Jo.TOP_RIGHT:return new xa(new ba(e,t),new ba(e+i,t),new ba(a,l-o),new ba(a,l));case Jo.BOTTOM_RIGHT:return new xa(new ba(a,t),new ba(a,t+o),new ba(e+i,l),new ba(e,l));case Jo.BOTTOM_LEFT:default:return new xa(new ba(a,l),new ba(a-i,l),new ba(e,t+o),new ba(e,t))}},Qa=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Fa=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},ka=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Sa=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Ta=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),_a=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Na=function(e){return 0===e.type},Da=function(e){return 1===e.type},La=function(e){return 2===e.type},Ha=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},Oa=function(e,t,n,A,r){return e.map(function(e,s){switch(s){case 0:return e.add(t,n);case 1:return e.add(t+A,n);case 2:return e.add(t+A,n+r);case 3:return e.add(t,n+r)}return e})},Pa=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Ra=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Ua(this.container),this.container.styles.opacity<1&&this.effects.push(new _a(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,A=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new Sa(n,A,r))}if(0!==this.container.styles.overflowX){var s=Qa(this.curves),i=ka(this.curves);Ha(s,i)?this.effects.push(new Ta(s,6)):(this.effects.push(new Ta(s,2)),this.effects.push(new Ta(i,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,A=this.effects.slice(0);n;){var r=n.effects.filter(function(e){return!Da(e)});if(t||0!==n.container.styles.position||!n.parent){if(A.unshift.apply(A,r),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var s=Qa(n.curves),i=ka(n.curves);Ha(s,i)||A.unshift(new Ta(i,6))}}else A.unshift.apply(A,r);n=n.parent}return A.filter(function(t){return rs(t.target,e)})},e}(),Ma=function(e,t,n,A){e.container.elements.forEach(function(r){var s=rs(r.flags,4),i=rs(r.flags,2),o=new Ra(r,e);rs(r.styles.display,2048)&&A.push(o);var a=rs(r.flags,8)?[]:A;if(s||i){var l=s||r.styles.isPositioned()?n:t,c=new Pa(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var u=r.styles.zIndex.order;if(u<0){var d=0;l.negativeZIndex.some(function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0}),l.negativeZIndex.splice(d,0,c)}else if(u>0){var h=0;l.positiveZIndex.some(function(e,t){return u>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0}),l.positiveZIndex.splice(h,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else r.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Ma(o,c,s?c:n,a)}else r.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Ma(o,t,n,a);rs(r.flags,8)&&ja(r,a)})},ja=function(e,t){for(var n=e instanceof ji?e.start:1,A=e instanceof ji&&e.reversed,r=0;r<t.length;r++){var s=t[r];s.container instanceof Mi&&"number"===typeof s.container.value&&0!==s.container.value&&(n=s.container.value),s.listValue=zo(n,s.container.styles.listStyleType,!0),n+=A?-1:1}},Ka=function(e){var t=new Ra(e,null),n=new Pa(t),A=[];return Ma(t,n,n,A),ja(t.container,A),n},Va=function(e,t){switch(t){case 0:return Ja(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ja(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ja(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Ja(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Ga=function(e,t){switch(t){case 0:return Ja(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ja(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ja(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Ja(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},za=function(e,t){switch(t){case 0:return Ja(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ja(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ja(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Ja(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Wa=function(e,t){switch(t){case 0:return qa(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return qa(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return qa(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return qa(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},qa=function(e,t){var n=[];return Ea(e)?n.push(e.subdivide(.5,!1)):n.push(e),Ea(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Ja=function(e,t,n,A){var r=[];return Ea(e)?r.push(e.subdivide(.5,!1)):r.push(e),Ea(n)?r.push(n.subdivide(.5,!0)):r.push(n),Ea(A)?r.push(A.subdivide(.5,!0).reverse()):r.push(A),Ea(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},Xa=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Ya=function(e){var t=e.styles,n=e.bounds,A=Wn(t.paddingLeft,n.width),r=Wn(t.paddingRight,n.width),s=Wn(t.paddingTop,n.width),i=Wn(t.paddingBottom,n.width);return n.add(A+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+A+r),-(t.borderTopWidth+t.borderBottomWidth+s+i))},Za=function(e,t){return 0===e?t.bounds:2===e?Ya(t):Xa(t)},$a=function(e,t){return 0===e?t.bounds:2===e?Ya(t):Xa(t)},el=function(e,t,n){var A=Za(rl(e.styles.backgroundOrigin,t),e),r=$a(rl(e.styles.backgroundClip,t),e),s=Al(rl(e.styles.backgroundSize,t),n,A),i=s[0],o=s[1],a=zn(rl(e.styles.backgroundPosition,t),A.width-i,A.height-o);return[sl(rl(e.styles.backgroundRepeat,t),a,s,A,r),Math.round(A.left+a[0]),Math.round(A.top+a[1]),i,o]},tl=function(e){return _n(e)&&e.value===LA.AUTO},nl=function(e){return"number"===typeof e},Al=function(e,t,n){var A=t[0],r=t[1],s=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(Mn(i)&&o&&Mn(o))return[Wn(i,n.width),Wn(o,n.height)];var a=nl(s);if(_n(i)&&(i.value===LA.CONTAIN||i.value===LA.COVER))return nl(s)?n.width/n.height<s!==(i.value===LA.COVER)?[n.width,n.width/s]:[n.height*s,n.height]:[n.width,n.height];var l=nl(A),c=nl(r),u=l||c;if(tl(i)&&(!o||tl(o)))return l&&c?[A,r]:a||u?u&&a?[l?A:r*s,c?r:A/s]:[l?A:n.width,c?r:n.height]:[n.width,n.height];if(a){var d=0,h=0;return Mn(i)?d=Wn(i,n.width):Mn(o)&&(h=Wn(o,n.height)),tl(i)?d=h*s:o&&!tl(o)||(h=d/s),[d,h]}var f=null,g=null;if(Mn(i)?f=Wn(i,n.width):o&&Mn(o)&&(g=Wn(o,n.height)),null===f||o&&!tl(o)||(g=l&&c?f/A*r:n.height),null!==g&&tl(i)&&(f=l&&c?g/r*A:n.width),null!==f&&null!==g)return[f,g];throw new Error("Unable to calculate background-size for element")},rl=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},sl=function(e,t,n,A,r){var s=t[0],i=t[1],o=n[0],a=n[1];switch(e){case 2:return[new ba(Math.round(A.left),Math.round(A.top+i)),new ba(Math.round(A.left+A.width),Math.round(A.top+i)),new ba(Math.round(A.left+A.width),Math.round(a+A.top+i)),new ba(Math.round(A.left),Math.round(a+A.top+i))];case 3:return[new ba(Math.round(A.left+s),Math.round(A.top)),new ba(Math.round(A.left+s+o),Math.round(A.top)),new ba(Math.round(A.left+s+o),Math.round(A.height+A.top)),new ba(Math.round(A.left+s),Math.round(A.height+A.top))];case 1:return[new ba(Math.round(A.left+s),Math.round(A.top+i)),new ba(Math.round(A.left+s+o),Math.round(A.top+i)),new ba(Math.round(A.left+s+o),Math.round(A.top+i+a)),new ba(Math.round(A.left+s),Math.round(A.top+i+a))];default:return[new ba(Math.round(r.left),Math.round(r.top)),new ba(Math.round(r.left+r.width),Math.round(r.top)),new ba(Math.round(r.left+r.width),Math.round(r.height+r.top)),new ba(Math.round(r.left),Math.round(r.height+r.top))]}},il="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ol="Hidden Text",al=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),A=this._document.createElement("img"),r=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),A.src=il,A.width=1,A.height=1,A.style.margin="0",A.style.padding="0",A.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(ol)),n.appendChild(r),n.appendChild(A);var i=A.offsetTop-r.offsetTop+2;n.removeChild(r),n.appendChild(this._document.createTextNode(ol)),n.style.lineHeight="normal",A.style.verticalAlign="super";var o=A.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:i,middle:o}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),ll=function(){function e(e,t){this.context=e,this.options=t}return e}(),cl=1e4,ul=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A._activeEffects=[],A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),n.canvas||(A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px"),A.fontMetrics=new al(document),A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.ctx.textBaseline="bottom",A._activeEffects=[],A.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),A}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},n.prototype.applyEffect=function(e){this.ctx.save(),La(e)&&(this.ctx.globalAlpha=e.opacity),Na(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Da(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return A(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return A(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return rs(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var A=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Fi(e.text).reduce(function(t,r){return A.ctx.fillText(r,t,e.bounds.top+n),t+A.ctx.measureText(r).width},e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=pl(e.fontFamily).join(", "),A=Sn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,A,n].join(" "),n,A]},n.prototype.renderTextNode=function(e,t){return A(this,void 0,void 0,function(){var n,A,s,i,o,a,l,c,u=this;return r(this,function(r){return n=this.createFontStyle(t),A=n[0],s=n[1],i=n[2],this.ctx.font=A,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(s,i),a=o.baseline,l=o.middle,c=t.paintOrder,e.textBounds.forEach(function(e){c.forEach(function(n){switch(n){case 0:u.ctx.fillStyle=rA(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,a);var A=t.textShadow;A.length&&e.text.trim().length&&(A.slice(0).reverse().forEach(function(n){u.ctx.shadowColor=rA(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,a)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=rA(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+a),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=rA(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+a)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}})}),[2]})})},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var A=Ya(e),r=ka(t);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,A.left,A.top,A.width,A.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return A(this,void 0,void 0,function(){var t,A,s,o,a,l,c,u,d,h,f,g,p,m,w,y,B,v;return r(this,function(r){switch(r.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,A=e.curves,s=t.styles,o=0,a=t.textNodes,r.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,s)]):[3,4];case 2:r.sent(),r.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof Oi))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return w=r.sent(),this.renderReplacedElement(t,A,w),[3,8];case 7:return r.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Pi&&this.renderReplacedElement(t,A,t.canvas),!(t instanceof Ri))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return w=r.sent(),this.renderReplacedElement(t,A,w),[3,12];case 11:return r.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof eo&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=r.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),r.label=14;case 14:if(t instanceof Yi&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===Wi?t.checked&&(this.ctx.save(),this.path([new ba(t.bounds.left+.39363*u,t.bounds.top+.79*u),new ba(t.bounds.left+.16*u,t.bounds.top+.5549*u),new ba(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new ba(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new ba(t.bounds.left+.72983*u,t.bounds.top+.23*u),new ba(t.bounds.left+.84*u,t.bounds.top+.34085*u),new ba(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=rA(Xi),this.ctx.fill(),this.ctx.restore()):t.type===qi&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=rA(Xi),this.ctx.fill(),this.ctx.restore())),dl(t)&&t.value.length){switch(d=this.createFontStyle(s),B=d[0],h=d[1],f=this.fontMetrics.getMetrics(B,h).baseline,this.ctx.font=B,this.ctx.fillStyle=rA(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fl(t.styles.textAlign),v=Ya(t),g=0,t.styles.textAlign){case 1:g+=v.width/2;break;case 2:g+=v.width}p=v.add(g,0,0,-v.height/2+1),this.ctx.save(),this.path([new ba(v.left,v.top),new ba(v.left+v.width,v.top),new ba(v.left+v.width,v.top+v.height),new ba(v.left,v.top+v.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ei(t.value,p),s.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!rs(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];w=void 0,y=m.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return w=r.sent(),this.ctx.drawImage(w,t.bounds.left-(w.width+10),t.bounds.top),[3,18];case 17:return r.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(B=this.createFontStyle(s)[0],this.ctx.font=B,this.ctx.fillStyle=rA(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",v=new i(t.bounds.left,t.bounds.top+Wn(t.styles.paddingTop,t.bounds.width),t.bounds.width,vr(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ei(e.listValue,v),s.letterSpacing,vr(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return A(this,void 0,void 0,function(){var t,n,A,s,i,o,a,l,c,u,d,h,f,g,p;return r(this,function(r){switch(r.label){case 0:return rs(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:r.sent(),t=0,n=e.negativeZIndex,r.label=2;case 2:return t<n.length?(p=n[t],[4,this.renderStack(p)]):[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:r.sent(),A=0,s=e.nonInlineLevel,r.label=7;case 7:return A<s.length?(p=s[A],[4,this.renderNode(p)]):[3,10];case 8:r.sent(),r.label=9;case 9:return A++,[3,7];case 10:i=0,o=e.nonPositionedFloats,r.label=11;case 11:return i<o.length?(p=o[i],[4,this.renderStack(p)]):[3,14];case 12:r.sent(),r.label=13;case 13:return i++,[3,11];case 14:a=0,l=e.nonPositionedInlineLevel,r.label=15;case 15:return a<l.length?(p=l[a],[4,this.renderStack(p)]):[3,18];case 16:r.sent(),r.label=17;case 17:return a++,[3,15];case 18:c=0,u=e.inlineLevel,r.label=19;case 19:return c<u.length?(p=u[c],[4,this.renderNode(p)]):[3,22];case 20:r.sent(),r.label=21;case 21:return c++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return d<h.length?(p=h[d],[4,this.renderStack(p)]):[3,26];case 24:r.sent(),r.label=25;case 25:return d++,[3,23];case 26:f=0,g=e.positiveZIndex,r.label=27;case 27:return f<g.length?(p=g[f],[4,this.renderStack(p)]):[3,30];case 28:r.sent(),r.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var A=Ea(e)?e.start:e;0===n?t.ctx.moveTo(A.x,A.y):t.ctx.lineTo(A.x,A.y),Ea(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},n.prototype.renderRepeat=function(e,t,n,A){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,A),this.ctx.fill(),this.ctx.translate(-n,-A)},n.prototype.resizeImage=function(e,t,n){var A;if(e.width===t&&e.height===n)return e;var r=(null!==(A=this.canvas.ownerDocument)&&void 0!==A?A:document).createElement("canvas");return r.width=Math.max(1,t),r.height=Math.max(1,n),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),r},n.prototype.renderBackgroundImage=function(e){return A(this,void 0,void 0,function(){var t,n,A,s,i,o;return r(this,function(a){switch(a.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var s,i,o,a,l,c,u,d,h,f,g,p,m,w,y,B,v,b,C,x,E,U,I,Q,F,k,S,T,_,N,D;return r(this,function(r){switch(r.label){case 0:if(0!==n.type)return[3,5];s=void 0,i=n.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,A.context.cache.match(i)];case 2:return s=r.sent(),[3,4];case 3:return r.sent(),A.context.logger.error("Error loading background-image "+i),[3,4];case 4:return s&&(o=el(e,t,[s.width,s.height,s.width/s.height]),B=o[0],U=o[1],I=o[2],C=o[3],x=o[4],w=A.ctx.createPattern(A.resizeImage(s,C,x),"repeat"),A.renderRepeat(B,w,U,I)),[3,6];case 5:TA(n)?(a=el(e,t,[null,null,null]),B=a[0],U=a[1],I=a[2],C=a[3],x=a[4],l=wA(n.angle,C,x),c=l[0],u=l[1],d=l[2],h=l[3],f=l[4],(g=document.createElement("canvas")).width=C,g.height=x,p=g.getContext("2d"),m=p.createLinearGradient(u,h,d,f),pA(n.stops,c).forEach(function(e){return m.addColorStop(e.stop,rA(e.color))}),p.fillStyle=m,p.fillRect(0,0,C,x),C>0&&x>0&&(w=A.ctx.createPattern(g,"repeat"),A.renderRepeat(B,w,U,I))):_A(n)&&(y=el(e,t,[null,null,null]),B=y[0],v=y[1],b=y[2],C=y[3],x=y[4],E=0===n.position.length?[Vn]:n.position,U=Wn(E[0],C),I=Wn(E[E.length-1],x),Q=vA(n,U,I,C,x),F=Q[0],k=Q[1],F>0&&k>0&&(S=A.ctx.createRadialGradient(v+U,b+I,0,v+U,b+I,F),pA(n.stops,2*F).forEach(function(e){return S.addColorStop(e.stop,rA(e.color))}),A.path(B),A.ctx.fillStyle=S,F!==k?(T=e.bounds.left+.5*e.bounds.width,_=e.bounds.top+.5*e.bounds.height,D=1/(N=k/F),A.ctx.save(),A.ctx.translate(T,_),A.ctx.transform(1,0,0,N,0,0),A.ctx.translate(-T,-_),A.ctx.fillRect(v,D*(b-_)+_,C,x*D),A.ctx.restore()):A.ctx.fill())),r.label=6;case 6:return t--,[2]}})},A=this,s=0,i=e.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return s<i.length?(o=i[s],[5,n(o)]):[3,4];case 2:a.sent(),a.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,t,n){return A(this,void 0,void 0,function(){return r(this,function(A){return this.path(Va(n,t)),this.ctx.fillStyle=rA(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,t,n,s){return A(this,void 0,void 0,function(){var A,i;return r(this,function(r){switch(r.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,s)]:[3,2];case 1:return r.sent(),[2];case 2:return A=Ga(s,n),this.path(A),this.ctx.fillStyle=rA(e),this.ctx.fill(),i=za(s,n),this.path(i),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return A(this,void 0,void 0,function(){var t,n,A,s,i,o,a,l,c=this;return r(this,function(r){switch(r.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!AA(t.backgroundColor)||t.backgroundImage.length,A=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],s=hl(rl(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),AA(t.backgroundColor)||(this.ctx.fillStyle=rA(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){c.ctx.save();var n=Qa(e.curves),A=t.inset?0:cl,r=Oa(n,-A+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(r)):(c.mask(n),c.ctx.clip(),c.path(r)),c.ctx.shadowOffsetX=t.offsetX.number+A,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=rA(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?rA(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),r.label=2;case 2:i=0,o=0,a=A,r.label=3;case 3:return o<a.length?0!==(l=a[o]).style&&!AA(l.color)&&l.width>0?2!==l.style?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,i,e.curves,2)]:[3,11]:[3,13];case 4:return r.sent(),[3,11];case 5:return 3!==l.style?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,i,e.curves,3)];case 6:return r.sent(),[3,11];case 7:return 4!==l.style?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,i,e.curves)];case 8:return r.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,i,e.curves)];case 10:r.sent(),r.label=11;case 11:i++,r.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,t,n,s,i){return A(this,void 0,void 0,function(){var A,o,a,l,c,u,d,h,f,g,p,m,w,y,B,v;return r(this,function(r){return this.ctx.save(),A=Wa(s,n),o=Va(s,n),2===i&&(this.path(o),this.ctx.clip()),Ea(o[0])?(a=o[0].start.x,l=o[0].start.y):(a=o[0].x,l=o[0].y),Ea(o[1])?(c=o[1].end.x,u=o[1].end.y):(c=o[1].x,u=o[1].y),d=0===n||2===n?Math.abs(a-c):Math.abs(l-u),this.ctx.beginPath(),3===i?this.formatPath(A):this.formatPath(o.slice(0,2)),h=t<3?3*t:2*t,f=t<3?2*t:t,3===i&&(h=t,f=t),g=!0,d<=2*h?g=!1:d<=2*h+f?(h*=p=d/(2*h+f),f*=p):(m=Math.floor((d+f)/(h+f)),w=(d-m*h)/(m-1),f=(y=(d-(m+1)*h)/m)<=0||Math.abs(f-w)<Math.abs(f-y)?w:y),g&&(3===i?this.ctx.setLineDash([0,h+f]):this.ctx.setLineDash([h,f])),3===i?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=rA(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===i&&(Ea(o[0])&&(B=o[3],v=o[0],this.ctx.beginPath(),this.formatPath([new ba(B.end.x,B.end.y),new ba(v.start.x,v.start.y)]),this.ctx.stroke()),Ea(o[1])&&(B=o[1],v=o[2],this.ctx.beginPath(),this.formatPath([new ba(B.end.x,B.end.y),new ba(v.start.x,v.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return A(this,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=rA(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Ka(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},n}(ll),dl=function(e){return e instanceof $i||e instanceof Zi||e instanceof Yi&&e.type!==qi&&e.type!==Wi},hl=function(e,t){switch(e){case 0:return Qa(t);case 2:return Fa(t);default:return ka(t)}},fl=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},gl=["-apple-system","system-ui"],pl=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===gl.indexOf(e)}):e},ml=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),A.options=n,A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px",A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),A}return t(n,e),n.prototype.render=function(e){return A(this,void 0,void 0,function(){var t,n;return r(this,function(A){switch(A.label){case 0:return t=bi(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,wl(t)];case 1:return n=A.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=rA(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(ll),wl=function(e){return new Promise(function(t,n){var A=new Image;A.onload=function(){t(A)},A.onerror=n,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},yl=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,s([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Bl=function(){function e(t,n){var A;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new yl({id:this.instanceName,enabled:t.logging}),this.cache=null!==(A=t.cache)&&void 0!==A?A:new ha(this,t)}return e.instanceCount=1,e}(),vl=function(e,t){return void 0===t&&(t={}),bl(e,t)};"undefined"!==typeof window&&da.setContext(window);var bl=function(e,t){return A(void 0,void 0,void 0,function(){var A,s,l,c,u,d,h,f,g,p,m,w,y,B,v,b,C,x,E,U,I,Q,F,k,S,T,_,N,D,L,H,O,P,R,M,j,K,V;return r(this,function(r){switch(r.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(A=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=A.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(Q=t.allowTaint)&&void 0!==Q&&Q,imageTimeout:null!==(F=t.imageTimeout)&&void 0!==F?F:15e3,proxy:t.proxy,useCORS:null!==(k=t.useCORS)&&void 0!==k&&k},c=n({logging:null===(S=t.logging)||void 0===S||S,cache:t.cache},l),u={windowWidth:null!==(T=t.windowWidth)&&void 0!==T?T:s.innerWidth,windowHeight:null!==(_=t.windowHeight)&&void 0!==_?_:s.innerHeight,scrollX:null!==(N=t.scrollX)&&void 0!==N?N:s.pageXOffset,scrollY:null!==(D=t.scrollY)&&void 0!==D?D:s.pageYOffset},d=new i(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),h=new Bl(c,d),f=null!==(L=t.foreignObjectRendering)&&void 0!==L&&L,g={allowTaint:null!==(H=t.allowTaint)&&void 0!==H&&H,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),p=new qo(h,e,g),(m=p.clonedReferenceElement)?[4,p.toIFrame(A,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=r.sent(),y=mo(m)||go(m)?a(m.ownerDocument):o(h,m),B=y.width,v=y.height,b=y.left,C=y.top,x=Cl(h,m,t.backgroundColor),E={canvas:t.canvas,backgroundColor:x,scale:null!==(P=null!==(O=t.scale)&&void 0!==O?O:s.devicePixelRatio)&&void 0!==P?P:1,x:(null!==(R=t.x)&&void 0!==R?R:0)+b,y:(null!==(M=t.y)&&void 0!==M?M:0)+C,width:null!==(j=t.width)&&void 0!==j?j:Math.ceil(B),height:null!==(K=t.height)&&void 0!==K?K:Math.ceil(v)},f?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new ml(h,E).render(m)]):[3,3];case 2:return U=r.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+b+","+C+" with size "+B+"x"+v+" using computed rendering"),h.logger.debug("Starting DOM parsing"),I=ro(h,m),x===I.styles.backgroundColor&&(I.styles.backgroundColor=dA.TRANSPARENT),h.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),[4,new ul(h,E).render(I)];case 4:U=r.sent(),r.label=5;case 5:return(null===(V=t.removeContainer)||void 0===V||V)&&(qo.destroy(w)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,U]}})})},Cl=function(e,t,n){var A=t.ownerDocument,r=A.documentElement?uA(e,getComputedStyle(A.documentElement).backgroundColor):dA.TRANSPARENT,s=A.body?uA(e,getComputedStyle(A.body).backgroundColor):dA.TRANSPARENT,i="string"===typeof n?uA(e,n):null===n?dA.TRANSPARENT:4294967295;return t===A.documentElement?AA(r)?AA(s)?i:s:r:i};return vl}()},5472:(e,t,n)=>{"use strict";n.d(t,{Dc:()=>J,gS:()=>Fc,hq:()=>Nc,rJ:()=>ul,kd:()=>Qc,H9:()=>dl,ol:()=>yl,x7:()=>Cc,GG:()=>Ec,aU:()=>pl,AB:()=>lc,aQ:()=>kc,My:()=>oc,P:()=>nc,O5:()=>_c,BN:()=>Uc,HM:()=>uc,mZ:()=>Ic,_M:()=>rc});var A,r,s=n(52),i=n(8812),o=n(443),a=n(7700),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},c={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var A=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)A[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)A[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var s=e.g[3],i=t+(s^n&(r^s))+A[0]+3614090360&4294967295;i=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=n+(i<<7&4294967295|i>>>25))+((i=s+(r^t&(n^r))+A[1]+3905402710&4294967295)<<12&4294967295|i>>>20))+((i=r+(n^s&(t^n))+A[2]+606105819&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^r&(s^t))+A[3]+3250441966&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^n&(r^s))+A[4]+4118548399&4294967295)<<7&4294967295|i>>>25))+((i=s+(r^t&(n^r))+A[5]+1200080426&4294967295)<<12&4294967295|i>>>20))+((i=r+(n^s&(t^n))+A[6]+2821735955&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^r&(s^t))+A[7]+4249261313&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^n&(r^s))+A[8]+1770035416&4294967295)<<7&4294967295|i>>>25))+((i=s+(r^t&(n^r))+A[9]+2336552879&4294967295)<<12&4294967295|i>>>20))+((i=r+(n^s&(t^n))+A[10]+4294925233&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^r&(s^t))+A[11]+2304563134&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^n&(r^s))+A[12]+1804603682&4294967295)<<7&4294967295|i>>>25))+((i=s+(r^t&(n^r))+A[13]+4254626195&4294967295)<<12&4294967295|i>>>20))+((i=r+(n^s&(t^n))+A[14]+2792965006&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^r&(s^t))+A[15]+1236535329&4294967295)<<22&4294967295|i>>>10))+((i=t+(r^s&(n^r))+A[1]+4129170786&4294967295)<<5&4294967295|i>>>27))+((i=s+(n^r&(t^n))+A[6]+3225465664&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^n&(s^t))+A[11]+643717713&4294967295)<<14&4294967295|i>>>18))+((i=n+(s^t&(r^s))+A[0]+3921069994&4294967295)<<20&4294967295|i>>>12))+((i=t+(r^s&(n^r))+A[5]+3593408605&4294967295)<<5&4294967295|i>>>27))+((i=s+(n^r&(t^n))+A[10]+38016083&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^n&(s^t))+A[15]+3634488961&4294967295)<<14&4294967295|i>>>18))+((i=n+(s^t&(r^s))+A[4]+3889429448&4294967295)<<20&4294967295|i>>>12))+((i=t+(r^s&(n^r))+A[9]+568446438&4294967295)<<5&4294967295|i>>>27))+((i=s+(n^r&(t^n))+A[14]+3275163606&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^n&(s^t))+A[3]+4107603335&4294967295)<<14&4294967295|i>>>18))+((i=n+(s^t&(r^s))+A[8]+1163531501&4294967295)<<20&4294967295|i>>>12))+((i=t+(r^s&(n^r))+A[13]+2850285829&4294967295)<<5&4294967295|i>>>27))+((i=s+(n^r&(t^n))+A[2]+4243563512&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^n&(s^t))+A[7]+1735328473&4294967295)<<14&4294967295|i>>>18))+((i=n+(s^t&(r^s))+A[12]+2368359562&4294967295)<<20&4294967295|i>>>12))+((i=t+(n^r^s)+A[5]+4294588738&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^n^r)+A[8]+2272392833&4294967295)<<11&4294967295|i>>>21))+((i=r+(s^t^n)+A[11]+1839030562&4294967295)<<16&4294967295|i>>>16))+((i=n+(r^s^t)+A[14]+4259657740&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^r^s)+A[1]+2763975236&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^n^r)+A[4]+1272893353&4294967295)<<11&4294967295|i>>>21))+((i=r+(s^t^n)+A[7]+4139469664&4294967295)<<16&4294967295|i>>>16))+((i=n+(r^s^t)+A[10]+3200236656&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^r^s)+A[13]+681279174&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^n^r)+A[0]+3936430074&4294967295)<<11&4294967295|i>>>21))+((i=r+(s^t^n)+A[3]+3572445317&4294967295)<<16&4294967295|i>>>16))+((i=n+(r^s^t)+A[6]+76029189&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^r^s)+A[9]+3654602809&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^n^r)+A[12]+3873151461&4294967295)<<11&4294967295|i>>>21))+((i=r+(s^t^n)+A[15]+530742520&4294967295)<<16&4294967295|i>>>16))+((i=n+(r^s^t)+A[2]+3299628645&4294967295)<<23&4294967295|i>>>9))+((i=t+(r^(n|~s))+A[0]+4096336452&4294967295)<<6&4294967295|i>>>26))+((i=s+(n^(t|~r))+A[7]+1126891415&4294967295)<<10&4294967295|i>>>22))+((i=r+(t^(s|~n))+A[14]+2878612391&4294967295)<<15&4294967295|i>>>17))+((i=n+(s^(r|~t))+A[5]+4237533241&4294967295)<<21&4294967295|i>>>11))+((i=t+(r^(n|~s))+A[12]+1700485571&4294967295)<<6&4294967295|i>>>26))+((i=s+(n^(t|~r))+A[3]+2399980690&4294967295)<<10&4294967295|i>>>22))+((i=r+(t^(s|~n))+A[10]+4293915773&4294967295)<<15&4294967295|i>>>17))+((i=n+(s^(r|~t))+A[1]+2240044497&4294967295)<<21&4294967295|i>>>11))+((i=t+(r^(n|~s))+A[8]+1873313359&4294967295)<<6&4294967295|i>>>26))+((i=s+(n^(t|~r))+A[15]+4264355552&4294967295)<<10&4294967295|i>>>22))+((i=r+(t^(s|~n))+A[6]+2734768916&4294967295)<<15&4294967295|i>>>17))+((i=n+(s^(r|~t))+A[13]+1309151649&4294967295)<<21&4294967295|i>>>11))+((s=(t=n+((i=t+(r^(n|~s))+A[4]+4149444226&4294967295)<<6&4294967295|i>>>26))+((i=s+(n^(t|~r))+A[11]+3174756917&4294967295)<<10&4294967295|i>>>22))^((r=s+((i=r+(t^(s|~n))+A[2]+718787259&4294967295)<<15&4294967295|i>>>17))|~t))+A[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+s&4294967295}function s(e,t){this.h=t;for(var n=[],A=!0,r=e.length-1;0<=r;r--){var s=0|e[r];A&&s==t||(n[r]=s,A=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,A){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var A=t-this.blockSize,r=this.B,s=this.h,i=0;i<t;){if(0==s)for(;i<=A;)n(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){n(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){n(this,r),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var A=0;32>A;A+=8)e[n++]=this.g[t]>>>A&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new s([0|e],0>e?-1:0)}):new s([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return l;if(0>e)return g(a(-e));for(var t=[],n=1,A=0;e>=n;A++)t[A]=e/n|0,n*=4294967296;return new s(t,0)}var l=o(0),u=o(1),d=o(16777216);function h(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return-1==e.h}function g(e){for(var t=e.g.length,n=[],A=0;A<t;A++)n[A]=~e.g[A];return new s(n,~e.h).add(u)}function p(e,t){return e.add(g(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function w(e,t){this.g=e,this.h=t}function y(e,t){if(h(t))throw Error("division by zero");if(h(e))return new w(l,l);if(f(e))return t=y(g(e),t),new w(g(t.g),g(t.h));if(f(t))return t=y(e,g(t)),new w(g(t.g),t.h);if(30<e.g.length){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,A=t;0>=A.l(e);)n=B(n),A=B(A);var r=v(n,1),s=v(A,1);for(A=v(A,2),n=v(n,2);!h(A);){var i=s.add(A);0>=i.l(e)&&(r=r.add(n),s=i),A=v(A,1),n=v(n,1)}return t=p(e,r.j(t)),new w(r,t)}for(r=l;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),A=48>=(A=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,A-48),i=(s=a(n)).j(t);f(i)||0<i.l(e);)i=(s=a(n-=A)).j(t);h(s)&&(s=u),r=r.add(s),e=p(e,i)}return new w(r,e)}function B(e){for(var t=e.g.length+1,n=[],A=0;A<t;A++)n[A]=e.i(A)<<1|e.i(A-1)>>>31;return new s(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var A=e.g.length-n,r=[],i=0;i<A;i++)r[i]=0<t?e.i(i+n)>>>t|e.i(i+n+1)<<32-t:e.i(i+n);return new s(r,e.h)}(e=s.prototype).m=function(){if(f(this))return-g(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var A=this.i(n);e+=(0<=A?A:4294967296+A)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(h(this))return"0";if(f(this))return"-"+g(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,A="";;){var r=y(n,t).g,s=((0<(n=p(n,r.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(h(n=r))return s+A;for(;6>s.length;)s="0"+s;A=s+A}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return f(e=p(this,e))?-1:h(e)?0:1},e.abs=function(){return f(this)?g(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],A=0,r=0;r<=t;r++){var i=A+(65535&this.i(r))+(65535&e.i(r)),o=(i>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);A=o>>>16,i&=65535,o&=65535,n[r]=o<<16|i}return new s(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(h(this)||h(e))return l;if(f(this))return f(e)?g(this).j(g(e)):g(g(this).j(e));if(f(e))return g(this.j(g(e)));if(0>this.l(d)&&0>e.l(d))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],A=0;A<2*t;A++)n[A]=0;for(A=0;A<this.g.length;A++)for(var r=0;r<e.g.length;r++){var i=this.i(A)>>>16,o=65535&this.i(A),c=e.i(r)>>>16,u=65535&e.i(r);n[2*A+2*r]+=o*u,m(n,2*A+2*r),n[2*A+2*r+1]+=i*u,m(n,2*A+2*r+1),n[2*A+2*r+1]+=o*c,m(n,2*A+2*r+1),n[2*A+2*r+2]+=i*c,m(n,2*A+2*r+2)}for(A=0;A<t;A++)n[A]=n[2*A+1]<<16|n[2*A];for(A=t;A<2*t;A++)n[A]=0;return new s(n,0)},e.A=function(e){return y(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],A=0;A<t;A++)n[A]=this.i(A)&e.i(A);return new s(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],A=0;A<t;A++)n[A]=this.i(A)|e.i(A);return new s(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],A=0;A<t;A++)n[A]=this.i(A)^e.i(A);return new s(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,r=c.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=a,s.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return g(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=a(Math.pow(n,8)),r=l,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),n);8>i?(i=a(Math.pow(n,i)),r=r.j(i).add(a(o))):r=(r=r.j(A)).add(a(o))}return r},A=c.Integer=s}).apply("undefined"!==typeof l?l:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var u,d,h,f,g,p,m,w,y="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},B={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof y&&y];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,A){if(A)e:{var r=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var i=e[s];if(!(i in r))break e;r=r[i]}(A=A(s=r[e=e[e.length-1]]))!=s&&null!=A&&t(r,e,{configurable:!0,writable:!0,value:A})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,A=!1,r={next:function(){if(!A&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return A=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,function(e,t){return t})}});var A=A||{},r=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function i(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function a(e,t,n){if(!e)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,A),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function l(e,t,n){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function b(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,A){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function C(e){const t=e.length;if(0<t){const n=Array(t);for(let A=0;A<t;A++)n[A]=e[A];return n}return[]}function E(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,A=t.length||0;e.length=n+A;for(let r=0;r<A;r++)e[n+r]=t[r]}else e.push(t)}}function U(e){return/^[\s\xa0]*$/.test(e)}function I(){var e=r.navigator;return e&&(e=e.userAgent)?e:""}function Q(e){return Q[" "](e),e}Q[" "]=function(){};var F=-1!=I().indexOf("Gecko")&&!(-1!=I().toLowerCase().indexOf("webkit")&&-1==I().indexOf("Edge"))&&!(-1!=I().indexOf("Trident")||-1!=I().indexOf("MSIE"))&&-1==I().indexOf("Edge");function k(e,t,n){for(const A in e)t.call(n,e[A],A,e)}function S(e){const t={};for(const n in e)t[n]=e[n];return t}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,A;for(let r=1;r<arguments.length;r++){for(n in A=arguments[r],A)e[n]=A[n];for(let t=0;t<T.length;t++)n=T[t],Object.prototype.hasOwnProperty.call(A,n)&&(e[n]=A[n])}}function N(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function D(e){r.setTimeout(()=>{throw e},0)}function L(){var e=M;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var H=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new O,e=>e.reset());class O{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let P,R=!1,M=new class{constructor(){this.h=this.g=null}add(e,t){const n=H.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=r.Promise.resolve(void 0);P=()=>{e.then(K)}};var K=()=>{for(var e;e=L();){try{e.h.call(e.g)}catch(n){D(n)}var t=H;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}R=!1};function V(){this.s=this.s,this.C=this.C}function G(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},G.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};r.addEventListener("test",e,t),r.removeEventListener("test",e,t)}catch(n){}return e}();function W(e,t){if(G.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,A=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(F){e:{try{Q(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,A?(this.clientX=void 0!==A.clientX?A.clientX:A.pageX,this.clientY=void 0!==A.clientY?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&W.aa.h.call(this)}}b(W,G);var q={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),X=0;function Y(e,t,n,A,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!A,this.ha=r,this.key=++X,this.da=this.fa=!1}function Z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function ee(e,t){var n=t.type;if(n in e.g){var A,r=e.g[n],s=Array.prototype.indexOf.call(r,t,void 0);(A=0<=s)&&Array.prototype.splice.call(r,s,1),A&&(Z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function te(e,t,n,A){for(var r=0;r<e.length;++r){var s=e[r];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==A)return r}return-1}$.prototype.add=function(e,t,n,A,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var i=te(e,t,A,r);return-1<i?(t=e[i],n||(t.fa=!1)):((t=new Y(t,this.src,s,!!A,r)).fa=n,e.push(t)),t};var ne="closure_lm_"+(1e6*Math.random()|0),Ae={};function re(e,t,n,A,r){if(A&&A.once)return ie(e,t,n,A,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)re(e,t[s],n,A,r);return null}return n=he(n),e&&e[J]?e.K(t,n,i(A)?!!A.capture:!!A,r):se(e,t,n,!1,A,r)}function se(e,t,n,A,r,s){if(!t)throw Error("Invalid event type");var o=i(r)?!!r.capture:!!r,a=ue(e);if(a||(e[ne]=a=new $(e)),(n=a.add(t,n,A,o,s)).proxy)return n;if(A=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ce;return e}(),n.proxy=A,A.src=e,A.listener=n,e.addEventListener)z||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),A,r);else if(e.attachEvent)e.attachEvent(le(t.toString()),A);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(A)}return n}function ie(e,t,n,A,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ie(e,t[s],n,A,r);return null}return n=he(n),e&&e[J]?e.L(t,n,i(A)?!!A.capture:!!A,r):se(e,t,n,!0,A,r)}function oe(e,t,n,A,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)oe(e,t[s],n,A,r);else A=i(A)?!!A.capture:!!A,n=he(n),e&&e[J]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=te(s=e.g[t],n,A,r))&&(Z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ue(e))&&(t=e.g[t.toString()],e=-1,t&&(e=te(t,n,A,r)),(n=-1<e?t[e]:null)&&ae(n))}function ae(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[J])ee(t.i,e);else{var n=e.type,A=e.proxy;t.removeEventListener?t.removeEventListener(n,A,e.capture):t.detachEvent?t.detachEvent(le(n),A):t.addListener&&t.removeListener&&t.removeListener(A),(n=ue(t))?(ee(n,e),0==n.h&&(n.src=null,t[ne]=null)):Z(e)}}}function le(e){return e in Ae?Ae[e]:Ae[e]="on"+e}function ce(e,t){if(e.da)e=!0;else{t=new W(t,this);var n=e.listener,A=e.ha||e.src;e.fa&&ae(e),e=n.call(A,t)}return e}function ue(e){return(e=e[ne])instanceof $?e:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(e){return"function"===typeof e?e:(e[de]||(e[de]=function(t){return e.handleEvent(t)}),e[de])}function fe(){V.call(this),this.i=new $(this),this.M=this,this.F=null}function ge(e,t){var n,A=e.F;if(A)for(n=[];A;A=A.F)n.push(A);if(e=e.M,A=t.type||t,"string"===typeof t)t=new G(t,e);else if(t instanceof G)t.target=t.target||e;else{var r=t;_(t=new G(A,e),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var i=t.g=n[s];r=pe(i,A,!0,t)&&r}if(r=pe(i=t.g=e,A,!0,t)&&r,r=pe(i,A,!1,t)&&r,n)for(s=0;s<n.length;s++)r=pe(i=t.g=n[s],A,!1,t)&&r}function pe(e,t,n,A){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var i=t[s];if(i&&!i.da&&i.capture==n){var o=i.listener,a=i.ha||i.src;i.fa&&ee(e.i,i),r=!1!==o.call(a,A)&&r}}return r&&!A.defaultPrevented}function me(e,t,n){if("function"===typeof e)n&&(e=l(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)}function we(e){e.g=me(()=>{e.g=null,e.i&&(e.i=!1,we(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}b(fe,V),fe.prototype[J]=!0,fe.prototype.removeEventListener=function(e,t,n,A){oe(this,e,t,n,A)},fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],A=0;A<n.length;A++)Z(n[A]);delete t.g[e],t.h--}}this.F=null},fe.prototype.K=function(e,t,n,A){return this.i.add(String(e),t,!1,n,A)},fe.prototype.L=function(e,t,n,A){return this.i.add(String(e),t,!0,n,A)};class ye extends V{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:we(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(e){V.call(this),this.h=e,this.g={}}b(Be,V);var ve=[];function be(e){k(e.g,function(e,t){this.g.hasOwnProperty(t)&&ae(e)},e),e.g={}}Be.prototype.N=function(){Be.aa.N.call(this),be(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=r.JSON.stringify,xe=r.JSON.parse,Ee=class{stringify(e){return r.JSON.stringify(e,void 0)}parse(e){return r.JSON.parse(e,void 0)}};function Ue(){}function Ie(e){return e.h||(e.h=e.i())}function Qe(){}Ue.prototype.h=null;var Fe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ke(){G.call(this,"d")}function Se(){G.call(this,"c")}b(ke,G),b(Se,G);var Te={},_e=null;function Ne(){return _e=_e||new fe}function De(e){G.call(this,Te.La,e)}function Le(e){const t=Ne();ge(t,new De(t))}function He(e,t){G.call(this,Te.STAT_EVENT,e),this.stat=t}function Oe(e){const t=Ne();ge(t,new He(t,e))}function Pe(e,t){G.call(this,Te.Ma,e),this.size=t}function Re(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return r.setTimeout(function(){e()},t)}function Me(){this.g=!0}function je(e,t,n,A){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var A=n[e];if(!(2>A.length)){var r=A[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var i=1;i<r.length;i++)r[i]=""}}}return Ce(n)}catch(o){return t}}(e,n)+(A?" "+A:"")})}Te.La="serverreachability",b(De,G),Te.STAT_EVENT="statevent",b(He,G),Te.Ma="timingevent",b(Pe,G),Me.prototype.xa=function(){this.g=!1},Me.prototype.info=function(){};var Ke,Ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ze(){}function We(e,t,n,A){this.j=e,this.i=t,this.l=n,this.R=A||1,this.U=new Be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}b(ze,Ue),ze.prototype.g=function(){return new XMLHttpRequest},ze.prototype.i=function(){return{}},Ke=new ze;var Je={},Xe={};function Ye(e,t,n){e.L=1,e.v=Ct(wt(t)),e.m=n,e.P=!0,Ze(e,null)}function Ze(e,t){e.F=Date.now(),tt(e),e.A=wt(e.v);var n=e.A,A=e.R;Array.isArray(A)||(A=[String(A)]),Ht(n.i,"t",A),e.C=0,n=e.j.J,e.h=new qe,e.g=En(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ye(l(e.Y,e,e.g),e.O)),t=e.U,n=e.g,A=e.ca;var r="readystatechange";Array.isArray(r)||(r&&(ve[0]=r.toString()),r=ve);for(var s=0;s<r.length;s++){var i=re(n,r[s],A||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}t=e.H?S(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Le(),function(e,t,n,A,r,s){e.info(function(){if(e.g)if(s)for(var i="",o=s.split("&"),a=0;a<o.length;a++){var l=o[a].split("=");if(1<l.length){var c=l[0];l=l[1];var u=c.split("_");i=2<=u.length&&"type"==u[1]?i+(c+"=")+l+"&":i+(c+"=redacted&")}}else i=null;else i=s;return"XMLHTTP REQ ("+A+") [attempt "+r+"]: "+t+"\n"+n+"\n"+i})}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function et(e,t){var n=e.C,A=t.indexOf("\n",n);return-1==A?Xe:(n=Number(t.substring(n,A)),isNaN(n)?Je:(A+=1)+n>t.length?Xe:(t=t.slice(A,A+n),e.C=A+n,t))}function tt(e){e.S=Date.now()+e.I,nt(e,e.I)}function nt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Re(l(e.ba,e),t)}function At(e){e.B&&(r.clearTimeout(e.B),e.B=null)}function rt(e){0==e.j.G||e.J||Bn(e.j,e)}function st(e){At(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,be(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ut(n.h,e)))if(!e.K&&ut(n.h,e)&&3==n.G){try{var A=n.Da.g.parse(t)}catch(c){A=null}if(Array.isArray(A)&&3==A.length){var r=A;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yn(n),ln(n)}pn(n),Oe(18)}}else n.za=r[1],0<n.za-n.T&&37500>r[2]&&n.F&&0==n.v&&!n.C&&(n.C=Re(l(n.Za,n),6e3));if(1>=ct(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else bn(n,11)}else if((e.K||n.g==e)&&yn(n),!U(t))for(r=n.Da.g.parse(t),t=0;t<r.length;t++){let l=r[t];if(n.T=l[0],l=l[1],2==n.G)if("c"==l[0]){n.K=l[1],n.ia=l[2];const t=l[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const r=l[4];null!=r&&(n.Aa=r,n.j.info("SVER="+n.Aa));const c=l[5];null!=c&&"number"===typeof c&&0<c&&(A=1.5*c,n.L=A,n.j.info("backChannelRequestTimeoutMs_="+A)),A=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=A.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(dt(s,s.h),s.h=null))}if(A.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(A.ya=e,bt(A.I,A.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var i=e;if((A=n).qa=xn(A,A.J?A.ia:null,A.W),i.K){ht(A.h,i);var o=i,a=A.L;a&&(o.I=a),o.B&&(At(o),tt(o)),A.g=i}else gn(A);0<n.i.length&&un(n)}else"stop"!=l[0]&&"close"!=l[0]||bn(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?bn(n,7):an(n):"noop"!=l[0]&&n.l&&n.l.ta(l),n.v=0)}Le()}catch(c){}}We.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==An(e)?t.j():this.Y(e)},We.prototype.Y=function(e){try{if(e==this.g)e:{const d=An(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||rn(this.g)))){this.J||4!=d||7==t||Le(),At(this);var n=this.g.Z();this.X=n;t:if($e(this)){var A=rn(this.g);e="";var s=A.length,i=4==An(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){st(this),rt(this);var o="";break t}this.h.i=new r.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(A[t],{stream:!(i&&t==s-1)});A.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,A,r,s,i){e.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+i})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(a)){var c=a;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Oe(12),st(this),rt(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=et(this,o),e==Xe){4==d&&(this.s=4,Oe(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Je){this.s=4,Oe(15),je(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),it(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,Oe(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),mn(u),u.M=!0,Oe(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),st(this),rt(this)}else je(this.i,this.l,o,null),it(this,o);4==d&&st(this),this.o&&!this.J&&(4==d?Bn(this.j,this):(this.o=!1,tt(this)))}else(function(e){const t={};e=(e.g&&2<=An(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let A=0;A<e.length;A++){if(U(e[A]))continue;var n=N(e[A]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[r]||[];t[r]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Oe(12)):(this.s=0,Oe(13)),st(this),rt(this)}}}catch(v){}},We.prototype.cancel=function(){this.J=!0,st(this)},We.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Le(),Oe(17)),st(this),this.s=2,rt(this)):nt(this,this.S-e)};var ot=class{constructor(e,t){this.g=e,this.map=t}};function at(e){this.l=e||10,r.PerformanceNavigationTiming?e=0<(e=r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ct(e){return e.h?1:e.g?e.g.size:0}function ut(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dt(e,t){e.g?e.g.add(t):e.h=t}function ht(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ft(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return C(e.i)}function gt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const A in e)t[n++]=A;return t}}}(e),A=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,A=0;A<n;A++)t.push(e[A]);return t}for(A in t=[],n=0,e)t[n++]=e[A];return t}(e),r=A.length,i=0;i<r;i++)t.call(void 0,A[i],n&&n[i],e)}at.prototype.cancel=function(){if(this.i=ft(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof mt){this.h=e.h,yt(this,e.j),this.o=e.o,this.g=e.g,Bt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),vt(this,n),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,yt(this,t[1]||"",!0),this.o=xt(t[2]||""),this.g=xt(t[3]||"",!0),Bt(this,t[4]),this.l=xt(t[5]||"",!0),vt(this,t[6]||"",!0),this.m=xt(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function wt(e){return new mt(e)}function yt(e,t,n){e.j=n?xt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function vt(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Dt(this,t),Ht(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Et(t,St)),e.i=new _t(t,e.h))}function bt(e,t,n){e.i.set(t,n)}function Ct(e){return bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Et(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ut),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ut(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Et(t,Qt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(Et(t,Qt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Et(n,"/"==n.charAt(0)?kt:Ft,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",Et(n,Tt)),e.join("")};var It,Qt=/[#\/\?@]/g,Ft=/[#\?:]/g,kt=/[#\?]/g,St=/[#\?@]/g,Tt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var A=e[n].indexOf("="),r=null;if(0<=A){var s=e[n].substring(0,A);r=e[n].substring(A+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Dt(e,t){Nt(e),t=Ot(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Lt(e,t){return Nt(e),t=Ot(e,t),e.g.has(t)}function Ht(e,t,n){Dt(e,t),0<n.length&&(e.i=null,e.g.set(Ot(e,t),C(n)),e.h+=n.length)}function Ot(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Pt(e,t,n,A,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),A(n)}catch(s){}}function Rt(){this.g=new Ee}function Mt(e,t,n){const A=n||"";try{gt(e,function(e,n){let r=e;i(e)&&(r=Ce(e)),t.push(A+n+"="+encodeURIComponent(r))})}catch(r){throw t.push(A+"type="+encodeURIComponent("_badmap")),r}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Kt(e,t){fe.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Vt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Gt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,zt(e)}function zt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Wt(e){let t="";return k(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function qt(e,t,n){e:{for(A in n){var A=!1;break e}A=!0}A||(n=Wt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):bt(e,t,n))}function Jt(e){fe.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){Nt(this),this.i=null,e=Ot(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach(function(n,A){n.forEach(function(n){e.call(t,n,A,this)},this)},this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let A=0;A<t.length;A++){const r=e[A];for(let e=0;e<r.length;e++)n.push(t[A])}return n},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)Lt(this,e)&&(t=t.concat(this.g.get(Ot(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Nt(this),this.i=null,Lt(this,e=Ot(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var A=t[n];const s=encodeURIComponent(String(A)),i=this.V(A);for(A=0;A<i.length;A++){var r=s;""!==i[A]&&(r+="="+encodeURIComponent(String(i[A]))),e.push(r)}}return this.i=e.join("&")},b(jt,Ue),jt.prototype.g=function(){return new Kt(this.l,this.j)},jt.prototype.i=(It={},function(){return It}),b(Kt,fe),(e=Kt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,zt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||r).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zt(this)),this.g&&(this.readyState=3,zt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Gt(this):zt(this),3==this.readyState&&Vt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Gt(this))},e.Qa=function(e){this.g&&(this.response=e,Gt(this))},e.ga=function(){this.g&&Gt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Kt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),b(Jt,fe);var Xt=/^https?$/i,Yt=["POST","PUT"];function Zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),tn(e)}function $t(e){e.A||(e.A=!0,ge(e,"complete"),ge(e,"error"))}function en(e){if(e.h&&"undefined"!=typeof A&&(!e.v[1]||4!=An(e)||2!=e.Z()))if(e.u&&4==An(e))me(e.Ea,0,e);else if(ge(e,"readystatechange"),4==An(e)){e.h=!1;try{const A=e.Z();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===A){var i=String(e.D).match(pt)[1]||null;!i&&r.self&&r.self.location&&(i=r.self.location.protocol.slice(0,-1)),s=!Xt.test(i?i.toLowerCase():"")}n=s}if(n)ge(e,"complete"),ge(e,"success");else{e.m=6;try{var o=2<An(e)?e.g.statusText:""}catch(a){o=""}e.l=o+" ["+e.Z()+"]",$t(e)}}finally{tn(e)}}}function tn(e,t){if(e.g){nn(e);const A=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ge(e,"ready");try{A.onreadystatechange=r}catch(n){}}}function nn(e){e.I&&(r.clearTimeout(e.I),e.I=null)}function An(e){return e.g?e.g.readyState:0}function rn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(x){return null}}function sn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function on(e){this.Aa=0,this.i=[],this.j=new Me,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sn("baseRetryDelayMs",5e3,e),this.cb=sn("retryDelaySeedMs",1e4,e),this.Wa=sn("forwardChannelMaxRetries",2,e),this.wa=sn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new at(e&&e.concurrentRequestLimit),this.Da=new Rt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function an(e){if(cn(e),3==e.G){var t=e.U++,n=wt(e.I);if(bt(n,"SID",e.K),bt(n,"RID",t),bt(n,"TYPE","terminate"),hn(e,n),(t=new We(e,e.j,t)).L=2,t.v=Ct(wt(n)),n=!1,r.navigator&&r.navigator.sendBeacon)try{n=r.navigator.sendBeacon(t.v.toString(),"")}catch(A){}!n&&r.Image&&((new Image).src=t.v,n=!0),n||(t.g=En(t.j,null),t.g.ea(t.v)),t.F=Date.now(),tt(t)}Cn(e)}function ln(e){e.g&&(mn(e),e.g.cancel(),e.g=null)}function cn(e){ln(e),e.u&&(r.clearTimeout(e.u),e.u=null),yn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&r.clearTimeout(e.s),e.s=null)}function un(e){if(!lt(e.h)&&!e.s){e.s=!0;var t=e.Ga;P||j(),R||(P(),R=!0),M.add(t,e),e.B=0}}function dn(e,t){var n;n=t?t.l:e.U++;const A=wt(e.I);bt(A,"SID",e.K),bt(A,"RID",n),bt(A,"AID",e.T),hn(e,A),e.m&&e.o&&qt(A,e.m,e.o),n=new We(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=fn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),dt(e.h,n),Ye(n,A,t)}function hn(e,t){e.H&&k(e.H,function(e,n){bt(t,n,e)}),e.l&&gt({},function(e,n){bt(t,n,e)})}function fn(e,t,n){n=Math.min(e.i.length,n);var A=e.l?l(e.l.Na,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let i=0;i<n;i++){let n=r[i].g;const o=r[i].map;if(n-=t,0>n)t=Math.max(0,r[i].g-100),s=!1;else try{Mt(o,e,"req"+n+"_")}catch(v){A&&A(o)}}if(s){A=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,A}function gn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;P||j(),R||(P(),R=!0),M.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Re(l(e.Fa,e),vn(e,e.v)),e.v++,!0)}function mn(e){null!=e.A&&(r.clearTimeout(e.A),e.A=null)}function wn(e){e.g=new We(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=wt(e.qa);bt(t,"RID","rpc"),bt(t,"SID",e.K),bt(t,"AID",e.T),bt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&bt(t,"TO",e.ja),bt(t,"TYPE","xmlhttp"),hn(e,t),e.m&&e.o&&qt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=Ct(wt(t)),n.m=null,n.P=!0,Ze(n,e)}function yn(e){null!=e.C&&(r.clearTimeout(e.C),e.C=null)}function Bn(e,t){var n=null;if(e.g==t){yn(e),mn(e),e.g=null;var A=2}else{if(!ut(e.h,t))return;n=t.D,ht(e.h,t),A=1}if(0!=e.G)if(t.o)if(1==A){n=t.m?t.m.length:0,t=Date.now()-t.F;var r=e.B;ge(A=Ne(),new Pe(A,n)),un(e)}else gn(e);else if(3==(r=t.s)||0==r&&0<t.X||!(1==A&&function(e,t){return!(ct(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Re(l(e.Ga,e,t),vn(e,e.B)),e.B++,!0))}(e,t)||2==A&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:bn(e,5);break;case 4:bn(e,10);break;case 3:bn(e,6);break;default:bn(e,2)}}function vn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function bn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.fb,e),A=e.Xa;const t=!A;A=new mt(A||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||yt(A,"https"),Ct(A),t?function(e,t){const n=new Me;if(r.Image){const A=new Image;A.onload=c(Pt,n,"TestLoadImage: loaded",!0,t,A),A.onerror=c(Pt,n,"TestLoadImage: error",!1,t,A),A.onabort=c(Pt,n,"TestLoadImage: abort",!1,t,A),A.ontimeout=c(Pt,n,"TestLoadImage: timeout",!1,t,A),r.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=e}else t(!1)}(A.toString(),n):function(e,t){new Me;const n=new AbortController,A=setTimeout(()=>{n.abort(),Pt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(A),e.ok?Pt(0,0,!0,t):Pt(0,0,!1,t)}).catch(()=>{clearTimeout(A),Pt(0,0,!1,t)})}(A.toString(),n)}else Oe(2);e.G=0,e.l&&e.l.sa(t),Cn(e),cn(e)}function Cn(e){if(e.G=0,e.ka=[],e.l){const t=ft(e.h);0==t.length&&0==e.i.length||(E(e.ka,t),E(e.ka,e.i),e.h.i.length=0,C(e.i),e.i.length=0),e.l.ra()}}function xn(e,t,n){var A=n instanceof mt?wt(n):new mt(n);if(""!=A.g)t&&(A.g=t+"."+A.g),Bt(A,A.s);else{var s=r.location;A=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new mt(null);A&&yt(i,A),t&&(i.g=t),s&&Bt(i,s),n&&(i.l=n),A=i}return n=e.D,t=e.ya,n&&t&&bt(A,n,t),bt(A,"VER",e.la),hn(e,A),A}function En(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Jt(new jt({eb:n})):new Jt(e.pa)).Ha(e.J),t}function Un(){}function In(){}function Qn(e,t){fe.call(this),this.g=new on(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!U(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!U(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Sn(this)}function Fn(e){ke.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kn(){Se.call(this),this.status=1}function Sn(e){this.g=e}(e=Jt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ke.g(),this.v=this.o?Ie(this.o):Ie(Ke),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(i){return void Zt(this,i)}if(e=n||"",n=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var s in A)n.set(s,A[s]);else{if("function"!==typeof A.keys||"function"!==typeof A.get)throw Error("Unknown input type for opt_headers: "+String(A));for(const e of A.keys())n.set(e,A.get(e))}A=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=r.FormData&&e instanceof r.FormData,!(0<=Array.prototype.indexOf.call(Yt,t,void 0))||A||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nn(this),this.u=!0,this.g.send(e),this.u=!1}catch(i){Zt(this,i)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ge(this,"complete"),ge(this,"abort"),tn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?en(this):this.bb())},e.bb=function(){en(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<An(this)?this.g.status:-1}catch(It){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(It){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xe(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=on.prototype).la=8,e.G=1,e.connect=function(e,t,n,A){Oe(0),this.W=e,this.H=t||{},n&&void 0!==A&&(this.H.OSID=n,this.H.OAID=A),this.F=this.X,this.I=xn(this,null,this.W),un(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new We(this,this.j,e);let s=this.o;if(this.S&&(s?(s=S(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(r.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var A=this.i[n];if(void 0===(A="__data__"in A.map&&"string"===typeof(A=A.map.__data__)?A.length:void 0))break;if(4096<(t+=A)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=fn(this,r,t),bt(n=wt(this.I),"RID",e),bt(n,"CVER",22),this.D&&bt(n,"X-HTTP-Session-Id",this.D),hn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Wt(s)))+"&"+t:this.m&&qt(n,this.m,s)),dt(this.h,r),this.Ua&&bt(n,"TYPE","init"),this.P?(bt(n,"$req",t),bt(n,"SID","null"),r.T=!0,Ye(r,n,null)):Ye(r,n,t),this.G=2}}else 3==this.G&&(e?dn(this,e):0==this.i.length||lt(this.h)||dn(this))},e.Fa=function(){if(this.u=null,wn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Re(l(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Oe(10),ln(this),wn(this))},e.Za=function(){null!=this.C&&(this.C=null,ln(this),pn(this),Oe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Un.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},In.prototype.g=function(e,t){return new Qn(e,t)},b(Qn,fe),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){an(this.g)},Qn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=Ce(e),e=n);t.i.push(new ot(t.Ya++,e)),3==t.G&&un(t)},Qn.prototype.N=function(){this.g.l=null,delete this.j,an(this.g),delete this.g,Qn.aa.N.call(this)},b(Fn,ke),b(kn,Se),b(Sn,Un),Sn.prototype.ua=function(){ge(this.g,"a")},Sn.prototype.ta=function(e){ge(this.g,new Fn(e))},Sn.prototype.sa=function(e){ge(this.g,new kn)},Sn.prototype.ra=function(){ge(this.g,"b")},In.prototype.createWebChannel=In.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,w=B.createWebChannelTransport=function(){return new In},m=B.getStatEventTarget=function(){return Ne()},p=B.Event=Te,g=B.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ve.NO_ERROR=0,Ve.TIMEOUT=8,Ve.HTTP_ERROR=6,f=B.ErrorCode=Ve,Ge.COMPLETE="complete",h=B.EventType=Ge,Qe.EventType=Fe,Fe.OPEN="a",Fe.CLOSE="b",Fe.ERROR="c",Fe.MESSAGE="d",fe.prototype.listen=fe.prototype.K,d=B.WebChannel=Qe,B.FetchXmlHttpFactory=jt,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,u=B.XhrIo=Jt}).apply("undefined"!==typeof y?y:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const v="@firebase/firestore";class b{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}b.UNAUTHENTICATED=new b(null),b.GOOGLE_CREDENTIALS=new b("google-credentials-uid"),b.FIRST_PARTY=new b("first-party-uid"),b.MOCK_USER=new b("mock-user");let C="10.14.0";const x=new o.Vy("@firebase/firestore");function E(){return x.logLevel}function U(e){if(x.logLevel<=o.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];const r=n.map(F);x.debug("Firestore (".concat(C,"): ").concat(e),...r)}}function I(e){if(x.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];const r=n.map(F);x.error("Firestore (".concat(C,"): ").concat(e),...r)}}function Q(e){if(x.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];const r=n.map(F);x.warn("Firestore (".concat(C,"): ").concat(e),...r)}}function F(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(C,") INTERNAL ASSERTION FAILED: ")+e;throw I(t),new Error(t)}function S(e,t){e||k()}function T(e,t){return e}const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class N extends a.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class D{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class L{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class H{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(b.UNAUTHENTICATED))}shutdown(){}}class O{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class P{constructor(e){this.t=e,this.currentUser=b.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){S(void 0===this.o);let n=this.i;const A=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new D;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new D,e.enqueueRetryable(()=>A(this.currentUser))};const s=()=>{const t=r;e.enqueueRetryable(async()=>{await t.promise,await A(this.currentUser)})},i=e=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>i(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new D)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(S("string"==typeof t.accessToken),new L(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return S(null===e||"string"==typeof e),new b(e)}}class R{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=b.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class M{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new R(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(b.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){S(void 0===this.o);const n=e=>{null!=e.error&&U("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,U("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const A=e=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>A(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?A(e):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(S("string"==typeof e.token),this.R=e.token,new j(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function V(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let A=0;A<e;A++)n[A]=Math.floor(256*Math.random());return n}class G{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const A=V(40);for(let r=0;r<A.length;++r)n.length<20&&A[r]<t&&(n+=e.charAt(A[r]%62))}return n}}function z(e,t){return e<t?-1:e>t?1:0}function W(e,t,n){return e.length===t.length&&e.every((e,A)=>n(e,t[A]))}function q(e){return e+"\0"}class J{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new N(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new N(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new N(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new N(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return J.fromMillis(Date.now())}static fromDate(e){return J.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new J(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?z(this.nanoseconds,e.nanoseconds):z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new J(0,0))}static max(){return new X(new J(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Y{constructor(e,t,n){void 0===t?t=0:t>e.length&&k(),void 0===n?n=e.length-t:n>e.length-t&&k(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Y.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Y?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let A=0;A<n;A++){const n=e.get(A),r=t.get(A);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Z extends Y{construct(e,t,n){return new Z(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),A=0;A<t;A++)n[A]=arguments[A];for(const r of n){if(r.indexOf("//")>=0)throw new N(_.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter(e=>e.length>0))}return new Z(e)}static emptyPath(){return new Z([])}}const $=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ee extends Y{construct(e,t,n){return new ee(e,t,n)}static isValidIdentifier(e){return $.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ee.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ee(["__name__"])}static fromServerFormat(e){const t=[];let n="",A=0;const r=()=>{if(0===n.length)throw new N(_.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;A<e.length;){const t=e[A];if("\\"===t){if(A+1===e.length)throw new N(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[A+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new N(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,A+=2}else"`"===t?(s=!s,A++):"."!==t||s?(n+=t,A++):(r(),A++)}if(r(),s)throw new N(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ee(t)}static emptyPath(){return new ee([])}}class te{constructor(e){this.path=e}static fromPath(e){return new te(Z.fromString(e))}static fromName(e){return new te(Z.fromString(e).popFirst(5))}static empty(){return new te(Z.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Z.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Z.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Z(e.slice()))}}class ne{constructor(e,t,n,A){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=A}}function Ae(e){return e.fields.find(e=>2===e.kind)}function re(e){return e.fields.filter(e=>2!==e.kind)}ne.UNKNOWN_ID=-1;class se{constructor(e,t){this.fieldPath=e,this.kind=t}}class ie{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ie(0,le.min())}}function oe(e,t){const n=e.toTimestamp().seconds,A=e.toTimestamp().nanoseconds+1,r=X.fromTimestamp(1e9===A?new J(n+1,0):new J(n,A));return new le(r,te.empty(),t)}function ae(e){return new le(e.readTime,e.key,-1)}class le{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new le(X.min(),te.empty(),-1)}static max(){return new le(X.max(),te.empty(),-1)}}function ce(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=te.comparator(e.documentKey,t.documentKey),0!==n?n:z(e.largestBatchId,t.largestBatchId))}const ue="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class de{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function he(e){if(e.code!==_.FAILED_PRECONDITION||e.message!==ue)throw e;U("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((n,A)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,A)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,A)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(e){return fe.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,n)=>{t(e)})}static reject(e){return new fe((t,n)=>{n(e)})}static waitFor(e){return new fe((t,n)=>{let A=0,r=0,s=!1;e.forEach(e=>{++A,e.next(()=>{++r,s&&r===A&&t()},e=>n(e))}),s=!0,r===A&&t()})}static or(e){let t=fe.resolve(!1);for(const n of e)t=t.next(e=>e?fe.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,A)=>{n.push(t.call(this,e,A))}),this.waitFor(n)}static mapArray(e,t){return new fe((n,A)=>{const r=e.length,s=new Array(r);let i=0;for(let o=0;o<r;o++){const a=o;t(e[a]).next(e=>{s[a]=e,++i,i===r&&n(s)},e=>A(e))}})}static doWhile(e,t){return new fe((n,A)=>{const r=()=>{!0===e()?t().next(()=>{r()},A):n()};r()})}}class ge{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new D,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ye(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=xe(t.target.error);this.V.reject(new ye(e,n))}}static open(e,t,n,A){try{return new ge(t,e.transaction(A,n))}catch(e){throw new ye(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(U("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ve(t)}}class pe{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===pe.S((0,a.ZQ)())&&I("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return U("SimpleDb","Removing database:",e),be(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,a.zW)())return!1;if(pe.v())return!0;const e=(0,a.ZQ)(),t=pe.S(e),n=0<t&&t<10,A=me(e),r=0<A&&A<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||r)}static v(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(U("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const A=indexedDB.open(this.name,this.version);A.onsuccess=e=>{const n=e.target.result;t(n)},A.onblocked=()=>{n(new ye(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},A.onerror=t=>{const A=t.target.error;"VersionError"===A.name?n(new N(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===A.name?n(new N(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A)):n(new ye(e,A))},A.onupgradeneeded=e=>{U("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,A.transaction,e.oldVersion,this.version).next(()=>{U("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,A){const r="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.M(e);const t=ge.open(this.db,e,r?"readonly":"readwrite",n),s=A(t).next(e=>(t.g(),e)).catch(e=>(t.abort(e),fe.reject(e))).toPromise();return s.catch(()=>{}),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(U("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function me(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class we{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return be(this.B.delete())}}class ye extends N{constructor(e,t){super(_.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Be(e){return"IndexedDbTransactionError"===e.name}class ve{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(U("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(U("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),be(n)}add(e){return U("SimpleDb","ADD",this.store.name,e,e),be(this.store.add(e))}get(e){return be(this.store.get(e)).next(t=>(void 0===t&&(t=null),U("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return U("SimpleDb","DELETE",this.store.name,e),be(this.store.delete(e))}count(){return U("SimpleDb","COUNT",this.store.name),be(this.store.count())}U(e,t){const n=this.options(e,t),A=n.index?this.store.index(n.index):this.store;if("function"==typeof A.getAll){const e=A.getAll(n.range);return new fe((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{const e=this.cursor(n),t=[];return this.W(e,(e,n)=>{t.push(n)}).next(()=>t)}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new fe((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}j(e,t){U("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const A=this.cursor(n);return this.W(A,(e,t,n)=>n.delete())}J(e,t){let n;t?n=e:(n={},t=e);const A=this.cursor(n);return this.W(A,t)}Y(e){const t=this.cursor({});return new fe((n,A)=>{t.onerror=e=>{const t=xe(e.target.error);A(t)},t.onsuccess=t=>{const A=t.target.result;A?e(A.primaryKey,A.value).next(e=>{e?A.continue():n()}):n()}})}W(e,t){const n=[];return new fe((A,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{const r=e.target.result;if(!r)return void A();const s=new we(r),i=t(r.primaryKey,r.value,s);if(i instanceof fe){const e=i.catch(e=>(s.done(),fe.reject(e)));n.push(e)}s.isDone?A():null===s.K?r.continue():r.continue(s.K)}}).next(()=>fe.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function be(e){return new fe((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=xe(e.target.error);n(t)}})}let Ce=!1;function xe(e){const t=pe.S((0,a.ZQ)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new N("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ce||(Ce=!0,setTimeout(()=>{throw e},0)),e}}return e}class Ee{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){U("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{U("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){Be(e)?U("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await he(e)}await this.X(6e4)})}}class Ue{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))}te(e,t){const n=new Set;let A=t,r=!0;return fe.doWhile(()=>!0===r&&A>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return U("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,A).next(e=>{A-=e,n.add(t)});r=!1})).next(()=>t-A)}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(A=>this.localStore.localDocuments.getNextDocuments(e,t,A,n).next(n=>{const r=n.changes;return this.localStore.indexManager.updateIndexEntries(e,r).next(()=>this.re(A,n)).next(n=>(U("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>r.size)}))}re(e,t){let n=e;return t.changes.forEach((e,t)=>{const A=ae(t);ce(A,n)>0&&(n=A)}),new le(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ie{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Qe(e){return null==e}function Fe(e){return 0===e&&1/e==-1/0}function ke(e){return"number"==typeof e&&Number.isInteger(e)&&!Fe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Se(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=_e(t)),t=Te(e.get(n),t);return _e(t)}function Te(e,t){let n=t;const A=e.length;for(let r=0;r<A;r++){const t=e.charAt(r);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function _e(e){return e+"\x01\x01"}function Ne(e){const t=e.length;if(S(t>=2),2===t)return S("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Z.emptyPath();const n=t-2,A=[];let r="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&k(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let i;0===r.length?i=n:(r+=n,i=r,r=""),A.push(i);break;case"\x10":r+=e.substring(s,t),r+="\0";break;case"\x11":r+=e.substring(s,t+1);break;default:k()}s=t+2}return new Z(A)}Ie.oe=-1;const De=["userId","batchId"];function Le(e,t){return[e,Se(t)]}function He(e,t,n){return[e,Se(t),n]}const Oe={},Pe=["prefixPath","collectionGroup","readTime","documentId"],Re=["prefixPath","collectionGroup","documentId"],Me=["collectionGroup","readTime","prefixPath","documentId"],je=["canonicalId","targetId"],Ke=["targetId","path"],Ve=["path","targetId"],Ge=["collectionId","parent"],ze=["indexId","uid"],We=["uid","sequenceNumber"],qe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Je=["indexId","uid","orderedDocumentKey"],Xe=["userId","collectionPath","documentId"],Ye=["userId","collectionPath","largestBatchId"],Ze=["userId","collectionGroup","largestBatchId"],$e=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],et=[...$e,"documentOverlays"],tt=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nt=tt,At=[...nt,"indexConfiguration","indexState","indexEntries"],rt=At,st=[...At,"globals"];class it extends de{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function ot(e,t){const n=T(e);return pe.F(n._e,t)}function at(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lt(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ct(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ut{constructor(e,t){this.comparator=e,this.root=t||ht.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const A=this.comparator(e,n.key);if(0===A)return t+n.left.size;A<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dt(this.root,e,this.comparator,!1)}getReverseIterator(){return new dt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dt(this.root,e,this.comparator,!0)}}class dt{constructor(e,t,n,A){this.isReverse=A,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&A&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,t,n,A,r){this.key=e,this.value=t,this.color=null!=n?n:ht.RED,this.left=null!=A?A:ht.EMPTY,this.right=null!=r?r:ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,A,r){return new ht(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=A?A:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let A=this;const r=n(e,A.key);return A=r<0?A.copy(null,null,null,A.left.insert(e,t,n),null):0===r?A.copy(null,t,null,null,null):A.copy(null,null,null,null,A.right.insert(e,t,n)),A.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,A=this;if(t(e,A.key)<0)A.left.isEmpty()||A.left.isRed()||A.left.left.isRed()||(A=A.moveRedLeft()),A=A.copy(null,null,null,A.left.remove(e,t),null);else{if(A.left.isRed()&&(A=A.rotateRight()),A.right.isEmpty()||A.right.isRed()||A.right.left.isRed()||(A=A.moveRedRight()),0===t(e,A.key)){if(A.right.isEmpty())return ht.EMPTY;n=A.right.min(),A=A.copy(n.key,n.value,null,null,A.right.removeMin())}A=A.copy(null,null,null,null,A.right.remove(e,t))}return A.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw k();if(this.right.isRed())throw k();const e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1,ht.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(e,t,n,A,r){return this}insert(e,t,n){return new ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ft{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const A=n.getNext();if(this.comparator(A.key,e[1])>=0)return;t(A.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gt(this.data.getIterator())}getIteratorFrom(e){return new gt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ft))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,A=n.getNext().key;if(0!==this.comparator(e,A))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ft(this.comparator);return t.data=e,t}}class gt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pt(e){return e.hasNext()?e.getNext():void 0}class mt{constructor(e){this.fields=e,e.sort(ee.comparator)}static empty(){return new mt([])}unionWith(e){let t=new ft(ee.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new mt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return W(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class wt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new wt("Invalid base64 string: "+e):e}}(e);return new yt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const Bt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vt(e){if(S(!!e),"string"==typeof e){let t=0;const n=Bt.exec(e);if(S(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const A=new Date(e);return{seconds:Math.floor(A.getTime()/1e3),nanos:t}}return{seconds:bt(e.seconds),nanos:bt(e.nanos)}}function bt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ct(e){return"string"==typeof e?yt.fromBase64String(e):yt.fromUint8Array(e)}function xt(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Et(e){const t=e.mapValue.fields.__previous_value__;return xt(t)?Et(t):t}function Ut(e){const t=vt(e.mapValue.fields.__local_write_time__.timestampValue);return new J(t.seconds,t.nanos)}class It{constructor(e,t,n,A,r,s,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=A,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=i,this.longPollingOptions=o,this.useFetchStreams=a}}class Qt{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qt&&e.projectId===this.projectId&&e.database===this.database}}const Ft={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},kt={nullValue:"NULL_VALUE"};function St(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xt(e)?4:Wt(e)?9007199254740991:Gt(e)?10:11:k()}function Tt(e,t){if(e===t)return!0;const n=St(e);if(n!==St(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ut(e).isEqual(Ut(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=vt(e.timestampValue),A=vt(t.timestampValue);return n.seconds===A.seconds&&n.nanos===A.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ct(e.bytesValue).isEqual(Ct(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bt(e.geoPointValue.latitude)===bt(t.geoPointValue.latitude)&&bt(e.geoPointValue.longitude)===bt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bt(e.integerValue)===bt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=bt(e.doubleValue),A=bt(t.doubleValue);return n===A?Fe(n)===Fe(A):isNaN(n)&&isNaN(A)}return!1}(e,t);case 9:return W(e.arrayValue.values||[],t.arrayValue.values||[],Tt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},A=t.mapValue.fields||{};if(at(n)!==at(A))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===A[r]||!Tt(n[r],A[r])))return!1;return!0}(e,t);default:return k()}}function _t(e,t){return void 0!==(e.values||[]).find(e=>Tt(e,t))}function Nt(e,t){if(e===t)return 0;const n=St(e),A=St(t);if(n!==A)return z(n,A);switch(n){case 0:case 9007199254740991:return 0;case 1:return z(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=bt(e.integerValue||e.doubleValue),A=bt(t.integerValue||t.doubleValue);return n<A?-1:n>A?1:n===A?0:isNaN(n)?isNaN(A)?0:-1:1}(e,t);case 3:return Dt(e.timestampValue,t.timestampValue);case 4:return Dt(Ut(e),Ut(t));case 5:return z(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ct(e),A=Ct(t);return n.compareTo(A)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),A=t.split("/");for(let r=0;r<n.length&&r<A.length;r++){const e=z(n[r],A[r]);if(0!==e)return e}return z(n.length,A.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=z(bt(e.latitude),bt(t.latitude));return 0!==n?n:z(bt(e.longitude),bt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Lt(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,A,r,s;const i=e.fields||{},o=t.fields||{},a=null===(n=i.value)||void 0===n?void 0:n.arrayValue,l=null===(A=o.value)||void 0===A?void 0:A.arrayValue,c=z((null===(r=null==a?void 0:a.values)||void 0===r?void 0:r.length)||0,(null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:Lt(a,l)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ft.mapValue&&t===Ft.mapValue)return 0;if(e===Ft.mapValue)return 1;if(t===Ft.mapValue)return-1;const n=e.fields||{},A=Object.keys(n),r=t.fields||{},s=Object.keys(r);A.sort(),s.sort();for(let i=0;i<A.length&&i<s.length;++i){const e=z(A[i],s[i]);if(0!==e)return e;const t=Nt(n[A[i]],r[s[i]]);if(0!==t)return t}return z(A.length,s.length)}(e.mapValue,t.mapValue);default:throw k()}}function Dt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return z(e,t);const n=vt(e),A=vt(t),r=z(n.seconds,A.seconds);return 0!==r?r:z(n.nanos,A.nanos)}function Lt(e,t){const n=e.values||[],A=t.values||[];for(let r=0;r<n.length&&r<A.length;++r){const e=Nt(n[r],A[r]);if(e)return e}return z(n.length,A.length)}function Ht(e){return Ot(e)}function Ot(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=vt(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ct(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return te.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const A of e.values||[])n?n=!1:t+=",",t+=Ot(A);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",A=!0;for(const r of t)A?A=!1:n+=",",n+="".concat(r,":").concat(Ot(e.fields[r]));return n+"}"}(e.mapValue):k()}function Pt(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Rt(e){return!!e&&"integerValue"in e}function Mt(e){return!!e&&"arrayValue"in e}function jt(e){return!!e&&"nullValue"in e}function Kt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vt(e){return!!e&&"mapValue"in e}function Gt(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return lt(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=zt(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Wt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}const qt={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Jt(e){return"nullValue"in e?kt:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Pt(Qt.empty(),te.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?Gt(e)?qt:{mapValue:{}}:k()}function Xt(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Pt(Qt.empty(),te.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?qt:"mapValue"in e?Gt(e)?{mapValue:{}}:Ft:k()}function Yt(e,t){const n=Nt(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Zt(e,t){const n=Nt(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Vt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zt(t)}setAll(e){let t=ee.emptyPath(),n={},A=[];e.forEach((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,A),n={},A=[],t=r.popLast()}e?n[r.lastSegment()]=zt(e):A.push(r.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,n,A)}delete(e){const t=this.field(e.popLast());Vt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let A=t.mapValue.fields[e.get(n)];Vt(A)&&A.mapValue.fields||(A={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=A),t=A}return t.mapValue.fields}applyChanges(e,t,n){lt(t,(t,n)=>e[t]=n);for(const A of n)delete e[A]}clone(){return new $t(zt(this.value))}}function en(e){const t=[];return lt(e.fields,(e,n)=>{const A=new ee([e]);if(Vt(n)){const e=en(n.mapValue).fields;if(0===e.length)t.push(A);else for(const n of e)t.push(A.child(n))}else t.push(A)}),new mt(t)}class tn{constructor(e,t,n,A,r,s,i){this.key=e,this.documentType=t,this.version=n,this.readTime=A,this.createTime=r,this.data=s,this.documentState=i}static newInvalidDocument(e){return new tn(e,0,X.min(),X.min(),X.min(),$t.empty(),0)}static newFoundDocument(e,t,n,A){return new tn(e,1,t,X.min(),n,A,0)}static newNoDocument(e,t){return new tn(e,2,t,X.min(),X.min(),$t.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,X.min(),X.min(),$t.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(X.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class nn{constructor(e,t){this.position=e,this.inclusive=t}}function An(e,t,n){let A=0;for(let r=0;r<e.position.length;r++){const s=t[r],i=e.position[r];if(A=s.field.isKeyField()?te.comparator(te.fromName(i.referenceValue),n.key):Nt(i,n.data.field(s.field)),"desc"===s.dir&&(A*=-1),0!==A)break}return A}function rn(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Tt(e.position[n],t.position[n]))return!1;return!0}class sn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function on(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class an{}class ln extends an{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new yn(e,t,n):"array-contains"===t?new Cn(e,n):"in"===t?new xn(e,n):"not-in"===t?new En(e,n):"array-contains-any"===t?new Un(e,n):new ln(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Bn(e,n):new vn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nt(t,this.value)):null!==t&&St(this.value)===St(t)&&this.matchesComparison(Nt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cn extends an{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new cn(e,t)}matches(e){return un(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function un(e){return"and"===e.op}function dn(e){return"or"===e.op}function hn(e){return fn(e)&&un(e)}function fn(e){for(const t of e.filters)if(t instanceof cn)return!1;return!0}function gn(e){if(e instanceof ln)return e.field.canonicalString()+e.op.toString()+Ht(e.value);if(hn(e))return e.filters.map(e=>gn(e)).join(",");{const t=e.filters.map(e=>gn(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function pn(e,t){return e instanceof ln?function(e,t){return t instanceof ln&&e.op===t.op&&e.field.isEqual(t.field)&&Tt(e.value,t.value)}(e,t):e instanceof cn?function(e,t){return t instanceof cn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,A)=>e&&pn(n,t.filters[A]),!0)}(e,t):void k()}function mn(e,t){const n=e.filters.concat(t);return cn.create(n,e.op)}function wn(e){return e instanceof ln?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ht(e.value))}(e):e instanceof cn?function(e){return e.op.toString()+" {"+e.getFilters().map(wn).join(" ,")+"}"}(e):"Filter"}class yn extends ln{constructor(e,t,n){super(e,t,n),this.key=te.fromName(n.referenceValue)}matches(e){const t=te.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bn extends ln{constructor(e,t){super(e,"in",t),this.keys=bn("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vn extends ln{constructor(e,t){super(e,"not-in",t),this.keys=bn("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>te.fromName(e.referenceValue))}class Cn extends ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mt(t)&&_t(t.arrayValue,this.value)}}class xn extends ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_t(this.value.arrayValue,t)}}class En extends ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(_t(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_t(this.value.arrayValue,t)}}class Un extends ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>_t(this.value.arrayValue,e))}}class In{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=A,this.limit=r,this.startAt=s,this.endAt=i,this.ue=null}}function Qn(e){return new In(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Fn(e){const t=T(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>gn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Qe(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ht(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ht(e)).join(",")),t.ue=e}return t.ue}function kn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!on(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!pn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rn(e.startAt,t.startAt)&&rn(e.endAt,t.endAt)}function Sn(e){return te.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Tn(e,t){return e.filters.filter(e=>e instanceof ln&&e.field.isEqual(t))}function _n(e,t,n){let A=kt,r=!0;for(const s of Tn(e,t)){let e=kt,t=!0;switch(s.op){case"<":case"<=":e=Jt(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=kt}Yt({value:A,inclusive:r},{value:e,inclusive:t})<0&&(A=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Yt({value:A,inclusive:r},{value:e,inclusive:n.inclusive})<0&&(A=e,r=n.inclusive);break}return{value:A,inclusive:r}}function Nn(e,t,n){let A=Ft,r=!0;for(const s of Tn(e,t)){let e=Ft,t=!0;switch(s.op){case">=":case">":e=Xt(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Ft}Zt({value:A,inclusive:r},{value:e,inclusive:t})>0&&(A=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Zt({value:A,inclusive:r},{value:e,inclusive:n.inclusive})>0&&(A=e,r=n.inclusive);break}return{value:A,inclusive:r}}class Dn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=A,this.limit=r,this.limitType=s,this.startAt=i,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ln(e,t,n,A,r,s,i,o){return new Dn(e,t,n,A,r,s,i,o)}function Hn(e){return new Dn(e)}function On(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Pn(e){return null!==e.collectionGroup}function Rn(e){const t=T(e);if(null===t.ce){t.ce=[];const e=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",A=function(e){let t=new ft(ee.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);A.forEach(A=>{e.has(A.canonicalString())||A.isKeyField()||t.ce.push(new sn(A,n))}),e.has(ee.keyField().canonicalString())||t.ce.push(new sn(ee.keyField(),n))}return t.ce}function Mn(e){const t=T(e);return t.le||(t.le=jn(t,Rn(e))),t.le}function jn(e,t){if("F"===e.limitType)return Qn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new sn(e.field,t)});const n=e.endAt?new nn(e.endAt.position,e.endAt.inclusive):null,A=e.startAt?new nn(e.startAt.position,e.startAt.inclusive):null;return Qn(e.path,e.collectionGroup,t,e.filters,e.limit,n,A)}}function Kn(e,t){const n=e.filters.concat([t]);return new Dn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Vn(e,t,n){return new Dn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gn(e,t){return kn(Mn(e),Mn(t))&&e.limitType===t.limitType}function zn(e){return"".concat(Fn(Mn(e)),"|lt:").concat(e.limitType)}function Wn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>wn(e)).join(", "),"]")),Qe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ht(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ht(e)).join(",")),"Target(".concat(t,")")}(Mn(e)),"; limitType=").concat(e.limitType,")")}function qn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):te.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Rn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const A=An(e,t,n);return e.inclusive?A<=0:A<0}(e.startAt,Rn(e),t))&&!(e.endAt&&!function(e,t,n){const A=An(e,t,n);return e.inclusive?A>=0:A>0}(e.endAt,Rn(e),t))}(e,t)}function Jn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xn(e){return(t,n)=>{let A=!1;for(const r of Rn(e)){const e=Yn(r,t,n);if(0!==e)return e;A=A||r.field.isKeyField()}return 0}}function Yn(e,t,n){const A=e.field.isKeyField()?te.comparator(t.key,n.key):function(e,t,n){const A=t.data.field(e),r=n.data.field(e);return null!==A&&null!==r?Nt(A,r):k()}(e.field,t,n);switch(e.dir){case"asc":return A;case"desc":return-1*A;default:return k()}}class Zn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[A,r]of n)if(this.equalsFn(A,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),A=this.inner[n];if(void 0===A)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<A.length;r++)if(this.equalsFn(A[r][0],e))return void(A[r]=[e,t]);A.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let A=0;A<n.length;A++)if(this.equalsFn(n[A][0],e))return 1===n.length?delete this.inner[t]:n.splice(A,1),this.innerSize--,!0;return!1}forEach(e){lt(this.inner,(t,n)=>{for(const[A,r]of n)e(A,r)})}isEmpty(){return ct(this.inner)}size(){return this.innerSize}}const $n=new ut(te.comparator);function eA(){return $n}const tA=new ut(te.comparator);function nA(){let e=tA;for(var t=arguments.length,n=new Array(t),A=0;A<t;A++)n[A]=arguments[A];for(const r of n)e=e.insert(r.key,r);return e}function AA(e){let t=tA;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function rA(){return iA()}function sA(){return iA()}function iA(){return new Zn(e=>e.toString(),(e,t)=>e.isEqual(t))}const oA=new ut(te.comparator),aA=new ft(te.comparator);function lA(){let e=aA;for(var t=arguments.length,n=new Array(t),A=0;A<t;A++)n[A]=arguments[A];for(const r of n)e=e.add(r);return e}const cA=new ft(z);function uA(){return cA}function dA(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fe(t)?"-0":t}}function hA(e){return{integerValue:""+e}}function fA(e,t){return ke(t)?hA(t):dA(e,t)}class gA{constructor(){this._=void 0}}function pA(e,t,n){return e instanceof yA?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&xt(t)&&(t=Et(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof BA?vA(e,t):e instanceof bA?CA(e,t):function(e,t){const n=wA(e,t),A=EA(n)+EA(e.Pe);return Rt(n)&&Rt(e.Pe)?hA(A):dA(e.serializer,A)}(e,t)}function mA(e,t,n){return e instanceof BA?vA(e,t):e instanceof bA?CA(e,t):n}function wA(e,t){return e instanceof xA?function(e){return Rt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class yA extends gA{}class BA extends gA{constructor(e){super(),this.elements=e}}function vA(e,t){const n=UA(t);for(const A of e.elements)n.some(e=>Tt(e,A))||n.push(A);return{arrayValue:{values:n}}}class bA extends gA{constructor(e){super(),this.elements=e}}function CA(e,t){let n=UA(t);for(const A of e.elements)n=n.filter(e=>!Tt(e,A));return{arrayValue:{values:n}}}class xA extends gA{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function EA(e){return bt(e.integerValue||e.doubleValue)}function UA(e){return Mt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class IA{constructor(e,t){this.field=e,this.transform=t}}class QA{constructor(e,t){this.version=e,this.transformResults=t}}class FA{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new FA}static exists(e){return new FA(void 0,e)}static updateTime(e){return new FA(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kA(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class SA{}function TA(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new jA(e.key,FA.none()):new HA(e.key,e.data,FA.none());{const n=e.data,A=$t.empty();let r=new ft(ee.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?A.delete(e):A.set(e,t),r=r.add(e)}return new OA(e.key,A,new mt(r.toArray()),FA.none())}}function _A(e,t,n){e instanceof HA?function(e,t,n){const A=e.value.clone(),r=RA(e.fieldTransforms,t,n.transformResults);A.setAll(r),t.convertToFoundDocument(n.version,A).setHasCommittedMutations()}(e,t,n):e instanceof OA?function(e,t,n){if(!kA(e.precondition,t))return void t.convertToUnknownDocument(n.version);const A=RA(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(PA(e)),r.setAll(A),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function NA(e,t,n,A){return e instanceof HA?function(e,t,n,A){if(!kA(e.precondition,t))return n;const r=e.value.clone(),s=MA(e.fieldTransforms,A,t);return r.setAll(s),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,A):e instanceof OA?function(e,t,n,A){if(!kA(e.precondition,t))return n;const r=MA(e.fieldTransforms,A,t),s=t.data;return s.setAll(PA(e)),s.setAll(r),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,A):function(e,t,n){return kA(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function DA(e,t){let n=null;for(const A of e.fieldTransforms){const e=t.data.field(A.field),r=wA(A.transform,e||null);null!=r&&(null===n&&(n=$t.empty()),n.set(A.field,r))}return n||null}function LA(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&W(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof BA&&t instanceof BA||e instanceof bA&&t instanceof bA?W(e.elements,t.elements,Tt):e instanceof xA&&t instanceof xA?Tt(e.Pe,t.Pe):e instanceof yA&&t instanceof yA}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class HA extends SA{constructor(e,t,n){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=A,this.type=0}getFieldMask(){return null}}class OA extends SA{constructor(e,t,n,A){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=A,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function PA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const A=e.data.field(n);t.set(n,A)}}),t}function RA(e,t,n){const A=new Map;S(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],i=s.transform,o=t.data.field(s.field);A.set(s.field,mA(i,o,n[r]))}return A}function MA(e,t,n){const A=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);A.set(r.field,pA(e,s,t))}return A}class jA extends SA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KA extends SA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VA{constructor(e,t,n,A){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=A}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let A=0;A<this.mutations.length;A++){const t=this.mutations[A];t.key.isEqual(e.key)&&_A(t,e,n[A])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=NA(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=NA(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=sA();return this.mutations.forEach(A=>{const r=e.get(A.key),s=r.overlayedDocument;let i=this.applyToLocalView(s,r.mutatedFields);i=t.has(A.key)?null:i;const o=TA(s,i);null!==o&&n.set(A.key,o),s.isValidDocument()||s.convertToNoDocument(X.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lA())}isEqual(e){return this.batchId===e.batchId&&W(this.mutations,e.mutations,(e,t)=>LA(e,t))&&W(this.baseMutations,e.baseMutations,(e,t)=>LA(e,t))}}class GA{constructor(e,t,n,A){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=A}static from(e,t,n){S(e.mutations.length===n.length);let A=oA;const r=e.mutations;for(let s=0;s<r.length;s++)A=A.insert(r[s].key,n[s].version);return new GA(e,t,n,A)}}class zA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class WA{constructor(e,t){this.count=e,this.unchangedNames=t}}var qA,JA;function XA(e){switch(e){default:return k();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function YA(e){if(void 0===e)return I("GRPC error has no .code"),_.UNKNOWN;switch(e){case qA.OK:return _.OK;case qA.CANCELLED:return _.CANCELLED;case qA.UNKNOWN:return _.UNKNOWN;case qA.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case qA.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case qA.INTERNAL:return _.INTERNAL;case qA.UNAVAILABLE:return _.UNAVAILABLE;case qA.UNAUTHENTICATED:return _.UNAUTHENTICATED;case qA.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case qA.NOT_FOUND:return _.NOT_FOUND;case qA.ALREADY_EXISTS:return _.ALREADY_EXISTS;case qA.PERMISSION_DENIED:return _.PERMISSION_DENIED;case qA.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case qA.ABORTED:return _.ABORTED;case qA.OUT_OF_RANGE:return _.OUT_OF_RANGE;case qA.UNIMPLEMENTED:return _.UNIMPLEMENTED;case qA.DATA_LOSS:return _.DATA_LOSS;default:return k()}}(JA=qA||(qA={}))[JA.OK=0]="OK",JA[JA.CANCELLED=1]="CANCELLED",JA[JA.UNKNOWN=2]="UNKNOWN",JA[JA.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",JA[JA.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",JA[JA.NOT_FOUND=5]="NOT_FOUND",JA[JA.ALREADY_EXISTS=6]="ALREADY_EXISTS",JA[JA.PERMISSION_DENIED=7]="PERMISSION_DENIED",JA[JA.UNAUTHENTICATED=16]="UNAUTHENTICATED",JA[JA.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",JA[JA.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",JA[JA.ABORTED=10]="ABORTED",JA[JA.OUT_OF_RANGE=11]="OUT_OF_RANGE",JA[JA.UNIMPLEMENTED=12]="UNIMPLEMENTED",JA[JA.INTERNAL=13]="INTERNAL",JA[JA.UNAVAILABLE=14]="UNAVAILABLE",JA[JA.DATA_LOSS=15]="DATA_LOSS";let ZA=null;function $A(){return new TextEncoder}const er=new A([4294967295,4294967295],0);function tr(e){const t=$A().encode(e),n=new r;return n.update(t),new Uint8Array(n.digest())}function nr(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new A([n,r],0),new A([s,i],0)]}class Ar{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new rr("Invalid padding: ".concat(t));if(n<0)throw new rr("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new rr("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new rr("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=A.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(A.fromNumber(n)));return 1===r.compare(er)&&(r=new A([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=tr(e),[n,A]=nr(t);for(let r=0;r<this.hashCount;r++){const e=this.Ee(n,A,r);if(!this.de(e))return!1}return!0}static create(e,t,n){const A=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),s=new Ar(r,A,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=tr(e),[n,A]=nr(t);for(let r=0;r<this.hashCount;r++){const e=this.Ee(n,A,r);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class rr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sr{constructor(e,t,n,A,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=A,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const A=new Map;return A.set(e,ir.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new sr(X.min(),A,new ut(z),eA(),lA())}}class ir{constructor(e,t,n,A,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=A,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ir(n,t,lA(),lA(),lA())}}class or{constructor(e,t,n,A){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=A}}class ar{constructor(e,t){this.targetId=e,this.me=t}}class lr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yt.EMPTY_BYTE_STRING,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=A}}class cr{constructor(){this.fe=0,this.ge=hr(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=lA(),t=lA(),n=lA();return this.ge.forEach((A,r)=>{switch(r){case 0:e=e.add(A);break;case 2:t=t.add(A);break;case 1:n=n.add(A);break;default:k()}}),new ir(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=hr()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,S(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ur{constructor(e){this.Le=e,this.Be=new Map,this.ke=eA(),this.qe=dr(),this.Qe=new ut(z)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:k()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,A=this.Je(t);if(A){const r=A.target;if(Sn(r))if(0===n){const e=new te(r.path);this.Ue(t,e,tn.newNoDocument(e,X.min()))}else S(1===n);else{const A=this.Ye(t);if(A!==n){const n=this.Ze(e),r=n?this.Xe(n,e,A):1;if(0!==r){this.je(t);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==ZA||ZA.et(function(e,t,n,A,r){var s,i,o,a,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===r,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(a=null===(o=null===(i=null==d?void 0:d.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(c=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==A?void 0:A.mightContain(e))&&void 0!==t&&t}}),u}(A,e.me,this.Le.tt(),n,r))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:A=0},hashCount:r=0}=t;let s,i;try{s=Ct(n).toUint8Array()}catch(e){if(e instanceof wt)return Q("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{i=new Ar(s,A,r)}catch(e){return Q(e instanceof rr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===i.Ie?null:i}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let A=0;return n.forEach(n=>{const r=this.Le.tt(),s="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),A++)}),A}rt(e){const t=new Map;this.Be.forEach((n,A)=>{const r=this.Je(A);if(r){if(n.current&&Sn(r.target)){const t=new te(r.target.path);null!==this.ke.get(t)||this.it(A,t)||this.Ue(A,t,tn.newNoDocument(t,e))}n.be&&(t.set(A,n.ve()),n.Ce())}});let n=lA();this.qe.forEach((e,t)=>{let A=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(A=!1,!1)}),A&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const A=new sr(e,t,this.Qe,this.ke,n);return this.ke=eA(),this.qe=dr(),this.Qe=new ut(z),A}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const A=this.Ge(e);this.it(e,t)?A.Fe(t,1):A.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new cr,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ft(z),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||U("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cr),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function dr(){return new ut(te.comparator)}function hr(){return new ut(te.comparator)}const fr={asc:"ASCENDING",desc:"DESCENDING"},gr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pr={and:"AND",or:"OR"};class mr{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wr(e,t){return e.useProto3Json||Qe(t)?t:{value:t}}function yr(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Br(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vr(e,t){return yr(e,t.toTimestamp())}function br(e){return S(!!e),X.fromTimestamp(function(e){const t=vt(e);return new J(t.seconds,t.nanos)}(e))}function Cr(e,t){return xr(e,t).canonicalString()}function xr(e,t){const n=function(e){return new Z(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Er(e){const t=Z.fromString(e);return S(Wr(t)),t}function Ur(e,t){return Cr(e.databaseId,t.path)}function Ir(e,t){const n=Er(t);if(n.get(1)!==e.databaseId.projectId)throw new N(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new N(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new te(Sr(n))}function Qr(e,t){return Cr(e.databaseId,t)}function Fr(e){const t=Er(e);return 4===t.length?Z.emptyPath():Sr(t)}function kr(e){return new Z(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sr(e){return S(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Tr(e,t,n){return{name:Ur(e,t),fields:n.value.mapValue.fields}}function _r(e,t,n){const A=Ir(e,t.name),r=br(t.updateTime),s=t.createTime?br(t.createTime):X.min(),i=new $t({mapValue:{fields:t.fields}}),o=tn.newFoundDocument(A,r,s,i);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Nr(e,t){let n;if(t instanceof HA)n={update:Tr(e,t.key,t.value)};else if(t instanceof jA)n={delete:Ur(e,t.key)};else if(t instanceof OA)n={update:Tr(e,t.key,t.data),updateMask:zr(t.fieldMask)};else{if(!(t instanceof KA))return k();n={verify:Ur(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof yA)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof BA)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bA)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xA)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw k()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:k()}(e,t.precondition)),n}function Dr(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?FA.updateTime(br(e.updateTime)):void 0!==e.exists?FA.exists(e.exists):FA.none()}(t.currentDocument):FA.none(),A=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)S("REQUEST_TIME"===t.setToServerValue),n=new yA;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new BA(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new bA(e)}else"increment"in t?n=new xA(e,t.increment):k();const A=ee.fromServerFormat(t.fieldPath);return new IA(A,n)}(e,t)):[];if(t.update){t.update.name;const r=Ir(e,t.update.name),s=new $t({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new mt(t.map(e=>ee.fromServerFormat(e)))}(t.updateMask);return new OA(r,s,e,n,A)}return new HA(r,s,n,A)}if(t.delete){const A=Ir(e,t.delete);return new jA(A,n)}if(t.verify){const A=Ir(e,t.verify);return new KA(A,n)}return k()}function Lr(e,t){return{documents:[Qr(e,t.path)]}}function Hr(e,t){const n={structuredQuery:{}},A=t.path;let r;null!==t.collectionGroup?(r=A,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=A.popLast(),n.structuredQuery.from=[{collectionId:A.lastSegment()}]),n.parent=Qr(e,r);const s=function(e){if(0!==e.length)return Gr(cn.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Kr(e.field),direction:Rr(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=wr(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:r}}function Or(e){let t=Fr(e.parent);const n=e.structuredQuery,A=n.from?n.from.length:0;let r=null;if(A>0){S(1===A);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Pr(e);return t instanceof cn&&hn(t)?t.getFilters():[t]}(n.where));let i=[];n.orderBy&&(i=function(e){return e.map(e=>function(e){return new sn(Vr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Qe(t)?null:t}(n.limit));let a=null;n.startAt&&(a=function(e){const t=!!e.before,n=e.values||[];return new nn(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new nn(n,t)}(n.endAt)),Ln(t,r,i,s,o,"F",a,l)}function Pr(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vr(e.unaryFilter.field);return ln.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Vr(e.unaryFilter.field);return ln.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const A=Vr(e.unaryFilter.field);return ln.create(A,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Vr(e.unaryFilter.field);return ln.create(r,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(e):void 0!==e.fieldFilter?function(e){return ln.create(Vr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return cn.create(e.compositeFilter.filters.map(e=>Pr(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return k()}}(e.compositeFilter.op))}(e):k()}function Rr(e){return fr[e]}function Mr(e){return gr[e]}function jr(e){return pr[e]}function Kr(e){return{fieldPath:e.canonicalString()}}function Vr(e){return ee.fromServerFormat(e.fieldPath)}function Gr(e){return e instanceof ln?function(e){if("=="===e.op){if(Kt(e.value))return{unaryFilter:{field:Kr(e.field),op:"IS_NAN"}};if(jt(e.value))return{unaryFilter:{field:Kr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Kt(e.value))return{unaryFilter:{field:Kr(e.field),op:"IS_NOT_NAN"}};if(jt(e.value))return{unaryFilter:{field:Kr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kr(e.field),op:Mr(e.op),value:e.value}}}(e):e instanceof cn?function(e){const t=e.getFilters().map(e=>Gr(e));return 1===t.length?t[0]:{compositeFilter:{op:jr(e.op),filters:t}}}(e):k()}function zr(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Wr(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class qr{constructor(e,t,n,A){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:X.min(),i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yt.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=A,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=i,this.expectedCount=o}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jr{constructor(e){this.ct=e}}function Xr(e,t){const n=t.key,A={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Yr(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())A.document=function(e,t){return{name:Ur(e,t.key),fields:t.data.value.mapValue.fields,updateTime:yr(e,t.version.toTimestamp()),createTime:yr(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())A.noDocument={path:n.path.toArray(),readTime:Zr(t.version)};else{if(!t.isUnknownDocument())return k();A.unknownDocument={path:n.path.toArray(),version:Zr(t.version)}}return A}function Yr(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Zr(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function $r(e){const t=new J(e.seconds,e.nanoseconds);return X.fromTimestamp(t)}function es(e,t){const n=(t.baseMutations||[]).map(t=>Dr(e.ct,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const A=t.mutations.map(t=>Dr(e.ct,t)),r=J.fromMillis(t.localWriteTimeMs);return new VA(t.batchId,r,n,A)}function ts(e){const t=$r(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?$r(e.lastLimboFreeSnapshotVersion):X.min();let A;return A=function(e){return void 0!==e.documents}(e.query)?function(e){return S(1===e.documents.length),Mn(Hn(Fr(e.documents[0])))}(e.query):function(e){return Mn(Or(e))}(e.query),new qr(A,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,yt.fromBase64String(e.resumeToken))}function ns(e,t){const n=Zr(t.snapshotVersion),A=Zr(t.lastLimboFreeSnapshotVersion);let r;r=Sn(t.target)?Lr(e.ct,t.target):Hr(e.ct,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Fn(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:A,query:r}}function As(e){const t=Or({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Vn(t,t.limit,"L"):t}function rs(e,t){return new zA(t.largestBatchId,Dr(e.ct,t.overlayMutation))}function ss(e,t){const n=t.path.lastSegment();return[e,Se(t.path.popLast()),n]}function is(e,t,n,A){return{indexId:e,uid:t,sequenceNumber:n,readTime:Zr(A.readTime),documentKey:Se(A.documentKey.path),largestBatchId:A.largestBatchId}}class os{getBundleMetadata(e,t){return as(e).get(t).next(e=>{if(e)return function(e){return{id:e.bundleId,createTime:$r(e.createTime),version:e.version}}(e)})}saveBundleMetadata(e,t){return as(e).put(function(e){return{bundleId:e.id,createTime:Zr(br(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return ls(e).get(t).next(e=>{if(e)return function(e){return{name:e.name,query:As(e.bundledQuery),readTime:$r(e.readTime)}}(e)})}saveNamedQuery(e,t){return ls(e).put(function(e){return{name:e.name,readTime:Zr(br(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function as(e){return ot(e,"bundles")}function ls(e){return ot(e,"namedQueries")}class cs{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new cs(e,n)}getOverlay(e,t){return us(e).get(ss(this.userId,t)).next(e=>e?rs(this.serializer,e):null)}getOverlays(e,t){const n=rA();return fe.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const A=[];return n.forEach((n,r)=>{const s=new zA(t,r);A.push(this.ht(e,s))}),fe.waitFor(A)}removeOverlaysForBatchId(e,t,n){const A=new Set;t.forEach(e=>A.add(Se(e.getCollectionPath())));const r=[];return A.forEach(t=>{const A=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);r.push(us(e).j("collectionPathOverlayIndex",A))}),fe.waitFor(r)}getOverlaysForCollection(e,t,n){const A=rA(),r=Se(t),s=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return us(e).U("collectionPathOverlayIndex",s).next(e=>{for(const t of e){const e=rs(this.serializer,t);A.set(e.getKey(),e)}return A})}getOverlaysForCollectionGroup(e,t,n,A){const r=rA();let s;const i=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return us(e).J({index:"collectionGroupOverlayIndex",range:i},(e,t,n)=>{const i=rs(this.serializer,t);r.size()<A||i.largestBatchId===s?(r.set(i.getKey(),i),s=i.largestBatchId):n.done()}).next(()=>r)}ht(e,t){return us(e).put(function(e,t,n){const[A,r,s]=ss(t,n.mutation.key);return{userId:t,collectionPath:r,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Nr(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function us(e){return ot(e,"documentOverlays")}class ds{Pt(e){return ot(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(e=>{const t=null==e?void 0:e.value;return t?yt.fromUint8Array(t):yt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class hs{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(bt(e.integerValue));else if("doubleValue"in e){const n=bt(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Fe(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=vt(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ct(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Wt(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Gt(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):k()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const A of Object.keys(n))this.Vt(A,t),this.Tt(n[A],t)}wt(e,t){var n,A;const r=e.fields||{};this.dt(t,53);const s="value",i=(null===(A=null===(n=r[s].arrayValue)||void 0===n?void 0:n.values)||void 0===A?void 0:A.length)||0;this.dt(t,15),t.At(bt(i)),this.Vt(s,t),this.Tt(r[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const A of n)this.Tt(A,t)}yt(e,t){this.dt(t,37),te.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}function fs(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function gs(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const A=fs(255&e[n]);if(t+=A,8!==A)break}return t}(e);return Math.ceil(t/8)}hs.vt=new hs;class ps{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ot(n.value),n=t.next();this.Nt()}Lt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Bt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ot(e);else if(e<2048)this.Ot(960|e>>>6),this.Ot(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|e>>>12),this.Ot(128|63&e>>>6),this.Ot(128|63&e);else{const e=t.codePointAt(0);this.Ot(240|e>>>18),this.Ot(128|63&e>>>12),this.Ot(128|63&e>>>6),this.Ot(128|63&e)}}this.Nt()}kt(e){const t=this.qt(e),n=gs(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let A=t.length-n;A<t.length;++A)this.buffer[this.position++]=255&t[A]}Kt(e){const t=this.qt(e),n=gs(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let A=t.length-n;A<t.length;++A)this.buffer[this.position++]=~(255&t[A])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let A=1;A<t.length;++A)t[A]^=n?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const A=new Uint8Array(n);A.set(this.buffer),this.buffer=A}}class ms{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class ws{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class ys{constructor(){this.jt=new ps,this.Ht=new ms(this.jt),this.Jt=new ws(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Bs{constructor(e,t,n,A){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=A}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Bs(this.indexId,this.documentKey,this.arrayValue,n)}}function vs(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=bs(e.arrayValue,t.arrayValue),0!==n?n:(n=bs(e.directionalValue,t.directionalValue),0!==n?n:te.comparator(e.documentKey,t.documentKey)))}function bs(e,t){for(let n=0;n<e.length&&n<t.length;++n){const A=e[n]-t[n];if(0!==A)return A}return e.length-t.length}class Cs{constructor(e){this.Xt=new ft((e,t)=>ee.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const e=t;e.isInequality()?this.Xt=this.Xt.add(e):this.tn.push(e)}}get nn(){return this.Xt.size>1}rn(e){if(S(e.collectionGroup===this.collectionId),this.nn)return!1;const t=Ae(e);if(void 0!==t&&!this.sn(t))return!1;const n=re(e);let A=new Set,r=0,s=0;for(;r<n.length&&this.sn(n[r]);++r)A=A.add(n[r].fieldPath.canonicalString());if(r===n.length)return!0;if(this.Xt.size>0){const e=this.Xt.getIterator().getNext();if(!A.has(e.field.canonicalString())){const t=n[r];if(!this.on(e,t)||!this._n(this.en[s++],t))return!1}++r}for(;r<n.length;++r){const e=n[r];if(s>=this.en.length||!this._n(this.en[s++],e))return!1}return!0}an(){if(this.nn)return null;let e=new ft(ee.comparator);const t=[];for(const n of this.tn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new se(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new se(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new se(n.field,"asc"===n.dir?0:1)));return new ne(ne.UNKNOWN_ID,this.collectionId,t,ie.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function xs(e){var t,n;if(S(e instanceof ln||e instanceof cn),e instanceof ln){if(e instanceof xn){const A=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map(t=>ln.create(e.field,"==",t)))||[];return cn.create(A,"or")}return e}const A=e.filters.map(e=>xs(e));return cn.create(A,e.op)}function Es(e){if(0===e.getFilters().length)return[];const t=Fs(xs(e));return S(Qs(t)),Us(t)||Is(t)?[t]:t.getFilters()}function Us(e){return e instanceof ln}function Is(e){return e instanceof cn&&hn(e)}function Qs(e){return Us(e)||Is(e)||function(e){if(e instanceof cn&&dn(e)){for(const t of e.getFilters())if(!Us(t)&&!Is(t))return!1;return!0}return!1}(e)}function Fs(e){if(S(e instanceof ln||e instanceof cn),e instanceof ln)return e;if(1===e.filters.length)return Fs(e.filters[0]);const t=e.filters.map(e=>Fs(e));let n=cn.create(t,e.op);return n=Ts(n),Qs(n)?n:(S(n instanceof cn),S(un(n)),S(n.filters.length>1),n.filters.reduce((e,t)=>ks(e,t)))}function ks(e,t){let n;return S(e instanceof ln||e instanceof cn),S(t instanceof ln||t instanceof cn),n=e instanceof ln?t instanceof ln?function(e,t){return cn.create([e,t],"and")}(e,t):Ss(e,t):t instanceof ln?Ss(t,e):function(e,t){if(S(e.filters.length>0&&t.filters.length>0),un(e)&&un(t))return mn(e,t.getFilters());const n=dn(e)?e:t,A=dn(e)?t:e,r=n.filters.map(e=>ks(e,A));return cn.create(r,"or")}(e,t),Ts(n)}function Ss(e,t){if(un(t))return mn(t,e.getFilters());{const n=t.filters.map(t=>ks(e,t));return cn.create(n,"or")}}function Ts(e){if(S(e instanceof ln||e instanceof cn),e instanceof ln)return e;const t=e.getFilters();if(1===t.length)return Ts(t[0]);if(fn(e))return e;const n=t.map(e=>Ts(e)),A=[];return n.forEach(t=>{t instanceof ln?A.push(t):t instanceof cn&&(t.op===e.op?A.push(...t.filters):A.push(t))}),1===A.length?A[0]:cn.create(A,e.op)}class _s{constructor(){this.un=new Ns}addToCollectionParentIndex(e,t){return this.un.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(le.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(le.min())}updateCollectionGroup(e,t,n){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class Ns{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),A=this.index[t]||new ft(Z.comparator),r=!A.has(n);return this.index[t]=A.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),A=this.index[t];return A&&A.has(n)}getEntries(e){return(this.index[e]||new ft(Z.comparator)).toArray()}}const Ds=new Uint8Array(0);class Ls{constructor(e,t){this.databaseId=t,this.cn=new Ns,this.ln=new Zn(e=>Fn(e),(e,t)=>kn(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const n=t.lastSegment(),A=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});const r={collectionId:n,parent:Se(A)};return Hs(e).put(r)}return fe.resolve()}getCollectionParents(e,t){const n=[],A=IDBKeyRange.bound([t,""],[q(t),""],!1,!0);return Hs(e).U(A).next(e=>{for(const A of e){if(A.collectionId!==t)break;n.push(Ne(A.parent))}return n})}addFieldIndex(e,t){const n=Ps(e),A=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete A.indexId;const r=n.add(A);if(t.indexState){const n=Rs(e);return r.next(e=>{n.put(is(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return r.next()}deleteFieldIndex(e,t){const n=Ps(e),A=Rs(e),r=Os(e);return n.delete(t.indexId).next(()=>A.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Ps(e),n=Os(e),A=Rs(e);return t.j().next(()=>n.j()).next(()=>A.j())}createTargetIndexes(e,t){return fe.forEach(this.hn(t),t=>this.getIndexType(e,t).next(n=>{if(0===n||1===n){const n=new Cs(t).an();if(null!=n)return this.addFieldIndex(e,n)}}))}getDocumentsMatchingTarget(e,t){const n=Os(e);let A=!0;const r=new Map;return fe.forEach(this.hn(t),t=>this.Pn(e,t).next(e=>{A&&(A=!!e),r.set(t,e)})).next(()=>{if(A){let e=lA();const A=[];return fe.forEach(r,(r,s)=>{U("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map(e=>"".concat(e.fieldPath,":").concat(e.kind)).join(","))}(r)," to execute ").concat(Fn(t)));const i=function(e,t){const n=Ae(t);if(void 0===n)return null;for(const A of Tn(e,n.fieldPath))switch(A.op){case"array-contains-any":return A.value.arrayValue.values||[];case"array-contains":return[A.value]}return null}(s,r),o=function(e,t){const n=new Map;for(const A of re(t))for(const t of Tn(e,A.fieldPath))switch(t.op){case"==":case"in":n.set(A.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(A.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,r),a=function(e,t){const n=[];let A=!0;for(const r of re(t)){const t=0===r.kind?_n(e,r.fieldPath,e.startAt):Nn(e,r.fieldPath,e.startAt);n.push(t.value),A&&(A=t.inclusive)}return new nn(n,A)}(s,r),l=function(e,t){const n=[];let A=!0;for(const r of re(t)){const t=0===r.kind?Nn(e,r.fieldPath,e.endAt):_n(e,r.fieldPath,e.endAt);n.push(t.value),A&&(A=t.inclusive)}return new nn(n,A)}(s,r),c=this.In(r,s,a),u=this.In(r,s,l),d=this.Tn(r,s,o),h=this.En(r.indexId,i,c,a.inclusive,u,l.inclusive,d);return fe.forEach(h,r=>n.G(r,t.limit).next(t=>{t.forEach(t=>{const n=te.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),A.push(n))})}))}).next(()=>A)}return fe.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(t=0===e.filters.length?[e]:Es(cn.create(e.filters,"and")).map(t=>Qn(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,n,A,r,s,i){const o=(null!=t?t.length:1)*Math.max(n.length,r.length),a=o/(null!=t?t.length:1),l=[];for(let c=0;c<o;++c){const o=t?this.dn(t[c/a]):Ds,u=this.An(e,o,n[c%a],A),d=this.Rn(e,o,r[c%a],s),h=i.map(t=>this.An(e,o,t,!0));l.push(...this.createRange(u,d,h))}return l}An(e,t,n,A){const r=new Bs(e,te.empty(),t,n);return A?r:r.Zt()}Rn(e,t,n,A){const r=new Bs(e,te.empty(),t,n);return A?r.Zt():r}Pn(e,t){const n=new Cs(t),A=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,A).next(e=>{let t=null;for(const A of e)n.rn(A)&&(!t||A.fields.length>t.fields.length)&&(t=A);return t})}getIndexType(e,t){let n=2;const A=this.hn(t);return fe.forEach(A,t=>this.Pn(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new ft(ee.comparator),n=!1;for(const A of e.filters)for(const e of A.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const A of e.orderBy)A.field.isKeyField()||(t=t.add(A.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>function(e){return null!==e.limit}(t)&&A.length>1&&2===n?1:n)}Vn(e,t){const n=new ys;for(const A of re(e)){const e=t.data.field(A.fieldPath);if(null==e)return null;const r=n.Yt(A.kind);hs.vt.It(e,r)}return n.zt()}dn(e){const t=new ys;return hs.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const n=new ys;return hs.vt.It(Pt(this.databaseId,t),n.Yt(function(e){const t=re(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.zt()}Tn(e,t,n){if(null===n)return[];let A=[];A.push(new ys);let r=0;for(const s of re(e)){const e=n[r++];for(const n of A)if(this.fn(t,s.fieldPath)&&Mt(e))A=this.gn(A,s,e);else{const t=n.Yt(s.kind);hs.vt.It(e,t)}}return this.pn(A)}In(e,t,n){return this.Tn(e,t,n.position)}pn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].zt();return t}gn(e,t,n){const A=[...e],r=[];for(const s of n.arrayValue.values||[])for(const e of A){const n=new ys;n.seed(e.zt()),hs.vt.It(s,n.Yt(t.kind)),r.push(n)}return r}fn(e,t){return!!e.filters.find(e=>e instanceof ln&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=Ps(e),A=Rs(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next(e=>{const t=[];return fe.forEach(e,e=>A.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new ie(t.sequenceNumber,new le($r(t.readTime),new te(Ne(t.documentKey)),t.largestBatchId)):ie.empty(),A=e.fields.map(e=>{let[t,n]=e;return new se(ee.fromServerFormat(t),n)});return new ne(e.indexId,e.collectionGroup,A,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:z(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const A=Ps(e),r=Rs(e);return this.yn(e).next(e=>A.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(t=>fe.forEach(t,t=>r.put(is(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){const n=new Map;return fe.forEach(t,(t,A)=>{const r=n.get(t.collectionGroup);return(r?fe.resolve(r):this.getFieldIndexes(e,t.collectionGroup)).next(r=>(n.set(t.collectionGroup,r),fe.forEach(r,n=>this.wn(e,t,n).next(t=>{const r=this.Sn(A,n);return t.isEqual(r)?fe.resolve():this.bn(e,A,n,t,r)}))))})}Dn(e,t,n,A){return Os(e).put({indexId:A.indexId,uid:this.uid,arrayValue:A.arrayValue,directionalValue:A.directionalValue,orderedDocumentKey:this.mn(n,t.key),documentKey:t.key.path.toArray()})}vn(e,t,n,A){return Os(e).delete([A.indexId,this.uid,A.arrayValue,A.directionalValue,this.mn(n,t.key),t.key.path.toArray()])}wn(e,t,n){const A=Os(e);let r=new ft(vs);return A.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,t)])},(e,A)=>{r=r.add(new Bs(n.indexId,t,A.arrayValue,A.directionalValue))}).next(()=>r)}Sn(e,t){let n=new ft(vs);const A=this.Vn(t,e);if(null==A)return n;const r=Ae(t);if(null!=r){const s=e.data.field(r.fieldPath);if(Mt(s))for(const r of s.arrayValue.values||[])n=n.add(new Bs(t.indexId,e.key,this.dn(r),A))}else n=n.add(new Bs(t.indexId,e.key,Ds,A));return n}bn(e,t,n,A,r){U("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,A,r){const s=e.getIterator(),i=t.getIterator();let o=pt(s),a=pt(i);for(;o||a;){let e=!1,t=!1;if(o&&a){const A=n(o,a);A<0?t=!0:A>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(A(a),a=pt(i)):t?(r(o),o=pt(s)):(o=pt(s),a=pt(i))}}(A,r,vs,A=>{s.push(this.Dn(e,t,n,A))},A=>{s.push(this.vn(e,t,n,A))}),fe.waitFor(s)}yn(e){let t=1;return Rs(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,A)=>{A.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>vs(e,t)).filter((e,t,n)=>!t||0!==vs(e,n[t-1]));const A=[];A.push(e);for(const s of n){const n=vs(s,e),r=vs(s,t);if(0===n)A[0]=e.Zt();else if(n>0&&r<0)A.push(s),A.push(s.Zt());else if(r>0)break}A.push(t);const r=[];for(let s=0;s<A.length;s+=2){if(this.Cn(A[s],A[s+1]))return[];const e=[A[s].indexId,this.uid,A[s].arrayValue,A[s].directionalValue,Ds,[]],t=[A[s+1].indexId,this.uid,A[s+1].arrayValue,A[s+1].directionalValue,Ds,[]];r.push(IDBKeyRange.bound(e,t))}return r}Cn(e,t){return vs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ms)}getMinOffset(e,t){return fe.mapArray(this.hn(t),t=>this.Pn(e,t).next(e=>e||k())).next(Ms)}}function Hs(e){return ot(e,"collectionParents")}function Os(e){return ot(e,"indexEntries")}function Ps(e){return ot(e,"indexConfiguration")}function Rs(e){return ot(e,"indexState")}function Ms(e){S(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let A=1;A<e.length;A++){const r=e[A].indexState.offset;ce(r,t)<0&&(t=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new le(t.readTime,t.documentKey,n)}const js={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ks{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ks(e,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Vs(e,t,n){const A=e.store("mutations"),r=e.store("documentMutations"),s=[],i=IDBKeyRange.only(n.batchId);let o=0;const a=A.J({range:i},(e,t,n)=>(o++,n.delete()));s.push(a.next(()=>{S(1===o)}));const l=[];for(const c of n.mutations){const e=He(t,c.key.path,n.batchId);s.push(r.delete(e)),l.push(c.key)}return fe.waitFor(s).next(()=>l)}function Gs(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw k();t=e.noDocument}return JSON.stringify(t).length}Ks.DEFAULT_COLLECTION_PERCENTILE=10,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ks.DEFAULT=new Ks(41943040,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ks.DISABLED=new Ks(-1,0,0);class zs{constructor(e,t,n,A){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=A,this.Fn={}}static lt(e,t,n,A){S(""!==e.uid);const r=e.isAuthenticated()?e.uid:"";return new zs(r,t,n,A)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qs(e).J({index:"userMutationsIndex",range:n},(e,n,A)=>{t=!1,A.done()}).next(()=>t)}addMutationBatch(e,t,n,A){const r=Js(e),s=qs(e);return s.add({}).next(i=>{S("number"==typeof i);const o=new VA(i,t,n,A),a=function(e,t,n){const A=n.baseMutations.map(t=>Nr(e.ct,t)),r=n.mutations.map(t=>Nr(e.ct,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:A,mutations:r}}(this.serializer,this.userId,o),l=[];let c=new ft((e,t)=>z(e.canonicalString(),t.canonicalString()));for(const e of A){const t=He(this.userId,e.key.path,i);c=c.add(e.key.path.popLast()),l.push(s.put(a)),l.push(r.put(t,Oe))}return c.forEach(t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Fn[i]=o.keys()}),fe.waitFor(l).next(()=>o)})}lookupMutationBatch(e,t){return qs(e).get(t).next(e=>e?(S(e.userId===this.userId),es(this.serializer,e)):null)}Mn(e,t){return this.Fn[t]?fe.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Fn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,A=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return qs(e).J({index:"userMutationsIndex",range:A},(e,t,A)=>{t.userId===this.userId&&(S(t.batchId>=n),r=es(this.serializer,t)),A.done()}).next(()=>r)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return qs(e).J({index:"userMutationsIndex",range:t,reverse:!0},(e,t,A)=>{n=t.batchId,A.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qs(e).U("userMutationsIndex",t).next(e=>e.map(e=>es(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Le(this.userId,t.path),A=IDBKeyRange.lowerBound(n),r=[];return Js(e).J({range:A},(n,A,s)=>{const[i,o,a]=n,l=Ne(o);if(i===this.userId&&t.path.isEqual(l))return qs(e).get(a).next(e=>{if(!e)throw k();S(e.userId===this.userId),r.push(es(this.serializer,e))});s.done()}).next(()=>r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ft(z);const A=[];return t.forEach(t=>{const r=Le(this.userId,t.path),s=IDBKeyRange.lowerBound(r),i=Js(e).J({range:s},(e,A,r)=>{const[s,i,o]=e,a=Ne(i);s===this.userId&&t.path.isEqual(a)?n=n.add(o):r.done()});A.push(i)}),fe.waitFor(A).next(()=>this.xn(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,A=n.length+1,r=Le(this.userId,n),s=IDBKeyRange.lowerBound(r);let i=new ft(z);return Js(e).J({range:s},(e,t,r)=>{const[s,o,a]=e,l=Ne(o);s===this.userId&&n.isPrefixOf(l)?l.length===A&&(i=i.add(a)):r.done()}).next(()=>this.xn(e,i))}xn(e,t){const n=[],A=[];return t.forEach(t=>{A.push(qs(e).get(t).next(e=>{if(null===e)throw k();S(e.userId===this.userId),n.push(es(this.serializer,e))}))}),fe.waitFor(A).next(()=>n)}removeMutationBatch(e,t){return Vs(e._e,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),fe.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return fe.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),A=[];return Js(e).J({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Ne(e[1]);A.push(t)}else n.done()}).next(()=>{S(0===A.length)})})}containsKey(e,t){return Ws(e,this.userId,t)}Nn(e){return Xs(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ws(e,t,n){const A=Le(t,n.path),r=A[1],s=IDBKeyRange.lowerBound(A);let i=!1;return Js(e).J({range:s,H:!0},(e,n,A)=>{const[s,o,a]=e;s===t&&o===r&&(i=!0),A.done()}).next(()=>i)}function qs(e){return ot(e,"mutations")}function Js(e){return ot(e,"documentMutations")}function Xs(e){return ot(e,"mutationQueues")}class Ys{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ys(0)}static kn(){return new Ys(-1)}}class Zs{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{const n=new Ys(t.highestTargetId);return t.highestTargetId=n.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(e=>X.fromTimestamp(new J(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.qn(e).next(A=>(A.highestListenSequenceNumber=t,n&&(A.lastRemoteSnapshotVersion=n.toTimestamp()),t>A.highestListenSequenceNumber&&(A.highestListenSequenceNumber=t),this.Qn(e,A)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(n=>(n.targetCount+=1,this.$n(t,n),this.Qn(e,n))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>$s(e).delete(t.targetId)).next(()=>this.qn(e)).next(t=>(S(t.targetCount>0),t.targetCount-=1,this.Qn(e,t)))}removeTargets(e,t,n){let A=0;const r=[];return $s(e).J((s,i)=>{const o=ts(i);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(A++,r.push(this.removeTargetData(e,o)))}).next(()=>fe.waitFor(r)).next(()=>A)}forEachTarget(e,t){return $s(e).J((e,n)=>{const A=ts(n);t(A)})}qn(e){return ei(e).get("targetGlobalKey").next(e=>(S(null!==e),e))}Qn(e,t){return ei(e).put("targetGlobalKey",t)}Kn(e,t){return $s(e).put(ns(this.serializer,t))}$n(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Fn(t),A=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return $s(e).J({range:A,index:"queryTargetsIndex"},(e,n,A)=>{const s=ts(n);kn(t,s.target)&&(r=s,A.done())}).next(()=>r)}addMatchingKeys(e,t,n){const A=[],r=ti(e);return t.forEach(t=>{const s=Se(t.path);A.push(r.put({targetId:n,path:s})),A.push(this.referenceDelegate.addReference(e,n,t))}),fe.waitFor(A)}removeMatchingKeys(e,t,n){const A=ti(e);return fe.forEach(t,t=>{const r=Se(t.path);return fe.waitFor([A.delete([n,r]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=ti(e),A=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(A)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),A=ti(e);let r=lA();return A.J({range:n,H:!0},(e,t,n)=>{const A=Ne(e[1]),s=new te(A);r=r.add(s)}).next(()=>r)}containsKey(e,t){const n=Se(t.path),A=IDBKeyRange.bound([n],[q(n)],!1,!0);let r=0;return ti(e).J({index:"documentTargetsIndex",H:!0,range:A},(e,t,n)=>{let[A,s]=e;0!==A&&(r++,n.done())}).next(()=>r>0)}ot(e,t){return $s(e).get(t).next(e=>e?ts(e):null)}}function $s(e){return ot(e,"targets")}function ei(e){return ot(e,"targetGlobal")}function ti(e){return ot(e,"targetDocuments")}function ni(e,t){let[n,A]=e,[r,s]=t;const i=z(n,r);return 0===i?z(A,s):i}class Ai{constructor(e){this.Un=e,this.buffer=new ft(ni),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ni(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ri{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){U("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Be(e)?U("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await he(e)}await this.Hn(3e5)})}}class si{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return fe.resolve(Ie.oe);const n=new Ai(t);return this.Jn.forEachTarget(e,e=>n.zn(e.sequenceNumber)).next(()=>this.Jn.Zn(e,e=>n.zn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(js)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),js):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let n,A,r,s,i,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),A=this.params.maximumSequenceNumbersToCollect):A=t,s=Date.now(),this.nthSequenceNumber(e,A))).next(A=>(n=A,i=Date.now(),this.removeTargets(e,n,t))).next(t=>(r=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),E()<=o.$b.DEBUG&&U("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(A," in ")+(i-s)+"ms\n"+"\tRemoved ".concat(r," targets in ")+(a-i)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),fe.resolve({didRun:!0,sequenceNumbersCollected:A,targetsRemoved:r,documentsRemoved:e})))}}function ii(e,t){return new si(e,t)}class oi{constructor(e,t){this.db=e,this.garbageCollector=ii(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}er(e){let t=0;return this.Zn(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(e,n)=>t(n))}addReference(e,t,n){return ai(e,n)}removeReference(e,t,n){return ai(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return ai(e,t)}nr(e,t){return function(e,t){let n=!1;return Xs(e).Y(A=>Ws(e,A,t).next(e=>(e&&(n=!0),fe.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),A=[];let r=0;return this.tr(e,(s,i)=>{if(i<=t){const t=this.nr(e,s).next(t=>{if(!t)return r++,n.getEntry(e,s).next(()=>(n.removeEntry(s,X.min()),ti(e).delete(function(e){return[0,Se(e.path)]}(s))))});A.push(t)}}).next(()=>fe.waitFor(A)).next(()=>n.apply(e)).next(()=>r)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return ai(e,t)}tr(e,t){const n=ti(e);let A,r=Ie.oe;return n.J({index:"documentTargetsIndex"},(e,n)=>{let[s,i]=e,{path:o,sequenceNumber:a}=n;0===s?(r!==Ie.oe&&t(new te(Ne(A)),r),r=a,A=o):r=Ie.oe}).next(()=>{r!==Ie.oe&&t(new te(Ne(A)),r)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ai(e,t){return ti(e).put(function(e,t){return{targetId:0,path:Se(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class li{constructor(){this.changes=new Zn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?fe.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ci{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return fi(e).put(n)}removeEntry(e,t,n){return fi(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Yr(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.rr(e,n)))}getEntry(e,t){let n=tn.newInvalidDocument(t);return fi(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(gi(t))},(e,A)=>{n=this.ir(t,A)}).next(()=>n)}sr(e,t){let n={size:0,document:tn.newInvalidDocument(t)};return fi(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(gi(t))},(e,A)=>{n={document:this.ir(t,A),size:Gs(A)}}).next(()=>n)}getEntries(e,t){let n=eA();return this._r(e,t,(e,t)=>{const A=this.ir(e,t);n=n.insert(e,A)}).next(()=>n)}ar(e,t){let n=eA(),A=new ut(te.comparator);return this._r(e,t,(e,t)=>{const r=this.ir(e,t);n=n.insert(e,r),A=A.insert(e,Gs(t))}).next(()=>({documents:n,ur:A}))}_r(e,t,n){if(t.isEmpty())return fe.resolve();let A=new ft(mi);t.forEach(e=>A=A.add(e));const r=IDBKeyRange.bound(gi(A.first()),gi(A.last())),s=A.getIterator();let i=s.getNext();return fi(e).J({index:"documentKeyIndex",range:r},(e,t,A)=>{const r=te.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;i&&mi(i,r)<0;)n(i,null),i=s.getNext();i&&i.isEqual(r)&&(n(i,t),i=s.hasNext()?s.getNext():null),i?A.$(gi(i)):A.done()}).next(()=>{for(;i;)n(i,null),i=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,n,A,r){const s=t.path,i=[s.popLast().toArray(),s.lastSegment(),Yr(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fi(e).U(IDBKeyRange.bound(i,o,!0)).next(e=>{null==r||r.incrementDocumentReadCount(e.length);let n=eA();for(const r of e){const e=this.ir(te.fromSegments(r.prefixPath.concat(r.collectionGroup,r.documentId)),r);e.isFoundDocument()&&(qn(t,e)||A.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,A){let r=eA();const s=pi(t,n),i=pi(t,le.max());return fi(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,i,!0)},(e,t,n)=>{const s=this.ir(te.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);r=r.insert(s.key,s),r.size===A&&n.done()}).next(()=>r)}newChangeBuffer(e){return new di(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return hi(e).get("remoteDocumentGlobalKey").next(e=>(S(!!e),e))}rr(e,t){return hi(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const e=function(e,t){let n;if(t.document)n=_r(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=te.fromSegments(t.noDocument.path),A=$r(t.noDocument.readTime);n=tn.newNoDocument(e,A),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return k();{const e=te.fromSegments(t.unknownDocument.path),A=$r(t.unknownDocument.version);n=tn.newUnknownDocument(e,A)}}return t.readTime&&n.setReadTime(function(e){const t=new J(e[0],e[1]);return X.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(X.min()))return e}return tn.newInvalidDocument(e)}}function ui(e){return new ci(e)}class di extends li{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Zn(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,A=new ft((e,t)=>z(e.canonicalString(),t.canonicalString()));return this.changes.forEach((r,s)=>{const i=this.lr.get(r);if(t.push(this.cr.removeEntry(e,r,i.readTime)),s.isValidDocument()){const o=Xr(this.cr.serializer,s);A=A.add(r.path.popLast());const a=Gs(o);n+=a-i.size,t.push(this.cr.addEntry(e,r,o))}else if(n-=i.size,this.trackRemovals){const n=Xr(this.cr.serializer,s.convertToNoDocument(X.min()));t.push(this.cr.addEntry(e,r,n))}}),A.forEach(n=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.cr.updateMetadata(e,n)),fe.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(e=>(this.lr.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(e=>{let{documents:t,ur:n}=e;return n.forEach((e,n)=>{this.lr.set(e,{size:n,readTime:t.get(e).readTime})}),t})}}function hi(e){return ot(e,"remoteDocumentGlobal")}function fi(e){return ot(e,"remoteDocumentsV14")}function gi(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function pi(e,t){const n=t.documentKey.path.toArray();return[e,Yr(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function mi(e,t){const n=e.path.toArray(),A=t.path.toArray();let r=0;for(let s=0;s<n.length-2&&s<A.length-2;++s)if(r=z(n[s],A[s]),r)return r;return r=z(n.length,A.length),r||(r=z(n[n.length-2],A[A.length-2]),r||z(n[n.length-1],A[A.length-1]))}class wi{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yi{constructor(e,t,n,A){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=A}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(A=>(n=A,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&NA(n.mutation,e,mt.empty(),J.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,lA()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lA();const A=rA();return this.populateOverlays(e,A,t).next(()=>this.computeViews(e,t,A,n).next(e=>{let t=nA();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=rA();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,lA()))}populateOverlays(e,t,n){const A=[];return n.forEach(e=>{t.has(e)||A.push(e)}),this.documentOverlayCache.getOverlays(e,A).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,A){let r=eA();const s=iA(),i=iA();return t.forEach((e,t)=>{const i=n.get(t.key);A.has(t.key)&&(void 0===i||i.mutation instanceof OA)?r=r.insert(t.key,t):void 0!==i?(s.set(t.key,i.mutation.getFieldMask()),NA(i.mutation,t,i.mutation.getFieldMask(),J.now())):s.set(t.key,mt.empty())}),this.recalculateAndSaveOverlays(e,r).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return i.set(e,new wi(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),i))}recalculateAndSaveOverlays(e,t){const n=iA();let A=new ut((e,t)=>e-t),r=lA();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const r of e)r.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let i=n.get(e)||mt.empty();i=r.applyToLocalView(s,i),n.set(e,i);const o=(A.get(r.batchId)||lA()).add(e);A=A.insert(r.batchId,o)})}).next(()=>{const s=[],i=A.getReverseIterator();for(;i.hasNext();){const A=i.getNext(),o=A.key,a=A.value,l=sA();a.forEach(e=>{if(!r.has(e)){const A=TA(t.get(e),n.get(e));null!==A&&l.set(e,A),r=r.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,l))}return fe.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,A){return function(e){return te.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Pn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,A):this.getDocumentsMatchingCollectionQuery(e,t,n,A)}getNextDocuments(e,t,n,A){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,A).next(r=>{const s=A-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,A-r.size):fe.resolve(rA());let i=-1,o=r;return s.next(t=>fe.forEach(t,(t,n)=>(i<n.largestBatchId&&(i=n.largestBatchId),r.get(t)?fe.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,r)).next(()=>this.computeViews(e,o,t,lA())).next(e=>({batchId:i,changes:AA(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new te(t)).next(e=>{let t=nA();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,A){const r=t.collectionGroup;let s=nA();return this.indexManager.getCollectionParents(e,r).next(i=>fe.forEach(i,i=>{const o=function(e,t){return new Dn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n,A).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,A){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,A))).next(e=>{r.forEach((t,n)=>{const A=n.getKey();null===e.get(A)&&(e=e.insert(A,tn.newInvalidDocument(A)))});let n=nA();return e.forEach((e,A)=>{const s=r.get(e);void 0!==s&&NA(s.mutation,A,mt.empty(),J.now()),qn(t,A)&&(n=n.insert(e,A))}),n})}}class Bi{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return fe.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:br(e.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:As(e.bundledQuery),readTime:br(e.readTime)}}(t)),fe.resolve()}}class vi{constructor(){this.overlays=new ut(te.comparator),this.Ir=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const n=rA();return fe.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,A)=>{this.ht(e,t,A)}),fe.resolve()}removeOverlaysForBatchId(e,t,n){const A=this.Ir.get(n);return void 0!==A&&(A.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),fe.resolve()}getOverlaysForCollection(e,t,n){const A=rA(),r=t.length+1,s=new te(t.child("")),i=this.overlays.getIteratorFrom(s);for(;i.hasNext();){const e=i.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>n&&A.set(e.getKey(),e)}return fe.resolve(A)}getOverlaysForCollectionGroup(e,t,n,A){let r=new ut((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=rA(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=rA(),o=r.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>i.set(e,t)),!(i.size()>=A)););return fe.resolve(i)}ht(e,t,n){const A=this.overlays.get(n.key);if(null!==A){const e=this.Ir.get(A.largestBatchId).delete(n.key);this.Ir.set(A.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new zA(t,n));let r=this.Ir.get(t);void 0===r&&(r=lA(),this.Ir.set(t,r)),this.Ir.set(t,r.add(n.key))}}class bi{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}class Ci{constructor(){this.Tr=new ft(xi.Er),this.dr=new ft(xi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new xi(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new xi(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new te(new Z([])),n=new xi(t,e),A=new xi(t,e+1),r=[];return this.dr.forEachInRange([n,A],e=>{this.Vr(e),r.push(e.key)}),r}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new te(new Z([])),n=new xi(t,e),A=new xi(t,e+1);let r=lA();return this.dr.forEachInRange([n,A],e=>{r=r.add(e.key)}),r}containsKey(e){const t=new xi(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class xi{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return te.comparator(e.key,t.key)||z(e.wr,t.wr)}static Ar(e,t){return z(e.wr,t.wr)||te.comparator(e.key,t.key)}}class Ei{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ft(xi.Er)}checkEmpty(e){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,A){const r=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new VA(r,t,n,A);this.mutationQueue.push(s);for(const i of A)this.br=this.br.add(new xi(i.key,r)),this.indexManager.addToCollectionParentIndex(e,i.key.path.popLast());return fe.resolve(s)}lookupMutationBatch(e,t){return fe.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,A=this.vr(n),r=A<0?0:A;return fe.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new xi(t,0),A=new xi(t,Number.POSITIVE_INFINITY),r=[];return this.br.forEachInRange([n,A],e=>{const t=this.Dr(e.wr);r.push(t)}),fe.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ft(z);return t.forEach(e=>{const t=new xi(e,0),A=new xi(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,A],e=>{n=n.add(e.wr)})}),fe.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,A=n.length+1;let r=n;te.isDocumentKey(r)||(r=r.child(""));const s=new xi(new te(r),0);let i=new ft(z);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===A&&(i=i.add(e.wr)),!0)},s),fe.resolve(this.Cr(i))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){S(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return fe.forEach(t.mutations,A=>{const r=new xi(A.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,A.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new xi(t,0),A=this.br.firstAfterOrEqual(n);return fe.resolve(t.isEqual(A&&A.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ui{constructor(e){this.Mr=e,this.docs=new ut(te.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,A=this.docs.get(n),r=A?A.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return fe.resolve(n?n.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let n=eA();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():tn.newInvalidDocument(e))}),fe.resolve(n)}getDocumentsMatchingQuery(e,t,n,A){let r=eA();const s=t.path,i=new te(s.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ce(ae(i),n)<=0||(A.has(i.key)||qn(t,i))&&(r=r.insert(i.key,i.mutableCopy()))}return fe.resolve(r)}getAllFromCollectionGroup(e,t,n,A){k()}Or(e,t){return fe.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Ii(this)}getSize(e){return fe.resolve(this.size)}}class Ii extends li{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,A)=>{A.isValidDocument()?t.push(this.cr.addEntry(e,A)):this.cr.removeEntry(n)}),fe.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Qi{constructor(e){this.persistence=e,this.Nr=new Zn(e=>Fn(e),kn),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ci,this.targetCount=0,this.kr=Ys.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),fe.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Ys(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Kn(t),fe.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,n){let A=0;const r=[];return this.Nr.forEach((s,i)=>{i.sequenceNumber<=t&&null===n.get(i.targetId)&&(this.Nr.delete(s),r.push(this.removeMatchingKeysForTargetId(e,i.targetId)),A++)}),fe.waitFor(r).next(()=>A)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return fe.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),fe.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const A=this.persistence.referenceDelegate,r=[];return A&&t.forEach(t=>{r.push(A.markPotentiallyOrphaned(e,t))}),fe.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return fe.resolve(n)}containsKey(e,t){return fe.resolve(this.Br.containsKey(t))}}class Fi{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ie(0),this.Kr=!1,this.Kr=!0,this.$r=new bi,this.referenceDelegate=e(this),this.Ur=new Qi(this),this.indexManager=new _s,this.remoteDocumentCache=function(e){return new Ui(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new Jr(t),this.Gr=new Bi(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vi,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Ei(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){U("MemoryPersistence","Starting transaction:",e);const A=new ki(this.Qr.next());return this.referenceDelegate.zr(),n(A).next(e=>this.referenceDelegate.jr(A).next(()=>e)).toPromise().then(e=>(A.raiseOnCommittedEvent(),e))}Hr(e,t){return fe.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class ki extends de{constructor(e){super(),this.currentSequenceNumber=e}}class Si{constructor(e){this.persistence=e,this.Jr=new Ci,this.Yr=null}static Zr(e){return new Si(e)}get Xr(){if(this.Yr)return this.Yr;throw k()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),fe.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Xr,n=>{const A=te.fromPath(n);return this.ei(e,A).next(e=>{e||t.removeEntry(A,X.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return fe.or([()=>fe.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Ti{constructor(e){this.serializer=e}O(e,t,n,A){const r=new ge("createOrUpgrade",t);n<1&&A>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",De,{unique:!0}),e.createObjectStore("documentMutations")}(e),_i(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=fe.resolve();return n<3&&A>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),_i(e)),s=s.next(()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:X.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(r))),n<4&&A>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store("mutations").U().next(n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",De,{unique:!0});const A=t.store("mutations"),r=n.map(e=>A.put(e));return fe.waitFor(r)})}(e,r))),s=s.next(()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&A>=5&&(s=s.next(()=>this.ni(r))),n<6&&A>=6&&(s=s.next(()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ri(r)))),n<7&&A>=7&&(s=s.next(()=>this.ii(r))),n<8&&A>=8&&(s=s.next(()=>this.si(e,r))),n<9&&A>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&A>=10&&(s=s.next(()=>this.oi(r))),n<11&&A>=11&&(s=s.next(()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&A>=12&&(s=s.next(()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Xe});t.createIndex("collectionPathOverlayIndex",Ye,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ze,{unique:!1})}(e)})),n<13&&A>=13&&(s=s.next(()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Pe});t.createIndex("documentKeyIndex",Re),t.createIndex("collectionGroupIndex",Me)}(e)).next(()=>this._i(e,r)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&A>=14&&(s=s.next(()=>this.ai(e,r))),n<15&&A>=15&&(s=s.next(()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ze}).createIndex("sequenceNumberIndex",We,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:qe}).createIndex("documentKeyIndex",Je,{unique:!1})}(e))),n<16&&A>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),n<17&&A>=17&&(s=s.next(()=>{!function(e){e.createObjectStore("globals",{keyPath:"name"})}(e)})),s}ri(e){let t=0;return e.store("remoteDocuments").J((e,n)=>{t+=Gs(n)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next(t=>fe.forEach(t,t=>{const A=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",A).next(n=>fe.forEach(n,n=>{S(n.userId===t.userId);const A=es(this.serializer,n);return Vs(e,t.userId,A).next(()=>{})}))}))}ii(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(e=>{const A=[];return n.J((n,r)=>{const s=new Z(n),i=function(e){return[0,Se(e)]}(s);A.push(t.get(i).next(n=>n?fe.resolve():(n=>t.put({targetId:0,path:Se(n),sequenceNumber:e.highestListenSequenceNumber}))(s)))}).next(()=>fe.waitFor(A))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:Ge});const n=t.store("collectionParents"),A=new Ns,r=e=>{if(A.add(e)){const t=e.lastSegment(),A=e.popLast();return n.put({collectionId:t,parent:Se(A)})}};return t.store("remoteDocuments").J({H:!0},(e,t)=>{const n=new Z(e);return r(n.popLast())}).next(()=>t.store("documentMutations").J({H:!0},(e,t)=>{let[n,A,s]=e;const i=Ne(A);return r(i.popLast())}))}oi(e){const t=e.store("targets");return t.J((e,n)=>{const A=ts(n),r=ns(this.serializer,A);return t.put(r)})}_i(e,t){const n=t.store("remoteDocuments"),A=[];return n.J((e,n)=>{const r=t.store("remoteDocumentsV14"),s=function(e){return e.document?new te(Z.fromString(e.document.name).popFirst(5)):e.noDocument?te.fromSegments(e.noDocument.path):e.unknownDocument?te.fromSegments(e.unknownDocument.path):k()}(n).path.toArray(),i={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};A.push(r.put(i))}).next(()=>fe.waitFor(A))}ai(e,t){const n=t.store("mutations"),A=ui(this.serializer),r=new Fi(Si.Zr,this.serializer.ct);return n.U().next(e=>{const n=new Map;return e.forEach(e=>{var t;let A=null!==(t=n.get(e.userId))&&void 0!==t?t:lA();es(this.serializer,e).keys().forEach(e=>A=A.add(e)),n.set(e.userId,A)}),fe.forEach(n,(e,n)=>{const s=new b(n),i=cs.lt(this.serializer,s),o=r.getIndexManager(s),a=zs.lt(s,this.serializer,o,r.referenceDelegate);return new yi(A,a,i,o).recalculateAndSaveOverlaysForDocumentKeys(new it(t,Ie.oe),e).next()})})}}function _i(e){e.createObjectStore("targetDocuments",{keyPath:Ke}).createIndex("documentTargetsIndex",Ve,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",je,{unique:!0}),e.createObjectStore("targetGlobal")}const Ni="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Di{constructor(e,t,n,A,r,s,i,o,a,l){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ui=r,this.window=s,this.document=i,this.ci=a,this.li=l,this.hi=c,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=e=>Promise.resolve(),!Di.D())throw new N(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oi(this,A),this.Ai=t+"main",this.serializer=new Jr(o),this.Ri=new pe(this.Ai,this.hi,new Ti(this.serializer)),this.$r=new ds,this.Ur=new Zs(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ui(this.serializer),this.Gr=new os,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===l&&I("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new N(_.FAILED_PRECONDITION,Ni);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Ie(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Hi(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(e=>{e||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Be(e))return U("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return U("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Li(e).get("owner").next(e=>fe.resolve(this.vi(e)))}Ci(e){return Hi(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=ot(e,"clientMetadata");return t.U().next(e=>{const n=this.xi(e,18e5),A=e.filter(e=>-1===n.indexOf(e));return fe.forEach(A,e=>t.delete(e.clientId)).next(()=>A)})}).catch(()=>[]);if(this.Vi)for(const t of e)this.Vi.removeItem(this.Oi(t.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?fe.resolve(!0):Li(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new N(_.FAILED_PRECONDITION,Ni);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hi(e).U().next(e=>void 0===this.xi(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,A=this.networkEnabled===e.networkEnabled;if(t||n&&A)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&U("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new it(e,Ie.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()}xi(e,t){return e.filter(e=>this.Mi(e.updateTimeMs,t)&&!this.Ni(e.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Hi(e).U().next(e=>this.xi(e,18e5).map(e=>e.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return zs.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ls(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return cs.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,n){U("IndexedDbPersistence","Starting transaction:",e);const A="readonly"===t?"readonly":"readwrite",r=function(e){return 17===e?st:16===e?rt:15===e?At:14===e?nt:13===e?tt:12===e?et:11===e?$e:void k()}(this.hi);let s;return this.Ri.runTransaction(e,A,r,A=>(s=new it(A,this.Qr?this.Qr.next():Ie.oe),"readwrite-primary"===t?this.wi(s).next(e=>!!e||this.Si(s)).next(t=>{if(!t)throw I("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new N(_.FAILED_PRECONDITION,ue);return n(s)}).next(e=>this.Di(s).next(()=>e)):this.Ki(s).next(()=>n(s)))).then(e=>(s.raiseOnCommittedEvent(),e))}Ki(e){return Li(e).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)&&!this.vi(e)&&!(this.li||this.allowTabSynchronization&&e.allowTabSynchronization))throw new N(_.FAILED_PRECONDITION,Ni)})}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Li(e).put("owner",t)}static D(){return pe.D()}bi(e){const t=Li(e);return t.get("owner").next(e=>this.vi(e)?(U("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fe.resolve())}Mi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(I("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const e=/(?:Version|Mobile)\/1[456]/;(0,a.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const n=null!==(null===(t=this.Vi)||void 0===t?void 0:t.getItem(this.Oi(e)));return U("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return I("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){I("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch(e){}}Oi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Li(e){return ot(e,"owner")}function Hi(e){return ot(e,"clientMetadata")}function Oi(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Pi{constructor(e,t,n,A){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=A}static Wi(e,t){let n=lA(),A=lA();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:A=A.add(r.doc.key)}return new Pi(e,t.fromCache,n,A)}}class Ri{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Mi{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,a.nr)()?8:me((0,a.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,A){const r={result:null};return this.Yi(e,t).next(e=>{r.result=e}).next(()=>{if(!r.result)return this.Zi(e,t,A,n).next(e=>{r.result=e})}).next(()=>{if(r.result)return;const n=new Ri;return this.Xi(e,t,n).next(A=>{if(r.result=A,this.zi)return this.es(e,t,n,A.size)})}).next(()=>r.result)}es(e,t,n,A){return n.documentReadCount<this.ji?(E()<=o.$b.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Wn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),fe.resolve()):(E()<=o.$b.DEBUG&&U("QueryEngine","Query:",Wn(t),"scans",n.documentReadCount,"local documents and returns",A,"documents as results."),n.documentReadCount>this.Hi*A?(E()<=o.$b.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Wn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(t))):fe.resolve())}Yi(e,t){if(On(t))return fe.resolve(null);let n=Mn(t);return this.indexManager.getIndexType(e,n).next(A=>0===A?null:(null!==t.limit&&1===A&&(t=Vn(t,null,"F"),n=Mn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(A=>{const r=lA(...A);return this.Ji.getDocuments(e,r).next(A=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,A);return this.ns(t,s,r,n.readTime)?this.Yi(e,Vn(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,A){return On(t)||A.isEqual(X.min())?fe.resolve(null):this.Ji.getDocuments(e,n).next(r=>{const s=this.ts(t,r);return this.ns(t,s,n,A)?fe.resolve(null):(E()<=o.$b.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",A.toString(),Wn(t)),this.rs(e,s,t,oe(A,-1)).next(e=>e))})}ts(e,t){let n=new ft(Xn(e));return t.forEach((t,A)=>{qn(e,A)&&(n=n.add(A))}),n}ns(e,t,n,A){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(A)>0)}Xi(e,t,n){return E()<=o.$b.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Wn(t)),this.Ji.getDocumentsMatchingQuery(e,t,le.min(),n)}rs(e,t,n,A){return this.Ji.getDocumentsMatchingQuery(e,n,A).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class ji{constructor(e,t,n,A){this.persistence=e,this.ss=t,this.serializer=A,this.os=new ut(z),this._s=new Zn(e=>Fn(e),kn),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yi(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Ki(e,t,n,A){return new ji(e,t,n,A)}async function Vi(e,t){const n=T(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let A;return n.mutationQueue.getAllMutationBatches(e).next(r=>(A=r,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const r=[],s=[];let i=lA();for(const e of A){r.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return n.localDocuments.getDocuments(e,i).next(e=>({hs:e,removedBatchIds:r,addedBatchIds:s}))})})}function Gi(e){const t=T(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function zi(e,t,n){let A=lA(),r=lA();return n.forEach(e=>A=A.add(e)),t.getEntries(e,A).next(e=>{let A=eA();return n.forEach((n,s)=>{const i=e.get(n);s.isFoundDocument()!==i.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(X.min())?(t.removeEntry(n,s.readTime),A=A.insert(n,s)):!i.isValidDocument()||s.version.compareTo(i.version)>0||0===s.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(s),A=A.insert(n,s)):U("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",s.version)}),{Ps:A,Is:r}})}function Wi(e,t){const n=T(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function qi(e,t){const n=T(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let A;return n.Ur.getTargetData(e,t).next(r=>r?(A=r,fe.resolve(A)):n.Ur.allocateTargetId(e).next(r=>(A=new qr(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,A).next(()=>A))))}).then(e=>{const A=n.os.get(e.targetId);return(null===A||e.snapshotVersion.compareTo(A.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function Ji(e,t,n){const A=T(e),r=A.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await A.persistence.runTransaction("Release target",s,e=>A.persistence.referenceDelegate.removeTarget(e,r))}catch(e){if(!Be(e))throw e;U("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}A.os=A.os.remove(t),A._s.delete(r.target)}function Xi(e,t,n){const A=T(e);let r=X.min(),s=lA();return A.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const A=T(e),r=A._s.get(n);return void 0!==r?fe.resolve(A.os.get(r)):A.Ur.getTargetData(t,n)}(A,e,Mn(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,A.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>A.ss.getDocumentsMatchingQuery(e,t,n?r:X.min(),n?s:lA())).next(e=>(Yi(A,Jn(t),e),{documents:e,Ts:s})))}function Yi(e,t,n){let A=e.us.get(t)||X.min();n.forEach((e,t)=>{t.readTime.compareTo(A)>0&&(A=t.readTime)}),e.us.set(t,A)}class Zi{constructor(){this.activeTargetIds=uA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $i{constructor(){this.so=new Zi,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Zi,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eo{_o(e){}shutdown(){}}class to{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let no=null;function Ao(){return null===no?no=268435456+Math.round(2147483648*Math.random()):no++,"0x"+no.toString(16)}const ro={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class so{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const io="WebChannelConnection";class oo extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),A=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(A),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(A)}get Fo(){return!1}Mo(e,t,n,A,r){const s=Ao(),i=this.xo(e,t.toUriEncodedString());U("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),i,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,A,r),this.No(e,i,o,n).then(t=>(U("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw Q("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",i,"request:",n),t})}Lo(e,t,n,A,r,s){return this.Mo(e,t,n,A,r)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+C,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=ro[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,A){const r=Ao();return new Promise((s,i)=>{const o=new u;o.setWithCredentials(!0),o.listenOnce(h.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case f.NO_ERROR:const t=o.getResponseJson();U(io,"XHR for RPC '".concat(e,"' ").concat(r," received:"),JSON.stringify(t)),s(t);break;case f.TIMEOUT:U(io,"RPC '".concat(e,"' ").concat(r," timed out")),i(new N(_.DEADLINE_EXCEEDED,"Request time out"));break;case f.HTTP_ERROR:const n=o.getStatus();if(U(io,"RPC '".concat(e,"' ").concat(r," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(t)>=0?t:_.UNKNOWN}(t.status);i(new N(e,t.message))}else i(new N(_.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new N(_.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{U(io,"RPC '".concat(e,"' ").concat(r," completed."))}});const a=JSON.stringify(A);U(io,"RPC '".concat(e,"' ").concat(r," sending request:"),A),o.send(t,"POST",a,n,15)})}Bo(e,t,n){const A=Ao(),r=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=w(),i=m(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},a=this.longPollingOptions.timeoutSeconds;void 0!==a&&(o.longPollingTimeout=Math.round(1e3*a)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const l=r.join("");U(io,"Creating RPC '".concat(e,"' stream ").concat(A,": ").concat(l),o);const c=s.createWebChannel(l,o);let u=!1,h=!1;const f=new so({Io:t=>{h?U(io,"Not sending because RPC '".concat(e,"' stream ").concat(A," is closed:"),t):(u||(U(io,"Opening RPC '".concat(e,"' stream ").concat(A," transport.")),c.open(),u=!0),U(io,"RPC '".concat(e,"' stream ").concat(A," sending:"),t),c.send(t))},To:()=>c.close()}),y=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return y(c,d.EventType.OPEN,()=>{h||(U(io,"RPC '".concat(e,"' stream ").concat(A," transport opened.")),f.yo())}),y(c,d.EventType.CLOSE,()=>{h||(h=!0,U(io,"RPC '".concat(e,"' stream ").concat(A," transport closed")),f.So())}),y(c,d.EventType.ERROR,t=>{h||(h=!0,Q(io,"RPC '".concat(e,"' stream ").concat(A," transport errored:"),t),f.So(new N(_.UNAVAILABLE,"The operation could not be completed")))}),y(c,d.EventType.MESSAGE,t=>{var n;if(!h){const r=t.data[0];S(!!r);const s=r,i=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(i){U(io,"RPC '".concat(e,"' stream ").concat(A," received error:"),i);const t=i.status;let n=function(e){const t=qA[e];if(void 0!==t)return YA(t)}(t),r=i.message;void 0===n&&(n=_.INTERNAL,r="Unknown error status: "+t+" with message "+i.message),h=!0,f.So(new N(n,r)),c.close()}else U(io,"RPC '".concat(e,"' stream ").concat(A," received:"),r),f.bo(r)}}),y(i,p.STAT_EVENT,t=>{t.stat===g.PROXY?U(io,"RPC '".concat(e,"' stream ").concat(A," detected buffering proxy")):t.stat===g.NOPROXY&&U(io,"RPC '".concat(e,"' stream ").concat(A," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function ao(){return"undefined"!=typeof window?window:null}function lo(){return"undefined"!=typeof document?document:null}function co(e){return new mr(e,!0)}class uo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=A,this.Qo=r,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),A=Math.max(0,t-n);A>0&&U("ExponentialBackoff","Backing off for ".concat(A," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,A,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class ho{constructor(e,t,n,A,r,s,i,o){this.ui=e,this.Ho=n,this.Jo=A,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=i,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new uo(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===_.RESOURCE_EXHAUSTED?(I(t.toString()),I("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===_.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,A]=e;this.Yo===t&&this.P_(n,A)},t=>{e(()=>{const e=new N(_.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return U("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fo extends ho{constructor(e,t,n,A,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,A,s),this.serializer=r}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const A=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:k()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(S(void 0===t||"string"==typeof t),yt.fromBase64String(t||"")):(S(void 0===t||t instanceof Buffer||t instanceof Uint8Array),yt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,o=i&&function(e){const t=void 0===e.code?_.UNKNOWN:YA(e.code);return new N(t,e.message||"")}(i);n=new lr(A,r,s,o||null)}else if("documentChange"in t){t.documentChange;const A=t.documentChange;A.document,A.document.name,A.document.updateTime;const r=Ir(e,A.document.name),s=br(A.document.updateTime),i=A.document.createTime?br(A.document.createTime):X.min(),o=new $t({mapValue:{fields:A.document.fields}}),a=tn.newFoundDocument(r,s,i,o),l=A.targetIds||[],c=A.removedTargetIds||[];n=new or(l,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const A=t.documentDelete;A.document;const r=Ir(e,A.document),s=A.readTime?br(A.readTime):X.min(),i=tn.newNoDocument(r,s),o=A.removedTargetIds||[];n=new or([],o,i.key,i)}else if("documentRemove"in t){t.documentRemove;const A=t.documentRemove;A.document;const r=Ir(e,A.document),s=A.removedTargetIds||[];n=new or([],s,r,null)}else{if(!("filter"in t))return k();{t.filter;const e=t.filter;e.targetId;const{count:A=0,unchangedNames:r}=e,s=new WA(A,r),i=e.targetId;n=new ar(i,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return X.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?X.min():t.readTime?br(t.readTime):X.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=kr(this.serializer),t.addTarget=function(e,t){let n;const A=t.target;if(n=Sn(A)?{documents:Lr(e,A)}:{query:Hr(e,A)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Br(e,t.resumeToken);const A=wr(e,t.expectedCount);null!==A&&(n.expectedCount=A)}else if(t.snapshotVersion.compareTo(X.min())>0){n.readTime=yr(e,t.snapshotVersion.toTimestamp());const A=wr(e,t.expectedCount);null!==A&&(n.expectedCount=A)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=kr(this.serializer),t.removeTarget=e,this.a_(t)}}class go extends ho{constructor(e,t,n,A,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,A,s),this.serializer=r}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return S(!!e.streamToken),this.lastStreamToken=e.streamToken,S(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){S(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(S(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?br(e.updateTime):br(t);return n.isEqual(X.min())&&(n=br(t)),new QA(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=br(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=kr(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Nr(this.serializer,e))};this.a_(t)}}class po extends class{}{constructor(e,t,n,A){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=A,this.y_=!1}w_(){if(this.y_)throw new N(_.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,A){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[s,i]=r;return this.connection.Mo(e,xr(t,n),A,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new N(_.UNKNOWN,e.toString())})}Lo(e,t,n,A,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,o]=s;return this.connection.Lo(e,xr(t,n),A,i,o,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new N(_.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class mo{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(I(t),this.D_=!1):U("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class wo{constructor(e,t,n,A,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=r,this.k_._o(e=>{n.enqueueAndForget(async()=>{Io(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=T(e);t.L_.add(4),await Bo(t),t.q_.set("Unknown"),t.L_.delete(4),await yo(t)}(this))})}),this.q_=new mo(n,A)}}async function yo(e){if(Io(e))for(const t of e.B_)await t(!0)}async function Bo(e){for(const t of e.B_)await t(!1)}function vo(e,t){const n=T(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Uo(n)?Eo(n):zo(n).r_()&&Co(n,t))}function bo(e,t){const n=T(e),A=zo(n);n.N_.delete(t),A.r_()&&xo(n,t),0===n.N_.size&&(A.r_()?A.o_():Io(n)&&n.q_.set("Unknown"))}function Co(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(X.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zo(e).A_(t)}function xo(e,t){e.Q_.xe(t),zo(e).R_(t)}function Eo(e){e.Q_=new ur({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),zo(e).start(),e.q_.v_()}function Uo(e){return Io(e)&&!zo(e).n_()&&e.N_.size>0}function Io(e){return 0===T(e).L_.size}function Qo(e){e.Q_=void 0}async function Fo(e){e.q_.set("Online")}async function ko(e){e.N_.forEach((t,n)=>{Co(e,t)})}async function So(e,t){Qo(e),Uo(e)?(e.q_.M_(t),Eo(e)):e.q_.set("Unknown")}async function To(e,t,n){if(e.q_.set("Online"),t instanceof lr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const A of t.targetIds)e.N_.has(A)&&(await e.remoteSyncer.rejectListen(A,n),e.N_.delete(A),e.Q_.removeTarget(A))}(e,t)}catch(n){U("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await _o(e,n)}else if(t instanceof or?e.Q_.Ke(t):t instanceof ar?e.Q_.He(t):e.Q_.We(t),!n.isEqual(X.min()))try{const t=await Gi(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,A)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.N_.get(A);r&&e.N_.set(A,r.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const A=e.N_.get(t);if(!A)return;e.N_.set(t,A.withResumeToken(yt.EMPTY_BYTE_STRING,A.snapshotVersion)),xo(e,t);const r=new qr(A.target,t,n,A.sequenceNumber);Co(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){U("RemoteStore","Failed to raise snapshot:",t),await _o(e,t)}}async function _o(e,t,n){if(!Be(t))throw t;e.L_.add(1),await Bo(e),e.q_.set("Offline"),n||(n=()=>Gi(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await yo(e)})}function No(e,t){return t().catch(n=>_o(e,n,t))}async function Do(e){const t=T(e),n=Wo(t);let A=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Lo(t);)try{const e=await Wi(t.localStore,A);if(null===e){0===t.O_.length&&n.o_();break}A=e.batchId,Ho(t,e)}catch(e){await _o(t,e)}Oo(t)&&Po(t)}function Lo(e){return Io(e)&&e.O_.length<10}function Ho(e,t){e.O_.push(t);const n=Wo(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Oo(e){return Io(e)&&!Wo(e).n_()&&e.O_.length>0}function Po(e){Wo(e).start()}async function Ro(e){Wo(e).p_()}async function Mo(e){const t=Wo(e);for(const n of e.O_)t.m_(n.mutations)}async function jo(e,t,n){const A=e.O_.shift(),r=GA.from(A,t,n);await No(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Do(e)}async function Ko(e,t){t&&Wo(e).V_&&await async function(e,t){if(function(e){return XA(e)&&e!==_.ABORTED}(t.code)){const n=e.O_.shift();Wo(e).s_(),await No(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Do(e)}}(e,t),Oo(e)&&Po(e)}async function Vo(e,t){const n=T(e);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const A=Io(n);n.L_.add(3),await Bo(n),A&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await yo(n)}async function Go(e,t){const n=T(e);t?(n.L_.delete(2),await yo(n)):t||(n.L_.add(2),await Bo(n),n.q_.set("Unknown"))}function zo(e){return e.K_||(e.K_=function(e,t,n){const A=T(e);return A.w_(),new fo(t,A.connection,A.authCredentials,A.appCheckCredentials,A.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Fo.bind(null,e),Ro:ko.bind(null,e),mo:So.bind(null,e),d_:To.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),Uo(e)?Eo(e):e.q_.set("Unknown")):(await e.K_.stop(),Qo(e))})),e.K_}function Wo(e){return e.U_||(e.U_=function(e,t,n){const A=T(e);return A.w_(),new go(t,A.connection,A.authCredentials,A.appCheckCredentials,A.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ro.bind(null,e),mo:Ko.bind(null,e),f_:Mo.bind(null,e),g_:jo.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Do(e)):(await e.U_.stop(),e.O_.length>0&&(U("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class qo{constructor(e,t,n,A,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=A,this.removalCallback=r,this.deferred=new D,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,A,r){const s=Date.now()+n,i=new qo(e,t,s,A,r);return i.start(n),i}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new N(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jo(e,t){if(I("AsyncQueue","".concat(t,": ").concat(e)),Be(e))return new N(_.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Xo{constructor(e){this.comparator=e?(t,n)=>e(t,n)||te.comparator(t.key,n.key):(e,t)=>te.comparator(e.key,t.key),this.keyedMap=nA(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new Xo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xo))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,A=n.getNext().key;if(!e.isEqual(A))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Xo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Yo{constructor(){this.W_=new ut(te.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):k():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Zo{constructor(e,t,n,A,r,s,i,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=A,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=i,this.excludesMetadataChanges=o,this.hasCachedResults=a}static fromInitialDocuments(e,t,n,A,r){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Zo(e,t,Xo.emptySet(t),s,n,A,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let A=0;A<t.length;A++)if(t[A].type!==n[A].type||!t[A].doc.isEqual(n[A].doc))return!1;return!0}}class $o{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ea{constructor(){this.queries=ta(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=T(e),A=n.queries;n.queries=ta(),A.forEach((e,n)=>{for(const A of n.j_)A.onError(t)})}(this,new N(_.ABORTED,"Firestore shutting down"))}}function ta(){return new Zn(e=>zn(e),Gn)}async function na(e,t){const n=T(e);let A=3;const r=t.query;let s=n.queries.get(r);s?!s.H_()&&t.J_()&&(A=2):(s=new $o,A=t.J_()?0:1);try{switch(A){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(e){const n=Jo(e,"Initialization of query '".concat(Wn(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&ia(n)}async function Aa(e,t){const n=T(e),A=t.query;let r=3;const s=n.queries.get(A);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?r=t.J_()?0:1:!s.H_()&&t.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(A),n.onUnlisten(A,!0);case 1:return n.queries.delete(A),n.onUnlisten(A,!1);case 2:return n.onLastRemoteStoreUnlisten(A);default:return}}function ra(e,t){const n=T(e);let A=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(r)&&(A=!0);t.z_=r}}A&&ia(n)}function sa(e,t,n){const A=T(e),r=A.queries.get(t);if(r)for(const s of r.j_)s.onError(n);A.queries.delete(t)}function ia(e){e.Y_.forEach(e=>{e.next()})}var oa,aa;(aa=oa||(oa={})).ea="default",aa.Cache="cache";class la{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Zo(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==oa.Cache}}class ca{constructor(e){this.key=e}}class ua{constructor(e){this.key=e}}class da{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=lA(),this.mutatedKeys=lA(),this.Aa=Xn(e),this.Ra=new Xo(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Yo,A=t?t.Ra:this.Ra;let r=t?t.mutatedKeys:this.mutatedKeys,s=A,i=!1;const o="F"===this.query.limitType&&A.size===this.query.limit?A.last():null,a="L"===this.query.limitType&&A.size===this.query.limit?A.first():null;if(e.inorderTraversal((e,t)=>{const l=A.get(e),c=qn(this.query,t)?t:null,u=!!l&&this.mutatedKeys.has(l.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let h=!1;l&&c?l.data.isEqual(c.data)?u!==d&&(n.track({type:3,doc:c}),h=!0):this.ga(l,c)||(n.track({type:2,doc:c}),h=!0,(o&&this.Aa(c,o)>0||a&&this.Aa(c,a)<0)&&(i=!0)):!l&&c?(n.track({type:0,doc:c}),h=!0):l&&!c&&(n.track({type:1,doc:l}),h=!0,(o||a)&&(i=!0)),h&&(c?(s=s.add(c),r=d?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:i,mutatedKeys:r}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,A){const r=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),A=null!=A&&A;const i=t&&!A?this.ya():[],o=0===this.da.size&&this.current&&!A?1:0,a=o!==this.Ea;return this.Ea=o,0!==s.length||a?{snapshot:new Zo(this.query,e.Ra,r,s,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:i}:{wa:i}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Yo,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=lA(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new ua(e))}),this.da.forEach(n=>{e.has(n)||t.push(new ca(n))}),t}ba(e){this.Ta=e.Ts,this.da=lA();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Zo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class ha{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class fa{constructor(e){this.key=e,this.va=!1}}class ga{constructor(e,t,n,A,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=A,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Zn(e=>zn(e),Gn),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(te.comparator),this.Na=new Map,this.La=new Ci,this.Ba={},this.ka=new Map,this.qa=Ys.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function pa(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const A=Ha(e);let r;const s=A.Fa.get(t);return s?(A.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await wa(A,t,n,!0),r}async function ma(e,t){const n=Ha(e);await wa(n,t,!0,!1)}async function wa(e,t,n,A){const r=await qi(e.localStore,Mn(t)),s=r.targetId,i=e.sharedClientState.addLocalQueryTarget(s,n);let o;return A&&(o=await ya(e,t,s,"current"===i,r.resumeToken)),e.isPrimaryClient&&n&&vo(e.remoteStore,r),o}async function ya(e,t,n,A,r){e.Ka=(t,n,A)=>async function(e,t,n,A){let r=t.view.ma(n);r.ns&&(r=await Xi(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,r)}));const s=A&&A.targetChanges.get(t.targetId),i=A&&null!=A.targetMismatches.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,s,i);return Sa(e,t.targetId,o.wa),o.snapshot}(e,t,n,A);const s=await Xi(e.localStore,t,!0),i=new da(t,s.Ts),o=i.ma(s.documents),a=ir.createSynthesizedTargetChangeForCurrentChange(n,A&&"Offline"!==e.onlineState,r),l=i.applyChanges(o,e.isPrimaryClient,a);Sa(e,n,l.wa);const c=new ha(t,n,i);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),l.snapshot}async function Ba(e,t,n){const A=T(e),r=A.Fa.get(t),s=A.Ma.get(r.targetId);if(s.length>1)return A.Ma.set(r.targetId,s.filter(e=>!Gn(e,t))),void A.Fa.delete(t);A.isPrimaryClient?(A.sharedClientState.removeLocalQueryTarget(r.targetId),A.sharedClientState.isActiveQueryTarget(r.targetId)||await Ji(A.localStore,r.targetId,!1).then(()=>{A.sharedClientState.clearQueryState(r.targetId),n&&bo(A.remoteStore,r.targetId),Fa(A,r.targetId)}).catch(he)):(Fa(A,r.targetId),await Ji(A.localStore,r.targetId,!0))}async function va(e,t){const n=T(e),A=n.Fa.get(t),r=n.Ma.get(A.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(A.targetId),bo(n.remoteStore,A.targetId))}async function ba(e,t){const n=T(e);try{const e=await function(e,t){const n=T(e),A=t.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const i=[];t.targetChanges.forEach((s,o)=>{const a=r.get(o);if(!a)return;i.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o)));let l=a.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?l=l.withResumeToken(yt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,A)),r=r.insert(o,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,s)&&i.push(n.Ur.updateTargetData(e,l))});let o=eA(),a=lA();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(e,A))}),i.push(zi(e,s,t.documentUpdates).next(e=>{o=e.Ps,a=e.Is})),!A.isEqual(X.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,A));i.push(t)}return fe.waitFor(i).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,a)).next(()=>o)}).then(e=>(n.os=r,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const A=n.Na.get(t);A&&(S(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?A.va=!0:e.modifiedDocuments.size>0?S(A.va):e.removedDocuments.size>0&&(S(A.va),A.va=!1))}),await Na(n,e,t)}catch(e){await he(e)}}function Ca(e,t,n){const A=T(e);if(A.isPrimaryClient&&0===n||!A.isPrimaryClient&&1===n){const e=[];A.Fa.forEach((n,A)=>{const r=A.view.Z_(t);r.snapshot&&e.push(r.snapshot)}),function(e,t){const n=T(e);n.onlineState=t;let A=!1;n.queries.forEach((e,n)=>{for(const r of n.j_)r.Z_(t)&&(A=!0)}),A&&ia(n)}(A.eventManager,t),e.length&&A.Ca.d_(e),A.onlineState=t,A.isPrimaryClient&&A.sharedClientState.setOnlineState(t)}}async function xa(e,t,n){const A=T(e);A.sharedClientState.updateQueryState(t,"rejected",n);const r=A.Na.get(t),s=r&&r.key;if(s){let e=new ut(te.comparator);e=e.insert(s,tn.newNoDocument(s,X.min()));const n=lA().add(s),r=new sr(X.min(),new Map,new ut(z),e,n);await ba(A,r),A.Oa=A.Oa.remove(s),A.Na.delete(t),_a(A)}else await Ji(A.localStore,t,!1).then(()=>Fa(A,t,n)).catch(he)}async function Ea(e,t){const n=T(e),A=t.batch.batchId;try{const e=await function(e,t){const n=T(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const A=t.batch.keys(),r=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,A){const r=n.batch,s=r.keys();let i=fe.resolve();return s.forEach(e=>{i=i.next(()=>A.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);S(null!==s),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),A.addEntry(t)))})}),i.next(()=>e.mutationQueue.removeMutationBatch(t,r))}(n,e,t,r).next(()=>r.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,A,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=lA();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,A))})}(n.localStore,t);Qa(n,A,null),Ia(n,A),n.sharedClientState.updateMutationState(A,"acknowledged"),await Na(n,e)}catch(e){await he(e)}}async function Ua(e,t,n){const A=T(e);try{const e=await function(e,t){const n=T(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let A;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(S(null!==t),A=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,A,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,A)).next(()=>n.localDocuments.getDocuments(e,A))})}(A.localStore,t);Qa(A,t,n),Ia(A,t),A.sharedClientState.updateMutationState(t,"rejected",n),await Na(A,e)}catch(n){await he(n)}}function Ia(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function Qa(e,t,n){const A=T(e);let r=A.Ba[A.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),A.Ba[A.currentUser.toKey()]=r}}function Fa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const A of e.Ma.get(t))e.Fa.delete(A),n&&e.Ca.$a(A,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||ka(e,t)})}function ka(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(bo(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),_a(e))}function Sa(e,t,n){for(const A of n)A instanceof ca?(e.La.addReference(A.key,t),Ta(e,A)):A instanceof ua?(U("SyncEngine","Document no longer in limbo: "+A.key),e.La.removeReference(A.key,t),e.La.containsKey(A.key)||ka(e,A.key)):k()}function Ta(e,t){const n=t.key,A=n.path.canonicalString();e.Oa.get(n)||e.xa.has(A)||(U("SyncEngine","New document in limbo: "+n),e.xa.add(A),_a(e))}function _a(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new te(Z.fromString(t)),A=e.qa.next();e.Na.set(A,new fa(n)),e.Oa=e.Oa.insert(n,A),vo(e.remoteStore,new qr(Mn(Hn(n.path)),A,"TargetPurposeLimboResolution",Ie.oe))}}async function Na(e,t,n){const A=T(e),r=[],s=[],i=[];A.Fa.isEmpty()||(A.Fa.forEach((e,o)=>{i.push(A.Ka(o,t,n).then(e=>{var t;if((e||n)&&A.isPrimaryClient){const r=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;A.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(e){r.push(e);const t=Pi.Wi(o.targetId,e);s.push(t)}}))}),await Promise.all(i),A.Ca.d_(r),await async function(e,t){const n=T(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>fe.forEach(t,t=>fe.forEach(t.$i,A=>n.persistence.referenceDelegate.addReference(e,t.targetId,A)).next(()=>fe.forEach(t.Ui,A=>n.persistence.referenceDelegate.removeReference(e,t.targetId,A)))))}catch(e){if(!Be(e))throw e;U("LocalStore","Failed to update sequence numbers: "+e)}for(const A of t){const e=A.targetId;if(!A.fromCache){const t=n.os.get(e),A=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(A);n.os=n.os.insert(e,r)}}}(A.localStore,s))}async function Da(e,t){const n=T(e);if(!n.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());const e=await Vi(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new N(_.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Na(n,e.hs)}}function La(e,t){const n=T(e),A=n.Na.get(t);if(A&&A.va)return lA().add(A.key);{let e=lA();const A=n.Ma.get(t);if(!A)return e;for(const t of A){const A=n.Fa.get(t);e=e.unionWith(A.view.Va)}return e}}function Ha(e){const t=T(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ba.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=La.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xa.bind(null,t),t.Ca.d_=ra.bind(null,t.eventManager),t.Ca.$a=sa.bind(null,t.eventManager),t}function Oa(e){const t=T(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ea.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ua.bind(null,t),t}class Pa{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=co(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Ki(this.persistence,new Mi,e.initialUser,this.serializer)}Ga(e){return new Fi(Si.Zr,this.serializer)}Wa(e){return new $i}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pa.provider={build:()=>new Pa};class Ra extends Pa{constructor(e,t,n){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await Oa(this.Ja.syncEngine),await Do(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return Ki(this.persistence,new Mi,e.initialUser,this.serializer)}ja(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new ri(n,e.asyncQueue,t)}Ha(e,t){const n=new Ue(t,this.persistence);return new Ee(e.asyncQueue,n)}Ga(e){const t=Oi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ks.withCacheSize(this.cacheSizeBytes):Ks.DEFAULT;return new Di(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ao(),lo(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new $i}}class Ma{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ca(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Da.bind(null,this.syncEngine),await Go(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ea}createDatastore(e){const t=co(e.databaseInfo.databaseId),n=function(e){return new oo(e)}(e.databaseInfo);return function(e,t,n,A){return new po(e,t,n,A)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,A,r){return new wo(e,t,n,A,r)}(this.localStore,this.datastore,e.asyncQueue,e=>Ca(this.syncEngine,e,0),to.D()?new to:new eo)}createSyncEngine(e,t){return function(e,t,n,A,r,s,i){const o=new ga(e,t,n,A,r,s);return i&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=T(e);U("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Bo(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ma.provider={build:()=>new Ma};class ja{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):I("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Ka{constructor(e,t,n,A,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=A,this.user=b.UNAUTHENTICATED,this.clientId=G.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,async e=>{U("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(U("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new D;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Jo(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Va(e,t){e.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let A=n.initialUser;e.setCredentialChangeListener(async e=>{A.isEqual(e)||(await Vi(t.localStore,e),A=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ga(e,t){e.asyncQueue.verifyOperationInProgress();const n=await za(e);U("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Vo(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Vo(t.remoteStore,n)),e._onlineComponents=t}async function za(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await Va(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===_.FAILED_PRECONDITION||e.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Q("Error using user provided cache. Falling back to memory cache: "+n),await Va(e,new Pa)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await Va(e,new Pa);return e._offlineComponents}async function Wa(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await Ga(e,e._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await Ga(e,new Ma))),e._onlineComponents}function qa(e){return Wa(e).then(e=>e.syncEngine)}async function Ja(e){const t=await Wa(e),n=t.eventManager;return n.onListen=pa.bind(null,t.syncEngine),n.onUnlisten=Ba.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ma.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=va.bind(null,t.syncEngine),n}function Xa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const A=new D;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,A,r){const s=new ja({next:o=>{s.Za(),t.enqueueAndForget(()=>Aa(e,i));const a=o.docs.has(n);!a&&o.fromCache?r.reject(new N(_.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&A&&"server"===A.source?r.reject(new N(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:e=>r.reject(e)}),i=new la(Hn(n.path),s,{includeMetadataChanges:!0,_a:!0});return na(e,i)}(await Ja(e),e.asyncQueue,t,n,A)),A.promise}function Ya(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const A=new D;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,A,r){const s=new ja({next:n=>{s.Za(),t.enqueueAndForget(()=>Aa(e,i)),n.fromCache&&"server"===A.source?r.reject(new N(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),i=new la(n,s,{includeMetadataChanges:!0,_a:!0});return na(e,i)}(await Ja(e),e.asyncQueue,t,n,A)),A.promise}function Za(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const $a=new Map;function el(e,t,n){if(!n)throw new N(_.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function tl(e){if(!te.isDocumentKey(e))throw new N(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function nl(e){if(te.isDocumentKey(e))throw new N(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Al(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":k()}function rl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new N(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Al(e);throw new N(_.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function sl(e,t){if(t<=0)throw new N(_.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class il{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new N(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new N(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,A){if(!0===t&&!0===A)throw new N(_.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Za(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new N(_.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new N(_.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new N(_.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ol{constructor(e,t,n,A){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=A,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new il({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new N(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new N(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new il(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new H;switch(e.type){case"firstParty":return new M(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new N(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$a.get(e);t&&(U("ComponentProvider","Removing Datastore"),$a.delete(e),t.terminate())}(this),Promise.resolve()}}class al{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new al(this.firestore,e,this._query)}}class ll{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ll(this.firestore,e,this._key)}}class cl extends al{constructor(e,t,n){super(e,t,Hn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ll(this.firestore,null,new te(e))}withConverter(e){return new cl(this.firestore,e,this._path)}}function ul(e,t){for(var n=arguments.length,A=new Array(n>2?n-2:0),r=2;r<n;r++)A[r-2]=arguments[r];if(e=(0,a.Ku)(e),el("collection","path",t),e instanceof ol){const n=Z.fromString(t,...A);return nl(n),new cl(e,null,n)}{if(!(e instanceof ll||e instanceof cl))throw new N(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Z.fromString(t,...A));return nl(n),new cl(e.firestore,null,n)}}function dl(e,t){for(var n=arguments.length,A=new Array(n>2?n-2:0),r=2;r<n;r++)A[r-2]=arguments[r];if(e=(0,a.Ku)(e),1===arguments.length&&(t=G.newId()),el("doc","path",t),e instanceof ol){const n=Z.fromString(t,...A);return tl(n),new ll(e,null,new te(n))}{if(!(e instanceof ll||e instanceof cl))throw new N(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Z.fromString(t,...A));return tl(n),new ll(e.firestore,e instanceof cl?e.converter:null,new te(n))}}class hl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new uo(this,"async_queue_retry"),this.Vu=()=>{const e=lo();e&&U("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=lo();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=lo();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new D;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Be(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw I("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const A=qo.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(A),A}fu(){this.Eu&&k()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function fl(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const A of t)if(A in n&&"function"==typeof n[A])return!0;return!1}(e,["next","error","complete"])}class gl extends ol{constructor(e,t,n,A){super(e,t,n,A),this.type="firestore",this._queue=new hl,this._persistenceKey=(null==A?void 0:A.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hl(e),this._firestoreClient=void 0,await e}}}function pl(e,t){const n="object"==typeof e?e:(0,s.Sx)(),A="string"==typeof e?e:t||"(default)",r=(0,s.j6)(n,"firestore").getImmediate({identifier:A});if(!r._initialized){const e=(0,a.yU)("firestore");e&&function(e,t,n){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const s=(e=rl(e,ol))._getSettings(),i="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==i&&Q("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:i,ssl:!1})),A.mockUserToken){let t,n;if("string"==typeof A.mockUserToken)t=A.mockUserToken,n=b.MOCK_USER;else{t=(0,a.Fy)(A.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const s=A.mockUserToken.sub||A.mockUserToken.user_id;if(!s)throw new N(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new b(s)}e._authCredentials=new O(new L(t,n))}}(r,...e)}return r}function ml(e){if(e._terminated)throw new N(_.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||wl(e),e._firestoreClient}function wl(e){var t,n,A;const r=e._freezeSettings(),s=function(e,t,n,A){return new It(e,t,n,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Za(A.experimentalLongPollingOptions),A.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(A=r.localCache)||void 0===A?void 0:A._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new Ka(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function yl(e,t){Q("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return Bl(e,Ma.provider,{build:e=>new Ra(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}function Bl(e,t,n){if((e=rl(e,gl))._firestoreClient||e._terminated)throw new N(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new N(_.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},wl(e)}class vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vl(yt.fromBase64String(e))}catch(e){throw new N(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new vl(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bl{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let A=0;A<t.length;++A)if(0===t[A].length)throw new N(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ee(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cl{constructor(e){this._methodName=e}}class xl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new N(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new N(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return z(this._lat,e._lat)||z(this._long,e._long)}}class El{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Ul=/^__.*__$/;class Il{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new OA(e,this.data,this.fieldMask,t,this.fieldTransforms):new HA(e,this.data,t,this.fieldTransforms)}}class Ql{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new OA(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}class kl{constructor(e,t,n,A,r,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=A,void 0===r&&this.vu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new kl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),A=this.Fu({path:n,xu:!1});return A.Ou(e),A}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),A=this.Fu({path:n,xu:!1});return A.vu(),A}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ql(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Fl(this.Cu)&&Ul.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Sl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||co(e)}Qu(e,t,n){let A=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new kl({Cu:e,methodName:t,qu:n,path:ee.emptyPath(),xu:!1,ku:A},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tl(e){const t=e._freezeSettings(),n=co(e._databaseId);return new Sl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _l(e,t,n,A,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=e.Qu(s.merge||s.mergeFields?2:0,t,n,r);Vl("Data must be an object, but it was:",i,A);const o=jl(A,i);let a,l;if(s.merge)a=new mt(i.fieldMask),l=i.fieldTransforms;else if(s.mergeFields){const e=[];for(const A of s.mergeFields){const r=Gl(t,A,n);if(!i.contains(r))throw new N(_.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));Jl(e,r)||e.push(r)}a=new mt(e),l=i.fieldTransforms.filter(e=>a.covers(e.field))}else a=null,l=i.fieldTransforms;return new Il(new $t(o),a,l)}class Nl extends Cl{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nl}}function Dl(e,t,n){return new kl({Cu:3,qu:t.settings.qu,methodName:e._methodName,xu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Ll extends Cl{_toFieldTransform(e){return new IA(e.path,new yA)}isEqual(e){return e instanceof Ll}}class Hl extends Cl{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=Dl(this,e,!0),n=this.Ku.map(e=>Ml(e,t)),A=new BA(n);return new IA(e.path,A)}isEqual(e){return e instanceof Hl&&(0,a.bD)(this.Ku,e.Ku)}}function Ol(e,t,n,A){const r=e.Qu(1,t,n);Vl("Data must be an object, but it was:",r,A);const s=[],i=$t.empty();lt(A,(e,A)=>{const o=Wl(t,e,n);A=(0,a.Ku)(A);const l=r.Nu(o);if(A instanceof Nl)s.push(o);else{const e=Ml(A,l);null!=e&&(s.push(o),i.set(o,e))}});const o=new mt(s);return new Ql(i,o,r.fieldTransforms)}function Pl(e,t,n,A,r,s){const i=e.Qu(1,t,n),o=[Gl(t,A,n)],l=[r];if(s.length%2!=0)throw new N(_.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let a=0;a<s.length;a+=2)o.push(Gl(t,s[a])),l.push(s[a+1]);const c=[],u=$t.empty();for(let h=o.length-1;h>=0;--h)if(!Jl(c,o[h])){const e=o[h];let t=l[h];t=(0,a.Ku)(t);const n=i.Nu(e);if(t instanceof Nl)c.push(e);else{const A=Ml(t,n);null!=A&&(c.push(e),u.set(e,A))}}const d=new mt(c);return new Ql(u,d,i.fieldTransforms)}function Rl(e,t,n){let A=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ml(n,e.Qu(A?4:3,t))}function Ml(e,t){if(Kl(e=(0,a.Ku)(e)))return Vl("Unsupported field value:",t,e),jl(e,t);if(e instanceof Cl)return function(e,t){if(!Fl(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let A=0;for(const r of e){let e=Ml(r,t.Lu(A));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),A++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fA(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=J.fromDate(e);return{timestampValue:yr(t.serializer,n)}}if(e instanceof J){const n=new J(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yr(t.serializer,n)}}if(e instanceof xl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vl)return{bytesValue:Br(t.serializer,e._byteString)};if(e instanceof ll){const n=t.databaseId,A=e.firestore._databaseId;if(!A.isEqual(n))throw t.Bu("Document reference is for database ".concat(A.projectId,"/").concat(A.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Cr(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof El)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return dA(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(Al(e)))}(e,t)}function jl(e,t){const n={};return ct(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lt(e,(e,A)=>{const r=Ml(A,t.Mu(e));null!=r&&(n[e]=r)}),{mapValue:{fields:n}}}function Kl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof J||e instanceof xl||e instanceof vl||e instanceof ll||e instanceof Cl||e instanceof El)}function Vl(e,t,n){if(!Kl(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const A=Al(n);throw"an object"===A?t.Bu(e+" a custom object"):t.Bu(e+" "+A)}}function Gl(e,t,n){if((t=(0,a.Ku)(t))instanceof bl)return t._internalPath;if("string"==typeof t)return Wl(e,t);throw ql("Field path arguments must be of type string or ",e,!1,void 0,n)}const zl=new RegExp("[~\\*/\\[\\]]");function Wl(e,t,n){if(t.search(zl)>=0)throw ql("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new bl(...t.split("."))._internalPath}catch(A){throw ql("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ql(e,t,n,A,r){const s=A&&!A.isEmpty(),i=void 0!==r;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let a="";return(s||i)&&(a+=" (found",s&&(a+=" in field ".concat(A)),i&&(a+=" in document ".concat(r)),a+=")"),new N(_.INVALID_ARGUMENT,o+e+a)}function Jl(e,t){return e.some(e=>e.isEqual(t))}class Xl{constructor(e,t,n,A,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=A,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new ll(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Yl extends Xl{data(){return super.data()}}function Zl(e,t){return"string"==typeof t?Wl(e,t):t instanceof bl?t._internalPath:t._delegate._internalPath}function $l(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new N(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ec{}class tc extends ec{}function nc(e,t){let n=[];for(var A=arguments.length,r=new Array(A>2?A-2:0),s=2;s<A;s++)r[s-2]=arguments[s];t instanceof ec&&n.push(t),n=n.concat(r),function(e){const t=e.filter(e=>e instanceof sc).length,n=e.filter(e=>e instanceof Ac).length;if(t>1||t>0&&n>0)throw new N(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class Ac extends tc{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ac(e,t,n)}_apply(e){const t=this._parse(e);return gc(e._query,t),new al(e.firestore,e.converter,Kn(e._query,t))}_parse(e){const t=Tl(e.firestore),n=function(e,t,n,A,r,s,i){let o;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new N(_.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){fc(i,s);const t=[];for(const n of i)t.push(hc(A,e,n));o={arrayValue:{values:t}}}else o=hc(A,e,i)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||fc(i,s),o=Rl(n,t,i,"in"===s||"not-in"===s);return ln.create(r,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function rc(e,t,n){const A=t,r=Zl("where",e);return Ac._create(r,A,n)}class sc extends ec{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sc(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:cn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const A=t.getFlattenedFilters();for(const r of A)gc(n,r),n=Kn(n,r)}(e._query,t),new al(e.firestore,e.converter,Kn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ic extends tc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ic(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new N(_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new N(_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sn(t,n)}(e._query,this._field,this._direction);return new al(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Dn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function oc(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Zl("orderBy",e);return ic._create(n,t)}class ac extends tc{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new ac(e,t,n)}_apply(e){return new al(e.firestore,e.converter,Vn(e._query,this._limit,this._limitType))}}function lc(e){return sl("limit",e),ac._create("limit",e,"F")}class cc extends tc{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new cc(e,t,n)}_apply(e){const t=dc(e,this.type,this._docOrFields,this._inclusive);return new al(e.firestore,e.converter,function(e,t){return new Dn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function uc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cc._create("startAfter",t,!1)}function dc(e,t,n,A){if(n[0]=(0,a.Ku)(n[0]),n[0]instanceof Xl)return function(e,t,n,A,r){if(!A)throw new N(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const i of Rn(e))if(i.field.isKeyField())s.push(Pt(t,A.key));else{const e=A.data.field(i.field);if(xt(e))throw new N(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+i.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=i.field.canonicalString();throw new N(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new nn(s,r)}(e._query,e.firestore._databaseId,t,n[0]._document,A);{const r=Tl(e.firestore);return function(e,t,n,A,r,s){const i=e.explicitOrderBy;if(r.length>i.length)throw new N(_.INVALID_ARGUMENT,"Too many arguments provided to ".concat(A,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let a=0;a<r.length;a++){const s=r[a];if(i[a].field.isKeyField()){if("string"!=typeof s)throw new N(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(A,"(), but got a ").concat(typeof s));if(!Pn(e)&&-1!==s.indexOf("/"))throw new N(_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(A,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Z.fromString(s));if(!te.isDocumentKey(n))throw new N(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(A,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const r=new te(n);o.push(Pt(t,r))}else{const e=Rl(n,A,s);o.push(e)}}return new nn(o,s)}(e._query,e.firestore._databaseId,r,t,n,A)}}function hc(e,t,n){if("string"==typeof(n=(0,a.Ku)(n))){if(""===n)throw new N(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pn(t)&&-1!==n.indexOf("/"))throw new N(_.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const A=t.path.child(Z.fromString(n));if(!te.isDocumentKey(A))throw new N(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(A,"' is not because it has an odd number of segments (").concat(A.length,")."));return Pt(e,new te(A))}if(n instanceof ll)return Pt(e,n._key);throw new N(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Al(n),"."))}function fc(e,t){if(!Array.isArray(e)||0===e.length)throw new N(_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function gc(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new N(_.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new N(_.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class pc{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(St(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ct(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw k()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return lt(e,(e,A)=>{n[e]=this.convertValue(A,t)}),n}convertVectorValue(e){var t,n,A;const r=null===(A=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===A?void 0:A.map(e=>bt(e.doubleValue));return new El(r)}convertGeoPoint(e){return new xl(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Et(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ut(e));default:return null}}convertTimestamp(e){const t=vt(e);return new J(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Z.fromString(e);S(Wr(n));const A=new Qt(n.get(1),n.get(3)),r=new te(n.popFirst(5));return A.isEqual(t)||I("Document ".concat(r," contains a document reference within a different database (").concat(A.projectId,"/").concat(A.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),r}}function mc(e,t,n){let A;return A=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,A}class wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yc extends Xl{constructor(e,t,n,A,r,s){super(e,t,n,A,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Zl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Bc extends yc{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class vc{constructor(e,t,n,A){this._firestore=e,this._userDataWriter=t,this._snapshot=A,this.metadata=new wc(A.hasPendingWrites,A.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Bc(this._firestore,this._userDataWriter,n.key,n,new wc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new N(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const A=new Bc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new wc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:A,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const A=new Bc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:bc(t.type),doc:A,oldIndex:r,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function bc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}function Cc(e){e=rl(e,ll);const t=rl(e.firestore,gl);return Xa(ml(t),e._key).then(n=>Tc(t,e,n))}class xc extends pc{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ll(this.firestore,null,t)}}function Ec(e){e=rl(e,al);const t=rl(e.firestore,gl),n=ml(t),A=new xc(t);return $l(e._query),Ya(n,e._query).then(n=>new vc(t,A,e,n))}function Uc(e,t,n){e=rl(e,ll);const A=rl(e.firestore,gl),r=mc(e.converter,t,n);return Sc(A,[_l(Tl(A),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,FA.none())])}function Ic(e,t,n){e=rl(e,ll);const A=rl(e.firestore,gl),r=Tl(A);let s;for(var i=arguments.length,o=new Array(i>3?i-3:0),l=3;l<i;l++)o[l-3]=arguments[l];return s="string"==typeof(t=(0,a.Ku)(t))||t instanceof bl?Pl(r,"updateDoc",e._key,t,n,o):Ol(r,"updateDoc",e._key,t),Sc(A,[s.toMutation(e._key,FA.exists(!0))])}function Qc(e){return Sc(rl(e.firestore,gl),[new jA(e._key,FA.none())])}function Fc(e,t){const n=rl(e.firestore,gl),A=dl(e),r=mc(e.converter,t);return Sc(n,[_l(Tl(e.firestore),"addDoc",A._key,r,null!==e.converter,{}).toMutation(A._key,FA.exists(!1))]).then(()=>A)}function kc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];var r,s,i;e=(0,a.Ku)(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||fl(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(fl(n[l])){const e=n[l];n[l]=null===(r=e.next)||void 0===r?void 0:r.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,d,h;if(e instanceof ll)d=rl(e.firestore,gl),h=Hn(e._key.path),u={next:t=>{n[l]&&n[l](Tc(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=rl(e,al);d=rl(t.firestore,gl),h=t._query;const A=new xc(d);u={next:e=>{n[l]&&n[l](new vc(d,A,t,e))},error:n[l+1],complete:n[l+2]},$l(e._query)}return function(e,t,n,A){const r=new ja(A),s=new la(t,r,n);return e.asyncQueue.enqueueAndForget(async()=>na(await Ja(e),s)),()=>{r.Za(),e.asyncQueue.enqueueAndForget(async()=>Aa(await Ja(e),s))}}(ml(d),h,c,u)}function Sc(e,t){return function(e,t){const n=new D;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const A=Oa(e);try{const e=await function(e,t){const n=T(e),A=J.now(),r=t.reduce((e,t)=>e.add(t.key),lA());let s,i;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=eA(),a=lA();return n.cs.getEntries(e,r).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(a=a.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(r=>{s=r;const i=[];for(const e of t){const t=DA(e,s.get(e.key).overlayedDocument);null!=t&&i.push(new OA(e.key,t,en(t.value.mapValue),FA.exists(!0)))}return n.mutationQueue.addMutationBatch(e,A,i,t)}).next(t=>{i=t;const A=t.applyToLocalDocumentSet(s,a);return n.documentOverlayCache.saveOverlays(e,t.batchId,A)})}).then(()=>({batchId:i.batchId,changes:AA(s)}))}(A.localStore,t);A.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let A=e.Ba[e.currentUser.toKey()];A||(A=new ut(z)),A=A.insert(t,n),e.Ba[e.currentUser.toKey()]=A}(A,e.batchId,n),await Na(A,e.changes),await Do(A.remoteStore)}catch(e){const t=Jo(e,"Failed to persist write");n.reject(t)}}(await qa(e),t,n)),n.promise}(ml(e),t)}function Tc(e,t,n){const A=n.docs.get(t._key),r=new xc(e);return new yc(e,r,t._key,A,new wc(n.hasPendingWrites,n.fromCache),t.converter)}function _c(){return new Ll("serverTimestamp")}function Nc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Hl("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){C=e}(s.MF),(0,s.om)(new i.uA("firestore",(e,n)=>{let{instanceIdentifier:A,options:r}=n;const s=e.getProvider("app").getImmediate(),i=new gl(new P(e.getProvider("auth-internal")),new K(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new N(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qt(e.options.projectId,t)}(s,A),s);return r=Object.assign({useFetchStreams:t},r),i._setSettings(r),i},"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(v,"4.7.3",e),(0,s.KO)(v,"4.7.3","esm2017")}()},6815:(e,t,n)=>{"use strict";n.d(t,{F6:()=>i,Nw:()=>s,my:()=>A,w4:()=>r});Math.pow(10,8);const A=6048e5,r=864e5,s=43200,i=1440},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var A=n-1>>>1,r=e[A];if(!(0<s(r,t)))break e;e[A]=t,e[n]=r,n=A}}function A(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var A=0,r=e.length,i=r>>>1;A<i;){var o=2*(A+1)-1,a=e[o],l=o+1,c=e[l];if(0>s(a,n))l<r&&0>s(c,a)?(e[A]=c,e[l]=n,A=l):(e[A]=a,e[o]=n,A=o);else{if(!(l<r&&0>s(c,n)))break e;e[A]=c,e[l]=n,A=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,p=!1,m="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function B(e){for(var t=A(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(l,t)}t=A(c)}}function v(e){if(p=!1,B(e),!g)if(null!==A(l))g=!0,_(b);else{var t=A(c);null!==t&&N(v,t.startTime-e)}}function b(e,n){g=!1,p&&(p=!1,w(U),U=-1),f=!0;var s=h;try{for(B(n),d=A(l);null!==d&&(!(d.expirationTime>n)||e&&!F());){var i=d.callback;if("function"===typeof i){d.callback=null,h=d.priorityLevel;var o=i(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===A(l)&&r(l),B(n)}else r(l);d=A(l)}if(null!==d)var a=!0;else{var u=A(c);null!==u&&N(v,u.startTime-n),a=!1}return a}finally{d=null,h=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,x=!1,E=null,U=-1,I=5,Q=-1;function F(){return!(t.unstable_now()-Q<I)}function k(){if(null!==E){var e=t.unstable_now();Q=e;var n=!0;try{n=E(!0,e)}finally{n?C():(x=!1,E=null)}}else x=!1}if("function"===typeof y)C=function(){y(k)};else if("undefined"!==typeof MessageChannel){var S=new MessageChannel,T=S.port2;S.port1.onmessage=k,C=function(){T.postMessage(null)}}else C=function(){m(k,0)};function _(e){E=e,x||(x=!0,C())}function N(e,n){U=m(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,_(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return A(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(c,e),null===A(l)&&e===A(c)&&(p?(w(U),U=-1):p=!0,N(v,s-i))):(e.sortIndex=o,n(l,e),g||f||(g=!0,_(b))),e},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},7400:(e,t,n)=>{"use strict";n.d(t,{j2:()=>gr,y1:()=>br,db:()=>pr,Cn:()=>wr,gf:()=>ur,BV:()=>yr,xD:()=>dr,IG:()=>mr});n(2555);var A=n(52);(0,A.KO)("firebase","10.14.1","app");var r=n(7700),s=n(443);function i(e,t){var n={};for(var A in e)Object.prototype.hasOwnProperty.call(e,A)&&t.indexOf(A)<0&&(n[A]=e[A]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(A=Object.getOwnPropertySymbols(e);r<A.length;r++)t.indexOf(A[r])<0&&Object.prototype.propertyIsEnumerable.call(e,A[r])&&(n[A[r]]=e[A[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var o=n(8812);function a(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l=a,c=new r.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),u=new s.Vy("@firebase/auth");function d(e){if(u.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u.error("Auth (".concat(A.MF,"): ").concat(e),...n)}}function h(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];throw w(e,...n)}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];return w(e,...n)}function g(e,t,n){const A=Object.assign(Object.assign({},l()),{[t]:n});return new r.FA("auth","Firebase",A).create(t,{appName:e.name})}function p(e){return g(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&h(e,"argument-error"),g(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];if("string"!==typeof e){const t=n[0],A=[...n.slice(1)];return A[0]&&(A[0].appName=e.name),e._errorFactory.create(t,...A)}return c.create(e,...n)}function y(e,t){if(!e){for(var n=arguments.length,A=new Array(n>2?n-2:0),r=2;r<n;r++)A[r-2]=arguments[r];throw w(t,...A)}}function B(e){const t="INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function v(e,t){e||B(t)}function b(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function C(){return"http:"===x()||"https:"===x()}function x(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class E{constructor(e,t){this.shortDelay=e,this.longDelay=t,v(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.jZ)()||(0,r.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(C()||(0,r.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function U(e,t){v(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class I{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void B("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void B("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void B("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},F=new E(3e4,6e4);function k(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function S(e,t,n,A){return T(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},i={};A&&("GET"===t?i=A:s={body:JSON.stringify(A)});const o=(0,r.Am)(Object.assign({key:e.config.apiKey},i)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},s);return(0,r.c1)()||(l.referrerPolicy="no-referrer"),I.fetch()(N(e,e.config.apiHost,n,o),l)})}async function T(e,t,n){e._canInitEmulator=!1;const A=Object.assign(Object.assign({},Q),t);try{const t=new L(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw H(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,i]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw H(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw H(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw H(e,"user-disabled",s);const o=A[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw g(e,o,i);h(e,o)}}catch(s){if(s instanceof r.g)throw s;h(e,"network-request-failed",{message:String(s)})}}async function _(e,t,n,A){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await S(e,t,n,A,r);return"mfaPendingCredential"in s&&h(e,"multi-factor-auth-required",{_serverResponse:s}),s}function N(e,t,n,A){const r="".concat(t).concat(n,"?").concat(A);return e.config.emulator?U(e.config,r):"".concat(e.config.apiScheme,"://").concat(r)}function D(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(f(this.auth,"network-request-failed")),F.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function H(e,t,n){const A={appName:e.name};n.email&&(A.email=n.email),n.phoneNumber&&(A.phoneNumber=n.phoneNumber);const r=f(e,t,A);return r.customData._tokenResponse=n,r}function O(e){return void 0!==e&&void 0!==e.getResponse}function P(e){return void 0!==e&&void 0!==e.enterprise}class R{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return D(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function M(e,t){return S(e,"GET","/v2/recaptchaConfig",k(e,t))}async function j(e,t){return S(e,"POST","/v1/accounts:lookup",t)}function K(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function V(e){return 1e3*Number(e)}function G(e){const[t,n,A]=e.split(".");if(void 0===t||void 0===n||void 0===A)return d("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.u)(n);return e?JSON.parse(e):(d("Failed to decode base64 JWT payload"),null)}catch(s){return d("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function z(e){const t=G(e);return y(t,"internal-error"),y("undefined"!==typeof t.exp,"internal-error"),y("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function W(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof r.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class J{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=K(this.lastLoginAt),this.creationTime=K(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function X(e){var t;const n=e.auth,A=await e.getIdToken(),r=await W(e,j(n,{idToken:A}));y(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const i=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Y(s.providerUserInfo):[],o=(a=e.providerData,l=i,[...a.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var a,l;const c=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!c&&u,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new J(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,h)}function Y(e){return e.map(e=>{var{providerId:t}=e,n=i(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y("undefined"!==typeof e.idToken,"internal-error"),y("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):z(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){y(0!==e.length,"internal-error");const t=z(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:A,expiresIn:s}=await async function(e,t){const n=await T(e,{},async()=>{const n=(0,r.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:A,apiKey:s}=e.config,i=N(e,A,"/v1/token","key=".concat(s)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",I.fetch()(i,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,A,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:A,expirationTime:r}=t,s=new Z;return n&&(y("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),A&&(y("string"===typeof A,"internal-error",{appName:e}),s.accessToken=A),r&&(y("number"===typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return B("not implemented")}}function $(e,t){y("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ee{constructor(e){var{uid:t,auth:n,stsTokenManager:A}=e,r=i(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new J(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await W(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,r.Ku)(e),A=await n.getIdToken(t),s=G(A);y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,o=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:A,authTime:K(V(s.auth_time)),issuedAtTime:K(V(s.iat)),expirationTime:K(V(s.exp)),signInProvider:o||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,r.Ku)(e);await X(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ee(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await X(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,A.xZ)(this.auth.app))return Promise.reject(p(this.auth));const e=await this.getIdToken();return await W(this,async function(e,t){return S(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,A,r,s,i,o,a,l;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(A=t.email)&&void 0!==A?A:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,h=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(i=t.tenantId)&&void 0!==i?i:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,p=null!==(a=t.createdAt)&&void 0!==a?a:void 0,m=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:B,isAnonymous:v,providerData:b,stsTokenManager:C}=t;y(w&&C,e,"internal-error");const x=Z.fromJSON(this.name,C);y("string"===typeof w,e,"internal-error"),$(c,e.name),$(u,e.name),y("boolean"===typeof B,e,"internal-error"),y("boolean"===typeof v,e,"internal-error"),$(d,e.name),$(h,e.name),$(f,e.name),$(g,e.name),$(p,e.name),$(m,e.name);const E=new ee({uid:w,auth:e,email:u,emailVerified:B,displayName:c,isAnonymous:v,photoURL:h,phoneNumber:d,tenantId:f,stsTokenManager:x,createdAt:p,lastLoginAt:m});return b&&Array.isArray(b)&&(E.providerData=b.map(e=>Object.assign({},e))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const A=new Z;A.updateFromServerResponse(t);const r=new ee({uid:t.localId,auth:e,stsTokenManager:A,isAnonymous:n});return await X(r),r}static async _fromGetAccountInfoResponse(e,t,n){const A=t.users[0];y(void 0!==A.localId,"internal-error");const r=void 0!==A.providerUserInfo?Y(A.providerUserInfo):[],s=!(A.email&&A.passwordHash)&&!(null===r||void 0===r?void 0:r.length),i=new Z;i.updateFromIdToken(n);const o=new ee({uid:A.localId,auth:e,stsTokenManager:i,isAnonymous:s}),a={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:r,metadata:new J(A.createdAt,A.lastLoginAt),isAnonymous:!(A.email&&A.passwordHash)&&!(null===r||void 0===r?void 0:r.length)};return Object.assign(o,a),o}}const te=new Map;function ne(e){v(e instanceof Function,"Expected a class definition");let t=te.get(e);return t?(v(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,te.set(e,t),t)}class Ae{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ae.type="NONE";const re=Ae;function se(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ie{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:A,name:r}=this.auth;this.fullUserKey=se(this.userKey,A.apiKey,r),this.fullPersistenceKey=se("persistence",A.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ee._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ie(ne(re),e,n);const A=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let r=A[0]||ne(re);const s=se(n,e.config.apiKey,e.name);let i=null;for(const l of t)try{const t=await l._get(s);if(t){const n=ee._fromJSON(e,t);l!==r&&(i=n),r=l;break}}catch(a){}const o=A.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&o.length?(r=o[0],i&&await r._set(s,i.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(s)}catch(a){}})),new ie(r,e,n)):new ie(r,e,n)}}function oe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ue(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(he(t))return"Blackberry";if(fe(t))return"Webos";if(le(t))return"Safari";if((t.includes("chrome/")||ce(t))&&!t.includes("edge/"))return"Chrome";if(de(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/firefox\//i.test(e)}function le(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/crios\//i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/iemobile/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/android/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/blackberry/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/webos/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return ge(e)||de(e)||fe(e)||he(e)||/windows phone/i.test(e)||ue(e)}function me(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oe((0,r.ZQ)());break;case"Worker":t="".concat(oe((0,r.ZQ)()),"-").concat(e);break;default:t=e}const s=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(A.MF,"/").concat(s)}class we{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,A)=>{try{n(e(t))}catch(r){A(r)}});n.onAbort=t,this.queue.push(n);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(A){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ye{constructor(e){var t,n,A,r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(A=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==A?A:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,A,r,s,i;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(A=o.containsLowercaseLetter)||void 0===A||A),o.isValid&&(o.isValid=null===(r=o.containsUppercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNonAlphanumericCharacter)||void 0===i||i),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,A=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),A&&(t.meetsMaxPasswordLength=e.length<=A)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let A=0;A<e.length;A++)n=e.charAt(A),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,A,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=A)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class Be{constructor(e,t,n,A){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new be(this),this.idTokenSubscription=new be(this),this.beforeStateQueue=new we(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ne(t)),this._initializationPromise=this.queue(async()=>{var n,A;if(!this._deleted&&(this.persistenceManager=await ie.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(A=this.currentUser)||void 0===A?void 0:A.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await j(this,{idToken:e}),n=await ee._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,A.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,A=null===r||void 0===r?void 0:r._redirectEventId,i=await this.tryRedirectSignIn(e);n&&n!==A||!(null===i||void 0===i?void 0:i.user)||(r=i.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await X(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,A.xZ)(this.app))return Promise.reject(p(this));const t=e?(0,r.Ku)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,A.xZ)(this.app)?Promise.reject(p(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,A.xZ)(this.app)?Promise.reject(p(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ne(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return S(e,"GET","/v2/passwordPolicy",k(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ye(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return S(e,"POST","/v2/accounts:revokeToken",k(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ne(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await ie.create(this,[ne(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,A){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t);let s=!1;const i=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(i,this,"internal-error"),i.then(()=>{s||r(this.currentUser)}),"function"===typeof t){const r=e.addObserver(t,n,A);return()=>{s=!0,r()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const A=await this._getAppCheckToken();return A&&(t["X-Firebase-AppCheck"]=A),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(u.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u.warn("Auth (".concat(A.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ve(e){return(0,r.Ku)(e)}class be{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.tD)(e=>this.observer=e)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ce={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xe(e){return Ce.loadJS(e)}function Ee(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ue{constructor(e){this.type="recaptcha-enterprise",this.auth=ve(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,A){const r=window.grecaptcha;P(r)?r.enterprise.ready(()=>{r.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):A(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,A)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{M(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(void 0!==A.recaptchaKey){const n=new R(A);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(r=>{if(!t&&P(window.grecaptcha))n(r,e,A);else{if("undefined"===typeof window)return void A(new Error("RecaptchaVerifier is only supported in browser"));let t=Ce.recaptchaEnterpriseScript;0!==t.length&&(t+=r),xe(t).then(()=>{n(r,e,A)}).catch(e=>{A(e)})}}).catch(e=>{A(e)})})}}async function Ie(e,t,n){let A=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new Ue(e);let s;try{s=await r.verify(n)}catch(o){s=await r.verify(n,!0)}const i=Object.assign({},t);return A?Object.assign(i,{captchaResp:s}):Object.assign(i,{captchaResponse:s}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}async function Qe(e,t,n,A){var r;if(null===(r=e._getRecaptchaConfig())||void 0===r?void 0:r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Ie(e,t,n,"getOobCode"===n);return A(e,r)}return A(e,t).catch(async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await Ie(e,t,n,"getOobCode"===n);return A(e,r)}return Promise.reject(r)})}function Fe(e,t,n){const A=ve(e);y(A._canInitEmulator,A,"emulator-config-failed"),y(/^https?:\/\//.test(t),A,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ke(t),{host:i,port:o}=function(e){const t=ke(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const A=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(A);if(r){const e=r[1];return{host:e,port:Se(A.substr(e.length+1))}}{const[e,t]=A.split(":");return{host:e,port:Se(t)}}}(t),a=null===o?"":":".concat(o);A.config.emulator={url:"".concat(s,"//").concat(i).concat(a,"/")},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:i,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ke(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Se(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Te{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return B("not implemented")}_getIdTokenResponse(e){return B("not implemented")}_linkToIdToken(e,t){return B("not implemented")}_getReauthenticationResolver(e){return B("not implemented")}}async function _e(e,t){return S(e,"POST","/v1/accounts:signUp",t)}async function Ne(e,t){return _(e,"POST","/v1/accounts:signInWithPassword",k(e,t))}class De extends Te{constructor(e,t,n){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=A}static _fromEmailAndPassword(e,t){return new De(e,t,"password")}static _fromEmailAndCode(e,t){return new De(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Qe(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ne);case"emailLink":return async function(e,t){return _(e,"POST","/v1/accounts:signInWithEmailLink",k(e,t))}(e,{email:this._email,oobCode:this._password});default:h(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Qe(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_e);case"emailLink":return async function(e,t){return _(e,"POST","/v1/accounts:signInWithEmailLink",k(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:h(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Le(e,t){return _(e,"POST","/v1/accounts:signInWithIdp",k(e,t))}class He extends Te{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new He(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):h("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:A}=t,r=i(t,["providerId","signInMethod"]);if(!n||!A)return null;const s=new He(n,A);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return Le(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Le(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Le(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,r.Am)(t)}return e}}const Oe={USER_NOT_FOUND:"user-not-found"};class Pe extends Te{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Pe({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Pe({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return _(e,"POST","/v1/accounts:signInWithPhoneNumber",k(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await _(e,"POST","/v1/accounts:signInWithPhoneNumber",k(e,t));if(n.temporaryProof)throw H(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return _(e,"POST","/v1/accounts:signInWithPhoneNumber",k(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Oe)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:A}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:A}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:A,temporaryProof:r}=e;return n||t||A||r?new Pe({verificationId:t,verificationCode:n,phoneNumber:A,temporaryProof:r}):null}}class Re{constructor(e){var t,n,A,s,i,o;const a=(0,r.I9)((0,r.hp)(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=a.mode)&&void 0!==A?A:null);y(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=a.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=a.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,r.I9)((0,r.hp)(e)).link,n=t?(0,r.I9)((0,r.hp)(t)).deep_link_id:null,A=(0,r.I9)((0,r.hp)(e)).deep_link_id;return(A?(0,r.I9)((0,r.hp)(A)).link:null)||A||n||t||e}(e);try{return new Re(t)}catch(n){return null}}}class Me{constructor(){this.providerId=Me.PROVIDER_ID}static credential(e,t){return De._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Re.parseLink(t);return y(n,"argument-error"),De._fromEmailAndCode(e,n.code,n.tenantId)}}Me.PROVIDER_ID="password",Me.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Me.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class je{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ke extends je{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ve extends Ke{constructor(){super("facebook.com")}static credential(e){return He._fromParams({providerId:Ve.PROVIDER_ID,signInMethod:Ve.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ve.credentialFromTaggedObject(e)}static credentialFromError(e){return Ve.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ve.credential(t.oauthAccessToken)}catch(n){return null}}}Ve.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ve.PROVIDER_ID="facebook.com";class Ge extends Ke{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return He._fromParams({providerId:Ge.PROVIDER_ID,signInMethod:Ge.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ge.credentialFromTaggedObject(e)}static credentialFromError(e){return Ge.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:A}=t;if(!n&&!A)return null;try{return Ge.credential(n,A)}catch(r){return null}}}Ge.GOOGLE_SIGN_IN_METHOD="google.com",Ge.PROVIDER_ID="google.com";class ze extends Ke{constructor(){super("github.com")}static credential(e){return He._fromParams({providerId:ze.PROVIDER_ID,signInMethod:ze.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ze.credentialFromTaggedObject(e)}static credentialFromError(e){return ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ze.credential(t.oauthAccessToken)}catch(n){return null}}}ze.GITHUB_SIGN_IN_METHOD="github.com",ze.PROVIDER_ID="github.com";class We extends Ke{constructor(){super("twitter.com")}static credential(e,t){return He._fromParams({providerId:We.PROVIDER_ID,signInMethod:We.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return We.credentialFromTaggedObject(e)}static credentialFromError(e){return We.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:A}=t;if(!n||!A)return null;try{return We.credential(n,A)}catch(r){return null}}}async function qe(e,t){return _(e,"POST","/v1/accounts:signUp",k(e,t))}We.TWITTER_SIGN_IN_METHOD="twitter.com",We.PROVIDER_ID="twitter.com";class Je{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let A=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await ee._fromIdTokenResponse(e,n,A),s=Xe(n);return new Je({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const A=Xe(n);return new Je({user:e,providerId:A,_tokenResponse:n,operationType:t})}}function Xe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ye extends r.g{constructor(e,t,n,A){var r;super(t.code,t.message),this.operationType=n,this.user=A,Object.setPrototypeOf(this,Ye.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,A){return new Ye(e,t,n,A)}}function Ze(e,t,n,A){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ye._fromErrorAndOperation(e,n,t,A);throw n})}async function $e(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const A=await W(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Je._forOperation(e,"link",A)}async function et(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,A.xZ)(r.app))return Promise.reject(p(r));const s="reauthenticate";try{const A=await W(e,Ze(r,s,t,e),n);y(A.idToken,r,"internal-error");const i=G(A.idToken);y(i,r,"internal-error");const{sub:o}=i;return y(e.uid===o,r,"user-mismatch"),Je._forOperation(e,s,A)}catch(i){throw(null===i||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&h(r,"user-mismatch"),i}}async function tt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,A.xZ)(e.app))return Promise.reject(p(e));const r="signIn",s=await Ze(e,r,t),i=await Je._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function nt(e,t){return tt(ve(e),t)}async function At(e){const t=ve(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rt(e,t){let{displayName:n,photoURL:A}=t;if(void 0===n&&void 0===A)return;const s=(0,r.Ku)(e),i={idToken:await s.getIdToken(),displayName:n,photoUrl:A,returnSecureToken:!0},o=await W(s,async function(e,t){return S(e,"POST","/v1/accounts:update",t)}(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(e=>{let{providerId:t}=e;return"password"===t});a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}new WeakMap;const st="__sak";class it{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(st,"1"),this.storage.removeItem(st),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ot extends it{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),A=this.localCache[t];n!==A&&e(t,A,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const A=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,r.lT)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(A,10):A()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const A of Array.from(n))A(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ot.type="LOCAL";const at=ot;class lt extends it{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lt.type="SESSION";const ct=lt;class ut{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ut(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:A,data:r}=t.data,s=this.handlersMap[A];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:A});const i=Array.from(s).map(async e=>e(t.origin,r)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(i);t.ports[0].postMessage({status:"done",eventId:n,eventType:A,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function dt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let A=0;A<t;A++)n+=Math.floor(10*Math.random());return e+n}ut.receivers=[];class ht{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const A="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let r,s;return new Promise((i,o)=>{const a=dt("",20);A.port1.start();const l=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:A,onMessage(e){const t=e;if(t.data.eventId===a)switch(t.data.status){case"ack":clearTimeout(l),r=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),i(t.data.response);break;default:clearTimeout(l),clearTimeout(r),o(new Error("invalid_response"))}}},this.handlers.add(s),A.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:a,data:t},[A.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function ft(){return window}function gt(){return"undefined"!==typeof ft().WorkerGlobalScope&&"function"===typeof ft().importScripts}const pt="firebaseLocalStorageDb",mt="firebaseLocalStorage",wt="fbase_key";class yt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bt(e,t){return e.transaction([mt],t?"readwrite":"readonly").objectStore(mt)}function vt(){const e=indexedDB.open(pt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(mt,{keyPath:wt})}catch(A){n(A)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(mt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(pt);return new yt(e).toPromise()}(),t(await vt()))})})}async function bt(e,t,n){const A=Bt(e,!0).put({[wt]:t,value:n});return new yt(A).toPromise()}function Ct(e,t){const n=Bt(e,!0).delete(t);return new yt(n).toPromise()}class xt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await vt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ut._getInstance(gt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ht(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vt();return await bt(e,st,"1"),await Ct(e,st),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>bt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Bt(e,!1).get(t),A=await new yt(n).toPromise();return void 0===A?null:A.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ct(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Bt(e,!1).getAll();return new yt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:A,value:r}of e)n.add(A),JSON.stringify(this.localCache[A])!==JSON.stringify(r)&&(this.notifyListeners(A,r),t.push(A));for(const A of Object.keys(this.localCache))this.localCache[A]&&!n.has(A)&&(this.notifyListeners(A,null),t.push(A));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const A of Array.from(n))A(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xt.type="LOCAL";const Et=xt;const Ut=1e12;class It{constructor(e){this.auth=e,this.counter=Ut,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Qt(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Ut;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Ut;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Ut;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Qt{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"===typeof e?document.getElementById(e):e;y(A,"argument-error",{appName:t}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<e;A++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ft=Ee("rcb"),kt=new E(3e4,6e4);class St{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ft().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return y(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&O(ft().grecaptcha)?Promise.resolve(ft().grecaptcha):new Promise((n,A)=>{const s=ft().setTimeout(()=>{A(f(e,"network-request-failed"))},kt.get());ft()[Ft]=()=>{ft().clearTimeout(s),delete ft()[Ft];const r=ft().grecaptcha;if(!r||!O(r))return void A(f(e,"internal-error"));const i=r.render;r.render=(e,t)=>{const n=i(e,t);return this.counter++,n},this.hostLanguage=t,n(r)};xe("".concat(Ce.recaptchaV2Script,"?").concat((0,r.Am)({onload:Ft,render:"explicit",hl:t}))).catch(()=>{clearTimeout(s),A(f(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ft().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Tt{async load(e){return new It(e)}clearedOneInstance(){}}const _t="recaptcha",Nt={theme:"light",type:"image"};class Dt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Nt);this.parameters=n,this.type=_t,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ve(e),this.isInvisible="invisible"===this.parameters.size,y("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"===typeof t?document.getElementById(t):t;y(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Tt:new St,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const A=e=>{e&&(this.tokenChangeListeners.delete(A),n(e))};this.tokenChangeListeners.add(A),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){y(!this.parameters.sitekey,this.auth,"argument-error"),y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),y("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"===typeof e)e(t);else if("string"===typeof e){const n=ft()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){y(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){y(C()&&!gt(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await S(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);y(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Lt{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Pe._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Ht(e,t,n){var A;const r=await n.verify();try{let s;if(y("string"===typeof r,e,"argument-error"),y(n.type===_t,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){y("enroll"===t.type,e,"internal-error");const n=await function(e,t){return S(e,"POST","/v2/accounts/mfaEnrollment:start",k(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");const n=(null===(A=s.multiFactorHint)||void 0===A?void 0:A.uid)||s.multiFactorUid;y(n,e,"missing-multi-factor-info");const i=await function(e,t){return S(e,"POST","/v2/accounts/mfaSignIn:start",k(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return i.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return S(e,"POST","/v1/accounts:sendVerificationCode",k(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class Ot{constructor(e){this.providerId=Ot.PROVIDER_ID,this.auth=ve(e)}verifyPhoneNumber(e,t){return Ht(this.auth,e,(0,r.Ku)(t))}static credential(e,t){return Pe._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ot.credentialFromTaggedObject(t)}static credentialFromError(e){return Ot.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:A}=t;return n&&A?Pe._fromTokenResponse(n,A):null}}function Pt(e,t){return t?ne(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ot.PROVIDER_ID="phone",Ot.PHONE_SIGN_IN_METHOD="phone";class Rt extends Te{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Le(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Le(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Le(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mt(e){return tt(e.auth,new Rt(e),e.bypassAuthState)}function jt(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),et(n,new Rt(e),e.bypassAuthState)}async function Kt(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),$e(n,new Rt(e),e.bypassAuthState)}class Vt{constructor(e,t,n,A){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=A,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:A,tenantId:r,error:s,type:i}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:A||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(o))}catch(a){this.reject(a)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mt;case"linkViaPopup":case"linkViaRedirect":return Kt;case"reauthViaPopup":case"reauthViaRedirect":return jt;default:h(this.auth,"internal-error")}}resolve(e){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gt=new E(2e3,1e4);class zt extends Vt{constructor(e,t,n,A,r){super(e,t,A,r),this.provider=n,this.authWindow=null,this.pollId=null,zt.currentPopupAction&&zt.currentPopupAction.cancel(),zt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){v(1===this.filter.length,"Popup operations only handle one event");const e=dt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(f(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(f(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(f(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Gt.get())};e()}}zt.currentPopupAction=null;const Wt=new Map;class qt extends Vt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Wt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Yt(t),A=Xt(e);if(!await A._isAvailable())return!1;const r="true"===await A._get(n);return await A._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Wt.set(this.auth._key(),e)}return this.bypassAuthState||Wt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Jt(e,t){Wt.set(e._key(),t)}function Xt(e){return ne(e._redirectPersistence)}function Yt(e){return se("pendingRedirect",e.config.apiKey,e.name)}async function Zt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,A.xZ)(e.app))return Promise.reject(p(e));const r=ve(e),s=Pt(r,t),i=new qt(r,s,n),o=await i.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class $t{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tn(e)){const A=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(f(this.auth,A))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(en(e))}saveEventToCache(e){this.cachedEventUids.add(en(e)),this.lastProcessedEventTime=Date.now()}}function en(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tn(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const nn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,An=/^https?/;async function rn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return S(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const A of t)try{if(sn(A))return}catch(n){}h(e,"unauthorized-domain")}function sn(e){const t=b(),{protocol:n,hostname:A}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===A?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===A}if(!An.test(n))return!1;if(nn.test(e))return A===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(A)}const on=new E(3e4,6e4);function an(){const e=ft().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ln(e){return new Promise((t,n)=>{var A,r,s;function i(){an(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{an(),n(f(e,"network-request-failed"))},timeout:on.get()})}if(null===(r=null===(A=ft().gapi)||void 0===A?void 0:A.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ft().gapi)||void 0===s?void 0:s.load)){const t=Ee("iframefcb");return ft()[t]=()=>{gapi.load?i():n(f(e,"network-request-failed"))},xe("".concat(Ce.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}i()}}).catch(e=>{throw cn=null,e})}let cn=null;const un=new E(5e3,15e3),dn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fn(e){const t=e.config;y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?U(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),s={apiKey:t.apiKey,appName:e.name,v:A.MF},i=hn.get(e.config.apiHost);i&&(s.eid=i);const o=e._getFrameworks();return o.length&&(s.fw=o.join(",")),"".concat(n,"?").concat((0,r.Am)(s).slice(1))}async function gn(e){const t=await function(e){return cn=cn||ln(e),cn}(e),n=ft().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:fn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dn,dontclear:!0},t=>new Promise(async(n,A)=>{await t.restyle({setHideOnLeave:!1});const r=f(e,"network-request-failed"),s=ft().setTimeout(()=>{A(r)},un.get());function i(){ft().clearTimeout(s),n(t)}t.ping(i).then(i,()=>{A(r)})}))}const pn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function wn(e,t,n){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-A)/2,0).toString();let a="";const l=Object.assign(Object.assign({},pn),{width:A.toString(),height:s.toString(),top:i,left:o}),c=(0,r.ZQ)().toLowerCase();n&&(a=ce(c)?"_blank":n),ae(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,A]=t;return"".concat(e).concat(n,"=").concat(A,",")},"");if(function(){var e;return ge(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(A)}(t||"",a),new mn(null);const d=window.open(t||"",a,u);y(d,e,"popup-blocked");try{d.focus()}catch(h){}return new mn(d)}const yn="__/auth/handler",Bn="emulator/auth/handler",vn=encodeURIComponent("fac");async function bn(e,t,n,s,i,o){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:A.MF,eventId:i};if(t instanceof je){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",(0,r.Im)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof Ke){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const A of Object.keys(l))void 0===l[A]&&delete l[A];const c=await e._getAppCheckToken(),u=c?"#".concat(vn,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yn);return U(t,Bn)}(e),"?").concat((0,r.Am)(l).slice(1)).concat(u)}const Cn="webStorageSupport";const xn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ct,this._completeRedirectFn=Zt,this._overrideRedirectResult=Jt}async _openPopup(e,t,n,A){var r;v(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return wn(e,await bn(e,t,n,b(),A),dt())}async _openRedirect(e,t,n,A){await this._originValidation(e);return function(e){ft().location.href=e}(await bn(e,t,n,b(),A)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(v(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await gn(e),n=new $t(e);return t.register("authEvent",t=>{y(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cn,{type:Cn},n=>{var A;const r=null===(A=null===n||void 0===n?void 0:n[0])||void 0===A?void 0:A[Cn];void 0!==r&&t(!!r),h(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pe()||le()||ge()}};var En="@firebase/auth",Un="1.7.9";class In{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Qn=(0,r.XA)("authIdTokenMaxAge")||300;let Fn=null;var kn;Ce={loadJS:e=>new Promise((t,n)=>{const A=document.createElement("script");A.setAttribute("src",e),A.onload=t,A.onerror=e=>{const t=f("internal-error");t.customData=e,n(t)},A.type="text/javascript",A.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},kn="Browser",(0,A.om)(new o.uA("auth",(e,t)=>{let{options:n}=t;const A=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=A.options;y(i&&!i.includes(":"),"invalid-api-key",{appName:A.name});const a={apiKey:i,authDomain:o,clientPlatform:kn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:me(kn)},l=new Be(A,r,s,a);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],A=(Array.isArray(n)?n:[n]).map(ne);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(A,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,A.om)(new o.uA("auth-internal",e=>(e=>new In(e))(ve(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,A.KO)(En,Un,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(kn)),(0,A.KO)(En,Un,"esm2017");var Sn=n(5472),Tn=n(8147),_n=n(626),Nn=n(2799);const Dn="@firebase/installations",Ln="0.6.9",Hn=1e4,On="w:".concat(Ln),Pn="FIS_v2",Rn=36e5,Mn={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jn=new r.FA("installations","Installations",Mn);function Kn(e){return e instanceof r.g&&e.code.includes("request-failed")}function Vn(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Gn(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function zn(e,t){const n=(await t.json()).error;return jn.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Wn(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qn(e,t){let{refreshToken:n}=t;const A=Wn(e);return A.append("Authorization",function(e){return"".concat(Pn," ").concat(e)}(n)),A}async function Jn(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Xn(e){return new Promise(t=>{setTimeout(t,e)})}const Yn=/^[cdef][\w-]{21}$/;function Zn(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Yn.test(t)?t:""}catch(e){return""}}function $n(e){return"".concat(e.appName,"!").concat(e.appId)}const eA=new Map;function tA(e,t){const n=$n(e);nA(n,t),function(e,t){const n=rA();n&&n.postMessage({key:e,fid:t});sA()}(n,t)}function nA(e,t){const n=eA.get(e);if(n)for(const A of n)A(t)}let AA=null;function rA(){return!AA&&"BroadcastChannel"in self&&(AA=new BroadcastChannel("[Firebase] FID Change"),AA.onmessage=e=>{nA(e.data.key,e.data.fid)}),AA}function sA(){0===eA.size&&AA&&(AA.close(),AA=null)}const iA="firebase-installations-store";let oA=null;function aA(){return oA||(oA=(0,Nn.P2)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(iA)}})),oA}async function lA(e,t){const n=$n(e),A=(await aA()).transaction(iA,"readwrite"),r=A.objectStore(iA),s=await r.get(n);return await r.put(t,n),await A.done,s&&s.fid===t.fid||tA(e,t.fid),t}async function cA(e){const t=$n(e),n=(await aA()).transaction(iA,"readwrite");await n.objectStore(iA).delete(t),await n.done}async function uA(e,t){const n=$n(e),A=(await aA()).transaction(iA,"readwrite"),r=A.objectStore(iA),s=await r.get(n),i=t(s);return void 0===i?await r.delete(n):await r.put(i,n),await A.done,!i||s&&s.fid===i.fid||tA(e,i.fid),i}async function dA(e){let t;const n=await uA(e.appConfig,n=>{const A=function(e){const t=e||{fid:Zn(),registrationStatus:0};return gA(t)}(n),r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(jn.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},A=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:A}=e,{fid:r}=t;const s=Vn(n),i=Wn(n),o=A.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={fid:r,authVersion:Pn,appId:n.appId,sdkVersion:On},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await Jn(()=>fetch(s,l));if(c.ok){const e=await c.json();return{fid:e.fid||r,registrationStatus:2,refreshToken:e.refreshToken,authToken:Gn(e.authToken)}}throw await zn("Create Installation",c)}(e,t);return lA(e.appConfig,n)}catch(n){throw Kn(n)&&409===n.customData.serverCode?await cA(e.appConfig):await lA(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:A}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:hA(e)}:{installationEntry:t}}(e,A);return t=r.registrationPromise,r.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function hA(e){let t=await fA(e.appConfig);for(;1===t.registrationStatus;)await Xn(100),t=await fA(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await dA(e);return n||t}return t}function fA(e){return uA(e,e=>{if(!e)throw jn.create("installation-not-found");return gA(e)})}function gA(e){return 1===(t=e).registrationStatus&&t.registrationTime+Hn<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function pA(e,t){let{appConfig:n,heartbeatServiceProvider:A}=e;const r=function(e,t){let{fid:n}=t;return"".concat(Vn(e),"/").concat(n,"/authTokens:generate")}(n,t),s=qn(n,t),i=A.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:On,appId:n.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Jn(()=>fetch(r,a));if(l.ok){return Gn(await l.json())}throw await zn("Generate Auth Token",l)}async function mA(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const A=await uA(e.appConfig,A=>{if(!yA(A))throw jn.create("not-registered");const r=A.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Rn}(e)}(r))return A;if(1===r.requestStatus)return t=async function(e,t){let n=await wA(e.appConfig);for(;1===n.authToken.requestStatus;)await Xn(100),n=await wA(e.appConfig);const A=n.authToken;return 0===A.requestStatus?mA(e,t):A}(e,n),A;{if(!navigator.onLine)throw jn.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(A);return t=async function(e,t){try{const n=await pA(e,t),A=Object.assign(Object.assign({},t),{authToken:n});return await lA(e.appConfig,A),n}catch(n){if(!Kn(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await lA(e.appConfig,n)}else await cA(e.appConfig);throw n}}(e,n),n}});return t?await t:A.authToken}function wA(e){return uA(e,e=>{if(!yA(e))throw jn.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Hn<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function yA(e){return void 0!==e&&2===e.registrationStatus}async function BA(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await dA(e);t&&await t}(n);return(await mA(n,t)).token}function vA(e){return jn.create("missing-app-config-values",{valueName:e})}const bA="installations",CA=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw vA("App Configuration");if(!e.name)throw vA("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw vA(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,A.j6)(t,"heartbeat"),_delete:()=>Promise.resolve()}},xA=e=>{const t=e.getProvider("app").getImmediate(),n=(0,A.j6)(t,bA).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:A}=await dA(t);return A?A.catch(console.error):mA(t).catch(console.error),n.fid}(n),getToken:e=>BA(n,e)}};(0,A.om)(new o.uA(bA,CA,"PUBLIC")),(0,A.om)(new o.uA("installations-internal",xA,"PRIVATE")),(0,A.KO)(Dn,Ln),(0,A.KO)(Dn,Ln,"esm2017");const EA="/firebase-messaging-sw.js",UA="/firebase-cloud-messaging-push-scope",IA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",QA="https://fcmregistrations.googleapis.com/v1",FA="google.c.a.c_id";var kA,SA;function TA(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _A(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),A=new Uint8Array(n.length);for(let r=0;r<n.length;++r)A[r]=n.charCodeAt(r);return A}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(kA||(kA={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(SA||(SA={}));const NA="fcm_token_details_db",DA=5,LA="fcm_token_object_Store";const HA="firebase-messaging-database",OA=1,PA="firebase-messaging-store";let RA=null;function MA(){return RA||(RA=(0,Nn.P2)(HA,OA,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(PA)}})),RA}async function jA(e){const t=VA(e),n=await MA(),A=await n.transaction(PA).objectStore(PA).get(t);if(A)return A;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(NA))return null}let t=null;return(await(0,Nn.P2)(NA,DA,{upgrade:async(n,A,r,s)=>{var i;if(A<2)return;if(!n.objectStoreNames.contains(LA))return;const o=s.objectStore(LA),a=await o.index("fcmSenderId").get(e);if(await o.clear(),a)if(2===A){const e=a;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(i=e.createTime)&&void 0!==i?i:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:TA(e.vapidKey)}}}else if(3===A){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:TA(e.auth),p256dh:TA(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:TA(e.vapidKey)}}}else if(4===A){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:TA(e.auth),p256dh:TA(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:TA(e.vapidKey)}}}}})).close(),await(0,Nn.MR)(NA),await(0,Nn.MR)("fcm_vapid_details_db"),await(0,Nn.MR)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await KA(e,t),t}}async function KA(e,t){const n=VA(e),A=(await MA()).transaction(PA,"readwrite");return await A.objectStore(PA).put(t,n),await A.done,t}function VA(e){let{appConfig:t}=e;return t.appId}const GA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},zA=new r.FA("messaging","Messaging",GA);async function WA(e,t){const n={method:"DELETE",headers:await JA(e)};try{const A=await fetch("".concat(qA(e.appConfig),"/").concat(t),n),r=await A.json();if(r.error){const e=r.error.message;throw zA.create("token-unsubscribe-failed",{errorInfo:e})}}catch(A){throw zA.create("token-unsubscribe-failed",{errorInfo:null===A||void 0===A?void 0:A.toString()})}}function qA(e){let{projectId:t}=e;return"".concat(QA,"/projects/").concat(t,"/registrations")}async function JA(e){let{appConfig:t,installations:n}=e;const A=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(A)})}function XA(e){let{p256dh:t,auth:n,endpoint:A,vapidKey:r}=e;const s={web:{endpoint:A,auth:n,p256dh:t}};return r!==IA&&(s.web.applicationPubKey=r),s}const YA=6048e5;async function ZA(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_A(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:TA(t.getKey("auth")),p256dh:TA(t.getKey("p256dh"))},A=await jA(e.firebaseDependencies);if(A){if(function(e,t){const n=t.vapidKey===e.vapidKey,A=t.endpoint===e.endpoint,r=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&A&&r&&s}(A.subscriptionOptions,n))return Date.now()>=A.createTime+YA?async function(e,t){try{const n=await async function(e,t){const n=await JA(e),A=XA(t.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(A)};let s;try{const n=await fetch("".concat(qA(e.appConfig),"/").concat(t.token),r);s=await n.json()}catch(i){throw zA.create("token-update-failed",{errorInfo:null===i||void 0===i?void 0:i.toString()})}if(s.error){const e=s.error.message;throw zA.create("token-update-failed",{errorInfo:e})}if(!s.token)throw zA.create("token-update-no-token");return s.token}(e.firebaseDependencies,t),A=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await KA(e.firebaseDependencies,A),n}catch(n){throw n}}(e,{token:A.token,createTime:Date.now(),subscriptionOptions:n}):A.token;try{await WA(e.firebaseDependencies,A.token)}catch(r){console.warn(r)}return $A(e.firebaseDependencies,n)}return $A(e.firebaseDependencies,n)}async function $A(e,t){const n=await async function(e,t){const n=await JA(e),A=XA(t),r={method:"POST",headers:n,body:JSON.stringify(A)};let s;try{const t=await fetch(qA(e.appConfig),r);s=await t.json()}catch(i){throw zA.create("token-subscribe-failed",{errorInfo:null===i||void 0===i?void 0:i.toString()})}if(s.error){const e=s.error.message;throw zA.create("token-subscribe-failed",{errorInfo:e})}if(!s.token)throw zA.create("token-subscribe-no-token");return s.token}(e,t),A={token:n,createTime:Date.now(),subscriptionOptions:t};return await KA(e,A),A.token}function er(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const A=t.notification.body;A&&(e.notification.body=A);const r=t.notification.image;r&&(e.notification.image=r);const s=t.notification.icon;s&&(e.notification.icon=s)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,A,r,s,i;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const o=null!==(r=null===(A=t.fcmOptions)||void 0===A?void 0:A.link)&&void 0!==r?r:null===(s=t.notification)||void 0===s?void 0:s.click_action;o&&(e.fcmOptions.link=o);const a=null===(i=t.fcmOptions)||void 0===i?void 0:i.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}(t,e),t}function tr(e){return zA.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let A=0;A<e.length;A++)n.push(e.charAt(A)),A<t.length&&n.push(t.charAt(A));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class nr{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const A=function(e){if(!e||!e.options)throw tr("App Configuration Object");if(!e.name)throw tr("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const A of t)if(!n[A])throw tr(A);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:A,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Ar(e){try{e.swRegistration=await navigator.serviceWorker.register(EA,{scope:UA}),e.swRegistration.update().catch(()=>{})}catch(t){throw zA.create("failed-service-worker-registration",{browserErrorMessage:null===t||void 0===t?void 0:t.message})}}async function rr(e,t){if(!navigator)throw zA.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw zA.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=IA)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await Ar(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw zA.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),ZA(e)}async function sr(e,t,n){const A=function(e){switch(e){case SA.NOTIFICATION_CLICKED:return"notification_open";case SA.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(A,{message_id:n[FA],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function ir(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===SA.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(er(n)):e.onMessageHandler.next(er(n)));const A=n.data;var r;"object"===typeof(r=A)&&r&&FA in r&&"1"===A["google.c.a.e"]&&await sr(e,n.messageType,A)}const or="@firebase/messaging",ar="0.12.12",lr=e=>{const t=new nr(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>ir(t,e)),t},cr=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>rr(t,e)}};async function ur(e,t){return rr(e=(0,r.Ku)(e),t)}function dr(e,t){return function(e,t){if(!navigator)throw zA.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=(0,r.Ku)(e),t)}(0,A.om)(new o.uA("messaging",lr,"PUBLIC")),(0,A.om)(new o.uA("messaging-internal",cr,"PRIVATE")),(0,A.KO)(or,ar),(0,A.KO)(or,ar,"esm2017");const hr={apiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_API_KEY,authDomain:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_APP_ID},fr=(0,A.Wp)(hr),gr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.Sx)();const t=(0,A.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,A.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),A=n.getOptions();if((0,r.bD)(A,null!==t&&void 0!==t?t:{}))return e;h(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:xn,persistence:[Et,at,ct]}),s=(0,r.XA)("authTokenSyncURL");if(s&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(s,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Qn)return;const A=null===t||void 0===t?void 0:t.token;Fn!==A&&(Fn=A,await fetch(i,{method:A?"POST":"DELETE",headers:A?{Authorization:"Bearer ".concat(A)}:{}}))});!function(e,t,n){(0,r.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,A){(0,r.Ku)(e).onIdTokenChanged(t,n,A)}(n,e=>t(e))}}var i;const o=(0,r.Tj)("auth");return o&&Fe(n,"http://".concat(o)),n}(fr),pr=(0,Sn.aU)(fr),mr=(0,Tn.c7)(fr),wr=(0,_n.Uz)(fr),yr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.Sx)();return async function(){try{await(0,r.eX)()}catch(e){return!1}return"undefined"!==typeof window&&(0,r.zW)()&&(0,r.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then(e=>{if(!e)throw zA.create("unsupported-browser")},e=>{throw zA.create("indexed-db-unsupported")}),(0,A.j6)((0,r.Ku)(e),"messaging").getImmediate()}(fr);(0,Sn.ol)(pr).catch(e=>{"failed-precondition"===e.code?console.warn("Firestore persistence failed: Multiple tabs open"):"unimplemented"===e.code&&console.warn("Firestore persistence not supported in this browser")});const Br=new Ge,vr=e=>{switch(e.code){case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/user-not-found":return"No account found with this email.";case"auth/email-already-in-use":return"This email is already registered.";case"auth/weak-password":return"Password should be at least 6 characters.";case"auth/invalid-email":return"Invalid email address.";case"auth/user-disabled":return"This account has been disabled.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/network-request-failed":return"Network error. Please check your connection.";case"auth/popup-closed-by-user":return"Sign-in popup was closed.";case"auth/cancelled-popup-request":return"Sign-in was cancelled.";case"auth/invalid-credential":return"Invalid credentials. Please check your email and password.";default:return e.message.replace("Firebase: ","").replace(/\(auth\/[\w-]+\)\.?/,"").trim()}},br={signInWithGoogle:async()=>{try{const e=await async function(e,t,n){if((0,A.xZ)(e.app))return Promise.reject(f(e,"operation-not-supported-in-this-environment"));const r=ve(e);m(e,t,je);const s=Pt(r,n);return new zt(r,"signInViaPopup",t,s).executeNotNull()}(gr,Br);return{success:!0,user:e.user}}catch(e){return console.error("Google sign in error:",e),{success:!1,error:vr(e)}}},signInWithEmail:async(e,t)=>{try{const n=await function(e,t,n){return(0,A.xZ)(e.app)?Promise.reject(p(e)):nt((0,r.Ku)(e),Me.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&At(e),t})}(gr,e,t);return{success:!0,user:n.user}}catch(n){return console.error("Email sign in error:",n),{success:!1,error:vr(n)}}},signUpWithEmail:async(e,t,n)=>{try{const r=await async function(e,t,n){if((0,A.xZ)(e.app))return Promise.reject(p(e));const r=ve(e),s=Qe(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qe),i=await s.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&At(e),t}),o=await Je._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}(gr,e,t);return await rt(r.user,{displayName:n||"New User"}),{success:!0,user:r.user}}catch(r){return console.error("Email sign up error:",r),{success:!1,error:vr(r)}}},setupRecaptcha:e=>{try{return window.recaptchaVerifier||(window.recaptchaVerifier=new Dt(gr,e,{size:"invisible",callback:()=>{}})),{success:!0,verifier:window.recaptchaVerifier}}catch(t){return console.error("reCAPTCHA setup error:",t),{success:!1,error:t.message}}},sendPhoneVerification:async(e,t)=>{try{const n=await async function(e,t,n){if((0,A.xZ)(e.app))return Promise.reject(p(e));const s=ve(e),i=await Ht(s,t,(0,r.Ku)(n));return new Lt(i,e=>nt(s,e))}(gr,e,t);return{success:!0,confirmationResult:n}}catch(n){return console.error("Phone verification error:",n),window.recaptchaVerifier&&(window.recaptchaVerifier.clear(),window.recaptchaVerifier=null),{success:!1,error:n.message}}},verifyPhoneCode:async(e,t)=>{try{return{success:!0,user:(await e.confirm(t)).user}}catch(n){return console.error("Code verification error:",n),{success:!1,error:n.message}}},signOut:async()=>{try{return await function(e){return(0,r.Ku)(e).signOut()}(gr),{success:!0}}catch(e){return console.error("Sign out error:",e),{success:!1,error:e.message}}},getCurrentUser:()=>gr.currentUser,getToken:async()=>{const e=gr.currentUser;return e?await e.getIdToken():null}}},7688:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s});var A=n(5043),r=n(2339);const s=()=>{const[e,t]=(0,A.useState)(!1),n=(0,A.useRef)(null),s=(0,A.useCallback)(async A=>{let{optimisticUpdate:s,serverUpdate:i,onSuccess:o,onError:a,rollback:l,successMessage:c,errorMessage:u="Something went wrong. Please try again.",showLoadingToast:d=!1,loadingMessage:h="Processing...",skipSuccessToast:f=!1}=A;if(e)return console.warn("Request already in progress"),{success:!1,error:"Request in progress"};t(!0);let g=null;n.current=new AbortController;try{s&&s(),d&&(g=r.Ay.loading(h));const e=await i();return o&&o(e),c&&!f?g?r.Ay.success(c,{id:g}):r.Ay.success(c):g&&r.Ay.dismiss(g),t(!1),{success:!0,data:e}}catch(p){console.error("Optimistic update failed:",p),l&&l(),a&&a(p);const e=p.message||u;return g?r.Ay.error(e,{id:g}):r.Ay.error(e),t(!1),{success:!1,error:e}}},[e]),i=(0,A.useCallback)(()=>{n.current&&n.current.abort(),t(!1)},[]);return{executeOptimistic:s,isProcessing:e,cancel:i}}},7690:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var A=n(2555),r=n(5043),s=n(3216),i=n(7400),o=n(5472),a=n(4528),l=n(579);const c=e=>{if(!e)return"";const t=new Date-e,n=Math.floor(t/6e4),A=Math.floor(t/36e5);return n<1?"Just now":n<60?"".concat(n," min ago"):"".concat(A," hour").concat(A>1?"s":""," ago")},u=()=>{const e=(0,s.Zp)(),{currentUser:t}=(0,a.As)(),[n,u]=(0,r.useState)([]),[d,h]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{if(!t)return void h(!1);const e=(0,o.P)((0,o.rJ)(i.db,"checkins"),(0,o._M)("status","==","alerted"),(0,o._M)("selectedBesties","array-contains",t.uid),(0,o.My)("alertedAt","desc"),(0,o.AB)(5)),n=(0,o.aQ)(e,async e=>{const t=[];for(const n of e.docs){const e=n.data(),r=await i.db.collection("users").doc(e.userId).get(),s=r.exists?r.data().displayName:"Someone";t.push((0,A.A)((0,A.A)({id:n.id},e),{},{userName:s}))}u(t),h(!1)},e=>{console.error("Error loading urgent alerts:",e),h(!1)});return()=>n()},[t]),d||0===n.length)return null;return(0,l.jsxs)("div",{className:"mb-6 space-y-3 animate-fade-in",children:[n.map(t=>{var n;const A=c(null===(n=t.alertedAt)||void 0===n?void 0:n.toDate());return(0,l.jsxs)("div",{className:"relative overflow-hidden cursor-pointer transform transition-all duration-300 hover:scale-[1.02]",onClick:()=>{return n=t.id,void e("/alert/".concat(n));var n},children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500 via-orange-500 to-red-500 animate-gradient-x"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-red-600 opacity-20 animate-pulse"}),(0,l.jsx)("div",{className:"relative card p-4 bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-900/30 dark:to-orange-900/30 border-4 border-red-500 dark:border-red-600 shadow-2xl",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center text-2xl animate-bounce shadow-lg",children:"\ud83d\udea8"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,l.jsx)("h3",{className:"font-display text-lg font-bold text-red-900 dark:text-red-100",children:"URGENT ALERT"}),(0,l.jsx)("span",{className:"px-2 py-0.5 bg-red-500 text-white text-xs font-bold rounded-full animate-pulse",children:"LIVE"})]}),(0,l.jsxs)("p",{className:"text-red-800 dark:text-red-200 font-semibold mb-1",children:[t.userName," hasn't checked in!"]}),(0,l.jsxs)("p",{className:"text-sm text-red-700 dark:text-red-300 mb-2",children:[t.location&&"\ud83d\udccd ".concat(t.location),t.notes&&" \u2022 ".concat(t.notes)]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-xs text-red-600 dark:text-red-400",children:[(0,l.jsxs)("span",{className:"font-semibold",children:["\u23f0 ",A]}),(0,l.jsx)("span",{className:"text-red-500",children:"\u2022"}),(0,l.jsx)("span",{className:"font-semibold",children:"Tap to view details and respond"})]})]}),(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white shadow-lg",children:"\u2192"})})]})})]},t.id)}),(0,l.jsx)("style",{children:"\n        @keyframes gradient-x {\n          0%, 100% {\n            background-position: 0% 50%;\n          }\n          50% {\n            background-position: 100% 50%;\n          }\n        }\n        .animate-gradient-x {\n          background-size: 200% 200%;\n          animation: gradient-x 3s ease infinite;\n        }\n      "})]})}},7700:(e,t,n)=>{"use strict";n.d(t,{Am:()=>T,FA:()=>I,Fy:()=>g,I9:()=>_,Im:()=>F,Ku:()=>O,T9:()=>d,Tj:()=>c,Uj:()=>i,XA:()=>h,ZQ:()=>p,bD:()=>k,c1:()=>w,cY:()=>f,dM:()=>E,eX:()=>x,g:()=>U,hp:()=>N,jZ:()=>m,lT:()=>v,lV:()=>B,nr:()=>b,sr:()=>y,tD:()=>D,u:()=>o,yU:()=>u,zW:()=>C});const A=function(e){const t=[];let n=0;for(let A=0;A<e.length;A++){let r=e.charCodeAt(A);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&A+1<e.length&&56320===(64512&e.charCodeAt(A+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++A)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,A=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,i=s?e[r+1]:0,o=r+2<e.length,a=o?e[r+2]:0,l=t>>2,c=(3&t)<<4|i>>4;let u=(15&i)<<2|a>>6,d=63&a;o||(d=64,s||(u=64)),A.push(n[l],n[c],n[u],n[d])}return A.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(A(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,A=0;for(;n<e.length;){const r=e[n++];if(r<128)t[A++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[A++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[A++]=String.fromCharCode(55296+(s>>10)),t[A++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],i=e[n++];t[A++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,A=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],i=r<e.length?n[e.charAt(r)]:0;++r;const o=r<e.length?n[e.charAt(r)]:64;++r;const a=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==i||null==o||null==a)throw new s;const l=t<<2|i>>4;if(A.push(l),64!==o){const e=i<<4&240|o>>2;if(A.push(e),64!==a){const e=o<<6&192|a;A.push(e)}}}return A},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(e){return function(e){const t=A(e);return r.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return r.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const a=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,l=()=>{try{return a()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&o(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},c=e=>{var t,n;return null===(n=null===(t=l())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},u=e=>{const t=c(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const A=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),A]:[t.substring(0,n),A]},d=()=>{var e;return null===(e=l())||void 0===e?void 0:e.config},h=e=>{var t;return null===(t=l())||void 0===t?void 0:t["_".concat(e)]};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",A=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:A,exp:A+3600,auth_time:A,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[i(JSON.stringify({alg:"none",type:"JWT"})),i(JSON.stringify(s)),""].join(".")}function p(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function w(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function y(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function B(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function v(){const e=p();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function b(){return!function(){var e;const t=null===(e=l())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(A){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C(){try{return"object"===typeof indexedDB}catch(e){return!1}}function x(){return new Promise((e,t)=>{try{let n=!0;const A="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(A);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(A),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function E(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class U extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,U.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),A=this.errors[e],r=A?function(e,t){return e.replace(Q,(e,n)=>{const A=t[n];return null!=A?String(A):"<".concat(n,"?>")})}(A,t):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new U(n,s,t)}}const Q=/\{\$([^}]+)}/g;function F(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function k(e,t){if(e===t)return!0;const n=Object.keys(e),A=Object.keys(t);for(const r of n){if(!A.includes(r))return!1;const n=e[r],s=t[r];if(S(n)&&S(s)){if(!k(n,s))return!1}else if(n!==s)return!1}for(const r of A)if(!n.includes(r))return!1;return!0}function S(e){return null!==e&&"object"===typeof e}function T(e){const t=[];for(const[n,A]of Object.entries(e))Array.isArray(A)?A.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(A));return t.length?"&"+t.join("&"):""}function _(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,A]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(A)}}),t}function N(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function D(e,t){const n=new L(e,t);return n.subscribe.bind(n)}class L{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let A;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");A=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===A.next&&(A.next=H),void 0===A.error&&(A.error=H),void 0===A.complete&&(A.complete=H);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch(e){}}),this.observers.push(A),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H(){}function O(e){return e&&e._delegate?e._delegate:e}},7766:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(5043);var A=n(579);const r=e=>{var t;let{photoURL:n,name:r,requestAttention:s,size:i="md",className:o="",showBubble:a=!0}=e;const l={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"},c={sm:"text-xs px-2 py-1",md:"text-xs px-2 py-1",lg:"text-sm px-3 py-1",xl:"text-sm px-3 py-2"},u=l[i]||l.md,d=c[i]||c.md,h=a&&(null===s||void 0===s?void 0:s.active)&&(null===s||void 0===s?void 0:s.tag);return(0,A.jsxs)("div",{className:"relative inline-block ".concat(o),children:[n?(0,A.jsx)("img",{src:n,alt:r,className:"".concat(u," rounded-full object-cover ring-2 ring-white shadow-md"),onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,A.jsx)("div",{className:"".concat(u," bg-gradient-primary rounded-full flex items-center justify-center text-white font-display ring-2 ring-white shadow-md"),style:{display:n?"none":"flex"},children:(null===r||void 0===r||null===(t=r[0])||void 0===t?void 0:t.toUpperCase())||"?"}),h&&(0,A.jsx)("div",{className:"absolute -top-2 -right-2 z-10 animate-bounce-slow",children:(0,A.jsxs)("div",{className:"bg-purple-500 text-white rounded-full ".concat(d," font-semibold whitespace-nowrap shadow-lg relative"),children:[s.tag,(0,A.jsx)("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-l-transparent border-r-4 border-r-transparent border-t-4 border-t-purple-500"})]})})]})}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8147:(e,t,n)=>{"use strict";n.d(t,{XR:()=>Ee,qk:()=>xe,c7:()=>Ie,KR:()=>Ue,D:()=>Ce});var A=n(52),r=n(7700),s=n(8812);const i="firebasestorage.googleapis.com",o="storageBucket";class a extends r.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(u(e),"Firebase Storage: ".concat(t," (").concat(u(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,a.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return u(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var l,c;function u(e){return"storage/"+e}function d(){return new a(l.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function h(){return new a(l.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f(){return new a(l.CANCELED,"User canceled the upload/download.")}function g(){return new a(l.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function p(e){return new a(l.INVALID_ARGUMENT,e)}function m(){return new a(l.APP_DELETED,"The Firebase app was deleted.")}function w(e,t){return new a(l.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function y(e){throw new a(l.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(l||(l={}));class B{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=B.makeFromUrl(e,t)}catch(r){return new B(e,"")}if(""===n.path)return n;throw A=e,new a(l.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+A+"'.");var A}static makeFromUrl(e,t){let n=null;const A="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+A+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),c=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(A,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===i?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(A,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let i=0;i<c.length;i++){const t=c[i],A=t.regex.exec(e);if(A){const e=A[t.indices.bucket];let r=A[t.indices.path];r||(r=""),n=new B(e,r),t.postModify(n);break}}if(null==n)throw function(e){return new a(l.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class v{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function b(e){return"string"===typeof e||e instanceof String}function C(e){return x()&&e instanceof Blob}function x(){return"undefined"!==typeof Blob}function E(e,t,n,A){if(A<t)throw p("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(A>n)throw p("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function U(e,t,n){let A=t;return null==n&&(A="https://".concat(t)),"".concat(n,"://").concat(A,"/v0").concat(e)}function I(e){const t=encodeURIComponent;let n="?";for(const A in e)if(e.hasOwnProperty(A)){n=n+(t(A)+"="+t(e[A]))+"&"}return n=n.slice(0,-1),n}function Q(e,t){const n=e>=500&&e<600,A=-1!==[408,429].indexOf(e),r=-1!==t.indexOf(e);return n||A||r}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(c||(c={}));class F{constructor(e,t,n,A,r,s,i,o,a,l,c){let u=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=A,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=i,this.errorCallback_=o,this.timeout_=a,this.progressCallback_=l,this.connectionFactory_=c,this.retry=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new k(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const A=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(A),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(A),this.pendingConnection_=null;const t=n.getErrorCode()===c.NO_ERROR,r=n.getStatus();if(!t||Q(r,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===c.ABORT;return void e(!1,new k(!1,null,t))}const s=-1!==this.successCodes_.indexOf(r);e(!0,new k(s,n))})},t=(e,t)=>{const n=this.resolve_,A=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());void 0!==e?n(e):n()}catch(s){A(s)}else if(null!==r){const e=d();e.serverResponse=r.getErrorText(),this.errorCallback_?A(this.errorCallback_(r,e)):A(e)}else if(t.canceled){A(this.appDelete_?m():f())}else{A(h())}};this.canceled_?t(0,new k(!1,null,!0)):this.backoffId_=function(e,t,n){let A=1,r=null,s=null,i=!1,o=0;function a(){return 2===o}let l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),A=0;A<e;A++)n[A]=arguments[A];t.apply(null,n)}}function u(t){r=setTimeout(()=>{r=null,e(h,a())},t)}function d(){s&&clearTimeout(s)}function h(e){if(l)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e)return d(),void c.call(null,e,...n);if(a()||i)return d(),void c.call(null,e,...n);let s;A<64&&(A*=2),1===o?(o=2,s=0):s=1e3*(A+Math.random()),u(s)}let f=!1;function g(e){f||(f=!0,d(),l||(null!==r?(e||(o=2),clearTimeout(r),u(0)):e||(o=1)))}return u(0),s=setTimeout(()=>{i=!0,g(!0)},n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class k{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function S(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function T(){const e=S();for(var t=arguments.length,n=new Array(t),A=0;A<t;A++)n[A]=arguments[A];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(x())return new Blob(n);throw new a(l.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function _(e){if("undefined"===typeof atob)throw t="base-64",new a(l.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const N="raw",D="base64",L="base64url",H="data_url";class O{constructor(e,t){this.data=e,this.contentType=t||null}}function P(e,t){switch(e){case N:return new O(R(t));case D:case L:return new O(M(e,t));case H:return new O(function(e){const t=new j(e);return t.base64?M(D,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw w(H,"Malformed data URL.")}return R(t)}(t.rest)}(t),new j(t).contentType)}throw d()}function R(e){const t=[];for(let n=0;n<e.length;n++){let A=e.charCodeAt(n);if(A<=127)t.push(A);else if(A<=2047)t.push(192|A>>6,128|63&A);else if(55296===(64512&A)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){A=65536|(1023&A)<<10|1023&e.charCodeAt(++n),t.push(240|A>>18,128|A>>12&63,128|A>>6&63,128|63&A)}else t.push(239,191,189)}else 56320===(64512&A)?t.push(239,191,189):t.push(224|A>>12,128|A>>6&63,128|63&A)}return new Uint8Array(t)}function M(e,t){switch(e){case D:{const n=-1!==t.indexOf("-"),A=-1!==t.indexOf("_");if(n||A){throw w(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case L:{const n=-1!==t.indexOf("+"),A=-1!==t.indexOf("/");if(n||A){throw w(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=_(t)}catch(r){if(r.message.includes("polyfill"))throw r;throw w(e,"Invalid character found")}const A=new Uint8Array(n.length);for(let s=0;s<n.length;s++)A[s]=n.charCodeAt(s);return A}class j{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw w(H,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class K{constructor(e,t){let n=0,A="";C(e)?(this.data_=e,n=e.size,A=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=A}size(){return this.size_}type(){return this.type_}slice(e,t){if(C(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new K(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new K(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(x()){const e=t.map(e=>e instanceof K?e.data_:e);return new K(T.apply(null,e))}{const e=t.map(e=>b(e)?P(N,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const A=new Uint8Array(n);let r=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)A[r++]=e[t]}),new K(A,!0)}}uploadData(){return this.data_}}function V(e){let t;try{t=JSON.parse(e)}catch(A){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function G(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function z(e,t){return t}class W{constructor(e,t,n,A){this.server=e,this.local=t||e,this.writable=!!n,this.xform=A||z}}let q=null;function J(){if(q)return q;const e=[];e.push(new W("bucket")),e.push(new W("generation")),e.push(new W("metageneration")),e.push(new W("name","fullPath",!0));const t=new W("name");t.xform=function(e,t){return function(e){return!b(e)||e.length<2?e:G(e)}(t)},e.push(t);const n=new W("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new W("timeCreated")),e.push(new W("updated")),e.push(new W("md5Hash",null,!0)),e.push(new W("cacheControl",null,!0)),e.push(new W("contentDisposition",null,!0)),e.push(new W("contentEncoding",null,!0)),e.push(new W("contentLanguage",null,!0)),e.push(new W("contentType",null,!0)),e.push(new W("metadata","customMetadata",!0)),q=e,q}function X(e,t,n){const A={type:"file"},r=n.length;for(let s=0;s<r;s++){const e=n[s];A[e.local]=e.xform(A,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,A=e.fullPath,r=new B(n,A);return t._makeStorageReference(r)}})}(A,e),A}function Y(e,t,n){const A=V(t);if(null===A)return null;return X(e,A,n)}function Z(e,t){const n={},A=t.length;for(let r=0;r<A;r++){const A=t[r];A.writable&&(n[A.server]=e[A.local])}return JSON.stringify(n)}class ${constructor(e,t,n,A){this.url=e,this.method=t,this.handler=n,this.timeout=A,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ee(e){if(!e)throw d()}function te(e,t){return function(n,A){const r=Y(e,A,t);return ee(null!==r),r}}function ne(e,t){return function(n,A){const r=Y(e,A,t);return ee(null!==r),function(e,t,n,A){const r=V(t);if(null===r)return null;if(!b(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const i=encodeURIComponent;return s.split(",").map(t=>{const r=e.bucket,s=e.fullPath;return U("/b/"+i(r)+"/o/"+i(s),n,A)+I({alt:"media",token:t})})[0]}(r,A,e.host,e._protocol)}}function Ae(e){return function(t,n){let A;var r,s;return 401===t.getStatus()?A=t.getErrorText().includes("Firebase App Check token is invalid")?new a(l.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new a(l.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,A=new a(l.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(r=e.path,A=new a(l.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):A=n,A.status=t.getStatus(),A.serverResponse=n.serverResponse,A}}function re(e){const t=Ae(e);return function(n,A){let r=t(n,A);var s;return 404===n.getStatus()&&(s=e.path,r=new a(l.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),r.serverResponse=A.serverResponse,r}}function se(e,t,n){const A=Object.assign({},n);return A.fullPath=e.path,A.size=t.size(),A.contentType||(A.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),A}function ie(e,t,n,A,r){const s=t.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();i["Content-Type"]="multipart/related; boundary="+o;const a=se(t,A,r),l="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Z(a,n)+"\r\n--"+o+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",c="\r\n--"+o+"--",u=K.getBlob(l,A,c);if(null===u)throw g();const d={name:a.fullPath},h=U(s,e.host,e._protocol),f=e.maxUploadRetryTime,p=new $(h,"POST",te(e,n),f);return p.urlParams=d,p.headers=i,p.body=u.uploadData(),p.errorHandler=Ae(t),p}let oe=null;class ae{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=c.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=c.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=c.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,A){if(this.sent_)throw y("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==A)for(const r in A)A.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,A[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw y("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw y("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw y("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw y("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class le extends ae{initXhr(){this.xhr_.responseType="text"}}function ce(){return oe?oe():new le}class ue{constructor(e,t){this._service=e,this._location=t instanceof B?t:B.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ue(e,t)}get root(){const e=new B(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new B(this._location.bucket,e);return new ue(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new a(l.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function de(e,t,n){e._throwIfRoot("uploadBytes");const A=ie(e.storage,e._location,J(),new K(t,!0),n);return e.storage.makeRequestWithTokens(A,ce).then(t=>({metadata:t,ref:e}))}function he(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const A=U(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,s=new $(A,"GET",ne(e,n),r);return s.errorHandler=re(t),s}(e.storage,e._location,J());return e.storage.makeRequestWithTokens(t,ce).then(e=>{if(null===e)throw new a(l.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function fe(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=U(t.fullServerUrl(),e.host,e._protocol),A=e.maxOperationRetryTime,r=new $(n,"DELETE",function(e,t){},A);return r.successCodes=[200,204],r.errorHandler=re(t),r}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ce)}function ge(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),A=new B(e._location.bucket,n);return new ue(e.storage,A)}function pe(e,t){if(e instanceof ye){const n=e;if(null==n._bucket)throw new a(l.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+o+"' property when initializing the app?");const A=new ue(n,n._bucket);return null!=t?pe(A,t):A}return void 0!==t?ge(e,t):e}function me(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ye)return new ue(e,t);throw p("To use ref(service, url), the first argument must be a Storage instance.")}return pe(e,t)}function we(e,t){const n=null===t||void 0===t?void 0:t[o];return null==n?null:B.makeFromBucketSpec(n,e)}class ye{constructor(e,t,n,A,r){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=A,this._firebaseVersion=r,this._bucket=null,this._host=i,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=A?B.makeFromBucketSpec(A,this._host):we(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=B.makeFromBucketSpec(this._url,e):this._bucket=we(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ue(this,e)}_makeRequest(e,t,n,A){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new v(m());{const s=function(e,t,n,A,r,s){let i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=I(e.urlParams),a=e.url+o,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,A),new F(a,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,i)}(e,this._appId,n,A,t,this._firebaseVersion,r);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,A]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,A).getPromise()}}const Be="@firebase/storage",ve="0.13.2",be="storage";function Ce(e,t,n){return de(e=(0,r.Ku)(e),t,n)}function xe(e){return he(e=(0,r.Ku)(e))}function Ee(e){return fe(e=(0,r.Ku)(e))}function Ue(e,t){return me(e=(0,r.Ku)(e),t)}function Ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,r.Ku)(e);const n=(0,A.j6)(e,be).getImmediate({identifier:t}),s=(0,r.yU)("storage");return s&&function(e,t,n){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:s}=A;s&&(e._overrideAuthToken="string"===typeof s?s:(0,r.Fy)(s,e.app.options.projectId))}(e,t,n,A)}(n,...s),n}function Qe(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new ye(r,s,i,n,A.MF)}(0,A.om)(new s.uA(be,Qe,"PUBLIC").setMultipleInstances(!0)),(0,A.KO)(Be,ve,""),(0,A.KO)(Be,ve,"esm2017")},8176:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});let A={};function r(){return A}},8812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>o,uA:()=>r});var A=n(7700);class r{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class i{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new A.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),A=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(A)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(A)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:A});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const A=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(A)}return A}onInit(e,t){var n;const A=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(A))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(A,r);const s=this.instances.get(A);return s&&e(s,A),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(A){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,A=this.instances.get(t);if(!A&&this.component&&(A=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===s?void 0:r),options:n}),this.instances.set(t,A),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(A,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,A)}catch(i){}var r;return A||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new i(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9119:(e,t,n)=>{"use strict";function A(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}n.d(t,{a:()=>A})},9628:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});const A=new class{constructor(){this.isSupported="vibrate"in navigator}light(){this.isSupported&&navigator.vibrate(10)}medium(){this.isSupported&&navigator.vibrate(30)}heavy(){this.isSupported&&navigator.vibrate(50)}success(){this.isSupported&&navigator.vibrate([50,30,50])}warning(){this.isSupported&&navigator.vibrate([30,20,30,20,30])}error(){this.isSupported&&navigator.vibrate([100,50,100])}emergency(){this.isSupported&&navigator.vibrate([100,50,100,50,100])}selection(){this.isSupported&&navigator.vibrate(5)}}}},t={};function n(A){var r=t[A];if(void 0!==r)return r.exports;var s=t[A]={exports:{}};return e[A].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(A,r){if(1&r&&(A=this(A)),8&r)return A;if("object"===typeof A&&A){if(4&r&&A.__esModule)return A;if(16&r&&"function"===typeof A.then)return A}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&A;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>A[e]);return i.default=()=>A,n.d(s,i),s}})(),n.d=(e,t)=>{for(var A in t)n.o(t,A)&&!n.o(e,A)&&Object.defineProperty(e,A,{enumerable:!0,get:t[A]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,A)=>(n.f[A](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{48:"ab2a1083",69:"161b2b1f",88:"5a1fc6df",143:"f9d2e524",206:"ad9a8cc7",211:"ed0298d8",225:"86c4c064",237:"0df53072",298:"3c98822b",299:"d458d1e1",317:"5f1ee003",321:"90ad988f",338:"4345b1e1",385:"43d8ae1f",475:"53a44719",492:"5646663f",495:"ae011b81",619:"2894d144",639:"0fc60e55",683:"5487e4de",738:"5ee51c90",759:"373b60ec",768:"25676a22",774:"205a90c5",775:"f082e9da",838:"56c42a53",995:"3e49eb97"}[e]+".chunk.js",n.miniCssF=e=>"static/css/"+e+"."+{48:"1dced422",995:"e8dc625f"}[e]+".chunk.css",n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="besties-frontend:";n.l=(A,r,s,i)=>{if(e[A])e[A].push(r);else{var o,a;if(void 0!==s)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==A||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=A),e[A]=[r];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(h);var r=e[A];if(delete e[A],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(e=>e(n)),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),a&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{if("undefined"!==typeof document){var e=e=>new Promise((t,A)=>{var r=n.miniCssF(e),s=n.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),A=0;A<n.length;A++){var r=(i=n[A]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var s=document.getElementsByTagName("style");for(A=0;A<s.length;A++){var i;if((r=(i=s[A]).getAttribute("data-href"))===e||r===t)return i}})(r,s))return t();((e,t,A,r,s)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",n.nc&&(i.nonce=n.nc),i.onerror=i.onload=n=>{if(i.onerror=i.onload=null,"load"===n.type)r();else{var A=n&&n.type,o=n&&n.target&&n.target.href||t,a=new Error("Loading CSS chunk "+e+" failed.\n("+A+": "+o+")");a.name="ChunkLoadError",a.code="CSS_CHUNK_LOAD_FAILED",a.type=A,a.request=o,i.parentNode&&i.parentNode.removeChild(i),s(a)}},i.href=t,A?A.parentNode.insertBefore(i,A.nextSibling):document.head.appendChild(i)})(e,s,null,t,A)}),t={792:0};n.f.miniCss=(n,A)=>{t[n]?A.push(t[n]):0!==t[n]&&{48:1,995:1}[n]&&A.push(t[n]=e(n).then(()=>{t[n]=0},e=>{throw delete t[n],e}))}}})(),(()=>{var e={792:0};n.f.j=(t,A)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)A.push(r[2]);else{var s=new Promise((n,A)=>r=e[t]=[n,A]);A.push(r[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,A=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=A&&("load"===A.type?"missing":A.type),i=A&&A.target&&A.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,r[1](o)}},"chunk-"+t,t)}};var t=(t,A)=>{var r,s,[i,o,a]=A,l=0;if(i.some(t=>0!==e[t])){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(a)a(n)}for(t&&t(A);l<i.length;l++)s=i[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},A=self.webpackChunkbesties_frontend=self.webpackChunkbesties_frontend||[];A.forEach(t.bind(null,0)),A.push=t.bind(null,A.push.bind(A))})(),(()=>{"use strict";var e=n(5043),t=n.t(e,2),A=n(4391),r=n(3216),s=n(7950),i=n.t(s,2),o=n(1387);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(e[A]=n[A])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,A,r={},s=Object.keys(e);for(A=0;A<s.length;A++)n=s[A],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const c=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Pe){}new Map;const u=t.startTransition;i.flushSync,t.useId;function d(t){let{basename:n,children:A,future:s,window:i}=t,a=e.useRef();null==a.current&&(a.current=(0,o.zR)({window:i,v5Compat:!0}));let l=a.current,[c,d]=e.useState({action:l.action,location:l.location}),{v7_startTransition:h}=s||{},f=e.useCallback(e=>{h&&u?u(()=>d(e)):d(e)},[d,h]);return e.useLayoutEffect(()=>l.listen(f),[l,f]),e.useEffect(()=>(0,r.V8)(s),[s]),e.createElement(r.Ix,{basename:n,children:A,location:c.location,navigationType:c.action,navigator:l,future:s})}const h="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,f=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g=e.forwardRef(function(t,n){let A,{onClick:s,relative:i,reloadDocument:u,replace:d,state:g,target:p,to:m,preventScrollReset:w,viewTransition:y}=t,B=l(t,c),{basename:v}=e.useContext(r.jb),b=!1;if("string"===typeof m&&f.test(m)&&(A=m,h))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=(0,o.pb)(t.pathname,v);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:b=!0}catch(Pe){}let C=(0,r.$P)(m,{relative:i}),x=function(t,n){let{target:A,replace:s,state:i,preventScrollReset:a,relative:l,viewTransition:c}=void 0===n?{}:n,u=(0,r.Zp)(),d=(0,r.zy)(),h=(0,r.x$)(t,{relative:l});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,A)){e.preventDefault();let n=void 0!==s?s:(0,o.AO)(d)===(0,o.AO)(h);u(t,{replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[d,u,h,s,i,A,t,a,l,c])}(m,{replace:d,state:g,target:p,preventScrollReset:w,relative:i,viewTransition:y});return e.createElement("a",a({},B,{href:A||C,onClick:b||u?s:function(e){s&&s(e),e.defaultPrevented||x(e)},ref:n,target:p}))});var p,m;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(p||(p={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(m||(m={}));var w=n(2339),y=n(7400),B=n(4528),v=n(3889),b=n(1182),C=n(579);class x extends e.Component{constructor(e){super(e),this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){b.A.logError({type:"react_error",message:e.message,stack:e.stack,componentStack:t.componentStack}),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,C.jsx)("div",{className:"min-h-screen bg-pattern flex items-center justify-center p-4",children:(0,C.jsxs)("div",{className:"card max-w-2xl w-full p-8 text-center",children:[(0,C.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\ude14"}),(0,C.jsx)("h1",{className:"text-3xl font-display text-text-primary mb-4",children:"Oops! Something went wrong"}),(0,C.jsx)("p",{className:"text-text-secondary mb-6",children:"We're sorry for the inconvenience. The error has been logged and we'll fix it soon."}),!1,(0,C.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,C.jsx)("button",{onClick:this.handleReload,className:"btn btn-primary",children:"Reload Page"}),(0,C.jsx)("button",{onClick:()=>window.location.href="/",className:"btn btn-secondary",children:"Go Home"})]})]})}):this.props.children}}const E=x,U=t=>{let{children:n}=t;const{currentUser:A,userData:s,loading:i}=(0,B.As)();return(0,e.useEffect)(()=>{console.group("\ud83d\udd12 AdminRoute Debug"),console.log("loading:",i),console.log("currentUser:",A),console.log("currentUser.uid:",null===A||void 0===A?void 0:A.uid),console.log("userData:",s),console.log("userData?.isAdmin:",null===s||void 0===s?void 0:s.isAdmin),console.log("Will redirect:",!(null!==s&&void 0!==s&&s.isAdmin)),console.groupEnd()},[i,A,s]),i?(console.log("\u23f3 AdminRoute: Still loading..."),(0,C.jsx)("div",{className:"min-h-screen bg-pattern flex items-center justify-center",children:(0,C.jsx)("div",{className:"spinner"})})):null!==s&&void 0!==s&&s.isAdmin?(console.log("\u2705 AdminRoute: Access granted"),n):(console.error("\u274c AdminRoute: Access denied. userData?.isAdmin =",null===s||void 0===s?void 0:s.isAdmin),(0,C.jsx)(r.C5,{to:"/",replace:!0}))},I=()=>{const{pathname:t}=(0,r.zy)();return(0,e.useEffect)(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[t]),null};var Q=n(2555),F=n(5472);const k=()=>{const[t,n]=(0,e.useState)(null),[A,r]=(0,e.useState)(!1);(0,e.useEffect)(()=>{s()},[]);const s=async()=>{const e=y.j2.currentUser;if(e)try{const t=(0,F.P)((0,F.rJ)(y.db,"circle_milestones"),(0,F._M)("userId","==",e.uid),(0,F._M)("celebrated","==",!1)),A=await(0,F.GG)(t);if(!A.empty){const e=A.docs[0],t=(0,Q.A)({id:e.id},e.data());n(t),r(!0),setTimeout(async()=>{await(0,F.mZ)((0,F.H9)(y.db,"circle_milestones",e.id),{celebrated:!0})},5e3)}}catch(t){console.error("Error checking for milestones:",t)}},i=()=>{r(!1),setTimeout(()=>n(null),300)};if(!t||!A)return null;const o=(()=>{switch(t.type){case"days_in_circle":return{icon:"\ud83c\udf89",title:"".concat(t.value," Days Together!"),message:"You and ".concat(t.bestie||"your bestie"," have been in each other's circles for ").concat(t.value," days. That's real commitment!"),color:"from-purple-500 to-pink-500"};case"check_ins_together":return{icon:"\u2705",title:"".concat(t.value," Check-Ins Together!"),message:"You've done ".concat(t.value," check-ins with ").concat(t.bestie||"your bestie",". You're building serious trust!"),color:"from-blue-500 to-cyan-500"};case"alerts_responded":return{icon:"\ud83d\udea8",title:"".concat(t.value," Alerts Answered!"),message:"You've responded to ".concat(t.value," alerts. You're a real hero to your circle!"),color:"from-orange-500 to-red-500"};case"streak":return{icon:"\ud83d\udd25",title:"".concat(t.value," Day Streak!"),message:"You've checked your circle for ".concat(t.value," days in a row. Keep that energy going!"),color:"from-green-500 to-emerald-500"};default:return{icon:"\u2b50",title:"Milestone Achieved!",message:"You hit an important milestone in your circle!",color:"from-purple-500 to-pink-500"}}})();return(0,C.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4 backdrop-blur-sm transition-opacity duration-300 ".concat(A?"opacity-100":"opacity-0"),onClick:i,children:(0,C.jsxs)("div",{className:"bg-gradient-to-br ".concat(o.color," p-8 rounded-2xl max-w-md w-full shadow-2xl transform transition-all duration-300 ").concat(A?"scale-100":"scale-95"),onClick:e=>e.stopPropagation(),children:[(0,C.jsx)("div",{className:"absolute inset-0 overflow-hidden rounded-2xl pointer-events-none",children:Array.from({length:30}).map((e,t)=>(0,C.jsx)("div",{className:"absolute w-2 h-2 bg-white rounded-full animate-confetti",style:{left:"".concat(100*Math.random(),"%"),top:"-10%",animationDelay:"".concat(2*Math.random(),"s"),animationDuration:"".concat(2+2*Math.random(),"s")}},t))}),(0,C.jsxs)("div",{className:"relative z-10 text-center text-white",children:[(0,C.jsx)("div",{className:"text-7xl mb-4 animate-bounce",children:o.icon}),(0,C.jsx)("h2",{className:"text-3xl font-display font-bold mb-3 drop-shadow-lg",children:o.title}),(0,C.jsx)("p",{className:"text-lg mb-6 drop-shadow opacity-95",children:o.message}),(0,C.jsx)("button",{onClick:i,className:"bg-white text-gray-800 px-6 py-3 rounded-full font-semibold hover:bg-gray-100 transition-all shadow-lg transform hover:scale-105",children:"Awesome! \ud83c\udf89"})]}),(0,C.jsx)("style",{children:"\n          @keyframes confetti {\n            0% {\n              transform: translateY(0) rotate(0deg);\n              opacity: 1;\n            }\n            100% {\n              transform: translateY(500px) rotate(720deg);\n              opacity: 0;\n            }\n          }\n          .animate-confetti {\n            animation: confetti linear forwards;\n          }\n        "})]})})};var S=n(5239),T=n.n(S);const _=()=>{var t;const{currentUser:n,userData:A}=(0,B.As)(),[r,s]=(0,e.useState)([]),[i,o]=(0,e.useState)(null),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(!1),d=(0,e.useRef)(null);(0,e.useEffect)(()=>{if(!c)return;(()=>{const e=["#9333ea","#ec4899","#8b5cf6","#d946ef","#a855f7"],t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.style.zIndex="10000",document.body.appendChild(t);for(let A=0;A<100;A++){const n=document.createElement("div");n.style.position="absolute",n.style.width="10px",n.style.height="10px",n.style.backgroundColor=e[Math.floor(Math.random()*e.length)],n.style.left=100*Math.random()+"%",n.style.top="-10px",n.style.opacity=Math.random(),n.style.transform="rotate(".concat(360*Math.random(),"deg)");const A=3*Math.random()+2,r=.5*Math.random();n.style.animation="fall ".concat(A,"s linear ").concat(r,"s forwards"),t.appendChild(n)}const n=document.createElement("style");n.innerHTML="\n        @keyframes fall {\n          to {\n            transform: translateY(100vh) rotate(720deg);\n            opacity: 0;\n          }\n        }\n      ",document.head.appendChild(n),setTimeout(()=>{t.remove(),n.remove()},5e3)})()},[c]),(0,e.useEffect)(()=>{if(!n||null===A||void 0===A||!A.onboardingCompleted)return;(async()=>{try{const e=(0,F.P)((0,F.rJ)(y.db,"bestie_celebrations"),(0,F._M)("userId","==",n.uid),(0,F._M)("seen","==",!1)),t=await(0,F.GG)(e);if(!t.empty){const e=t.docs.map(e=>(0,Q.A)({id:e.id},e.data()));s(e),o(e[0]),l(e[0].id),u(!0)}}catch(e){console.error("Error checking for celebrations:",e)}})()},[n,A]);const h=async e=>{try{const t=d.current;if(!t)return;const n=(await T()(t,{backgroundColor:null,scale:2})).toDataURL("image/png"),A=i.bestieName&&"Your Bestie"!==i.bestieName?"".concat(i.bestieName," and I are now besties on Besties App! \ud83d\udc9c"):"I just made a new bestie on Besties App! \ud83d\udc9c",r="https://bestiesapp.web.app";switch(e){case"twitter":window.open("https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(A),"&url=").concat(encodeURIComponent(r)),"_blank");break;case"facebook":window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(r),"&quote=").concat(encodeURIComponent(A)),"_blank");break;case"download":const e=document.createElement("a");e.download="besties-celebration.png",e.href=n,e.click()}}catch(t){console.error("Error sharing:",t)}};return c&&i?(0,C.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center z-[9999] p-4",children:(0,C.jsxs)("div",{className:"max-w-md w-full",children:[(0,C.jsx)("div",{ref:d,className:"bg-gradient-to-br from-purple-500 to-pink-500 p-4 sm:p-6 md:p-8 rounded-3xl",children:(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"text-5xl sm:text-6xl md:text-8xl mb-4 sm:mb-6 animate-bounce",children:"\ud83c\udf89"}),(0,C.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-display text-white mb-3 sm:mb-4 px-2",children:i.bestieName&&"Your Bestie"!==i.bestieName?"You and ".concat(i.bestieName," are besties!"):"You're connected!"}),(0,C.jsx)("p",{className:"text-base sm:text-lg md:text-xl text-white/90 mb-2 px-2",children:"You can now add each other as emergency contacts"}),(0,C.jsxs)("div",{className:"flex justify-center items-center gap-3 sm:gap-4 my-6 sm:my-8",children:[(0,C.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full flex items-center justify-center shadow-xl overflow-hidden flex-shrink-0",children:i.bestiePhotoURL?(0,C.jsx)("img",{src:i.bestiePhotoURL,alt:i.bestieName,className:"w-full h-full object-cover"}):(0,C.jsx)("div",{className:"text-2xl sm:text-3xl text-purple-600",children:(null===(t=i.bestieName)||void 0===t?void 0:t[0])||"?"})}),(0,C.jsx)("div",{className:"text-3xl sm:text-4xl animate-pulse flex-shrink-0",children:"\ud83d\udc9c"}),(0,C.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full flex items-center justify-center shadow-xl overflow-hidden flex-shrink-0",children:null!==A&&void 0!==A&&A.photoURL?(0,C.jsx)("img",{src:A.photoURL,alt:"You",className:"w-full h-full object-cover"}):(0,C.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:"YOU"})})]}),(0,C.jsxs)("p",{className:"text-sm sm:text-base text-white/80 mb-4 sm:mb-6 px-2",children:[i.bestieName," will be notified if you don't check in on time"]})]})}),r.length>1&&(0,C.jsx)("div",{className:"text-center mt-4",children:(0,C.jsxs)("p",{className:"text-white text-sm",children:[r.length-1," more celebration",r.length>2?"s":""," remaining"]})}),(0,C.jsxs)("div",{className:"mt-4 sm:mt-6 flex justify-center gap-3 sm:gap-4",children:[(0,C.jsx)("button",{onClick:()=>h("twitter"),className:"bg-white/20 hover:bg-white/30 text-white rounded-full p-2 sm:p-3 transition-all",title:"Share on Twitter",children:(0,C.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{d:"M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"})})}),(0,C.jsx)("button",{onClick:()=>h("facebook"),className:"bg-white/20 hover:bg-white/30 text-white rounded-full p-2 sm:p-3 transition-all",title:"Share on Facebook",children:(0,C.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{d:"M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"})})}),(0,C.jsx)("button",{onClick:()=>h("download"),className:"bg-white/20 hover:bg-white/30 text-white rounded-full p-2 sm:p-3 transition-all",title:"Download image",children:(0,C.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]}),(0,C.jsx)("div",{className:"flex justify-center mt-4 sm:mt-6",children:(0,C.jsx)("button",{onClick:async()=>{if(a)try{await(0,F.mZ)((0,F.H9)(y.db,"bestie_celebrations",a),{seen:!0})}catch(t){console.error("Error marking celebration as seen:",t)}const e=r.slice(1);e.length>0?(s(e),o(e[0]),l(e[0].id)):(u(!1),o(null),l(null))},className:"btn bg-white text-purple-600 hover:bg-white/90 text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 font-bold",children:"Continue \u2192"})})]})}):null},N=()=>{const t=(0,r.Zp)(),{currentUser:n}=(0,B.As)(),{isDark:A}=(0,v.D)(),[s,i]=(0,e.useState)(!1),[o,a]=(0,e.useState)([]),[l,c]=(0,e.useState)(0),u=(0,e.useRef)(null),[d,h]=(0,e.useState)({x:0,y:20}),[f,g]=(0,e.useState)(!1),[p,m]=(0,e.useState)({x:0,y:0}),w=(0,e.useRef)(null);(0,e.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&i(!1)};if(s)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s]),(0,e.useEffect)(()=>{if(null===n||void 0===n||!n.uid)return;const e=(0,F.P)((0,F.rJ)(y.db,"notifications"),(0,F._M)("userId","==",n.uid),(0,F.My)("createdAt","desc")),t=(0,F.aQ)(e,e=>{const t=e.docs.map(e=>(0,Q.A)({id:e.id},e.data()));a(t),c(t.filter(e=>!e.read).length)});return()=>t()},[null===n||void 0===n?void 0:n.uid]);const b=e=>{e.preventDefault();const t="touchstart"===e.type?e.touches[0].clientX:e.clientX,n="touchstart"===e.type?e.touches[0].clientY:e.clientY;g(!0),m({x:t-d.x,y:n-d.y}),document.body.style.overflow="hidden",document.body.style.touchAction="none"},x=(0,e.useCallback)(e=>{if(!f)return;e.preventDefault();const t="touchmove"===e.type?e.touches[0].clientX:e.clientX,n="touchmove"===e.type?e.touches[0].clientY:e.clientY,A=t-p.x,r=n-p.y,s=window.innerWidth-100,i=window.innerHeight-100;h({x:Math.max(100-window.innerWidth,Math.min(s,A)),y:Math.max(0,Math.min(i,r))})},[f,p.x,p.y]),E=(0,e.useCallback)(()=>{g(!1),document.body.style.overflow="",document.body.style.touchAction="";const e=d.x>-window.innerWidth/2;h(t=>(0,Q.A)((0,Q.A)({},t),{},{x:e?0:100-window.innerWidth}))},[d.x]);(0,e.useEffect)(()=>{if(f)return document.addEventListener("mousemove",x),document.addEventListener("mouseup",E),document.addEventListener("touchmove",x,{passive:!1}),document.addEventListener("touchend",E),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",E),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",E)}},[f,x,E]);const U=async e=>{try{await(0,F.mZ)((0,F.H9)(y.db,"notifications",e),{read:!0})}catch(t){console.error("Error marking notification as read:",t)}},I=e=>{switch(e){case"bestie_request":return"\ud83d\udc9c";case"check_in_alert":return"\u23f0";case"missed_check_in":return"\u26a0\ufe0f";case"request_attention":return"\ud83d\udc4b";case"badge_earned":return"\ud83c\udfc6";case"system":return"\ud83d\udce2";default:return"\ud83d\udd14"}},k=e=>{if(!e)return"";const t=e.toDate?e.toDate():new Date(e),n=new Date-t,A=Math.floor(n/6e4),r=Math.floor(n/36e5),s=Math.floor(n/864e5);return A<1?"Just now":A<60?"".concat(A,"m ago"):r<24?"".concat(r,"h ago"):s<7?"".concat(s,"d ago"):t.toLocaleDateString()},S=d.x>=-window.innerWidth/2;return(0,C.jsxs)("div",{className:"fixed z-50 transition-all duration-300 ease-in-out ".concat(f?"cursor-grabbing":"cursor-grab"),style:{top:"".concat(d.y,"px"),right:S?"".concat(-d.x,"px"):"auto",left:S?"auto":"".concat(d.x+window.innerWidth-100,"px")},ref:u,children:[(0,C.jsxs)("button",{ref:w,onMouseDown:b,onTouchStart:b,onClick:e=>{f||i(!s)},className:"\n          relative flex items-center justify-center\n          ".concat(l>0?"w-20 h-16 px-4":"w-16 h-16","\n          ").concat(A?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50","\n          ").concat(S?"rounded-l-full border-r-0":"rounded-r-full border-l-0","\n          shadow-lg\n          transition-all duration-300 ease-in-out\n          border-2 ").concat(A?"border-gray-700":"border-gray-200","\n          ").concat(f?"scale-110":"","\n        "),children:[(0,C.jsxs)("svg",{viewBox:"0 0 24 24",className:"".concat("w-6 h-6"," transition-all duration-300"),children:[(0,C.jsx)("defs",{children:(0,C.jsxs)("linearGradient",{id:"bellGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,C.jsx)("stop",{offset:"0%",stopColor:"#ec4899"}),(0,C.jsx)("stop",{offset:"50%",stopColor:"#a855f7"}),(0,C.jsx)("stop",{offset:"100%",stopColor:"#d946ef"})]})}),(0,C.jsx)("path",{d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",fill:"none",stroke:"url(#bellGradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),l>0&&(0,C.jsx)("span",{className:"ml-2 text-sm font-bold bg-gradient-to-br from-rose-500 to-pink-600 text-white px-2 py-0.5 rounded-full animate-pulse",children:l>9?"9+":l})]}),s&&!f&&(0,C.jsxs)("div",{className:"absolute top-full mt-2 w-80 ".concat(A?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," rounded-xl shadow-2xl border-2 z-50 max-h-96 overflow-hidden flex flex-col transition-colors"),style:{[S?"right":"left"]:0},children:[(0,C.jsx)("div",{className:"p-4 border-b-2 ".concat(A?"border-gray-700 bg-gray-900":"border-gray-100 bg-gradient-to-r from-pink-50 to-purple-50"),children:(0,C.jsxs)("h3",{className:"font-display text-lg ".concat(A?"text-gray-100":"text-text-primary"," flex items-center justify-between"),children:[(0,C.jsx)("span",{children:"Notifications"}),l>0&&(0,C.jsxs)("span",{className:"text-xs bg-primary text-white px-2 py-1 rounded-full",children:[l," new"]})]})}),(0,C.jsx)("div",{className:"overflow-y-auto flex-1",children:0===o.length?(0,C.jsxs)("div",{className:"p-8 text-center",children:[(0,C.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udd14"}),(0,C.jsx)("p",{className:"text-sm ".concat(A?"text-gray-400":"text-text-secondary"),children:"No notifications yet"}),(0,C.jsx)("p",{className:"text-xs mt-1 ".concat(A?"text-gray-500":"text-text-secondary"),children:"We'll notify you about check-ins, bestie requests, and more"})]}):(0,C.jsx)("div",{className:"divide-y ".concat(A?"divide-gray-700":"divide-gray-100"),children:o.map(e=>(0,C.jsx)("button",{onClick:()=>(e=>{switch(e.read||U(e.id),e.type){case"bestie_request":case"missed_check_in":case"request_attention":t("/besties");break;case"check_in_alert":t("/history");break;case"badge_earned":t("/profile")}i(!1)})(e),className:"w-full p-4 text-left transition-colors ".concat(A?"hover:bg-gray-700 ".concat(e.read?"":"bg-gray-900/50"):"hover:bg-gradient-to-r hover:from-pink-50 hover:to-purple-50 ".concat(e.read?"":"bg-purple-50/30")),children:(0,C.jsxs)("div",{className:"flex gap-3",children:[(0,C.jsx)("div",{className:"flex-shrink-0 text-2xl",children:I(e.type)}),(0,C.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,C.jsx)("p",{className:"text-sm ".concat(e.read?A?"text-gray-300":"text-gray-700":A?"font-semibold text-gray-100":"font-semibold text-gray-900"),children:e.title}),(0,C.jsx)("p",{className:"text-xs mt-1 ".concat(A?"text-gray-400":"text-gray-600"),children:e.message}),(0,C.jsx)("p",{className:"text-xs mt-1 ".concat("text-gray-500"),children:k(e.createdAt)})]}),!e.read&&(0,C.jsx)("div",{className:"flex-shrink-0",children:(0,C.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full"})})]})},e.id))})}),l>0&&(0,C.jsx)("div",{className:"p-3 border-t-2 ".concat(A?"border-gray-700 bg-gray-900":"border-gray-100 bg-gray-50"),children:(0,C.jsx)("button",{onClick:async()=>{const e=o.filter(e=>!e.read);for(const t of e)await U(t.id)},className:"w-full text-center text-sm font-semibold text-primary hover:text-primary-dark transition-colors",children:"Mark all as read"})})]})]})},D=()=>{const e=(0,r.zy)(),{isDark:t}=(0,v.D)(),n=t=>e.pathname===t;return(0,C.jsx)("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 ".concat(t?"bg-gray-900 border-gray-700":"bg-white border-gray-200"," border-t shadow-lg z-[9999] transition-colors"),style:{position:"fixed",bottom:0,width:"100%"},children:(0,C.jsxs)("div",{className:"flex items-center justify-around py-3 safe-area-inset-bottom",children:[(0,C.jsxs)(g,{to:"/",className:"flex flex-col items-center gap-1 transition-colors ".concat(n("/")?"text-primary":t?"text-gray-300":"text-text-secondary"),children:[(0,C.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,C.jsx)("span",{className:"text-xs font-semibold",children:"Home"})]}),(0,C.jsxs)(g,{to:"/besties",className:"flex flex-col items-center gap-1 transition-colors ".concat(n("/besties")?"text-primary":t?"text-gray-300":"text-text-secondary"),children:[(0,C.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),(0,C.jsx)("span",{className:"text-xs font-semibold",children:"Besties"})]}),(0,C.jsxs)(g,{to:"/profile",className:"flex flex-col items-center gap-1 transition-colors ".concat(n("/profile")?"text-primary":t?"text-gray-300":"text-text-secondary"),children:[(0,C.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,C.jsx)("span",{className:"text-xs font-semibold",children:"Profile"})]})]})})},L=()=>{var e;const t=(0,r.Zp)(),n=(0,r.zy)(),{userData:A}=(0,B.As)();return(0,C.jsx)("nav",{className:"hidden md:block bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40",children:(0,C.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,C.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,C.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>t("/home"),children:[(0,C.jsx)("span",{className:"text-3xl",children:"\ud83d\udc9c"}),(0,C.jsx)("span",{className:"text-2xl font-display text-gradient",children:"Besties"})]}),(0,C.jsx)("div",{className:"flex items-center gap-1",children:[{path:"/home",label:"Home",icon:"\ud83c\udfe0"},{path:"/besties",label:"Besties",icon:"\ud83d\udc9c"},{path:"/profile",label:"Profile",icon:"\ud83d\udc64"},{path:"/settings",label:"Settings",icon:"\u2699\ufe0f"}].map(e=>{return(0,C.jsxs)("button",{onClick:()=>t(e.path),className:"px-4 py-2 rounded-lg font-semibold transition-all ".concat((A=e.path,n.pathname===A?"bg-gradient-primary text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700")),children:[(0,C.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.path);var A})}),(0,C.jsxs)("div",{className:"flex items-center gap-3",children:[null!==A&&void 0!==A&&A.photoURL?(0,C.jsx)("img",{src:A.photoURL,alt:A.displayName,className:"w-10 h-10 rounded-full object-cover border-2 border-purple-500"}):(0,C.jsx)("div",{className:"w-10 h-10 bg-gradient-primary rounded-full flex items-center justify-center text-white font-display",children:(null===A||void 0===A||null===(e=A.displayName)||void 0===e?void 0:e[0])||"?"}),(0,C.jsx)("div",{className:"text-sm",children:(0,C.jsx)("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:(null===A||void 0===A?void 0:A.displayName)||"Bestie"})})]})]})})})},H=(t,n)=>{const[A,r]=(0,e.useState)(t),[s,i]=(0,e.useState)({}),[o,a]=(0,e.useState)({}),l=(e,t)=>{const A=n[e];if(!A)return"";if(A.required&&!t)return A.requiredMessage||"".concat(e," is required \ud83d\udc9c");if(A.minLength&&t.length<A.minLength)return A.minLengthMessage||"Must be at least ".concat(A.minLength," characters \ud83d\udccf");if(A.maxLength&&t.length>A.maxLength)return A.maxLengthMessage||"Must be less than ".concat(A.maxLength," characters \u2702\ufe0f");if(A.email){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return A.emailMessage||"Please enter a valid email \ud83d\udce7"}if(A.phone){if(!/^[\d\s+\-()]+$/.test(t))return A.phoneMessage||"Please enter a valid phone number \ud83d\udcf1"}if(A.url)try{new URL(t)}catch(r){return A.urlMessage||"Please enter a valid URL \ud83d\udd17"}return A.custom&&!A.custom(t)?A.customMessage||"Invalid value":A.pattern&&!A.pattern.test(t)?A.patternMessage||"Invalid format":""};return{values:A,errors:s,touched:o,handleChange:(e,t)=>{if(r(n=>(0,Q.A)((0,Q.A)({},n),{},{[e]:t})),o[e]){const n=l(e,t);i(t=>(0,Q.A)((0,Q.A)({},t),{},{[e]:n}))}},handleBlur:e=>{a(t=>(0,Q.A)((0,Q.A)({},t),{},{[e]:!0}));const t=l(e,A[e]);i(n=>(0,Q.A)((0,Q.A)({},n),{},{[e]:t}))},validateAll:()=>{const e={};return Object.keys(n).forEach(t=>{const n=l(t,A[t]);n&&(e[t]=n)}),i(e),0===Object.keys(e).length},reset:()=>{r(t),i({}),a({})},isValid:0===Object.keys(s).length}},O=()=>{const[t,n]=(0,e.useState)(!1),[A,s]=(0,e.useState)(!1),{values:i,errors:o,handleChange:a,handleBlur:l,validateAll:c}=H({email:"",password:"",displayName:""},{email:{required:!0,email:!0,requiredMessage:"Email is required \ud83d\udce7",emailMessage:"Please enter a valid email address \ud83d\udc9c"},password:{required:!0,minLength:6,requiredMessage:"Password is required \ud83d\udd12",minLengthMessage:"Password must be at least 6 characters \ud83d\udd10"},displayName:{required:t,minLength:2,requiredMessage:"Name is required \u2728",minLengthMessage:"Name must be at least 2 characters \ud83d\udc9c"}}),[u,d]=(0,e.useState)("+61"),[h,f]=(0,e.useState)(""),[g,p]=(0,e.useState)(""),[m,B]=(0,e.useState)(null),[v,x]=(0,e.useState)(!1),[E,U]=(0,e.useState)(!1),[I,Q]=(0,e.useState)(""),F=(0,r.Zp)();(0,e.useEffect)(()=>{b.A.trackFunnelStep("signup","view_login_page")},[]),(0,e.useEffect)(()=>{if(v&&!E){setTimeout(async()=>{try{Q("Setting up verification...");y.y1.setupRecaptcha("recaptcha-container").success?(U(!0),Q("")):(Q(""),w.Ay.error("Verification setup failed. Please refresh the page."))}catch(e){Q(""),console.error("reCAPTCHA setup error:",e)}},100)}},[v,E]);const k=async()=>{s(!0),Q("Opening Google sign-in..."),b.A.trackFunnelStep("signup","click_google_signin");try{const e=await y.y1.signInWithGoogle();s(!1),Q(""),e.success?(b.A.trackFunnelStep("signup","complete_google_signin"),w.Ay.success("Welcome to Besties!"),F("/")):(b.A.logCustomError("Google sign-in failed",{error:e.error}),w.Ay.error(e.error||"Sign in failed"))}catch(e){s(!1),Q(""),w.Ay.error("Sign in failed. Please try again.")}};return(0,C.jsx)("div",{className:"min-h-screen bg-pattern flex items-center justify-center p-4",children:(0,C.jsxs)("div",{className:"w-full max-w-md",children:[(0,C.jsxs)("div",{className:"text-center mb-8 animate-fade-in",children:[(0,C.jsx)("h1",{className:"font-display text-6xl text-gradient mb-2",children:"Besties"}),(0,C.jsx)("p",{className:"text-xl text-text-secondary font-semibold",children:"Your besties have your back \ud83d\udc9c"})]}),(0,C.jsxs)("div",{className:"card p-8 animate-slide-up",children:[I&&(0,C.jsx)("div",{className:"mb-4 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg text-center",children:(0,C.jsxs)("p",{className:"text-sm font-semibold text-primary flex items-center justify-center gap-2",children:[(0,C.jsx)("span",{className:"inline-block w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),I]})}),(0,C.jsxs)("button",{onClick:k,disabled:A,className:"w-full btn btn-primary mb-3",children:[(0,C.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,C.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,C.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,C.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,C.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),(0,C.jsxs)("button",{onClick:()=>x(!v),className:"w-full btn btn-secondary mb-3",children:[(0,C.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Continue with Phone"]}),v&&(0,C.jsx)("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:m?(0,C.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),s(!0),Q("Verifying code..."),b.A.trackFunnelStep("signup","click_phone_verify_code");try{const e=await y.y1.verifyPhoneCode(m,g);s(!1),Q(""),e.success?(b.A.trackFunnelStep("signup","complete_phone_signin"),w.Ay.success("Welcome to Besties!"),F("/")):(b.A.logCustomError("Phone code verification failed",{error:e.error}),w.Ay.error(e.error||"Invalid code"))}catch(t){s(!1),Q(""),w.Ay.error("Verification failed. Please try again.")}},className:"space-y-3",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Verification Code"}),(0,C.jsx)("input",{type:"text",inputMode:"numeric",value:g,onChange:e=>p(e.target.value),className:"input",placeholder:"123456",required:!0,maxLength:6,autoComplete:"one-time-code"})]}),(0,C.jsx)("button",{type:"submit",disabled:A,className:"w-full btn btn-primary",children:A?"Verifying...":"Verify Code"}),(0,C.jsx)("button",{type:"button",onClick:()=>{B(null),p("")},className:"w-full btn btn-secondary",children:"Back"})]}):(0,C.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),E){s(!0),Q("Sending verification code..."),b.A.trackFunnelStep("signup","click_phone_send_code");try{const e=h.startsWith("+")?h:"".concat(u).concat(h.replace(/\s/g,"")),t=y.y1.setupRecaptcha("recaptcha-container");if(!t.success)return w.Ay.error("Verification not ready. Please try again."),s(!1),void Q("");const n=await y.y1.sendPhoneVerification(e,t.verifier);s(!1),Q(""),n.success?(B(n.confirmationResult),w.Ay.success("Verification code sent!"),b.A.trackFunnelStep("signup","phone_code_sent")):(b.A.logCustomError("Phone verification failed",{error:n.error}),w.Ay.error(n.error||"Failed to send code"))}catch(t){s(!1),Q(""),b.A.logCustomError("Phone send code error",{error:t.message}),w.Ay.error("Failed to send code. Please try again.")}}else w.Ay.error("Please wait for verification to be ready...")},className:"space-y-3",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Phone Number"}),(0,C.jsxs)("div",{className:"flex gap-2",children:[(0,C.jsxs)("select",{value:u,onChange:e=>d(e.target.value),className:"input w-20",children:[(0,C.jsx)("option",{value:"+1",children:"+1"}),(0,C.jsx)("option",{value:"+44",children:"+44"}),(0,C.jsx)("option",{value:"+61",children:"+61"}),(0,C.jsx)("option",{value:"+91",children:"+91"})]}),(0,C.jsx)("input",{type:"tel",value:h,onChange:e=>{const t=e.target.value.replace(/\s/g,"");let n=t;"+61"===u&&t.length>3?(n=t.slice(0,3),t.length>3&&(n+=" "+t.slice(3,6)),t.length>6&&(n+=" "+t.slice(6,9))):"+1"===u&&t.length>3?(n=t.slice(0,3),t.length>3&&(n+=" "+t.slice(3,6)),t.length>6&&(n+=" "+t.slice(6,10))):"+44"===u&&t.length>4?(n=t.slice(0,4),t.length>4&&(n+=" "+t.slice(4,10))):"+91"===u&&t.length>5&&(n=t.slice(0,5),t.length>5&&(n+=" "+t.slice(5,10))),f(n)},className:"input flex-1",placeholder:"435123456",required:!0})]})]}),!E&&(0,C.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs text-text-secondary",children:[(0,C.jsx)("div",{className:"w-3 h-3 border-2 border-primary border-t-transparent rounded-full animate-spin"}),(0,C.jsx)("span",{children:"Preparing verification..."})]}),(0,C.jsxs)("button",{type:"submit",disabled:A||!E,className:"w-full btn btn-primary flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[A&&(0,C.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),A?"Sending Code...":"Send Verification Code"]}),(0,C.jsx)("div",{id:"recaptcha-container"})]})}),(0,C.jsxs)("button",{onClick:k,disabled:!0,className:"w-full btn bg-[#1877F2] text-white hover:bg-[#166FE5] mb-6 opacity-50 cursor-not-allowed",title:"Facebook login coming soon",children:[(0,C.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continue with Facebook (Coming Soon)"]}),(0,C.jsxs)("div",{className:"relative mb-6",children:[(0,C.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,C.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),(0,C.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,C.jsx)("span",{className:"px-2 bg-white dark:bg-gray-800 text-text-secondary",children:"Or"})})]}),(0,C.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!c())return void w.Ay.error("Please fix the errors before continuing \ud83d\udc9c");let n;s(!0),b.A.trackFunnelStep("signup",t?"click_email_signup":"click_email_signin"),n=t?await y.y1.signUpWithEmail(i.email,i.password,i.displayName):await y.y1.signInWithEmail(i.email,i.password),s(!1),n.success?(b.A.trackFunnelStep("signup",t?"complete_email_signup":"complete_email_signin"),w.Ay.success(t?"Account created!":"Welcome back!"),F("/")):(b.A.logCustomError("Email auth failed",{error:n.error,isSignUp:t}),w.Ay.error(n.error||"Authentication failed"))},className:"space-y-4",children:[t&&(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Display Name"}),(0,C.jsx)("input",{type:"text",value:i.displayName,onChange:e=>a("displayName",e.target.value),onBlur:()=>l("displayName"),className:"input ".concat(o.displayName?"border-red-500 dark:border-red-400":""),placeholder:"Your name"}),o.displayName&&(0,C.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:o.displayName})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Email"}),(0,C.jsx)("input",{type:"email",value:i.email,onChange:e=>a("email",e.target.value),onBlur:()=>l("email"),className:"input ".concat(o.email?"border-red-500 dark:border-red-400":""),placeholder:"you@example.com"}),o.email&&(0,C.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:o.email})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Password"}),(0,C.jsx)("input",{type:"password",value:i.password,onChange:e=>a("password",e.target.value),onBlur:()=>l("password"),className:"input ".concat(o.password?"border-red-500 dark:border-red-400":""),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),o.password&&(0,C.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:o.password})]}),(0,C.jsx)("button",{type:"submit",disabled:A,className:"w-full btn btn-secondary",children:A?"Please wait...":t?"Sign Up":"Sign In"})]}),(0,C.jsx)("div",{className:"mt-6 text-center",children:(0,C.jsx)("button",{onClick:()=>n(!t),className:"text-primary font-semibold hover:underline",children:t?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]}),(0,C.jsx)("div",{className:"text-center mt-6 text-sm text-text-secondary",children:(0,C.jsxs)("p",{children:["By continuing, you agree to our"," ",(0,C.jsx)("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",(0,C.jsx)("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Privacy Policy"})]})})]})})};var P=n(9628),R=n(3007),M=n(8147),j=n(4505),K=n(7688);const V=()=>{const t=(0,r.Zp)(),n=[{text:"Welcome home, beautiful! \ud83d\udc96",subtext:"We're so relieved you're safe"},{text:"You made it safely! \u2728",subtext:"Your besties can rest easy now"},{text:"Safe and sound! \ud83c\udf38",subtext:"Taking care of yourself like a queen"},{text:"You're home safe! \ud83d\udc95",subtext:"That's all that matters"}],[A]=(0,e.useState)(()=>n[Math.floor(Math.random()*n.length)]);return(0,e.useEffect)(()=>{const e=setTimeout(()=>{t("/")},2e3);return()=>clearTimeout(e)},[t]),(0,C.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 via-teal-50 to-cyan-50 flex items-center justify-center p-4 relative overflow-hidden",children:[(0,C.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(25)].map((e,t)=>(0,C.jsx)("div",{className:"absolute animate-celebration-float",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(2*Math.random(),"s"),animationDuration:"".concat(3+3*Math.random(),"s"),opacity:.4+.4*Math.random()},children:(0,C.jsx)("span",{className:"text-3xl",children:["\ud83c\udf89","\u2728","\ud83d\udc9a","\ud83c\udf1f","\ud83d\udcab","\ud83c\udf8a","\ud83e\udd8b","\ud83c\udf38"][Math.floor(8*Math.random())]})},t))}),(0,C.jsx)("div",{className:"w-full max-w-lg text-center relative z-10",children:(0,C.jsxs)("div",{className:"relative bg-white/95 backdrop-blur-xl rounded-[2rem] p-10 shadow-[0_20px_60px_rgba(16,185,129,0.3)] border border-emerald-200/50",children:[(0,C.jsx)("div",{className:"absolute top-4 left-4 w-8 h-8 border-t-2 border-l-2 border-emerald-300/50 rounded-tl-xl"}),(0,C.jsx)("div",{className:"absolute top-4 right-4 w-8 h-8 border-t-2 border-r-2 border-green-300/50 rounded-tr-xl"}),(0,C.jsx)("div",{className:"absolute bottom-4 left-4 w-8 h-8 border-b-2 border-l-2 border-green-300/50 rounded-bl-xl"}),(0,C.jsx)("div",{className:"absolute bottom-4 right-4 w-8 h-8 border-b-2 border-r-2 border-emerald-300/50 rounded-br-xl"}),(0,C.jsxs)("div",{className:"relative w-32 h-32 mx-auto mb-8",children:[(0,C.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-300 via-green-300 to-teal-300 rounded-full animate-pulse-slow opacity-40 blur-xl"}),(0,C.jsx)("div",{className:"relative w-32 h-32 flex items-center justify-center",children:(0,C.jsxs)("svg",{viewBox:"0 0 100 100",className:"w-28 h-28",children:[(0,C.jsxs)("defs",{children:[(0,C.jsxs)("linearGradient",{id:"successGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,C.jsx)("stop",{offset:"0%",stopColor:"#10b981"}),(0,C.jsx)("stop",{offset:"50%",stopColor:"#34d399"}),(0,C.jsx)("stop",{offset:"100%",stopColor:"#6ee7b7"})]}),(0,C.jsxs)("filter",{id:"successGlow",children:[(0,C.jsx)("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),(0,C.jsxs)("feMerge",{children:[(0,C.jsx)("feMergeNode",{in:"coloredBlur"}),(0,C.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,C.jsx)("circle",{cx:"50",cy:"50",r:"35",fill:"url(#successGradient)",filter:"url(#successGlow)",className:"animate-scale-bounce"}),(0,C.jsx)("path",{d:"M30,50 L42,62 L70,34",fill:"none",stroke:"white",strokeWidth:"6",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-draw-success"})]})})]}),(0,C.jsx)("h2",{className:"font-display text-3xl md:text-4xl bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 bg-clip-text text-transparent mb-3 leading-tight",children:A.text}),(0,C.jsx)("p",{className:"text-xl text-text-secondary font-semibold mb-8 animate-fade-in",children:A.subtext}),(0,C.jsxs)("div",{className:"flex justify-center items-center gap-3 mb-6",children:[(0,C.jsx)("span",{className:"text-3xl animate-bounce-gentle",children:"\ud83c\udf89"}),(0,C.jsx)("span",{className:"text-3xl animate-bounce-gentle",style:{animationDelay:"0.2s"},children:"\ud83d\udc9a"}),(0,C.jsx)("span",{className:"text-3xl animate-bounce-gentle",style:{animationDelay:"0.4s"},children:"\u2728"})]}),(0,C.jsx)("p",{className:"text-xs text-gray-400 italic",children:"Until next time, stay safe bestie! \ud83d\udc95"})]})}),(0,C.jsx)("style",{children:"\n        @keyframes celebration-float {\n          0% {\n            transform: translateY(100vh) rotate(0deg);\n            opacity: 0;\n          }\n          10% {\n            opacity: 1;\n          }\n          90% {\n            opacity: 1;\n          }\n          100% {\n            transform: translateY(-100vh) rotate(360deg);\n            opacity: 0;\n          }\n        }\n        @keyframes pulse-slow {\n          0%, 100% { transform: scale(1); opacity: 0.4; }\n          50% { transform: scale(1.3); opacity: 0.2; }\n        }\n        @keyframes scale-bounce {\n          0% { transform: scale(0); }\n          50% { transform: scale(1.1); }\n          100% { transform: scale(1); }\n        }\n        @keyframes draw-success {\n          0% { stroke-dasharray: 0, 100; }\n          100% { stroke-dasharray: 100, 0; }\n        }\n        @keyframes bounce-gentle {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-10px); }\n        }\n        .animate-celebration-float {\n          animation: celebration-float 5s ease-in-out infinite;\n        }\n        .animate-pulse-slow {\n          animation: pulse-slow 3s ease-in-out infinite;\n        }\n        .animate-scale-bounce {\n          animation: scale-bounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n        }\n        .animate-draw-success {\n          animation: draw-success 0.8s ease-in-out 0.3s forwards;\n          stroke-dasharray: 100;\n          stroke-dashoffset: 100;\n        }\n        .animate-bounce-gentle {\n          animation: bounce-gentle 1s ease-in-out infinite;\n        }\n      "})]})},G=t=>{var n;let{checkIn:A}=t;const{userData:s}=(0,B.As)(),{isDark:i}=(0,v.D)(),o=(0,r.Zp)(),[a,l]=(0,e.useState)(0),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(!1),[f,g]=(0,e.useState)(null),[p,m]=(0,e.useState)(!1),[b,x]=(0,e.useState)(A.notes||""),[E,U]=(0,e.useState)(A.photoURLs||A.photoURL?[A.photoURL]:[]),[I,Q]=(0,e.useState)(!1),[k,S]=(0,e.useState)(null),{executeOptimistic:T}=(0,K.Ay)(),[_,N]=(0,e.useState)(!1),[D,L]=(0,e.useState)(A.location||""),[H,O]=(0,e.useState)(!1),[G,z]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=()=>{const e=(k||A.alertTime.toDate())-new Date;l(Math.max(0,e))};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[A.alertTime,k]);const W=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!==s&&void 0!==s&&null!==(e=s.security)&&void 0!==e&&e.safetyPasscode?O(!0):(t||P.A.success(),await J())},q=async()=>{var e,t;const n=null===s||void 0===s||null===(e=s.security)||void 0===e?void 0:e.safetyPasscode,A=null===s||void 0===s||null===(t=s.security)||void 0===t?void 0:t.duressCode;if(G){if(A&&G===A)return O(!1),z(""),void await X();if(G===n)return P.A.success(),O(!1),z(""),void await J();w.Ay.error("Incorrect passcode"),z("")}else w.Ay.error("Please enter your passcode")},J=async()=>{h(!0);try{var e;u(!0);const n=await j.Ay.completeCheckIn({checkInId:A.id});var t;if(null===(e=n.data)||void 0===e||!e.success)throw new Error((null===(t=n.error)||void 0===t?void 0:t.message)||"Failed to complete check-in");const r=(0,F.H9)(y.db,"checkins",A.id),s=await(0,F.x7)(r);if(!s.exists()||"completed"!==s.data().status)throw new Error("Check-in status verification failed");setTimeout(()=>{o("/"),w.Ay.success("You're safe! Welcome home \ud83d\udc9c",{duration:4e3,icon:"\u2705"})},2e3)}catch(n){console.error("Error completing check-in:",n),h(!1),w.Ay.error("Failed to complete check-in. Please try again.")}finally{u(!1)}},X=async()=>{h(!0);try{await j.Ay.completeCheckIn({checkInId:A.id});const e={userId:A.userId,checkInId:A.id,type:"alert",_internal_duress:!0,message:"\ud83d\udea8 DURESS CODE USED - ".concat((null===s||void 0===s?void 0:s.displayName)||"User"," may be in danger!"),location:A.location,timestamp:F.Dc.now(),priority:"critical"};await(0,F.gS)((0,F.rJ)(y.db,"alerts"),e),setTimeout(()=>{o("/"),w.Ay.success("You're safe! Welcome home \ud83d\udc9c",{duration:4e3,icon:"\u2705"})},2e3)}catch(e){console.error("Error handling duress code:",e),setTimeout(()=>{o("/"),w.Ay.success("You're safe! Welcome home \ud83d\udc9c",{duration:4e3,icon:"\u2705"})},2e3)}},Y=async e=>{P.A.light();const t=k||A.alertTime.toDate(),n=new Date(t.getTime()+60*e*1e3);S(n),g(e),w.Ay.success("Extended by ".concat(e," minutes!"),{duration:2e3});try{var r;const t=await j.Ay.extendCheckIn({checkInId:A.id,additionalMinutes:e});var s;if(null===(r=t.data)||void 0===r||!r.success)throw new Error((null===(s=t.error)||void 0===s?void 0:s.message)||"Failed to extend check-in");{const e=(0,F.H9)(y.db,"checkins",A.id),t=await(0,F.x7)(e);if(!t.exists())throw new Error("Unable to verify extension");S(t.data().alertTime.toDate())}}catch(i){console.error("Error extending check-in:",i),S(null),"unavailable"===i.code?w.Ay.error("Cannot reach server. Extension cancelled.",{duration:4e3}):w.Ay.error(i.message||"Failed to extend check-in. Extension cancelled.",{duration:4e3})}finally{g(null)}},Z="alerted"===A.status;return d?(0,C.jsx)(V,{}):(0,C.jsxs)("div",{className:"card p-6 ".concat(Z?"border-2 border-danger":""),children:[(0,C.jsxs)("div",{className:"mb-6",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,C.jsx)("span",{className:"text-base font-semibold text-text-secondary",children:"Time remaining:"}),(0,C.jsx)("span",{className:"font-display text-3xl ".concat(0===a?"text-danger":"text-primary"),children:0===a?"EXPIRED":(e=>{const t=Math.floor(e/1e3),n=Math.floor(t/3600),A=Math.floor(t%3600/60),r=t%60;return n>0?"".concat(n,"h ").concat(A,"m ").concat(r,"s"):"".concat(A,"m ").concat(r,"s")})(a)})]}),(0,C.jsx)("div",{className:"progress-bar h-3",children:(0,C.jsx)("div",{className:"progress-fill",style:{width:"".concat((()=>{const e=60*A.duration*1e3,t=e-a;return Math.min(100,Math.max(0,t/e*100))})(),"%")}})}),!Z&&(0,C.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[(0,C.jsx)("button",{onClick:()=>Y(15),disabled:null!==f,className:"btn btn-secondary text-sm py-2 active:scale-95",children:"+15m"}),(0,C.jsx)("button",{onClick:()=>Y(30),disabled:null!==f,className:"btn btn-secondary text-sm py-2 active:scale-95",children:"+30m"}),(0,C.jsx)("button",{onClick:()=>Y(60),disabled:null!==f,className:"btn btn-secondary text-sm py-2 active:scale-95",children:"+60m"})]})]}),!Z&&(0,C.jsx)("button",{onClick:W,disabled:c,className:"w-full btn btn-success text-lg mb-6",children:"\u2705 I'm Safe!"}),Z&&(0,C.jsxs)("div",{className:"bg-danger/10 border border-danger rounded-xl p-4 text-center mb-6",children:[(0,C.jsx)("p",{className:"font-semibold text-danger mb-2",children:"\ud83d\udea8 Your besties have been alerted!"}),(0,C.jsx)("p",{className:"text-sm text-text-secondary mb-4",children:"They know you haven't checked in"}),(0,C.jsx)("button",{onClick:()=>{P.A.warning(),W(!0)},disabled:c,className:"btn btn-success w-full",children:"\u2705 I'm Safe! (False Alarm)"})]}),(0,C.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,C.jsx)("div",{className:"flex-1",children:(0,C.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,C.jsx)("h3",{className:"font-display text-lg text-text-primary",children:D||"No location set"}),Z&&(0,C.jsx)("span",{className:"badge badge-warning text-xs",children:"ALERTED"})]})})}),(E.length>0||!Z)&&(0,C.jsxs)("div",{className:"mb-4",children:[(0,C.jsxs)("div",{className:"text-sm font-semibold text-text-secondary mb-2",children:["Photos (",E.length,"/5)"]}),0===E.length&&(0,C.jsxs)("div",{className:"mb-3 p-8 rounded-xl ".concat(i?"bg-gray-800":"bg-gray-100"," flex flex-col items-center justify-center border-2 border-dashed ").concat(i?"border-gray-600":"border-gray-300"),children:[(0,C.jsx)("div",{className:"text-6xl mb-2 opacity-50",children:"\ud83d\uddbc\ufe0f"}),(0,C.jsx)("div",{className:"text-sm font-semibold ".concat(i?"text-gray-400":"text-gray-500"),children:"No photos yet"})]}),E.length>0&&(0,C.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3",children:E.map((e,t)=>(0,C.jsxs)("div",{className:"relative aspect-square",children:[(0,C.jsx)("img",{src:e,alt:"Check-in ".concat(t+1),className:"w-full h-full object-cover rounded-xl"}),!Z&&(0,C.jsx)("button",{onClick:()=>(async e=>{P.A.light();const t=[...E],n=E.filter((t,n)=>n!==e).filter(e=>void 0!==e&&null!==e);await T({optimisticUpdate:()=>{U(n)},serverUpdate:async()=>{await(0,F.mZ)((0,F.H9)(y.db,"checkins",A.id),{photoURLs:n})},rollback:()=>{U(t)},successMessage:"Photo removed",errorMessage:"Failed to remove photo"})})(t),className:"absolute top-1 right-1 bg-red-500 text-white w-6 h-6 rounded-full text-sm font-bold hover:bg-red-600 flex items-center justify-center",children:"\u2715"})]},t))}),!Z&&E.length<5&&(0,C.jsxs)("label",{className:"border-2 border-dashed ".concat(i?"border-gray-600 hover:bg-primary/10":"border-gray-300 hover:bg-primary/5"," rounded-xl p-6 flex flex-col items-center justify-center cursor-pointer hover:border-primary transition-all"),children:[(0,C.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcf7"}),(0,C.jsx)("div",{className:"text-sm font-semibold ".concat(i?"text-gray-300":"text-gray-600"),children:I?"Uploading...":E.length>0?"Add More Photos":"Add Photos"}),(0,C.jsx)("div",{className:"text-xs ".concat(i?"text-gray-400":"text-gray-500"," mt-1"),children:"Click to upload (up to 5, max 5MB each)"}),(0,C.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:async e=>{P.A.medium();const t=Array.from(e.target.files);if(0===t.length)return;if(E.length+t.length>5)return void w.Ay.error("You can only have up to 5 photos per check-in");for(const A of t)if(A.size>5242880)return void w.Ay.error("".concat(A.name," is too large. Photos must be less than 5MB"));Q(!0);const n=t.map(e=>URL.createObjectURL(e)),r=[...E];await T({optimisticUpdate:()=>{U([...E,...n])},serverUpdate:async()=>{try{const s=[];for(let n=0;n<t.length;n++){const r=t[n];try{const e=(0,M.KR)(y.IG,"checkin-photos/".concat(A.userId,"/").concat(Date.now(),"_").concat(n,"_").concat(r.name));await(0,M.D)(e,r);const t=await(0,M.qk)(e);t?s.push(t):console.warn("Failed to get download URL for photo ".concat(n))}catch(e){console.error("Error uploading photo ".concat(n,":"),e),w.Ay.error("Failed to upload ".concat(r.name))}}const i=[...r,...s].filter(e=>void 0!==e&&null!==e);return await(0,F.mZ)((0,F.H9)(y.db,"checkins",A.id),{photoURLs:i}),U(i),n.forEach(e=>URL.revokeObjectURL(e)),i}finally{Q(!1)}},rollback:()=>{U(r),n.forEach(e=>URL.revokeObjectURL(e)),Q(!1)},successMessage:"".concat(t.length," photo").concat(t.length>1?"s":""," uploaded!"),errorMessage:"Failed to upload photos"})},className:"hidden",disabled:I})]})]}),(0,C.jsx)("div",{className:"mb-4",children:p?(0,C.jsxs)("div",{children:[(0,C.jsx)("textarea",{value:b,onChange:e=>x(e.target.value),className:"w-full p-3 border-2 ".concat(i?"border-gray-600 bg-gray-800 text-gray-100":"border-gray-300 bg-white text-gray-900"," rounded-xl focus:border-primary focus:outline-none resize-none"),rows:"3",placeholder:"Add notes about your check-in..."}),(0,C.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,C.jsx)("button",{onClick:async()=>{const e=A.notes||"";await T({optimisticUpdate:()=>{m(!1)},serverUpdate:async()=>{await(0,F.mZ)((0,F.H9)(y.db,"checkins",A.id),{notes:b})},rollback:()=>{x(e),m(!0)},successMessage:"Notes updated!",errorMessage:"Failed to save notes"})},className:"btn btn-primary text-sm flex-1",children:"\ud83d\udcbe Save Notes"}),(0,C.jsx)("button",{onClick:()=>{m(!1),x(A.notes||"")},className:"btn btn-secondary text-sm flex-1",children:"Cancel"})]})]}):(0,C.jsx)("div",{children:b?(0,C.jsxs)("div",{className:"".concat(i?"bg-gray-800":"bg-gray-50"," p-3 rounded-xl"),children:[(0,C.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,C.jsx)("div",{className:"text-xs font-semibold ".concat(i?"text-gray-400":"text-gray-500"),children:"NOTES:"}),!Z&&(0,C.jsx)("button",{onClick:()=>{P.A.light(),m(!0)},className:"text-xs text-primary font-semibold hover:underline",children:"Edit"})]}),(0,C.jsx)("p",{className:"text-sm text-text-secondary",children:b})]}):!Z&&(0,C.jsx)("button",{onClick:()=>{P.A.light(),m(!0)},className:"w-full border-2 border-dashed ".concat(i?"border-gray-600 text-gray-300 hover:bg-primary/10":"border-gray-300 text-gray-600 hover:bg-primary/5"," rounded-xl p-3 text-sm font-semibold hover:border-primary transition-all"),children:"\ud83d\udcdd Add Notes"})})}),!Z&&(0,C.jsx)("div",{className:"mb-4",children:(0,C.jsxs)("button",{onClick:async()=>{if(navigator.geolocation){N(!0),P.A.medium();try{const e=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!1,timeout:5e3,maximumAge:1e4})}),{latitude:t,longitude:n,accuracy:r}=e.coords;console.log("Fast location: ".concat(r," meters accuracy"));const s=await fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(t,",").concat(n,"&key=").concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_MAPS_API_KEY)),i=await s.json();let o="GPS: ".concat(t.toFixed(6),", ").concat(n.toFixed(6));i.results&&i.results.length>0&&(o=i.results[0].formatted_address),await(0,F.mZ)((0,F.H9)(y.db,"checkins",A.id),{location:o,gpsCoords:{lat:t,lng:n},locationAccuracy:r,locationUpdatedAt:F.Dc.now()}),L(o),w.Ay.success("Location updated!"),N(!1),console.log("Getting accurate GPS location in background..."),navigator.geolocation.getCurrentPosition(async e=>{const{latitude:t,longitude:n,accuracy:s}=e.coords;if(console.log("Accurate location: ".concat(s," meters accuracy (improved from ").concat(r,"m)")),r-s>50){const e=await fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(t,",").concat(n,"&key=").concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_MAPS_API_KEY)),r=await e.json();let i="GPS: ".concat(t.toFixed(6),", ").concat(n.toFixed(6));r.results&&r.results.length>0&&(i=r.results[0].formatted_address),await(0,F.mZ)((0,F.H9)(y.db,"checkins",A.id),{location:i,gpsCoords:{lat:t,lng:n},locationAccuracy:s,locationUpdatedAt:F.Dc.now()}),L(i),console.log("Location silently updated with accurate GPS")}else console.log("Accurate location not significantly better, keeping fast location")},e=>{console.log("Background accurate GPS failed (not critical):",e)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})}catch(e){console.error("Error updating location:",e),1===e.code?w.Ay.error("Location permission denied. Please enable location access.",{duration:4e3}):3===e.code?w.Ay.error("Location timeout. Please try again.",{duration:3e3}):w.Ay.error("Failed to update location"),N(!1)}}else w.Ay.error("Geolocation is not supported by your browser")},disabled:_,className:"w-full border-2 border-dashed ".concat(i?"border-gray-600 text-gray-300 hover:bg-primary/10":"border-gray-300 text-gray-600 hover:bg-primary/5"," rounded-xl p-3 text-sm font-semibold hover:border-primary transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"),children:["\ud83d\udccd ",_?"Updating Location...":"Note Current Location"]})}),(A.meetingWith||A.socialMediaLinks)&&(0,C.jsxs)("div",{className:"mb-4",children:[A.meetingWith&&(0,C.jsxs)("div",{className:"".concat(i?"bg-gray-800":"bg-gray-50"," p-3 rounded-xl mb-2"),children:[(0,C.jsx)("div",{className:"text-xs font-semibold ".concat(i?"text-gray-400":"text-gray-500"," mb-1"),children:"MEETING WITH:"}),(0,C.jsx)("p",{className:"text-sm text-text-primary font-semibold",children:A.meetingWith})]}),A.socialMediaLinks&&(0,C.jsxs)("div",{className:"".concat(i?"bg-purple-900/30":"bg-purple-50"," p-3 rounded-xl border-2 ").concat(i?"border-purple-800":"border-purple-200"),children:[(0,C.jsx)("div",{className:"text-xs font-semibold ".concat(i?"text-purple-300":"text-purple-700"," mb-1"),children:"THEIR SOCIAL MEDIA:"}),(0,C.jsx)("p",{className:"text-sm text-text-primary",children:A.socialMediaLinks})]})]}),(0,C.jsx)("div",{className:"mb-4",children:(0,C.jsxs)("div",{className:"text-sm text-text-secondary mb-2",children:["Watching over you: ",(null===(n=A.bestieIds)||void 0===n?void 0:n.length)||0," besties"]})}),(0,C.jsxs)("div",{className:"mt-4 text-xs text-text-secondary text-center",children:["Started ",(0,R.m)(A.createdAt.toDate(),{addSuffix:!0})]}),H&&(0,C.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,C.jsxs)("div",{className:"".concat(i?"bg-gray-800":"bg-white"," rounded-2xl max-w-md w-full p-6"),children:[(0,C.jsx)("h2",{className:"text-2xl font-display ".concat(i?"text-gray-100":"text-text-primary"," mb-2"),children:"\ud83d\udd12 Enter Passcode"}),(0,C.jsx)("p",{className:"text-text-secondary mb-4",children:"Enter your safety passcode to mark yourself safe"}),(0,C.jsx)("div",{className:"mb-6",children:(0,C.jsx)("input",{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:G,onChange:e=>z(e.target.value.replace(/\D/g,"")),onKeyPress:e=>{"Enter"===e.key&&q()},className:"w-full px-3 py-3 border-2 ".concat(i?"border-gray-600 bg-gray-700 text-gray-100":"border-gray-300 bg-white text-gray-900"," rounded-lg focus:border-primary focus:outline-none text-center text-3xl tracking-widest"),placeholder:"\u2022\u2022\u2022\u2022",maxLength:6,autoFocus:!0})}),(0,C.jsxs)("div",{className:"flex gap-3",children:[(0,C.jsx)("button",{onClick:()=>{O(!1),z("")},className:"flex-1 btn btn-secondary",children:"Cancel"}),(0,C.jsx)("button",{onClick:q,disabled:!G,className:"flex-1 btn btn-success",children:"Confirm"})]}),(0,C.jsx)("p",{className:"text-xs text-text-secondary text-center mt-4",children:"Forgot your passcode? Update it in Settings"})]})})]})},z=t=>{let{onClose:n}=t;const A=(0,r.Zp)(),[s,i]=(0,e.useState)(""),[o,a]=(0,e.useState)(30);return(0,C.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:n,children:(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6",onClick:e=>e.stopPropagation(),children:[(0,C.jsxs)("h2",{className:"text-2xl font-display text-text-primary mb-4 flex items-center gap-2",children:[(0,C.jsx)("span",{children:"\ud83d\ude97"})," Rideshare Check-In"]}),(0,C.jsx)("p",{className:"text-sm text-text-secondary mb-6",children:"Enter your vehicle registration and select duration"}),(0,C.jsxs)("div",{className:"mb-6",children:[(0,C.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Registration / License Plate"}),(0,C.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value.toUpperCase()),placeholder:"ABC123",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-primary focus:outline-none text-lg font-semibold text-center",autoFocus:!0})]}),(0,C.jsxs)("div",{className:"mb-6",children:[(0,C.jsxs)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:["Duration: ",o," minutes"]}),(0,C.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[10,15,30,45].map(e=>(0,C.jsxs)("button",{type:"button",onClick:()=>a(e),className:"py-2 px-3 rounded-lg text-sm font-semibold transition-all ".concat(o===e?"bg-gradient-primary text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e,"m"]},e))}),(0,C.jsx)("input",{type:"range",min:"10",max:"90",step:"5",value:o,onChange:e=>a(parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),(0,C.jsxs)("div",{className:"flex justify-between text-xs text-text-secondary mt-1",children:[(0,C.jsx)("span",{children:"10 min"}),(0,C.jsx)("span",{children:"90 min"})]})]}),(0,C.jsxs)("div",{className:"flex gap-3",children:[(0,C.jsx)("button",{onClick:n,className:"flex-1 btn btn-secondary",children:"Cancel"}),(0,C.jsx)("button",{onClick:()=>{s.trim()&&(P.A.light(),A("/create",{state:{quickType:"rideshare",rego:s.trim(),duration:o,skipLocation:!0,activity:{name:"\ud83d\ude97 Rideshare",emoji:"\ud83d\ude97"}}}))},disabled:!s.trim(),className:"flex-1 btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Check-In"})]})]})})},W=t=>{let{onClose:n}=t;const A=(0,r.Zp)(),[s,i]=(0,e.useState)(15);return(0,C.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:n,children:(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6",onClick:e=>e.stopPropagation(),children:[(0,C.jsxs)("h2",{className:"text-2xl font-display text-text-primary mb-4 flex items-center gap-2",children:[(0,C.jsx)("span",{children:"\ud83d\udeb6\u200d\u2640\ufe0f"})," Walking Alone"]}),(0,C.jsx)("p",{className:"text-sm text-text-secondary mb-6",children:"Select duration and start your check-in. You can add location details during your walk."}),(0,C.jsxs)("div",{className:"mb-6",children:[(0,C.jsxs)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:["Duration: ",s," minutes"]}),(0,C.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[10,15,30,45].map(e=>(0,C.jsxs)("button",{type:"button",onClick:()=>i(e),className:"py-2 px-3 rounded-lg text-sm font-semibold transition-all ".concat(s===e?"bg-gradient-primary text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e,"m"]},e))}),(0,C.jsx)("input",{type:"range",min:"10",max:"90",step:"5",value:s,onChange:e=>i(parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),(0,C.jsxs)("div",{className:"flex justify-between text-xs text-text-secondary mt-1",children:[(0,C.jsx)("span",{children:"10 min"}),(0,C.jsx)("span",{children:"90 min"})]})]}),(0,C.jsxs)("div",{className:"flex gap-3",children:[(0,C.jsx)("button",{onClick:n,className:"flex-1 btn btn-secondary",children:"Cancel"}),(0,C.jsx)("button",{onClick:()=>{P.A.light(),A("/create",{state:{quickType:"walking",duration:s,skipLocation:!0,activity:{name:"\ud83d\udeb6\u200d\u2640\ufe0f Walking Alone",emoji:"\ud83d\udeb6\u200d\u2640\ufe0f"}}})},className:"flex-1 btn btn-primary",children:"Start Check-In"})]})]})})},q=t=>{let{onClose:n}=t;const A=(0,r.Zp)(),[s,i]=(0,e.useState)(""),[o,a]=(0,e.useState)(30);return(0,C.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:n,children:(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6",onClick:e=>e.stopPropagation(),children:[(0,C.jsxs)("h2",{className:"text-2xl font-display text-text-primary mb-4 flex items-center gap-2",children:[(0,C.jsx)("span",{children:"\ud83d\udc64"})," Quick Meet"]}),(0,C.jsx)("p",{className:"text-sm text-text-secondary mb-6",children:"Enter who you're meeting and select duration"}),(0,C.jsxs)("div",{className:"mb-6",children:[(0,C.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Who are you meeting?"}),(0,C.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"e.g., Sarah from Marketplace",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-primary focus:outline-none",autoFocus:!0})]}),(0,C.jsxs)("div",{className:"mb-6",children:[(0,C.jsxs)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:["Duration: ",o," minutes"]}),(0,C.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[10,15,30,45].map(e=>(0,C.jsxs)("button",{type:"button",onClick:()=>a(e),className:"py-2 px-3 rounded-lg text-sm font-semibold transition-all ".concat(o===e?"bg-gradient-primary text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e,"m"]},e))}),(0,C.jsx)("input",{type:"range",min:"10",max:"90",step:"5",value:o,onChange:e=>a(parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),(0,C.jsxs)("div",{className:"flex justify-between text-xs text-text-secondary mt-1",children:[(0,C.jsx)("span",{children:"10 min"}),(0,C.jsx)("span",{children:"90 min"})]})]}),(0,C.jsxs)("div",{className:"flex gap-3",children:[(0,C.jsx)("button",{onClick:n,className:"flex-1 btn btn-secondary",children:"Cancel"}),(0,C.jsx)("button",{onClick:()=>{s.trim()&&(P.A.light(),A("/create",{state:{quickType:"quickmeet",meetingWith:s.trim(),duration:o,skipLocation:!0,activity:{name:"\ud83d\udc64 Meeting Someone",emoji:"\ud83d\udc64"}}}))},disabled:!s.trim(),className:"flex-1 btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Check-In"})]})]})})},J=()=>{const t=(0,r.Zp)(),[n,A]=(0,e.useState)(!1),[s,i]=(0,e.useState)(!1),[o,a]=(0,e.useState)(!1);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"mb-6",children:[(0,C.jsx)("h2",{className:"text-xl font-display text-text-primary mb-4",children:"Quick Check-In"}),(0,C.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[(0,C.jsxs)("button",{onClick:()=>{P.A.light(),A(!0)},className:"card p-4 hover:shadow-card-hover transition-all hover:scale-105 active:scale-95 bg-gradient-to-br from-amber-400 to-orange-500 text-white",children:[(0,C.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\ude97"}),(0,C.jsx)("div",{className:"font-display text-sm",children:"Rideshare"})]}),(0,C.jsxs)("button",{onClick:()=>{P.A.light(),i(!0)},className:"card p-4 hover:shadow-card-hover transition-all hover:scale-105 active:scale-95 bg-gradient-to-br from-blue-400 to-cyan-500 text-white",children:[(0,C.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udeb6\u200d\u2640\ufe0f"}),(0,C.jsx)("div",{className:"font-display text-sm",children:"Walking"})]}),(0,C.jsxs)("button",{onClick:()=>{P.A.light(),a(!0)},className:"card p-4 hover:shadow-card-hover transition-all hover:scale-105 active:scale-95 bg-gradient-to-br from-purple-400 to-indigo-500 text-white",children:[(0,C.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udc64"}),(0,C.jsx)("div",{className:"font-display text-sm",children:"Quick Meet"})]})]}),(0,C.jsxs)("button",{onClick:()=>{P.A.light(),t("/create")},className:"w-full card p-4 hover:shadow-card-hover transition-all hover:scale-105 active:scale-95 bg-gradient-to-br from-rose-400 to-pink-500 text-white",children:[(0,C.jsx)("div",{className:"text-3xl mb-2",children:"\u2728"}),(0,C.jsx)("div",{className:"font-display text-lg",children:"Create Custom Check-In"})]})]}),n&&(0,C.jsx)(z,{onClose:()=>A(!1)}),s&&(0,C.jsx)(W,{onClose:()=>i(!1)}),o&&(0,C.jsx)(q,{onClose:()=>a(!1)})]})},X=e=>{let{onClose:t,circleCount:n}=e;const A=e=>{const n=window.location.origin,A="Hey! I'm using Besties to stay safe when I go out. It's a safety app where your close friends can check in on you. Want to be part of my safety circle? \ud83d\udc9c\n\nJoin me on Besties: ".concat(n),r=encodeURIComponent(A),s=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);switch(e){case"whatsapp":s?window.location.href="whatsapp://send?text=".concat(r):window.open("https://wa.me/?text=".concat(r),"_blank");break;case"messenger":s?(window.location.href="fb-messenger://share?link=".concat(encodeURIComponent(n)),setTimeout(()=>{window.open("https://www.facebook.com/dialog/send?link=".concat(encodeURIComponent(n),"&app_id=&redirect_uri=").concat(encodeURIComponent(n)),"_blank")},1500)):window.open("https://www.facebook.com/dialog/send?link=".concat(encodeURIComponent(n),"&app_id=&redirect_uri=").concat(encodeURIComponent(n)),"_blank","width=600,height=400");break;case"instagram":navigator.clipboard.writeText(A).then(()=>{w.Ay.success("Message copied! Opening Instagram DMs..."),s?(window.location.href="instagram://direct/inbox",setTimeout(()=>{window.open("https://www.instagram.com/direct/inbox/","_blank")},1500)):window.open("https://www.instagram.com/direct/inbox/","_blank")}).catch(()=>{w.Ay.error("Failed to copy message")});break;case"sms":window.location.href="sms:?body=".concat(r);break;case"facebook":const e=encodeURIComponent("Join my safety circle on Besties! \ud83d\udc9c"),t=encodeURIComponent(n);s?(window.location.href="fb://profile",setTimeout(()=>{window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(t,"&quote=").concat(e),"_blank")},1500)):window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(t,"&quote=").concat(e),"_blank","width=600,height=400")}w.Ay.success("Opening ".concat(e,"...")),t()};return(0,C.jsx)("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/75 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:t,children:(0,C.jsxs)("div",{className:"card max-w-lg w-full p-0 animate-scale-up overflow-hidden relative bg-gradient-to-br from-pink-50 via-purple-50 to-pink-50 dark:from-pink-900/20 dark:via-purple-900/20 dark:to-pink-900/20 border-2 border-pink-200 dark:border-pink-600 shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,C.jsx)("button",{onClick:t,className:"absolute top-4 right-4 z-10 w-8 h-8 rounded-full bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors shadow-md text-gray-700 dark:text-gray-300",children:"\u2715"}),(0,C.jsxs)("div",{className:"bg-gradient-to-r from-primary via-purple-500 to-pink-500 p-4 md:p-8 text-center relative overflow-hidden",children:[(0,C.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 md:w-32 md:h-32 bg-white/10 rounded-full -mr-12 md:-mr-16 -mt-12 md:-mt-16"}),(0,C.jsx)("div",{className:"absolute bottom-0 left-0 w-16 h-16 md:w-24 md:h-24 bg-white/10 rounded-full -ml-8 md:-ml-12 -mb-8 md:-mb-12"}),(0,C.jsxs)("div",{className:"relative z-10",children:[(0,C.jsx)("div",{className:"text-4xl md:text-6xl mb-2 md:mb-3 animate-bounce-slow",children:"\ud83d\udc9c"}),(0,C.jsx)("h3",{className:"text-xl md:text-3xl font-display text-white mb-2 drop-shadow-lg",children:"Complete Your Circle!"}),(0,C.jsx)("div",{className:"inline-block bg-white/20 backdrop-blur-sm px-3 md:px-4 py-1.5 md:py-2 rounded-full",children:(0,C.jsxs)("p",{className:"text-white font-semibold text-sm md:text-base",children:[(0,C.jsx)("span",{className:"text-xl md:text-2xl font-display",children:n}),(0,C.jsx)("span",{className:"text-white/80",children:" / "}),(0,C.jsx)("span",{className:"text-xl md:text-2xl font-display",children:"5"}),(0,C.jsx)("span",{className:"text-xs md:text-sm ml-2",children:"besties"})]})})]})]}),(0,C.jsxs)("div",{className:"p-4 md:p-6",children:[(0,C.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl md:rounded-2xl p-3 md:p-5 mb-4 md:mb-6 shadow-lg border-2 border-pink-100 dark:border-pink-800",children:(0,C.jsxs)("div",{className:"flex items-start gap-2 md:gap-3",children:[(0,C.jsx)("div",{className:"text-2xl md:text-3xl flex-shrink-0",children:"\ud83d\udee1\ufe0f"}),(0,C.jsxs)("div",{children:[(0,C.jsx)("h4",{className:"font-display text-base md:text-lg text-primary dark:text-purple-400 mb-1 md:mb-2",children:"Why you need 5 besties"}),(0,C.jsx)("p",{className:"text-xs md:text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"A full circle means maximum protection! Your 5 trusted friends will get alerts when you check in and can help if something goes wrong. The more besties, the safer you are. \ud83d\udc95"})]})]})}),(0,C.jsxs)("div",{className:"mb-4 md:mb-6",children:[(0,C.jsx)("h4",{className:"text-base md:text-lg font-display text-center text-primary dark:text-purple-400 mb-3 md:mb-4",children:"\u2728 Invite Friends to Join You \u2728"}),(0,C.jsxs)("div",{className:"grid grid-cols-3 gap-2 md:gap-3",children:[(0,C.jsxs)("button",{onClick:()=>A("whatsapp"),className:"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-[#25D366] hover:bg-[#20BA5A] text-white transition-all hover:scale-105 shadow-md",title:"Share on WhatsApp",children:[(0,C.jsx)("svg",{className:"w-6 h-6 md:w-10 md:h-10",fill:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),(0,C.jsx)("span",{className:"text-[10px] md:text-sm font-semibold",children:"WhatsApp"})]}),(0,C.jsxs)("button",{onClick:()=>A("messenger"),className:"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-[#0084FF] hover:bg-[#0073E6] text-white transition-all hover:scale-105 shadow-md",title:"Share on Messenger",children:[(0,C.jsx)("svg",{className:"w-6 h-6 md:w-10 md:h-10",fill:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{d:"M12 0C5.373 0 0 4.975 0 11.111c0 3.497 1.745 6.616 4.472 8.652V24l4.086-2.242c1.09.301 2.246.464 3.442.464 6.627 0 12-4.974 12-11.111C24 4.975 18.627 0 12 0zm1.191 14.963l-3.055-3.26-5.963 3.26L10.732 8l3.131 3.259L19.752 8l-6.561 6.963z"})}),(0,C.jsx)("span",{className:"text-[10px] md:text-sm font-semibold",children:"Messenger"})]}),(0,C.jsxs)("button",{onClick:()=>A("instagram"),className:"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-gradient-to-r from-[#833AB4] via-[#FD1D1D] to-[#F77737] hover:opacity-90 text-white transition-all hover:scale-105 shadow-md",title:"Share on Instagram",children:[(0,C.jsx)("svg",{className:"w-6 h-6 md:w-10 md:h-10",fill:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),(0,C.jsx)("span",{className:"text-[10px] md:text-sm font-semibold",children:"Instagram"})]}),(0,C.jsxs)("button",{onClick:()=>A("sms"),className:"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-success hover:bg-green-600 text-white transition-all hover:scale-105 shadow-md",title:"Share via SMS",children:[(0,C.jsx)("svg",{className:"w-6 h-6 md:w-10 md:h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),(0,C.jsx)("span",{className:"text-[10px] md:text-sm font-semibold",children:"SMS"})]}),(0,C.jsxs)("button",{onClick:()=>A("facebook"),className:"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-[#1877F2] hover:bg-[#166FE5] text-white transition-all hover:scale-105 shadow-md",title:"Share on Facebook",children:[(0,C.jsx)("svg",{className:"w-6 h-6 md:w-10 md:h-10",fill:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),(0,C.jsx)("span",{className:"text-[10px] md:text-sm font-semibold",children:"Facebook"})]}),(0,C.jsxs)("button",{onClick:t,className:"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 transition-all hover:scale-105 shadow-md",children:[(0,C.jsx)("div",{className:"w-6 h-6 md:w-10 md:h-10 flex items-center justify-center text-xl md:text-2xl",children:"\ud83d\udc4b"}),(0,C.jsx)("span",{className:"text-[10px] md:text-sm font-semibold",children:"Maybe Later"})]})]})]}),(0,C.jsx)("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 italic",children:"\ud83d\udc95 Building your safety circle is one of the smartest things you can do"})]}),(0,C.jsx)("style",{children:"\n          @keyframes bounce-slow {\n            0%, 100% { transform: translateY(0); }\n            50% { transform: translateY(-10px); }\n          }\n          .animate-bounce-slow {\n            animation: bounce-slow 2s ease-in-out infinite;\n          }\n        "})]})})};var Y=n(7766),Z=n(4428);const $=t=>{let{userId:n,onAddClick:A}=t;const s=(0,r.Zp)(),[i,o]=(0,e.useState)([]),[a,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(!0),[d,h]=(0,e.useState)(null),[f,g]=(0,e.useState)(!1),[p,m]=(0,e.useState)(!1),[B,v]=(0,e.useState)({}),[b,x]=(0,e.useState)({}),[E,U]=(0,e.useState)(!0),[I,Q]=(0,e.useState)(0),[k,S]=(0,e.useState)(!1),T=async e=>{U(!0);const t={},A={};for(const a of e)try{const e=await(0,Z.As)(n,a.id);t[a.id]=e;const r=await(0,Z.ds)(n,a.id);A[a.id]=r}catch(o){console.error("Error loading connection data for ".concat(a.id,":"),o)}v(t),x(A);const r=Object.values(t).map(e=>e.total),s=r.length>0?r.reduce((e,t)=>e+t,0)/r.length:0,i=e.length<5?s*(e.length/5):s;Q(Math.round(i)),U(!1)};(0,e.useEffect)(()=>{(async()=>{if(n)try{const[A,r]=await Promise.all([(0,F.GG)((0,F.P)((0,F.rJ)(y.db,"besties"),(0,F._M)("requesterId","==",n),(0,F._M)("status","==","accepted"))),(0,F.GG)((0,F.P)((0,F.rJ)(y.db,"besties"),(0,F._M)("recipientId","==",n),(0,F._M)("status","==","accepted")))]),s=[];for(const t of A.docs){var e;const A=t.data(),r=await(0,F.x7)((0,F.H9)(y.db,"users",A.recipientId)),i=r.exists()?r.data():{},o=(null===(e=i.privacySettings)||void 0===e?void 0:e.checkInVisibility)||"all_besties";let a=!1;if("all_besties"===o){const e=(0,F.P)((0,F.rJ)(y.db,"checkins"),(0,F._M)("userId","==",A.recipientId),(0,F._M)("status","in",["active","alerted"]));a=!(await(0,F.GG)(e)).empty}else if("circle"===o&&(i.featuredCircle||[]).includes(n)){const e=(0,F.P)((0,F.rJ)(y.db,"checkins"),(0,F._M)("userId","==",A.recipientId),(0,F._M)("status","in",["active","alerted"]));a=!(await(0,F.GG)(e)).empty}const l=(i.featuredCircle||[]).includes(n);s.push({id:A.recipientId,name:i.displayName||"Bestie",photoURL:i.photoURL||null,requestAttention:i.requestAttention||null,hasActiveCheckIn:a,isMutual:l})}for(const e of r.docs){var t;const A=e.data(),r=await(0,F.x7)((0,F.H9)(y.db,"users",A.requesterId)),i=r.exists()?r.data():{},o=(null===(t=i.privacySettings)||void 0===t?void 0:t.checkInVisibility)||"all_besties";let a=!1;if("all_besties"===o){const e=(0,F.P)((0,F.rJ)(y.db,"checkins"),(0,F._M)("userId","==",A.requesterId),(0,F._M)("status","in",["active","alerted"]));a=!(await(0,F.GG)(e)).empty}else if("circle"===o&&(i.featuredCircle||[]).includes(n)){const e=(0,F.P)((0,F.rJ)(y.db,"checkins"),(0,F._M)("userId","==",A.requesterId),(0,F._M)("status","in",["active","alerted"]));a=!(await(0,F.GG)(e)).empty}const l=(i.featuredCircle||[]).includes(n);s.push({id:A.requesterId,name:i.displayName||"Bestie",photoURL:i.photoURL||null,requestAttention:i.requestAttention||null,hasActiveCheckIn:a,isMutual:l})}o(s);const i=await(0,F.x7)((0,F.H9)(y.db,"users",n)),a=i.exists()&&i.data().featuredCircle||[],c=a.map(e=>s.find(t=>t.id===e)).filter(Boolean),d=c.length<s.length&&c.length<5;if(d){const e=s.filter(e=>!a.includes(e.id));c.push(...e.slice(0,5-c.length))}const h=c.slice(0,5);l(h),d&&h.length>0&&await _(h),u(!1),T(h)}catch(A){console.error("Error loading besties:",A),u(!1)}})()},[n]);const _=async e=>{const t=e.map(e=>e.id);await(0,F.mZ)((0,F.H9)(y.db,"users",n),{featuredCircle:t})},N=Array.from({length:5},(e,t)=>a[t]||null),D=["bg-pink-500","bg-purple-500","bg-blue-500","bg-green-500","bg-orange-500"];return c?(0,C.jsx)("div",{className:"card p-8 flex items-center justify-center",children:(0,C.jsx)("div",{className:"spinner"})}):(0,C.jsxs)("div",{className:"card p-6 md:p-8 bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 border-2 border-purple-100 relative overflow-hidden",onClick:()=>{k&&S(!1)},children:[(0,C.jsx)("div",{className:"absolute inset-0 opacity-30 animate-gradient-shift pointer-events-none"}),(0,C.jsxs)("div",{className:"relative z-10",children:[(0,C.jsx)("div",{className:"text-center mb-6",children:(0,C.jsx)("h3",{className:"text-2xl md:text-3xl font-display mb-1",style:{color:"#FF6B9D"},children:"\ud83d\udc9c Your Bestie Circle"})}),(0,C.jsx)("div",{className:"relative w-full max-w-md mx-auto aspect-square mb-6",children:(0,C.jsxs)("div",{className:"absolute inset-0",children:[N.map((e,t)=>{if(!e)return null;const n=(72*t-90)*(Math.PI/180),A=50+45*Math.cos(n),r=50+45*Math.sin(n),s=B[e.id],i=(null===s||void 0===s?void 0:s.total)||0,o=(0,Z.uH)(i),a=.2+i/100*.6,l=1+i/100*2;return(0,C.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:0},children:[(0,C.jsxs)("defs",{children:[(0,C.jsxs)("linearGradient",{id:"gradient-".concat(t),x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,C.jsx)("stop",{offset:"0%",stopColor:o,stopOpacity:a}),(0,C.jsx)("stop",{offset:"50%",stopColor:o,stopOpacity:1.5*a}),(0,C.jsx)("stop",{offset:"100%",stopColor:o,stopOpacity:a})]}),(0,C.jsxs)("filter",{id:"glow-".concat(t),children:[(0,C.jsx)("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),(0,C.jsxs)("feMerge",{children:[(0,C.jsx)("feMergeNode",{in:"coloredBlur"}),(0,C.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,C.jsx)("line",{x1:"50%",y1:"50%",x2:"".concat(A,"%"),y2:"".concat(r,"%"),stroke:"url(#gradient-".concat(t,")"),strokeWidth:l,strokeDasharray:"4 2",filter:"url(#glow-".concat(t,")"),className:"animate-pulse-connection"}),e&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("circle",{cx:"50%",cy:"50%",r:i>=50?"4":"3",fill:"#10b981",opacity:.4+i/100*.6,className:"animate-particle",style:{"--target-x":"".concat(A,"%"),"--target-y":"".concat(r,"%"),animationDelay:"".concat(.5*t,"s"),animationDuration:i>=70?"2s":"3s"}}),i>=50&&(0,C.jsx)("circle",{cx:"50%",cy:"50%",r:"3",fill:"#34d399",opacity:.5,className:"animate-particle",style:{"--target-x":"".concat(A,"%"),"--target-y":"".concat(r,"%"),animationDelay:"".concat(.5*t+1,"s"),animationDuration:"2.5s"}}),i>=90&&(0,C.jsx)("circle",{cx:"50%",cy:"50%",r:"4",fill:"#10b981",opacity:.7,className:"animate-particle",style:{"--target-x":"".concat(A,"%"),"--target-y":"".concat(r,"%"),animationDelay:"".concat(.5*t+.5,"s"),animationDuration:"1.8s"}})]})]},"line-".concat(t))}),(0,C.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10",children:(0,C.jsx)("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-gradient-primary rounded-full flex flex-col items-center justify-center text-white shadow-2xl border-4 border-white ring-4 ring-purple-200 animate-breathe relative group",children:E?(0,C.jsx)("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):0===a.length?(0,C.jsxs)("div",{className:"text-center px-2",children:[(0,C.jsx)("div",{className:"text-2xl mb-0.5",children:"\ud83d\udc9c"}),(0,C.jsxs)("div",{className:"text-[10px] font-semibold leading-tight",children:["Begin",(0,C.jsx)("br",{}),"Here"]})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"text-2xl md:text-3xl font-bold leading-none",children:I}),(0,C.jsx)("div",{className:"text-xs font-semibold opacity-90",children:"Your Vibe"}),(0,C.jsx)("button",{onClick:e=>{e.stopPropagation(),S(!k)},className:"absolute -top-2 -right-2 w-6 h-6 md:w-5 md:h-5 bg-white rounded-full flex items-center justify-center shadow-md cursor-pointer hover:scale-110 transition-transform active:scale-95 z-40",children:(0,C.jsx)("span",{className:"text-sm md:text-xs",children:"\u2139\ufe0f"})}),k&&(0,C.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-4 z-50 animate-fade-in",children:(0,C.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-3 rounded-xl text-xs font-semibold shadow-2xl max-w-xs",children:[(0,C.jsx)("div",{className:"font-bold mb-1",children:"Your Circle Strength"}),(0,C.jsxs)("div",{className:"text-white/90 text-xs whitespace-normal w-48",children:[I>=90&&"\ud83d\udd25 Unbreakable - You and your circle are inseparable!",I>=70&&I<90&&"\u26a1 Powerful - Strong bonds, keep nurturing them!",I>=50&&I<70&&"\ud83d\udcaa Strong - Solid friendships, growing stronger!",I>=30&&I<50&&"\ud83d\udd06 Growing - Building momentum together!",I<30&&"\ud83c\udf31 Spark - Just getting started, lots of potential!"]}),(0,C.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full w-0 h-0 border-l-4 border-r-4 border-b-4 border-transparent border-b-pink-600"})]})})]})})}),N.map((e,t)=>{const n=(72*t-90)*(Math.PI/180),A=50+45*Math.cos(n),r=50+45*Math.sin(n),i=e?(e=>{var t;return null!==(t=e.requestAttention)&&void 0!==t&&t.active?{color:"bg-purple-500",ringColor:"ring-purple-400",glowColor:"#a855f7",label:"Needs support",emoji:"\ud83d\udc9c"}:e.hasActiveCheckIn?{color:"bg-yellow-500",ringColor:"ring-yellow-400",glowColor:"#f59e0b",label:"Active check-in",emoji:"\u23f0"}:{color:"bg-green-500",ringColor:"ring-green-400",glowColor:"#10b981",label:"Safe",emoji:"\u2713"}})(e):null,o=e?B[e.id]:null,c=e?b[e.id]:null;return(0,C.jsx)("div",{className:"absolute",style:{left:"".concat(A,"%"),top:"".concat(r,"%"),transform:"translate(-50%, -50%)"},children:e?(0,C.jsxs)("div",{className:"relative group",children:[(0,C.jsx)("button",{onClick:()=>h(d===t?null:t),className:"relative hover:scale-110 transition-all duration-300",children:(0,C.jsxs)("div",{className:"w-14 h-14 md:w-16 md:h-16 rounded-full shadow-xl border-4 border-white hover:shadow-2xl ".concat((null===o||void 0===o?void 0:o.total)>=90?"ring-6 ring-amber-400 shadow-[0_0_20px_rgba(251,191,36,0.6)]":"".concat(i.ringColor," ring-4")," hover:ring-6 overflow-hidden flex items-center justify-center relative ").concat((null===o||void 0===o?void 0:o.total)>=90?"animate-breathe-glow":"animate-breathe-subtle"),style:{animationDelay:"".concat(.3*t,"s")},children:[(0,C.jsx)(Y.A,{photoURL:e.photoURL,name:e.name||"Bestie",requestAttention:e.requestAttention,size:"xl",showBubble:!0,className:"w-full h-full"}),(0,C.jsx)("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 ".concat(i.color," rounded-full border-2 border-white flex items-center justify-center text-xs shadow-lg animate-pulse-gentle"),children:i.emoji}),o&&!E&&(0,C.jsx)("div",{className:"absolute -top-1 -left-1 w-8 h-8 rounded-full border-2 flex items-center justify-center shadow-lg ".concat(o.total>=90?"bg-gradient-to-br from-amber-400 to-orange-500 border-amber-300 shadow-[0_0_12px_rgba(251,191,36,0.8)] animate-pulse-glow":"bg-gradient-to-br from-white to-gray-100 border-purple-300"),children:(0,C.jsx)("span",{className:"text-base",children:(0,Z.rC)(o.total)})}),e.isMutual&&(0,C.jsx)("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-br from-pink-400 to-rose-500 rounded-full border-2 border-white flex items-center justify-center shadow-lg animate-pulse-gentle",children:(0,C.jsx)("span",{className:"text-xs",children:"\ud83d\udc95"})})]})}),(0,C.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none z-20 transform group-hover:-translate-y-1",children:(0,C.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-3 rounded-xl text-xs font-semibold shadow-2xl min-w-max",children:[(0,C.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,C.jsx)("div",{className:"font-bold text-sm",children:e.name||"Unknown"}),e.isMutual&&(0,C.jsx)("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded-full flex items-center gap-1",children:"\ud83d\udc95 Mutual"})]}),o&&!E&&(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"flex items-center gap-2 text-white/90 mb-1",children:[(0,C.jsx)("span",{className:"text-lg",children:(0,Z.rC)(o.total)}),(0,C.jsxs)("span",{children:[o.total,"/100"]}),(0,C.jsx)("span",{className:"capitalize px-2 py-0.5 bg-white/20 rounded-full text-xs",children:o.level})]})}),c&&(0,C.jsxs)("div",{className:"text-white/90 text-xs mt-2 flex items-center gap-1",children:[(0,C.jsx)("span",{children:"\ud83d\udcac"}),(0,C.jsxs)("span",{children:["Last connected: ",(0,Z.ak)(c)]})]}),e.isMutual&&(0,C.jsx)("div",{className:"text-white/80 text-xs mt-2 italic",children:"You're both in each other's top 5 \u2728"}),(0,C.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-pink-600"})]})}),d===t&&(0,C.jsxs)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 bg-white rounded-lg shadow-xl border-2 border-gray-200 p-2 z-[200] w-40",children:[(0,C.jsx)("button",{onClick:()=>{return t=e.id,s("/user/".concat(t)),void h(null);var t},className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm font-semibold text-gray-700",children:"\ud83d\udc64 View Profile"}),(0,C.jsx)("button",{onClick:()=>g(!0),className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm font-semibold text-gray-700",children:"\ud83d\udd04 Replace"}),(0,C.jsx)("button",{onClick:()=>(async e=>{if(a.length<5)return w.Ay.error("Circle must be full to remove members. Use Replace instead."),void h(null);const t=a.filter((t,n)=>n!==e);l(t),await _(t),h(null),w.Ay.success("Removed from circle")})(t),className:"w-full text-left px-3 py-2 hover:bg-red-50 rounded text-sm font-semibold text-red-600",children:"\u274c Remove"})]})]}):(0,C.jsxs)("button",{onClick:()=>m(!0),className:"w-14 h-14 md:w-16 md:h-16 border-4 border-dashed ".concat(D[t].replace("bg-","border-")," rounded-full flex flex-col items-center justify-center ").concat(D[t].replace("bg-","text-")," font-bold hover:scale-110 hover:bg-purple-50 transition-all shadow-lg hover:shadow-xl animate-pulse-slow relative group"),title:"Add someone who has your back",children:[(0,C.jsx)("span",{className:"text-2xl",children:"+"}),(0,C.jsx)("span",{className:"text-[8px] opacity-70 mt-0.5",children:"Add"}),(0,C.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none z-20",children:(0,C.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-2 rounded-lg text-xs font-semibold whitespace-nowrap shadow-xl",children:[0===a.length?"Your first bestie \u2728":"Add another one \ud83d\udc9c",(0,C.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-pink-600"})]})})]})},t)})]})}),(0,C.jsxs)("div",{className:"text-center mt-6 space-y-3",children:[(0,C.jsxs)("div",{className:"inline-flex items-center gap-2 bg-white px-4 py-3 rounded-full shadow-md border-2 border-purple-200",children:[(0,C.jsx)("span",{className:"text-2xl",children:"\u2b50"}),(0,C.jsxs)("div",{className:"text-left",children:[(0,C.jsxs)("div",{className:"font-display text-base md:text-lg text-gradient font-bold leading-tight",children:[a.length,"/5 In Your Circle"]}),a.length>0&&!E&&(0,C.jsxs)("div",{className:"text-xs text-gray-600",children:[I>=90&&"Unbreakable vibes \ud83d\udd25",I>=70&&I<90&&"Super strong energy \u26a1",I>=50&&I<70&&"Solid connections \ud83d\udcaa",I>=30&&I<50&&"Building momentum \ud83d\udd06",I<30&&"Just getting started \ud83c\udf31"]})]})]}),(0,C.jsx)("div",{className:"text-xs md:text-sm text-gray-600",children:5===a.length?"Your circle is complete! Keep nurturing these connections \ud83d\udc9c":0===a.length?"Your 5 closest people - the ones you can call at 3am. Start building your circle \u2728":1===a.length?"Amazing start! Add 4 more to complete your inner circle \ud83c\udf1f":"".concat(5-a.length," more to go! You're building something special \ud83d\udcab")}),a.length>0&&!E&&(0,C.jsxs)("button",{onClick:()=>s("/circle-health"),className:"mt-2 px-6 py-2 bg-gradient-primary text-white rounded-full font-semibold text-sm hover:shadow-lg hover:scale-105 transition-all flex items-center gap-2 mx-auto",children:[(0,C.jsx)("span",{children:"See Your Stats"}),(0,C.jsx)("span",{className:"text-base",children:"\u2728"})]})]})]}),(0,C.jsx)("style",{children:"\n        @keyframes fade-in {\n          from {\n            opacity: 0;\n            transform: translate(-50%, -10px);\n          }\n          to {\n            opacity: 1;\n            transform: translate(-50%, 0);\n          }\n        }\n        .animate-fade-in {\n          animation: fade-in 0.2s ease-out forwards;\n        }\n        @keyframes breathe {\n          0%, 100% {\n            transform: scale(1);\n          }\n          50% {\n            transform: scale(1.05);\n          }\n        }\n        .animate-breathe {\n          animation: breathe 4s ease-in-out infinite;\n        }\n        .animate-breathe-subtle {\n          animation: breathe 5s ease-in-out infinite;\n        }\n        @keyframes breathe-glow {\n          0%, 100% {\n            transform: scale(1);\n            box-shadow: 0 10px 40px rgba(251, 191, 36, 0.4), 0 0 20px rgba(251, 191, 36, 0.6);\n          }\n          50% {\n            transform: scale(1.05);\n            box-shadow: 0 15px 60px rgba(251, 191, 36, 0.6), 0 0 30px rgba(251, 191, 36, 0.8);\n          }\n        }\n        .animate-breathe-glow {\n          animation: breathe-glow 3s ease-in-out infinite;\n        }\n        @keyframes pulse-glow {\n          0%, 100% {\n            opacity: 1;\n            transform: scale(1);\n          }\n          50% {\n            opacity: 0.8;\n            transform: scale(1.05);\n          }\n        }\n        .animate-pulse-glow {\n          animation: pulse-glow 2s ease-in-out infinite;\n        }\n        @keyframes pulse-gentle {\n          0%, 100% {\n            transform: scale(1);\n            opacity: 1;\n          }\n          50% {\n            transform: scale(1.1);\n            opacity: 0.9;\n          }\n        }\n        .animate-pulse-gentle {\n          animation: pulse-gentle 2s ease-in-out infinite;\n        }\n        @keyframes pulse-slow {\n          0%, 100% {\n            opacity: 1;\n          }\n          50% {\n            opacity: 0.6;\n          }\n        }\n        .animate-pulse-slow {\n          animation: pulse-slow 2s ease-in-out infinite;\n        }\n        @keyframes pulse-connection {\n          0%, 100% {\n            opacity: 0.8;\n          }\n          50% {\n            opacity: 1;\n          }\n        }\n        .animate-pulse-connection {\n          animation: pulse-connection 3s ease-in-out infinite;\n        }\n        @keyframes particle {\n          0% {\n            cx: 50%;\n            cy: 50%;\n            opacity: 1;\n          }\n          100% {\n            cx: var(--target-x);\n            cy: var(--target-y);\n            opacity: 0;\n          }\n        }\n        .animate-particle {\n          animation: particle 3s linear infinite;\n        }\n        @keyframes gradient-shift {\n          0%, 100% {\n            background-position: 0% 50%;\n          }\n          50% {\n            background-position: 100% 50%;\n          }\n        }\n        .animate-gradient-shift {\n          background: linear-gradient(120deg, #fdf2f8, #fce7f3, #fff7ed, #fef3c7);\n          background-size: 200% 200%;\n          animation: gradient-shift 8s ease infinite;\n        }\n      "}),f&&(0,C.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>g(!1),children:(0,C.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-sm w-full max-h-96 overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,C.jsx)("h3",{className:"text-xl font-display mb-4",children:"Replace with:"}),(0,C.jsxs)("div",{className:"space-y-2",children:[i.filter(e=>!a.find(t=>t.id===e.id)).map(e=>(0,C.jsxs)("button",{onClick:()=>(async e=>{const t=[...a];t[d]=e,l(t),await _(t),g(!1),h(null),w.Ay.success("Bestie replaced"),T(t)})(e),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,C.jsx)(Y.A,{photoURL:e.photoURL,name:e.name||"Unknown",requestAttention:e.requestAttention,size:"md",showBubble:!0}),(0,C.jsx)("div",{className:"text-left",children:(0,C.jsx)("div",{className:"font-semibold",children:e.name||"Unknown"})})]},e.id)),0===i.filter(e=>!a.find(t=>t.id===e.id)).length&&(0,C.jsx)("p",{className:"text-center text-gray-500 py-4",children:"All besties are in your circle!"})]}),(0,C.jsx)("button",{onClick:()=>g(!1),className:"mt-4 w-full btn btn-secondary",children:"Cancel"})]})}),p&&(0,C.jsx)(X,{onClose:()=>m(!1),circleCount:a.length})]})},ee=()=>{const[t,n]=(0,e.useState)(!1),A=(0,r.Zp)(),s=async e=>{n(!0);try{const t=await j.Ay.createCheckoutSession({amount:e,type:"donation"});t.data&&t.data.url?window.location.href=t.data.url:w.Ay.error("Failed to start donation")}catch(t){console.error("Donation error:",t),w.Ay.error("Failed to start donation")}finally{n(!1)}};return(0,C.jsxs)("div",{className:"card p-8 mb-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 border-2 border-purple-100 dark:border-purple-700",children:[(0,C.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-4 text-center",children:"Keep Besties Free \ud83d\udc9c"}),(0,C.jsx)("p",{className:"text-text-secondary text-center mb-6",children:"Choose an amount that works for you - every bit helps keep Besties free for everyone"}),(0,C.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,C.jsxs)("button",{onClick:()=>s(1),disabled:t,className:"btn btn-secondary p-6 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[(0,C.jsx)("span",{className:"text-2xl",children:"\u2615"}),(0,C.jsx)("span",{className:"font-display text-xl",children:"$1"}),(0,C.jsx)("span",{className:"text-xs text-text-secondary",children:"Coffee"})]}),(0,C.jsxs)("button",{onClick:()=>s(5),disabled:t,className:"btn btn-primary p-6 flex flex-col items-center gap-2 transform scale-105 shadow-lg hover:scale-110 transition-transform",children:[(0,C.jsx)("span",{className:"text-2xl",children:"\ud83c\udf55"}),(0,C.jsx)("span",{className:"font-display text-xl",children:"$5"}),(0,C.jsx)("span",{className:"text-xs",children:"Pizza Slice"})]}),(0,C.jsxs)("button",{onClick:()=>s(10),disabled:t,className:"btn btn-secondary p-6 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[(0,C.jsx)("span",{className:"text-2xl",children:"\ud83c\udfac"}),(0,C.jsx)("span",{className:"font-display text-xl",children:"$10"}),(0,C.jsx)("span",{className:"text-xs text-text-secondary",children:"Movie Night"})]})]}),(0,C.jsx)("p",{className:"text-xs text-center text-text-secondary italic mb-4",children:"Monthly contribution - cancel anytime, no questions asked"}),(0,C.jsx)("button",{onClick:()=>A("/about"),className:"w-full font-semibold text-sm underline transition-colors text-primary hover:text-primary-dark dark:hover:text-primary-light",children:"Learn more about Besties \u2192"})]})},te=e=>{var t;let{weeklySummary:n,hasWeekOfActivity:A,userData:r,bestiesCount:s}=e;return(0,C.jsxs)("div",{className:"card p-6 mb-6",children:[(0,C.jsx)("h2",{className:"text-xl font-display text-gray-800 dark:text-gray-200 mb-4",children:"Weekly Summary"}),(0,C.jsx)("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/30 dark:to-purple-900/30 rounded-xl p-4",children:(0,C.jsxs)("div",{className:"flex items-start gap-3",children:[(0,C.jsx)("span",{className:"text-4xl",children:n.emoji}),(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsx)("h3",{className:"font-semibold text-lg text-gray-800 dark:text-gray-200 mb-1",children:n.message}),(0,C.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["\ud83d\udca1 ",n.tip]}),A&&(0,C.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("span",{className:"font-semibold text-primary",children:(null===r||void 0===r||null===(t=r.stats)||void 0===t?void 0:t.totalCheckIns)||0}),(0,C.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:" check-ins"})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("span",{className:"font-semibold text-secondary",children:s}),(0,C.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:" besties"})]})]})]})]})})]})};var ne=n(626);const Ae=[{country:"Australia",code:"AU",police:"000",ambulance:"000",fire:"000",flag:"\ud83c\udde6\ud83c\uddfa",timezones:["Australia/"]},{country:"USA",code:"US",police:"911",ambulance:"911",fire:"911",flag:"\ud83c\uddfa\ud83c\uddf8",timezones:["America/New_York","America/Chicago","America/Denver","America/Los_Angeles"]},{country:"UK",code:"GB",police:"999",ambulance:"999",fire:"999",flag:"\ud83c\uddec\ud83c\udde7",timezones:["Europe/London"]},{country:"Canada",code:"CA",police:"911",ambulance:"911",fire:"911",flag:"\ud83c\udde8\ud83c\udde6",timezones:["America/Toronto","America/Vancouver"]},{country:"NZ",code:"NZ",police:"111",ambulance:"111",fire:"111",flag:"\ud83c\uddf3\ud83c\uddff",timezones:["Pacific/Auckland"]},{country:"Europe (EU)",code:"EU",police:"112",ambulance:"112",fire:"112",flag:"\ud83c\uddea\ud83c\uddfa",timezones:["Europe/"]}],re=()=>{const{userData:t}=(0,B.As)(),[n,A]=(0,e.useState)(!1),[r,s]=(0,e.useState)(null),[i,o]=(0,e.useState)(!1),[a,l]=(0,e.useState)(0),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(!1),[f,g]=(0,e.useState)(""),p=(0,e.useRef)(null),m=(0,e.useRef)(null),v=(0,e.useRef)(null),{executeOptimistic:b}=(0,K.Ay)(),x=(e=>{if(e){const t=e.replace(/[\s\-()]/g,"");if(t.startsWith("+61")||t.startsWith("61"))return Ae.find(e=>"AU"===e.code);if(t.startsWith("+1")||t.startsWith("1"))return Ae.find(e=>"US"===e.code);if(t.startsWith("+44")||t.startsWith("44"))return Ae.find(e=>"GB"===e.code);if(t.startsWith("+64")||t.startsWith("64"))return Ae.find(e=>"NZ"===e.code)}const t=Intl.DateTimeFormat().resolvedOptions().timeZone;for(const n of Ae)for(const e of n.timezones)if(t.includes(e))return n;return null})(null===t||void 0===t?void 0:t.phoneNumber);(0,e.useEffect)(()=>{if(!i)return;const e=e=>(e.preventDefault(),e.returnValue="Emergency alert is active! Hold the cancel button for 10 seconds to dismiss.",e.returnValue);return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[i]);const E=()=>{p.current&&(clearInterval(p.current),p.current=null),A(!1),s(null),(0,w.Ay)("SOS cancelled")},U=async()=>{await b({optimisticUpdate:()=>{A(!1),o(!0)},serverUpdate:async()=>{let e="Location unavailable";if(navigator.geolocation)try{const t=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,{timeout:3e3})});e="GPS: ".concat(t.coords.latitude.toFixed(4),", ").concat(t.coords.longitude.toFixed(4))}catch(n){console.error("Location error:",n)}const t=(0,ne.Qg)(y.Cn,"triggerEmergencySOS");return await t({location:e,isReversePIN:!1})},rollback:()=>{o(!1),A(!1)},successMessage:"\ud83d\udea8 Emergency alert sent to all besties!",errorMessage:"Failed to send emergency alert. Please try again.",skipSuccessToast:!1})},I=()=>{v.current=Date.now(),l(0),m.current=setInterval(()=>{const e=Date.now()-v.current,t=Math.min(e/1e4*100,100);l(t),t>=100&&k()},50)},Q=()=>{m.current&&(clearInterval(m.current),m.current=null),l(0),w.Ay.error("Hold button for 10 seconds to cancel alert")},F=()=>{var e,n;const A=null===t||void 0===t||null===(e=t.security)||void 0===e?void 0:e.safetyPasscode,r=null===t||void 0===t||null===(n=t.security)||void 0===n?void 0:n.duressCode;f===A?(h(!1),g(""),o(!1),l(0),w.Ay.success("Emergency alert cancelled")):f===r&&r?(h(!1),g(""),w.Ay.success("Emergency alert cancelled"),(async()=>{try{let t="Location unavailable";if(navigator.geolocation)try{const e=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,{timeout:3e3})});t="GPS: ".concat(e.coords.latitude.toFixed(4),", ").concat(e.coords.longitude.toFixed(4))}catch(e){console.error("Location error:",e)}const n=(0,ne.Qg)(y.Cn,"triggerEmergencySOS");await n({location:t,isReversePIN:!0})}catch(t){console.error("Error sending duress alert:",t)}})(),setTimeout(()=>{o(!1),l(0)},1e3)):(w.Ay.error("Incorrect passcode"),g(""))},k=()=>{var e;m.current&&(clearInterval(m.current),m.current=null),null!==t&&void 0!==t&&null!==(e=t.security)&&void 0!==e&&e.safetyPasscode?h(!0):(o(!1),l(0),w.Ay.success("Emergency alert cancelled"))};return i?(0,C.jsx)("div",{className:"fixed inset-0 bg-orange-500/95 z-[9999] flex items-center justify-center p-4 overflow-y-auto",children:(0,C.jsxs)("div",{className:"text-center max-w-md w-full my-8",children:[(0,C.jsx)("div",{className:"text-8xl mb-6",children:"\ud83d\udea8"}),(0,C.jsx)("h2",{className:"text-4xl font-display text-white mb-4",children:"EMERGENCY ALERT SENT"}),(0,C.jsx)("p",{className:"text-xl text-white mb-8",children:"Your besties have been notified!"}),(0,C.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 mb-6",children:[(0,C.jsx)("h3",{className:"text-white font-bold text-lg mb-3",children:"\ud83d\udcde Emergency Numbers"}),x&&!c?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("a",{href:"tel:".concat(x.police),className:"bg-white/30 hover:bg-white/40 backdrop-blur-sm rounded-lg p-4 transition-all block mb-3",children:[(0,C.jsx)("div",{className:"text-4xl mb-2",children:x.flag}),(0,C.jsxs)("div",{className:"text-white text-sm font-semibold mb-1",children:[x.country," Emergency"]}),(0,C.jsx)("div",{className:"text-white text-3xl font-bold",children:x.police})]}),(0,C.jsxs)("button",{onClick:()=>u(!0),className:"text-white/80 text-sm underline hover:text-white",children:["Not in ",x.country,"? Show all countries \u2192"]})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Ae.map(e=>(0,C.jsxs)("a",{href:"tel:".concat(e.police),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg p-3 transition-all",children:[(0,C.jsx)("div",{className:"text-2xl mb-1",children:e.flag}),(0,C.jsx)("div",{className:"text-white text-xs font-semibold",children:e.country}),(0,C.jsx)("div",{className:"text-white text-lg font-bold",children:e.police})]},e.country))}),x&&(0,C.jsxs)("button",{onClick:()=>u(!1),className:"text-white/80 text-sm underline hover:text-white mt-2",children:["\u2190 Show only my country (",x.country,")"]})]}),(0,C.jsx)("p",{className:"text-white/80 text-xs mt-3",children:"Tap to call emergency services"})]}),(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsxs)("button",{onMouseDown:I,onMouseUp:Q,onMouseLeave:Q,onTouchStart:I,onTouchEnd:Q,className:"btn bg-white text-orange-600 text-xl px-12 py-6 font-bold relative overflow-hidden w-full",children:[(0,C.jsx)("div",{className:"absolute inset-0 bg-green-500/30 transition-all",style:{width:"".concat(a,"%")}}),(0,C.jsx)("span",{className:"relative z-10",children:0===a?"HOLD TO CANCEL":"".concat(Math.ceil((100-a)/10),"s")})]}),(0,C.jsx)("p",{className:"text-sm text-white mt-4",children:"Hold for 10 seconds to cancel the emergency alert"})]})]})}):n?(0,C.jsx)("div",{className:"fixed inset-0 bg-danger/95 z-50 flex items-center justify-center p-4",children:(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"text-9xl font-display text-white mb-8 animate-pulse",children:r}),(0,C.jsx)("h2",{className:"text-3xl font-display text-white mb-4",children:"EMERGENCY SOS"}),(0,C.jsx)("p",{className:"text-xl text-white mb-8",children:"Sending alert to all besties..."}),(0,C.jsx)("button",{onClick:E,className:"btn bg-white text-danger text-xl px-12 py-4",children:"CANCEL"})]})}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("button",{onClick:()=>{P.A.emergency(),s(5),A(!0),p.current=setInterval(()=>{s(e=>e<=1?(clearInterval(p.current),p.current=null,U(),null):(P.A.warning(),e-1))},1e3)},className:"fixed bottom-24 right-6 w-20 h-20 bg-danger text-white rounded-full shadow-xl hover:shadow-2xl hover:scale-110 active:scale-95 flex flex-col items-center justify-center transition-all duration-200 z-40",title:"Emergency SOS - Hold for 5 seconds",children:[(0,C.jsx)("span",{className:"text-3xl",children:"\ud83c\udd98"}),(0,C.jsx)("span",{className:"text-xs font-bold",children:"SOS"})]}),d&&(0,C.jsx)("div",{className:"fixed inset-0 bg-black/70 z-[10000] flex items-center justify-center p-4",children:(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-sm w-full p-6 animate-scale-up",children:[(0,C.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-2 text-center",children:"\ud83d\udd12 Enter Safety Passcode"}),(0,C.jsx)("p",{className:"text-sm text-text-secondary mb-6 text-center",children:"Verify your passcode to cancel the emergency alert"}),(0,C.jsx)("input",{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:f,onChange:e=>g(e.target.value),onKeyPress:e=>{"Enter"===e.key&&F()},className:"w-full px-4 py-3 rounded-xl border-2 border-gray-300 dark:border-gray-600 focus:border-primary focus:outline-none text-center text-2xl font-bold tracking-widest mb-4",placeholder:"\u2022\u2022\u2022\u2022",autoFocus:!0,maxLength:8}),(0,C.jsxs)("div",{className:"flex gap-3",children:[(0,C.jsx)("button",{onClick:()=>{h(!1),g("")},className:"flex-1 btn btn-secondary",children:"Cancel"}),(0,C.jsx)("button",{onClick:F,disabled:!f,className:"flex-1 btn btn-primary disabled:opacity-50",children:"Verify"})]}),(0,C.jsxs)("p",{className:"text-xs text-text-secondary text-center mt-4",children:["Don't have a passcode set? ",(0,C.jsx)("a",{href:"/settings",className:"text-primary underline",children:"Set one up"})]})]})})]})},se=t=>{let{currentUser:n,userData:A}=t;const[r,s]=(0,e.useState)(!1),[i,o]=(0,e.useState)(!1),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(!1),[f,g]=(0,e.useState)(null),[p,m]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=e=>{e.preventDefault(),console.log("beforeinstallprompt event captured"),g(e),m(!0)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),g(null),m(!1)}),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]),(0,e.useEffect)(()=>{var e;if(!0===(null===A||void 0===A||null===(e=A.settings)||void 0===e?void 0:e.dismissedAddToHomeScreen))return;const t=navigator.userAgent,n=/iPhone|iPad|iPod/.test(t),r=/Android/.test(t),i=/Safari/.test(t)&&!/Chrome|CriOS|FxiOS|EdgiOS/.test(t),a=/Chrome|CriOS/.test(t)&&!/EdgiOS/.test(t);o(n),l(r),u(i),h(a);if(window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone)return;(()=>{var e,t;const n=(null===A||void 0===A||null===(e=A.stats)||void 0===e?void 0:e.completedCheckIns)||0,r=null===A||void 0===A||null===(t=A.settings)||void 0===t?void 0:t.lastDismissedInstallPrompt;if(n>=1){var s;if(!r)return!0;if(n>((null===A||void 0===A||null===(s=A.settings)||void 0===s?void 0:s.dismissedAtCheckInCount)||0))return!0}return!1})()&&setTimeout(()=>{s(!0)},2e3)},[A]);const w=async()=>{if(s(!1),P.A.light(),n)try{var e;await(0,F.mZ)((0,F.H9)(y.db,"users",n.uid),{"settings.lastDismissedInstallPrompt":new Date,"settings.dismissedAtCheckInCount":(null===A||void 0===A||null===(e=A.stats)||void 0===e?void 0:e.completedCheckIns)||0})}catch(t){console.error("Error saving dismissal:",t)}},B=async()=>{if(s(!1),P.A.light(),n)try{await(0,F.mZ)((0,F.H9)(y.db,"users",n.uid),{"settings.dismissedAddToHomeScreen":!0})}catch(e){console.error("Error saving dismissal:",e)}};return r?(0,C.jsxs)("div",{className:"fixed inset-0 bg-black/50 flex items-end md:items-center justify-center z-50 p-4 animate-fade-in",children:[(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-t-3xl md:rounded-3xl max-w-md w-full p-6 animate-slide-up shadow-2xl",children:[(0,C.jsxs)("div",{className:"text-center mb-4",children:[(0,C.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcf1"}),(0,C.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-2",children:"Add Besties to Home Screen"}),(0,C.jsx)("p",{className:"text-sm text-text-secondary",children:"Quick access to safety check-ins, just like a real app! \u2728"})]}),p&&f&&(0,C.jsxs)("div",{className:"mb-6",children:[(0,C.jsx)("button",{onClick:async()=>{if(f&&p){P.A.medium(),f.prompt();const{outcome:e}=await f.userChoice;console.log("User response to install prompt: ".concat(e)),"accepted"===e?(console.log("User accepted the install prompt"),s(!1),n&&await(0,F.mZ)((0,F.H9)(y.db,"users",n.uid),{"settings.installedPWA":!0})):"dismissed"===e&&(console.log("User dismissed the install prompt"),w()),g(null),m(!1)}},className:"w-full btn btn-primary text-lg py-4",children:"\ud83d\udcf2 Install App"}),(0,C.jsx)("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mt-2",children:"One tap to add Besties to your home screen!"})]}),i&&c&&(0,C.jsxs)("div",{className:"mb-6 p-4 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30 rounded-xl border-2 border-blue-200 dark:border-blue-700",children:[(0,C.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3 text-center",children:"\ud83d\udcf2 Quick Setup:"}),(0,C.jsxs)("div",{className:"space-y-3",children:[(0,C.jsxs)("div",{className:"flex items-start gap-3",children:[(0,C.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"1"}),(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsxs)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Tap the ",(0,C.jsx)("strong",{children:"Share button"})," at the bottom of Safari"]}),(0,C.jsx)("div",{className:"mt-2 flex justify-center",children:(0,C.jsx)("div",{className:"relative",children:(0,C.jsx)("svg",{className:"w-12 h-12 text-blue-500 animate-bounce-slow",fill:"currentColor",viewBox:"0 0 24 24",children:(0,C.jsx)("path",{d:"M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V10c0-1.1.9-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .9 2 2z"})})})})]})]}),(0,C.jsxs)("div",{className:"flex items-start gap-3",children:[(0,C.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"2"}),(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsxs)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Scroll down and tap ",(0,C.jsx)("strong",{children:'"Add to Home Screen"'})]}),(0,C.jsx)("div",{className:"mt-2 flex justify-center",children:(0,C.jsx)("div",{className:"text-3xl animate-point-down",children:"\ud83d\udc47"})})]})]}),(0,C.jsxs)("div",{className:"flex items-start gap-3",children:[(0,C.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"3"}),(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsxs)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Tap ",(0,C.jsx)("strong",{children:'"Add"'})," in the top right"]}),(0,C.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"\u2705 Done! Find Besties on your home screen"})]})]})]})]}),a&&d&&!p&&(0,C.jsxs)("div",{className:"mb-6 p-4 bg-gradient-to-br from-green-50 to-blue-50 dark:from-green-900/30 dark:to-blue-900/30 rounded-xl border-2 border-green-200 dark:border-green-700",children:[(0,C.jsx)("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-3 text-center",children:"\ud83d\udcf2 Quick Setup:"}),(0,C.jsxs)("div",{className:"space-y-3",children:[(0,C.jsxs)("div",{className:"flex items-start gap-3",children:[(0,C.jsx)("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"1"}),(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsxs)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Tap the ",(0,C.jsx)("strong",{children:"menu button"})," (\u22ee) at the top right"]}),(0,C.jsx)("div",{className:"mt-2 flex justify-center",children:(0,C.jsxs)("div",{className:"flex flex-col gap-1 animate-pulse",children:[(0,C.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),(0,C.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),(0,C.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})]})})]})]}),(0,C.jsxs)("div",{className:"flex items-start gap-3",children:[(0,C.jsx)("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"2"}),(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsxs)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Tap ",(0,C.jsx)("strong",{children:'"Add to Home screen"'})," or ",(0,C.jsx)("strong",{children:'"Install app"'})]}),(0,C.jsx)("div",{className:"mt-2 flex justify-center",children:(0,C.jsx)("div",{className:"text-3xl animate-point-down",children:"\u261d\ufe0f"})})]})]}),(0,C.jsxs)("div",{className:"flex items-start gap-3",children:[(0,C.jsx)("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"3"}),(0,C.jsxs)("div",{className:"flex-1",children:[(0,C.jsxs)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Tap ",(0,C.jsx)("strong",{children:'"Install"'})]}),(0,C.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"\u2705 Done! Find Besties on your home screen"})]})]})]})]}),i&&!c&&(0,C.jsx)("div",{className:"mb-6 p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded-xl border-2 border-yellow-300 dark:border-yellow-700",children:(0,C.jsxs)("p",{className:"text-sm text-yellow-900 dark:text-yellow-100 text-center",children:["\u26a0\ufe0f You're using ",d?"Chrome":"a browser",". To add Besties to your home screen, please open this page in ",(0,C.jsx)("strong",{children:"Safari"}),"."]})}),!i&&!a&&p&&(0,C.jsx)("div",{className:"mb-6",children:(0,C.jsx)("p",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:"Click the button above to install Besties on your computer for quick access!"})}),(0,C.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,C.jsxs)("div",{className:"flex gap-3",children:[(0,C.jsx)("button",{onClick:w,className:"flex-1 btn btn-secondary",children:"No Thanks"}),!p&&(0,C.jsx)("button",{onClick:B,className:"flex-1 btn btn-primary",children:"Got It!"})]}),(0,C.jsx)("button",{onClick:B,className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 py-1",children:"Don't show this again"})]}),(0,C.jsx)("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mt-3",children:p?"This makes Besties faster and easier to access \ud83d\udc9c":"Installing makes Besties work offline and load faster \ud83d\udc9c"})]}),(0,C.jsx)("style",{children:"\n        @keyframes fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        @keyframes slide-up {\n          from {\n            opacity: 0;\n            transform: translateY(100px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes point-down {\n          0%, 100% {\n            transform: translateY(0);\n          }\n          50% {\n            transform: translateY(8px);\n          }\n        }\n\n        @keyframes bounce-slow {\n          0%, 100% {\n            transform: translateY(0);\n          }\n          50% {\n            transform: translateY(-10px);\n          }\n        }\n\n        .animate-fade-in {\n          animation: fade-in 0.3s ease-out;\n        }\n\n        .animate-slide-up {\n          animation: slide-up 0.4s ease-out;\n        }\n\n        .animate-point-down {\n          display: inline-block;\n          animation: point-down 1.5s ease-in-out infinite;\n        }\n\n        .animate-bounce-slow {\n          animation: bounce-slow 2s ease-in-out infinite;\n        }\n      "})]}):null},ie=t=>{let{currentUser:n,userData:A}=t;const[r,s]=(0,e.useState)(!1),[i,o]=(0,e.useState)(!1);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"flex justify-center",children:(0,C.jsx)("button",{onClick:()=>{P.A.medium(),s(!0)},disabled:i,className:"w-full max-w-md p-4 rounded-xl font-bold text-white shadow-lg transition-all duration-200 ".concat(i?"bg-green-500 scale-95":"bg-gradient-to-r from-orange-500 to-red-500 hover:scale-105"," ").concat(i?"cursor-wait":"cursor-pointer"," active:scale-95"),children:(0,C.jsx)("div",{className:"flex items-center justify-center gap-2",children:i?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{className:"text-xl",children:"\u2713"}),(0,C.jsx)("span",{children:"Notifying your besties..."})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{className:"text-xl",children:"\ud83d\udcde"}),(0,C.jsx)("span",{children:"Get Me Out of Here"})]})})})}),i&&(0,C.jsx)("p",{className:"text-xs text-center text-green-600 mt-2 font-semibold",children:"\ud83d\udc9c Your besties will call you soon!"}),r&&(0,C.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6",children:[(0,C.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-2",children:"\ud83c\udd98 Need an Exit?"}),(0,C.jsx)("p",{className:"text-base text-text-secondary mb-6",children:"Are you sure? We will get your besties on the job!"}),(0,C.jsxs)("div",{className:"flex gap-3",children:[(0,C.jsx)("button",{onClick:()=>s(!1),className:"flex-1 btn btn-secondary",children:"No"}),(0,C.jsx)("button",{onClick:async()=>{o(!0),s(!1);try{const e=(0,F.P)((0,F.rJ)(y.db,"besties"),(0,F._M)("requesterId","==",n.uid),(0,F._M)("status","==","accepted")),t=(0,F.P)((0,F.rJ)(y.db,"besties"),(0,F._M)("recipientId","==",n.uid),(0,F._M)("status","==","accepted")),[r,s]=await Promise.all([(0,F.GG)(e),(0,F.GG)(t)]),i=new Set;if(r.forEach(e=>i.add(e.data().recipientId)),s.forEach(e=>i.add(e.data().requesterId)),0===i.size)return w.Ay.error("You need besties to use this feature"),void o(!1);const a=await(0,F.gS)((0,F.rJ)(y.db,"get_me_out_alerts"),{userId:n.uid,userName:(null===A||void 0===A?void 0:A.displayName)||"Your bestie",userPhoto:(null===A||void 0===A?void 0:A.photoURL)||null,message:"".concat((null===A||void 0===A?void 0:A.displayName)||"Your bestie"," needs you to call them! They might be in an uncomfortable situation."),bestieIds:Array.from(i),createdAt:F.Dc.now(),responded:[]});console.log("Get Me Out alert created:",a.id),P.A.success(),w.Ay.success("\ud83d\udcde Your besties are being notified to call you!",{duration:5e3,icon:"\ud83d\udc9c"}),setTimeout(()=>{o(!1)},2e3)}catch(e){console.error("Error sending Get Me Out alert:",e),w.Ay.error("Failed to send alert. Please try again."),o(!1)}},className:"flex-1 btn bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white",children:"Yes, Get Me Out!"})]})]})})]})},oe=()=>{const[t,n]=(0,e.useState)(navigator.onLine),[A,r]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{const e=()=>{n(!0),setTimeout(()=>r(!1),2e3)},t=()=>{n(!1),r(!0)};return window.addEventListener("online",e),window.addEventListener("offline",t),navigator.onLine||r(!0),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),A?(0,C.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-50 p-3 text-center text-sm font-semibold shadow-lg transform transition-all duration-300 ".concat(t?"bg-gradient-to-r from-green-400 to-emerald-500 text-white translate-y-0":"bg-gradient-to-r from-orange-400 to-red-500 text-white translate-y-0"),style:{animation:"slide-down 0.3s ease-out"},children:[t?(0,C.jsx)("span",{children:"\u2728 You're back online! \ud83d\udc9c"}):(0,C.jsx)("span",{children:"\ud83d\udcf5 You're offline - Some features won't work"}),(0,C.jsx)("style",{children:"\n        @keyframes slide-down {\n          from {\n            transform: translateY(-100%);\n          }\n          to {\n            transform: translateY(0);\n          }\n        }\n      "})]}):null},ae=t=>{let{onClose:n}=t;const{currentUser:A}=(0,B.As)(),[r,s]=(0,e.useState)(!1),i="https://besties.app/invite/".concat(null===A||void 0===A?void 0:A.uid),o="Hey! Join me on Besties - the app that keeps us safe when we're out. Check-in when you're heading somewhere and your friends will have your back. ".concat(i);return(0,C.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:n,children:(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,C.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,C.jsx)("h2",{className:"text-2xl font-display text-gradient",children:"\ud83c\udf89 Invite Friends"}),(0,C.jsx)("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-2xl transition-colors",children:"\xd7"})]}),(0,C.jsx)("p",{className:"text-text-secondary mb-6",children:"Share Besties with your friends and help build a stronger safety network together! \ud83d\udc9c"}),(0,C.jsxs)("div",{className:"mb-6",children:[(0,C.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Your Invite Link"}),(0,C.jsxs)("div",{className:"flex gap-2",children:[(0,C.jsx)("input",{type:"text",value:i,readOnly:!0,className:"flex-1 px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-sm text-gray-700 dark:text-gray-300 focus:outline-none"}),(0,C.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(i),s(!0),P.A.light(),w.Ay.success("Link copied!"),setTimeout(()=>s(!1),2e3)},className:"px-6 py-3 rounded-xl font-semibold text-sm transition-all ".concat(r?"bg-green-500 text-white":"bg-primary text-white hover:bg-primary-dark"),children:r?"\u2713 Copied":"Copy"})]})]}),(0,C.jsxs)("div",{className:"mb-4",children:[(0,C.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-3",children:"Share via"}),(0,C.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,C.jsxs)("button",{onClick:()=>{const e="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(i));window.open(e,"_blank","width=600,height=400"),P.A.light()},className:"flex items-center gap-3 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all group",children:[(0,C.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center text-white text-xl",children:"f"}),(0,C.jsx)("span",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 group-hover:text-blue-600",children:"Facebook"})]}),(0,C.jsxs)("button",{onClick:()=>{const e="fb-messenger://share?link=".concat(encodeURIComponent(i));window.open(e,"_blank"),P.A.light()},className:"flex items-center gap-3 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all group",children:[(0,C.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white text-xl",children:"\ud83d\udcac"}),(0,C.jsx)("span",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 group-hover:text-blue-600",children:"Messenger"})]}),(0,C.jsxs)("button",{onClick:()=>{const e="https://wa.me/?text=".concat(encodeURIComponent(o));window.open(e,"_blank"),P.A.light()},className:"flex items-center gap-3 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 hover:border-green-500 hover:bg-green-50 dark:hover:bg-green-900/20 transition-all group",children:[(0,C.jsx)("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center text-white text-xl",children:"\ud83d\udcac"}),(0,C.jsx)("span",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 group-hover:text-green-600",children:"WhatsApp"})]}),(0,C.jsxs)("button",{onClick:()=>{const e="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(o));window.open(e,"_blank","width=600,height=400"),P.A.light()},className:"flex items-center gap-3 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 hover:border-sky-500 hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all group",children:[(0,C.jsx)("div",{className:"w-10 h-10 bg-sky-500 rounded-lg flex items-center justify-center text-white text-xl",children:"\ud835\udd4f"}),(0,C.jsx)("span",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 group-hover:text-sky-600",children:"Twitter"})]}),(0,C.jsxs)("button",{onClick:()=>{window.location.href="sms:?&body=".concat(encodeURIComponent(o)),P.A.light()},className:"flex items-center gap-3 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 hover:border-purple-500 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all group",children:[(0,C.jsx)("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center text-white text-xl",children:"\ud83d\udcac"}),(0,C.jsx)("span",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 group-hover:text-purple-600",children:"SMS"})]}),(0,C.jsxs)("button",{onClick:()=>{const e=o;window.location.href="mailto:?subject=".concat(encodeURIComponent("Join me on Besties!"),"&body=").concat(encodeURIComponent(e)),P.A.light()},className:"flex items-center gap-3 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 hover:border-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-all group",children:[(0,C.jsx)("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center text-white text-xl",children:"\u2709\ufe0f"}),(0,C.jsx)("span",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 group-hover:text-orange-600",children:"Email"})]})]})]}),(0,C.jsx)("button",{onClick:n,className:"w-full btn btn-secondary mt-4",children:"Close"})]})})};var le=n(7690);const ce=()=>{var t,n,A,s,i;const{currentUser:o,userData:a,loading:l}=(0,B.As)(),c=(0,r.Zp)(),[u,d]=(0,e.useState)([]),[h,f]=(0,e.useState)(!0),[g,p]=(0,e.useState)(!1),[m,w]=(0,e.useState)([]);(0,e.useEffect)(()=>{l||a&&!1===a.onboardingCompleted&&c("/onboarding")},[a,l,c]),(0,e.useEffect)(()=>{if(l)return;(sessionStorage.getItem("pending_invite")||localStorage.getItem("pending_invite"))&&!o&&c("/login")},[o,l,c]),(0,e.useEffect)(()=>{if(!o)return;const e=(0,F.P)((0,F.rJ)(y.db,"checkins"),(0,F._M)("userId","==",o.uid),(0,F._M)("status","in",["active","alerted"])),t=(0,F.aQ)(e,e=>{const t=[];e.forEach(e=>{t.push((0,Q.A)({id:e.id},e.data()))}),d(t),f(!1)},e=>{console.error("Error loading check-ins:",e),d([]),f(!1)});return()=>{t()}},[o]),(0,e.useEffect)(()=>{if(!o||!a)return;(async()=>{try{const e=a.featuredCircle||[];if(0===e.length)return void w([]);const t=[];for(const n of e){const e=await(0,F.x7)((0,F.H9)(y.db,"users",n));if(e.exists()){const A=e.data();t.push({userId:n,name:A.displayName||"Bestie",phone:A.phone})}}w(t)}catch(e){console.error("Error loading besties:",e)}})()},[o,a]);const v=()=>{var e,t,n,A;const r=(null===a||void 0===a||null===(e=a.stats)||void 0===e||null===(t=e.firstCheckInDate)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||(null===a||void 0===a||null===(A=a.stats)||void 0===A?void 0:A.firstCheckInDate);if(!r)return!1;const s=new Date;return s.setDate(s.getDate()-7),r<=s},b=(()=>{var e;if(!v())return{status:"new",emoji:"\ud83c\udf31",message:"Building your safety journey",tip:"You'll get your weekly summary after you have one week of activity!"};const t=(null===a||void 0===a||null===(e=a.stats)||void 0===e?void 0:e.totalCheckIns)||0,n=m.length||0;return t>=7&&n>=3?{status:"excellent",emoji:"\ud83c\udf1f",message:"You're absolutely crushing it this week!",tip:"Keep up the amazing safety habits!"}:t>=3||n>=3?{status:"good",emoji:"\ud83d\udcaa",message:"You're doing great! Keep it up!",tip:"Try to check in regularly and add more besties."}:{status:"needsWork",emoji:"\ud83d\udc9c",message:"Let's build your safety network!",tip:"Start by adding your closest friends as besties."}})();return h?(0,C.jsx)("div",{className:"min-h-screen bg-pattern",children:(0,C.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,C.jsx)("div",{className:"spinner"})})}):(0,C.jsxs)("div",{className:"min-h-screen bg-pattern",children:[(0,C.jsx)(oe,{}),(0,C.jsxs)("div",{className:"max-w-4xl mx-auto p-4 pb-20",children:[(0,C.jsx)(le.A,{}),0===u.length&&(0,C.jsxs)("div",{className:"card p-6 mb-6",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,C.jsx)("h3",{className:"font-display text-lg text-text-primary",children:"Your Safety Stats"}),(0,C.jsx)("button",{onClick:()=>c("/profile"),className:"text-primary font-semibold hover:underline text-sm",children:"View Profile \u2192"})]}),(0,C.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"text-3xl font-display text-primary",children:(null===a||void 0===a||null===(t=a.stats)||void 0===t?void 0:t.completedCheckIns)||0}),(0,C.jsx)("div",{className:"text-sm text-text-secondary",children:"Check-ins"})]}),(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"text-3xl font-display text-secondary",children:(null===a||void 0===a||null===(n=a.stats)||void 0===n?void 0:n.totalBesties)||0}),(0,C.jsx)("div",{className:"text-sm text-text-secondary",children:"Besties"})]}),(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"text-3xl font-display text-orange-500",children:(null===a||void 0===a||null===(A=a.stats)||void 0===A?void 0:A.currentStreak)||0}),(0,C.jsx)("div",{className:"text-sm text-text-secondary",children:"Current Streak"})]}),(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"text-3xl font-display text-accent",children:(null===a||void 0===a||null===(s=a.stats)||void 0===s?void 0:s.longestStreak)||0}),(0,C.jsx)("div",{className:"text-sm text-text-secondary",children:"Longest Streak"})]})]})]}),0===u.length&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(J,{}),(0,C.jsx)($,{userId:null===o||void 0===o?void 0:o.uid}),(0,C.jsx)(te,{weeklySummary:b,hasWeekOfActivity:v(),userData:a,bestiesCount:m.length})]}),u.length>0&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,C.jsx)("h2",{className:"text-xl font-display text-text-primary",children:"Active Check-Ins"}),u.map(e=>(0,C.jsx)(G,{checkIn:e},e.id))]}),(0,C.jsxs)("div",{className:"card p-6 mb-6 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/30 dark:to-red-900/30 border-2 border-orange-200 dark:border-orange-700",children:[(0,C.jsx)("h3",{className:"text-lg font-display text-orange-900 dark:text-orange-100 mb-2 text-center",children:"\ud83c\udd98 Need an Exit Strategy?"}),(0,C.jsx)("p",{className:"text-sm text-orange-700 dark:text-orange-300 mb-4 text-center",children:"Feeling uncomfortable? Hold the button for 3 seconds and your besties will call you to help you get out of there."}),(0,C.jsx)(ie,{currentUser:o,userData:a})]})]}),(0,C.jsx)("div",{className:"card p-6 mb-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 border-2 border-purple-100 dark:border-purple-700",children:(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udc9c"}),(0,C.jsx)("h3",{className:"font-display text-2xl text-gradient mb-3",children:"You're Part of Something Special"}),(0,C.jsx)("p",{className:"text-text-secondary leading-relaxed mb-4",children:"Hey bestie! We just wanted to say\u2014you being here means everything. Every check-in you create, every friend you add, every safe moment you share... you're part of a community that's got each other's backs. We're building this together, and we couldn't do it without amazing people like you. You're not just using an app\u2014you're one of the besties. \ud83d\udc95"}),(0,C.jsx)("p",{className:"text-sm text-primary font-semibold",children:"Keep slaying safely, queen! \ud83d\udc51\u2728"})]})}),!(null!==a&&void 0!==a&&null!==(i=a.donationStats)&&void 0!==i&&i.isActive)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"text-center mb-4",children:[(0,C.jsx)("h2",{className:"text-2xl font-display text-gradient mb-2",children:"Want to help us out? \ud83d\udc9c"}),(0,C.jsx)("p",{className:"text-text-secondary text-sm",children:"Here are all the ways you can support Besties and keep safety accessible for everyone"})]}),(0,C.jsx)(ee,{}),(0,C.jsxs)("div",{className:"flex items-center gap-4 my-6",children:[(0,C.jsx)("div",{className:"flex-1 h-px bg-gray-300"}),(0,C.jsx)("span",{className:"text-text-secondary font-semibold",children:"OR"}),(0,C.jsx)("div",{className:"flex-1 h-px bg-gray-300"})]}),(0,C.jsx)("div",{className:"card p-6 mb-6 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30 border-2 border-blue-100 dark:border-blue-700",children:(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udc6f\u200d\u2640\ufe0f"}),(0,C.jsx)("h3",{className:"font-display text-2xl text-gradient mb-3",children:"Grow the Squad!"}),(0,C.jsx)("p",{className:"text-text-secondary leading-relaxed mb-4",children:"Love Besties? Invite your friends! The more people who join, the stronger our safety network becomes. Plus, it helps us keep the app free for everyone. Share the love! \ud83d\udc96"}),(0,C.jsx)("button",{onClick:()=>{P.A.light(),p(!0)},className:"btn btn-secondary w-full text-lg py-3",children:"\ud83c\udf89 Invite Friends"}),(0,C.jsx)("p",{className:"text-xs text-text-secondary mt-3",children:"Every new friend makes Besties better for everyone!"})]})})]})]}),(0,C.jsx)(re,{}),(0,C.jsx)(se,{currentUser:o,userData:a}),g&&(0,C.jsx)(ae,{onClose:()=>p(!1)})]})},ue=(0,e.lazy)(()=>n.e(683).then(n.bind(n,6683))),de=(0,e.lazy)(()=>n.e(299).then(n.bind(n,2299))),he=(0,e.lazy)(()=>Promise.all([n.e(838),n.e(48)]).then(n.bind(n,2048))),fe=(0,e.lazy)(()=>n.e(321).then(n.bind(n,321))),ge=(0,e.lazy)(()=>n.e(995).then(n.bind(n,9995))),pe=(0,e.lazy)(()=>n.e(225).then(n.bind(n,7225))),me=(0,e.lazy)(()=>n.e(492).then(n.bind(n,1492))),we=(0,e.lazy)(()=>Promise.all([n.e(838),n.e(206)]).then(n.bind(n,8206))),ye=(0,e.lazy)(()=>Promise.all([n.e(639),n.e(211)]).then(n.bind(n,4211))),Be=(0,e.lazy)(()=>n.e(385).then(n.bind(n,1385))),ve=(0,e.lazy)(()=>n.e(143).then(n.bind(n,4143))),be=(0,e.lazy)(()=>n.e(88).then(n.bind(n,4088))),Ce=(0,e.lazy)(()=>n.e(774).then(n.bind(n,2774))),xe=(0,e.lazy)(()=>n.e(619).then(n.bind(n,1619))),Ee=(0,e.lazy)(()=>n.e(237).then(n.bind(n,6237))),Ue=(0,e.lazy)(()=>n.e(338).then(n.bind(n,5338))),Ie=(0,e.lazy)(()=>n.e(495).then(n.bind(n,5495))),Qe=(0,e.lazy)(()=>n.e(759).then(n.bind(n,3759))),Fe=(0,e.lazy)(()=>n.e(69).then(n.bind(n,7069))),ke=(0,e.lazy)(()=>n.e(768).then(n.bind(n,7768))),Se=(0,e.lazy)(()=>n.e(317).then(n.bind(n,5317))),Te=(0,e.lazy)(()=>n.e(738).then(n.bind(n,5738))),_e=(0,e.lazy)(()=>n.e(475).then(n.bind(n,475))),Ne=(0,e.lazy)(()=>n.e(298).then(n.bind(n,9298))),De=()=>(0,C.jsx)("div",{className:"min-h-screen bg-pattern flex items-center justify-center",children:(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"spinner mb-4"}),(0,C.jsx)("h2",{className:"font-display text-2xl text-primary",children:"Loading..."})]})});function Le(){const t=(0,r.zy)();return(0,e.useEffect)(()=>{b.A.trackPageView(t.pathname)},[t]),null}function He(e){let{user:t,children:n}=e;const A=(0,r.zy)();if(!t){const e=new URLSearchParams(A.search).get("invite");return e?(0,C.jsx)(r.C5,{to:"/login?invite=".concat(e)}):(0,C.jsx)(r.C5,{to:"/login"})}return n}const Oe=function(){const[t,n]=(0,e.useState)(!0),[A,s]=(0,e.useState)(null);return(0,e.useEffect)(()=>{const e=y.j2.onAuthStateChanged(e=>{s(e),n(!1)});return e},[]),t?(0,C.jsx)("div",{className:"min-h-screen bg-pattern flex items-center justify-center",children:(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"spinner mb-4"}),(0,C.jsx)("h2",{className:"font-display text-2xl text-primary",children:"Besties"}),(0,C.jsx)("p",{className:"text-text-secondary",children:"Loading..."})]})}):(0,C.jsx)(E,{children:(0,C.jsx)(v.L,{children:(0,C.jsx)(B.OJ,{children:(0,C.jsxs)(d,{children:[(0,C.jsx)(Le,{}),(0,C.jsx)(I,{}),(0,C.jsx)(k,{}),(0,C.jsx)(_,{}),A&&(0,C.jsx)(N,{}),A&&(0,C.jsx)(L,{}),A&&(0,C.jsx)(D,{}),(0,C.jsxs)("div",{className:"App",children:[(0,C.jsx)(e.Suspense,{fallback:(0,C.jsx)(De,{}),children:(0,C.jsxs)(r.BV,{children:[(0,C.jsx)(r.qh,{path:"/login",element:A?(0,C.jsx)(r.C5,{to:"/"}):(0,C.jsx)(O,{})}),(0,C.jsx)(r.qh,{path:"/privacy",element:(0,C.jsx)(Ue,{})}),(0,C.jsx)(r.qh,{path:"/terms",element:(0,C.jsx)(Ie,{})}),(0,C.jsx)(r.qh,{path:"/alert/:alertId",element:(0,C.jsx)(Fe,{})}),(0,C.jsx)(r.qh,{path:"/subscription-success",element:A?(0,C.jsx)(ke,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/subscription-cancel",element:A?(0,C.jsx)(Se,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/onboarding",element:(0,C.jsx)(He,{user:A,children:(0,C.jsx)(ue,{})})}),(0,C.jsx)(r.qh,{path:"/",element:(0,C.jsx)(He,{user:A,children:(0,C.jsx)(ce,{})})}),(0,C.jsx)(r.qh,{path:"/create",element:A?(0,C.jsx)(de,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/profile",element:A?(0,C.jsx)(he,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/user/:userId",element:A?(0,C.jsx)(fe,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/edit-profile",element:A?(0,C.jsx)(we,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/besties",element:A?(0,C.jsx)(ge,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/settings",element:A?(0,C.jsx)(pe,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/badges",element:A?(0,C.jsx)(me,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/history",element:A?(0,C.jsx)(ye,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/templates",element:A?(0,C.jsx)(Be,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/favorites",element:A?(0,C.jsx)(be,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/export-data",element:A?(0,C.jsx)(Ce,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/social-feed",element:A?(0,C.jsx)(Ee,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/about",element:A?(0,C.jsx)(Te,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/circle-health",element:A?(0,C.jsx)(Ne,{}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/dev-analytics",element:A?(0,C.jsx)(U,{children:(0,C.jsx)(ve,{})}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/monitoring",element:A?(0,C.jsx)(U,{children:(0,C.jsx)(xe,{})}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/error-dashboard",element:A?(0,C.jsx)(U,{children:(0,C.jsx)(Qe,{})}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"/admin/backfill",element:A?(0,C.jsx)(U,{children:(0,C.jsx)(_e,{})}):(0,C.jsx)(r.C5,{to:"/login"})}),(0,C.jsx)(r.qh,{path:"*",element:(0,C.jsx)(r.C5,{to:"/"})})]})}),(0,C.jsx)(w.l$,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#2D3748",fontFamily:"Quicksand, sans-serif",fontWeight:"600"},success:{iconTheme:{primary:"#4CAF50",secondary:"#fff"}},error:{iconTheme:{primary:"#FF6B35",secondary:"#fff"}}}})]})]})})})})};A.createRoot(document.getElementById("root")).render((0,C.jsx)(e.StrictMode,{children:(0,C.jsx)(Oe,{})}))})()})();
//# sourceMappingURL=main.21654657.js.map