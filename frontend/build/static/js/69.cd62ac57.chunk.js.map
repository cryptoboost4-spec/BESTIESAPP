{"version":3,"file":"static/js/69.cd62ac57.chunk.js","mappings":"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","sources":["pages/AlertViewPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { db } from '../services/firebase';\nimport { doc, getDoc } from 'firebase/firestore';\nimport Header from '../components/Header';\n\nconst AlertViewPage = () => {\n  const { alertId } = useParams();\n  const navigate = useNavigate();\n  const [alert, setAlert] = useState(null);\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadAlert();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [alertId]);\n\n  const loadAlert = async () => {\n    try {\n      // Try to load as check-in first\n      let alertDoc = await getDoc(doc(db, 'checkins', alertId));\n      let alertType = 'checkin';\n\n      // If not found, try emergency SOS\n      if (!alertDoc.exists()) {\n        alertDoc = await getDoc(doc(db, 'emergency_sos', alertId));\n        alertType = 'sos';\n      }\n\n      if (!alertDoc.exists()) {\n        setLoading(false);\n        return;\n      }\n\n      const alertData = { id: alertDoc.id, ...alertDoc.data(), type: alertType };\n      setAlert(alertData);\n\n      // Load user data\n      const userDoc = await getDoc(doc(db, 'users', alertData.userId));\n      if (userDoc.exists()) {\n        setUser(userDoc.data());\n      }\n    } catch (error) {\n      console.error('Error loading alert:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-pattern flex items-center justify-center\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  if (!alert) {\n    return (\n      <div className=\"min-h-screen bg-pattern\">\n        <Header />\n        <div className=\"max-w-2xl mx-auto p-4 text-center mt-20\">\n          <div className=\"text-6xl mb-4\">‚ö†Ô∏è</div>\n          <h1 className=\"text-2xl font-display text-text-primary mb-2\">Alert Not Found</h1>\n          <p className=\"text-text-secondary mb-6\">This alert may have been resolved or removed.</p>\n          <button onClick={() => navigate('/')} className=\"btn btn-primary\">\n            Go Home\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const isCheckIn = alert.type === 'checkin';\n  const isSOS = alert.type === 'sos';\n\n  return (\n    <div className=\"min-h-screen bg-pattern\">\n      <Header />\n\n      <div className=\"max-w-2xl mx-auto p-4 pb-20\">\n        {/* Alert Header */}\n        <div className={`card p-6 mb-6 ${isSOS ? 'bg-red-50 border-2 border-red-500' : 'bg-yellow-50 border-2 border-yellow-500'}`}>\n          <div className=\"text-center\">\n            <div className=\"text-6xl mb-4\">{isSOS ? 'üÜò' : 'üö®'}</div>\n            <h1 className=\"text-3xl font-display text-text-primary mb-2\">\n              {isSOS ? 'EMERGENCY ALERT' : 'SAFETY ALERT'}\n            </h1>\n            <p className=\"text-lg text-text-secondary\">\n              {user?.displayName || 'A friend'} {isSOS ? 'triggered an emergency SOS' : \"hasn't checked in\"}\n            </p>\n          </div>\n        </div>\n\n        {/* Alert Details */}\n        <div className=\"card p-6 mb-6\">\n          <h2 className=\"text-xl font-display text-text-primary mb-4\">Details</h2>\n\n          <div className=\"space-y-4\">\n            <div>\n              <div className=\"text-sm text-text-secondary mb-1\">Person</div>\n              <div className=\"font-semibold text-text-primary flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-gradient-primary rounded-full flex items-center justify-center text-white\">\n                  {user?.displayName?.[0] || '?'}\n                </div>\n                {user?.displayName || 'Unknown'}\n              </div>\n            </div>\n\n            <div>\n              <div className=\"text-sm text-text-secondary mb-1\">Location</div>\n              <div className=\"font-semibold text-text-primary\">\n                {alert.location || 'Unknown'}\n              </div>\n            </div>\n\n            {isCheckIn && alert.meetingWith && (\n              <div>\n                <div className=\"text-sm text-text-secondary mb-1\">Meeting With</div>\n                <div className=\"font-semibold text-text-primary\">{alert.meetingWith}</div>\n              </div>\n            )}\n\n            {isCheckIn && alert.notes && (\n              <div>\n                <div className=\"text-sm text-text-secondary mb-1\">Notes</div>\n                <div className=\"font-semibold text-text-primary\">{alert.notes}</div>\n              </div>\n            )}\n\n            {alert.photoURL && (\n              <div>\n                <div className=\"text-sm text-text-secondary mb-1\">Photo</div>\n                <img\n                  src={alert.photoURL}\n                  alt=\"Check-in\"\n                  className=\"w-full rounded-xl max-h-64 object-cover\"\n                />\n              </div>\n            )}\n\n            <div>\n              <div className=\"text-sm text-text-secondary mb-1\">Time</div>\n              <div className=\"font-semibold text-text-primary\">\n                {alert.createdAt?.toDate().toLocaleString()}\n              </div>\n            </div>\n\n            {isCheckIn && alert.alertTime && (\n              <div>\n                <div className=\"text-sm text-text-secondary mb-1\">Expected Check-In By</div>\n                <div className=\"font-semibold text-text-primary\">\n                  {alert.alertTime.toDate().toLocaleTimeString()}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Action Instructions */}\n        <div className=\"card p-6 bg-primary/10\">\n          <h3 className=\"font-display text-lg text-text-primary mb-3\">\n            What to do:\n          </h3>\n          <ul className=\"space-y-2 text-text-secondary\">\n            <li className=\"flex gap-2\">\n              <span>1.</span>\n              <span>Try calling or messaging {user?.displayName}</span>\n            </li>\n            <li className=\"flex gap-2\">\n              <span>2.</span>\n              <span>Check if they're at the location listed above</span>\n            </li>\n            <li className=\"flex gap-2\">\n              <span>3.</span>\n              <span>If you can't reach them, consider contacting local authorities</span>\n            </li>\n            {isSOS && (\n              <li className=\"flex gap-2 font-semibold text-red-600\">\n                <span>‚ö†Ô∏è</span>\n                <span>This is an EMERGENCY - act immediately!</span>\n              </li>\n            )}\n          </ul>\n        </div>\n\n        {/* Contact Info */}\n        {user?.phoneNumber && (\n          <div className=\"mt-4\">\n            <a\n              href={`tel:${user.phoneNumber}`}\n              className=\"w-full btn btn-primary text-lg py-4 block text-center\"\n            >\n              üìû Call {user.displayName}\n            </a>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AlertViewPage;\n"],"names":["AlertViewPage","_user$displayName","_alert$createdAt","alertId","useParams","navigate","useNavigate","alert","setAlert","useState","user","setUser","loading","setLoading","useEffect","loadAlert","async","alertDoc","getDoc","doc","db","alertType","exists","alertData","_objectSpread","id","data","type","userDoc","userId","error","console","_jsx","className","children","_jsxs","Header","onClick","isCheckIn","isSOS","concat","displayName","location","meetingWith","notes","photoURL","src","alt","createdAt","toDate","toLocaleString","alertTime","toLocaleTimeString","phoneNumber","href"],"sourceRoot":""}