{"version":3,"file":"static/js/45.487fc985.chunk.js","mappings":"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","sources":["components/BestieCircleShareModal.jsx","components/BestieCircle.jsx","components/SocialShareCardsModal.jsx","components/profile/ProfileCard.jsx","components/profile/ProfileCompletion.jsx","components/profile/WeeklySummary.jsx","components/profile/LoginStreak.jsx","components/profile/BadgesSection.jsx","components/profile/StatsSection.jsx","components/profile/DonationStatus.jsx","components/profile/ProfileAuraStyles.jsx","pages/ProfilePage.jsx","components/ConfettiCelebration.jsx","components/CountUp.jsx"],"sourcesContent":["import React from 'react';\nimport toast from 'react-hot-toast';\n\nconst BestieCircleShareModal = ({ onClose, circleCount }) => {\n  const handleShare = (platform) => {\n    const appUrl = window.location.origin;\n    const message = `Hey! I'm using Besties to stay safe when I go out. It's a safety app where your close friends can check in on you. Want to be part of my safety circle? üíú\\n\\nJoin me on Besties: ${appUrl}`;\n    const encoded = encodeURIComponent(message);\n    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n    switch (platform) {\n      case 'whatsapp':\n        if (isMobile) {\n          window.location.href = `whatsapp://send?text=${encoded}`;\n        } else {\n          window.open(`https://wa.me/?text=${encoded}`, '_blank');\n        }\n        break;\n      case 'messenger':\n        if (isMobile) {\n          window.location.href = `fb-messenger://share?link=${encodeURIComponent(appUrl)}`;\n          setTimeout(() => {\n            window.open(`https://www.facebook.com/dialog/send?link=${encodeURIComponent(appUrl)}&app_id=&redirect_uri=${encodeURIComponent(appUrl)}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://www.facebook.com/dialog/send?link=${encodeURIComponent(appUrl)}&app_id=&redirect_uri=${encodeURIComponent(appUrl)}`, '_blank', 'width=600,height=400');\n        }\n        break;\n      case 'instagram':\n        navigator.clipboard.writeText(message).then(() => {\n          toast.success('Message copied! Opening Instagram DMs...');\n          if (isMobile) {\n            window.location.href = 'instagram://direct/inbox';\n            setTimeout(() => {\n              window.open('https://www.instagram.com/direct/inbox/', '_blank');\n            }, 1500);\n          } else {\n            window.open('https://www.instagram.com/direct/inbox/', '_blank');\n          }\n        }).catch(() => {\n          toast.error('Failed to copy message');\n        });\n        break;\n      case 'sms':\n        window.location.href = `sms:?body=${encoded}`;\n        break;\n      case 'facebook':\n        const textEncoded = encodeURIComponent('Join my safety circle on Besties! üíú');\n        const urlEncoded = encodeURIComponent(appUrl);\n        if (isMobile) {\n          window.location.href = `fb://profile`;\n          setTimeout(() => {\n            window.open(`https://www.facebook.com/sharer/sharer.php?u=${urlEncoded}&quote=${textEncoded}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://www.facebook.com/sharer/sharer.php?u=${urlEncoded}&quote=${textEncoded}`, '_blank', 'width=600,height=400');\n        }\n        break;\n      default:\n        break;\n    }\n\n    toast.success(`Opening ${platform}...`);\n    onClose();\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 dark:bg-black/75 flex items-center justify-center z-50 p-4 backdrop-blur-sm\" onClick={onClose}>\n      <div className=\"card max-w-lg w-full p-0 animate-scale-up overflow-hidden relative bg-gradient-to-br from-pink-50 via-purple-50 to-pink-50 dark:from-pink-900/20 dark:via-purple-900/20 dark:to-pink-900/20 border-2 border-pink-200 dark:border-pink-600 shadow-2xl\" onClick={(e) => e.stopPropagation()}>\n\n        {/* Close button */}\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 z-10 w-8 h-8 rounded-full bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors shadow-md text-gray-700 dark:text-gray-300\"\n        >\n          ‚úï\n        </button>\n\n        {/* Header with gradient background - mobile optimized */}\n        <div className=\"bg-gradient-to-r from-primary via-purple-500 to-pink-500 p-4 md:p-8 text-center relative overflow-hidden\">\n          {/* Decorative circles */}\n          <div className=\"absolute top-0 right-0 w-24 h-24 md:w-32 md:h-32 bg-white/10 rounded-full -mr-12 md:-mr-16 -mt-12 md:-mt-16\"></div>\n          <div className=\"absolute bottom-0 left-0 w-16 h-16 md:w-24 md:h-24 bg-white/10 rounded-full -ml-8 md:-ml-12 -mb-8 md:-mb-12\"></div>\n\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl md:text-6xl mb-2 md:mb-3 animate-bounce-slow\">üíú</div>\n            <h3 className=\"text-xl md:text-3xl font-display text-white mb-2 drop-shadow-lg\">\n              Complete Your Circle!\n            </h3>\n            <div className=\"inline-block bg-white/20 backdrop-blur-sm px-3 md:px-4 py-1.5 md:py-2 rounded-full\">\n              <p className=\"text-white font-semibold text-sm md:text-base\">\n                <span className=\"text-xl md:text-2xl font-display\">{circleCount}</span>\n                <span className=\"text-white/80\"> / </span>\n                <span className=\"text-xl md:text-2xl font-display\">5</span>\n                <span className=\"text-xs md:text-sm ml-2\">besties</span>\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"p-4 md:p-6\">\n          {/* Info Box - more compact on mobile */}\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl md:rounded-2xl p-3 md:p-5 mb-4 md:mb-6 shadow-lg border-2 border-pink-100 dark:border-pink-800\">\n            <div className=\"flex items-start gap-2 md:gap-3\">\n              <div className=\"text-2xl md:text-3xl flex-shrink-0\">üõ°Ô∏è</div>\n              <div>\n                <h4 className=\"font-display text-base md:text-lg text-primary dark:text-purple-400 mb-1 md:mb-2\">\n                  Why you need 5 besties\n                </h4>\n                <p className=\"text-xs md:text-sm text-gray-700 dark:text-gray-300 leading-relaxed\">\n                  A full circle means maximum protection! Your 5 trusted friends will get alerts when you check in and can help if something goes wrong. The more besties, the safer you are. üíï\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Social Sharing */}\n          <div className=\"mb-4 md:mb-6\">\n            <h4 className=\"text-base md:text-lg font-display text-center text-primary dark:text-purple-400 mb-3 md:mb-4\">\n              ‚ú® Invite Friends to Join You ‚ú®\n            </h4>\n            <div className=\"grid grid-cols-3 gap-2 md:gap-3\">\n              <button\n                onClick={() => handleShare('whatsapp')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-[#25D366] hover:bg-[#20BA5A] text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share on WhatsApp\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\"/>\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">WhatsApp</span>\n              </button>\n\n              <button\n                onClick={() => handleShare('messenger')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-[#0084FF] hover:bg-[#0073E6] text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share on Messenger\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12 0C5.373 0 0 4.975 0 11.111c0 3.497 1.745 6.616 4.472 8.652V24l4.086-2.242c1.09.301 2.246.464 3.442.464 6.627 0 12-4.974 12-11.111C24 4.975 18.627 0 12 0zm1.191 14.963l-3.055-3.26-5.963 3.26L10.732 8l3.131 3.259L19.752 8l-6.561 6.963z\"/>\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">Messenger</span>\n              </button>\n\n              <button\n                onClick={() => handleShare('instagram')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-gradient-to-r from-[#833AB4] via-[#FD1D1D] to-[#F77737] hover:opacity-90 text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share on Instagram\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">Instagram</span>\n              </button>\n\n              <button\n                onClick={() => handleShare('sms')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-success hover:bg-green-600 text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share via SMS\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">SMS</span>\n              </button>\n\n              <button\n                onClick={() => handleShare('facebook')}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-[#1877F2] hover:bg-[#166FE5] text-white transition-all hover:scale-105 shadow-md\"\n                title=\"Share on Facebook\"\n              >\n                <svg className=\"w-6 h-6 md:w-10 md:h-10\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n                </svg>\n                <span className=\"text-[10px] md:text-sm font-semibold\">Facebook</span>\n              </button>\n\n              <button\n                onClick={onClose}\n                className=\"flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-lg md:rounded-xl bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 transition-all hover:scale-105 shadow-md\"\n              >\n                <div className=\"w-6 h-6 md:w-10 md:h-10 flex items-center justify-center text-xl md:text-2xl\">üëã</div>\n                <span className=\"text-[10px] md:text-sm font-semibold\">Maybe Later</span>\n              </button>\n            </div>\n          </div>\n\n          <p className=\"text-xs text-center text-gray-500 dark:text-gray-400 italic\">\n            üíï Building your safety circle is one of the smartest things you can do\n          </p>\n        </div>\n\n        <style>{`\n          @keyframes bounce-slow {\n            0%, 100% { transform: translateY(0); }\n            50% { transform: translateY(-10px); }\n          }\n          .animate-bounce-slow {\n            animation: bounce-slow 2s ease-in-out infinite;\n          }\n        `}</style>\n      </div>\n    </div>\n  );\n};\n\nexport default BestieCircleShareModal;\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { db } from '../services/firebase';\nimport { collection, query, where, getDocs, doc, updateDoc, getDoc } from 'firebase/firestore';\nimport toast from 'react-hot-toast';\nimport BestieCircleShareModal from './BestieCircleShareModal';\nimport ProfileWithBubble from './ProfileWithBubble';\n\nconst BestieCircle = ({ userId, onAddClick }) => {\n  const navigate = useNavigate();\n  const [allBesties, setAllBesties] = useState([]);\n  const [circleBesties, setCircleBesties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [showReplaceModal, setShowReplaceModal] = useState(false);\n  const [showShareModal, setShowShareModal] = useState(false);\n\n  const loadBesties = async () => {\n    if (!userId) return;\n\n    try {\n      // Get all accepted besties\n      const [requesterQuery, recipientQuery] = await Promise.all([\n        getDocs(\n          query(\n            collection(db, 'besties'),\n            where('requesterId', '==', userId),\n            where('status', '==', 'accepted')\n          )\n        ),\n        getDocs(\n          query(\n            collection(db, 'besties'),\n            where('recipientId', '==', userId),\n            where('status', '==', 'accepted')\n          )\n        ),\n      ]);\n\n      const bestiesList = [];\n\n      for (const docSnap of requesterQuery.docs) {\n        const data = docSnap.data();\n        const userDoc = await getDoc(doc(db, 'users', data.recipientId));\n        const userData = userDoc.exists() ? userDoc.data() : {};\n        bestiesList.push({\n          id: data.recipientId,\n          name: userData.displayName || 'Bestie',\n          photoURL: userData.photoURL || null,\n          requestAttention: userData.requestAttention || null,\n        });\n      }\n\n      for (const docSnap of recipientQuery.docs) {\n        const data = docSnap.data();\n        const userDoc = await getDoc(doc(db, 'users', data.requesterId));\n        const userData = userDoc.exists() ? userDoc.data() : {};\n        bestiesList.push({\n          id: data.requesterId,\n          name: userData.displayName || 'Bestie',\n          photoURL: userData.photoURL || null,\n          requestAttention: userData.requestAttention || null,\n        });\n      }\n\n      setAllBesties(bestiesList);\n\n      // Get user's featured circle\n      const userDoc = await getDoc(doc(db, 'users', userId));\n      const featuredIds = userDoc.exists() ? (userDoc.data().featuredCircle || []) : [];\n\n      // Map featured IDs to bestie objects\n      const featured = featuredIds\n        .map(id => bestiesList.find(b => b.id === id))\n        .filter(Boolean);\n\n      // If less than what user has, auto-fill with first few besties\n      const needsAutoFill = featured.length < bestiesList.length && featured.length < 5;\n      if (needsAutoFill) {\n        const remaining = bestiesList.filter(b => !featuredIds.includes(b.id));\n        featured.push(...remaining.slice(0, 5 - featured.length));\n      }\n\n      const finalCircle = featured.slice(0, 5);\n      setCircleBesties(finalCircle);\n\n      // CRITICAL: Save auto-filled circle to Firestore\n      if (needsAutoFill && finalCircle.length > 0) {\n        await saveFeaturedCircle(finalCircle);\n      }\n\n      setLoading(false);\n    } catch (error) {\n      console.error('Error loading besties:', error);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadBesties();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userId]);\n\n  const saveFeaturedCircle = async (newCircle) => {\n    const featuredIds = newCircle.map(b => b.id);\n    await updateDoc(doc(db, 'users', userId), {\n      featuredCircle: featuredIds,\n    });\n  };\n\n  const handleRemoveFromCircle = async (index) => {\n    // Only allow removal if circle is full (5 members)\n    if (circleBesties.length < 5) {\n      toast.error('Circle must be full to remove members. Use Replace instead.');\n      setSelectedSlot(null);\n      return;\n    }\n\n    const newCircle = circleBesties.filter((_, i) => i !== index);\n    setCircleBesties(newCircle);\n    await saveFeaturedCircle(newCircle);\n    setSelectedSlot(null);\n    toast.success('Removed from circle');\n  };\n\n  const handleReplaceBestie = async (newBestie) => {\n    const newCircle = [...circleBesties];\n    newCircle[selectedSlot] = newBestie;\n    setCircleBesties(newCircle);\n    await saveFeaturedCircle(newCircle);\n    setShowReplaceModal(false);\n    setSelectedSlot(null);\n    toast.success('Bestie replaced');\n  };\n\n  const handleViewProfile = (bestieId) => {\n    navigate(`/user/${bestieId}`);\n    setSelectedSlot(null);\n  };\n\n  const slots = Array.from({ length: 5 }, (_, i) => circleBesties[i] || null);\n\n  // Different colors for each bestie slot\n  const slotColors = [\n    'bg-pink-500',      // Slot 0 - Pink\n    'bg-purple-500',    // Slot 1 - Purple\n    'bg-blue-500',      // Slot 2 - Blue\n    'bg-green-500',     // Slot 3 - Green\n    'bg-orange-500',    // Slot 4 - Orange\n  ];\n\n  if (loading) {\n    return (\n      <div className=\"card p-8 flex items-center justify-center\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"card p-8 bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 border-2 border-purple-100\">\n      <h3 className=\"text-center text-2xl font-display text-gradient mb-6\">Bestie Circle ‚≠ê</h3>\n\n      {/* Circle Container - Responsive sizing */}\n      <div className=\"relative w-full max-w-sm mx-auto aspect-square\">\n        <div className=\"absolute inset-0\">\n          {/* Connection Lines */}\n          {slots.map((bestie, index) => {\n            if (!bestie) return null;\n            const angle = (index * 72 - 90) * (Math.PI / 180);\n            const radius = 45; // Percentage-based radius\n            const x = 50 + radius * Math.cos(angle);\n            const y = 50 + radius * Math.sin(angle);\n\n            return (\n              <svg\n                key={`line-${index}`}\n                className=\"absolute inset-0 w-full h-full pointer-events-none\"\n                style={{ zIndex: 0 }}\n              >\n                <line\n                  x1=\"50%\"\n                  y1=\"50%\"\n                  x2={`${x}%`}\n                  y2={`${y}%`}\n                  stroke=\"url(#gradient)\"\n                  strokeWidth=\"2\"\n                  strokeDasharray=\"4 2\"\n                  opacity=\"0.3\"\n                />\n                <defs>\n                  <linearGradient id=\"gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                    <stop offset=\"0%\" stopColor=\"#a855f7\" />\n                    <stop offset=\"100%\" stopColor=\"#ec4899\" />\n                  </linearGradient>\n                </defs>\n              </svg>\n            );\n          })}\n\n          {/* Center Circle (YOU) */}\n          <div className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10\">\n            <div className=\"w-20 h-20 md:w-24 md:h-24 bg-gradient-primary rounded-full flex items-center justify-center text-white text-base md:text-lg font-display shadow-2xl border-4 border-white ring-4 ring-purple-200 animate-pulse-gentle\">\n              YOU\n            </div>\n          </div>\n\n          {/* Bestie Slots - all equidistant from center */}\n          {slots.map((bestie, index) => {\n            const angle = (index * 72 - 90) * (Math.PI / 180);\n            const radius = 45; // Percentage-based for better responsiveness\n            const x = 50 + radius * Math.cos(angle);\n            const y = 50 + radius * Math.sin(angle);\n\n            return (\n              <div\n                key={index}\n                className=\"absolute\"\n                style={{\n                  left: `${x}%`,\n                  top: `${y}%`,\n                  transform: 'translate(-50%, -50%)',\n                }}\n              >\n                {bestie ? (\n                  <div className=\"relative group\">\n                    {/* Bestie Circle - clickable with unique color, responsive size */}\n                    <button\n                      onClick={() => setSelectedSlot(selectedSlot === index ? null : index)}\n                      className={`relative hover:scale-110 transition-all duration-300`}\n                    >\n                      <div className={`w-16 h-16 md:w-20 md:h-20 ${slotColors[index]} rounded-full shadow-xl border-4 border-white hover:shadow-2xl ring-2 ring-purple-200 hover:ring-4 hover:ring-purple-300 overflow-hidden flex items-center justify-center`}>\n                        <ProfileWithBubble\n                          photoURL={bestie.photoURL}\n                          name={bestie.name || 'Bestie'}\n                          requestAttention={bestie.requestAttention}\n                          size=\"xl\"\n                          showBubble={true}\n                          className=\"w-full h-full\"\n                        />\n                      </div>\n                      {/* Subtle pulse effect on hover */}\n                      <div className=\"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity rounded-full pointer-events-none\"></div>\n                    </button>\n\n                    {/* Name Tooltip - improved */}\n                    <div className=\"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none z-20 transform group-hover:-translate-y-1\">\n                      <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-1.5 rounded-lg text-xs font-semibold whitespace-nowrap shadow-lg\">\n                        {bestie.name || 'Unknown'}\n                        <div className=\"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-pink-600\"></div>\n                      </div>\n                    </div>\n\n                    {/* Action Menu */}\n                    {selectedSlot === index && (\n                      <div className=\"absolute top-full left-1/2 -translate-x-1/2 mt-2 bg-white rounded-lg shadow-xl border-2 border-gray-200 p-2 z-[200] w-36\">\n                        <button\n                          onClick={() => handleViewProfile(bestie.id)}\n                          className=\"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm font-semibold text-gray-700\"\n                        >\n                          üë§ View Profile\n                        </button>\n                        <button\n                          onClick={() => setShowReplaceModal(true)}\n                          className=\"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm font-semibold text-gray-700\"\n                        >\n                          üîÑ Replace\n                        </button>\n                        <button\n                          onClick={() => handleRemoveFromCircle(index)}\n                          className=\"w-full text-left px-3 py-2 hover:bg-red-50 rounded text-sm font-semibold text-red-600\"\n                        >\n                          ‚ùå Remove\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                ) : (\n                  <button\n                    onClick={() => setShowShareModal(true)}\n                    className={`w-16 h-16 md:w-20 md:h-20 border-4 border-dashed ${slotColors[index].replace('bg-', 'border-')} rounded-full flex items-center justify-center ${slotColors[index].replace('bg-', 'text-')} text-3xl md:text-4xl font-bold hover:scale-110 hover:bg-purple-100 transition-all shadow-lg hover:shadow-xl animate-pulse-slow`}\n                    title=\"Invite a bestie to your circle\"\n                  >\n                    +\n                  </button>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Info - Enhanced */}\n      <div className=\"text-center mt-8\">\n        <div className=\"inline-flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md border-2 border-purple-200 mb-2\">\n          <span className=\"text-2xl\">‚≠ê</span>\n          <span className=\"font-display text-lg text-gradient font-bold\">\n            {circleBesties.length}/5 Circle Members\n          </span>\n        </div>\n        <div className=\"text-sm text-gray-600 mt-2\">\n          {circleBesties.length === 5\n            ? \"Your circle is complete! üéâ\"\n            : circleBesties.length === 0\n            ? \"Start building your safety network\"\n            : `Add ${5 - circleBesties.length} more to complete your circle`}\n        </div>\n      </div>\n\n      {/* CSS Animations */}\n      <style>{`\n        @keyframes pulse-gentle {\n          0%, 100% {\n            transform: scale(1);\n          }\n          50% {\n            transform: scale(1.03);\n          }\n        }\n        .animate-pulse-gentle {\n          animation: pulse-gentle 3s ease-in-out infinite;\n        }\n        @keyframes pulse-slow {\n          0%, 100% {\n            opacity: 1;\n          }\n          50% {\n            opacity: 0.6;\n          }\n        }\n        .animate-pulse-slow {\n          animation: pulse-slow 2s ease-in-out infinite;\n        }\n      `}</style>\n\n      {/* Replace Modal */}\n      {showReplaceModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\" onClick={() => setShowReplaceModal(false)}>\n          <div className=\"bg-white rounded-xl p-6 max-w-sm w-full max-h-96 overflow-y-auto\" onClick={(e) => e.stopPropagation()}>\n            <h3 className=\"text-xl font-display mb-4\">Replace with:</h3>\n            <div className=\"space-y-2\">\n              {allBesties\n                .filter(b => !circleBesties.find(cb => cb.id === b.id))\n                .map(bestie => (\n                  <button\n                    key={bestie.id}\n                    onClick={() => handleReplaceBestie(bestie)}\n                    className=\"w-full flex items-center gap-3 p-3 hover:bg-gray-100 rounded-lg transition-colors\"\n                  >\n                    <ProfileWithBubble\n                      photoURL={bestie.photoURL}\n                      name={bestie.name || 'Unknown'}\n                      requestAttention={bestie.requestAttention}\n                      size=\"md\"\n                      showBubble={true}\n                    />\n                    <div className=\"text-left\">\n                      <div className=\"font-semibold\">{bestie.name || 'Unknown'}</div>\n                    </div>\n                  </button>\n                ))}\n              {allBesties.filter(b => !circleBesties.find(cb => cb.id === b.id)).length === 0 && (\n                <p className=\"text-center text-gray-500 py-4\">All besties are in your circle!</p>\n              )}\n            </div>\n            <button\n              onClick={() => setShowReplaceModal(false)}\n              className=\"mt-4 w-full btn btn-secondary\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Bestie Circle Share Modal */}\n      {showShareModal && (\n        <BestieCircleShareModal\n          onClose={() => setShowShareModal(false)}\n          circleCount={circleBesties.length}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default BestieCircle;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { db } from '../services/firebase';\nimport { doc, getDoc } from 'firebase/firestore';\nimport toast from 'react-hot-toast';\nimport html2canvas from 'html2canvas';\n\nconst SocialShareCardsModal = ({ onClose }) => {\n  const { userData, currentUser } = useAuth();\n  const [badges, setBadges] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [generatingImage, setGeneratingImage] = useState(false);\n  const [generatedImageUrl, setGeneratedImageUrl] = useState(null);\n  const [showShareChoice, setShowShareChoice] = useState(false);\n  const [pendingPlatform, setPendingPlatform] = useState(null);\n  const cardRef = useRef(null);\n\n  useEffect(() => {\n    loadBadges();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentUser]);\n\n  const loadBadges = async () => {\n    if (!currentUser) return;\n\n    try {\n      const badgesDoc = await getDoc(doc(db, 'badges', currentUser.uid));\n      if (badgesDoc.exists()) {\n        const allBadges = badgesDoc.data().badges || [];\n        // Get featured badges if set, otherwise first 3\n        const featuredIds = userData?.featuredBadges || [];\n        const featured = featuredIds\n          .map(id => allBadges.find(b => b.id === id))\n          .filter(Boolean)\n          .slice(0, 3);\n\n        if (featured.length < 3) {\n          const remaining = allBadges.filter(b => !featuredIds.includes(b.id));\n          featured.push(...remaining.slice(0, 3 - featured.length));\n        }\n\n        setBadges(featured);\n      }\n      setLoading(false);\n    } catch (error) {\n      console.error('Error loading badges:', error);\n      setLoading(false);\n    }\n  };\n\n  const currentGradient = userData?.profile?.backgroundGradient || 'linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%)';\n  const shareUrl = `${window.location.origin}/?invite=${currentUser?.uid}`;\n  const shareText = \"Come be my safety Bestie! üíú\";\n\n  const generateShareImage = async () => {\n    if (!cardRef.current) return;\n\n    setGeneratingImage(true);\n    try {\n      // Wait a bit for fonts and images to load\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n      const canvas = await html2canvas(cardRef.current, {\n        backgroundColor: null,\n        scale: 2,\n        logging: false,\n        useCORS: true,\n        allowTaint: true,\n      });\n\n      const imageUrl = canvas.toDataURL('image/png');\n      setGeneratedImageUrl(imageUrl);\n      return imageUrl;\n    } catch (error) {\n      console.error('Error generating image:', error);\n      toast.error('Failed to generate image');\n      return null;\n    } finally {\n      setGeneratingImage(false);\n    }\n  };\n\n  const downloadImage = async () => {\n    let imageUrl = generatedImageUrl;\n\n    if (!imageUrl) {\n      imageUrl = await generateShareImage();\n      if (!imageUrl) return;\n    }\n\n    const link = document.createElement('a');\n    link.download = 'besties-profile-share.png';\n    link.href = imageUrl;\n    link.click();\n    toast.success('Image downloaded! Share it anywhere üíú');\n  };\n\n  const handleCopyText = async () => {\n    const cardText = `${shareText}\\n\\n${shareUrl}`;\n    try {\n      await navigator.clipboard.writeText(cardText);\n      toast.success('Link copied to clipboard!');\n    } catch (error) {\n      toast.error('Failed to copy');\n    }\n  };\n\n  // Show share choice popup\n  const showShareChoicePopup = (platform) => {\n    setPendingPlatform(platform);\n    setShowShareChoice(true);\n  };\n\n  // Handle share with card\n  const handleShareWithCard = async () => {\n    setShowShareChoice(false);\n\n    // Generate image if not already generated\n    let imageUrl = generatedImageUrl;\n    if (!imageUrl) {\n      imageUrl = await generateShareImage();\n      if (!imageUrl) return;\n    }\n\n    toast.success('Card ready! Download and share it üíú');\n    downloadImage();\n\n    // Then proceed to share\n    setTimeout(() => {\n      executePlatformShare(pendingPlatform, true);\n    }, 1000);\n  };\n\n  // Handle share with link only\n  const handleShareWithLink = () => {\n    setShowShareChoice(false);\n    executePlatformShare(pendingPlatform, false);\n  };\n\n  // Execute the actual platform share\n  const executePlatformShare = (platform, withCard) => {\n    const message = `${shareText}\\n\\n${shareUrl}`;\n    const encoded = encodeURIComponent(message);\n    const urlEncoded = encodeURIComponent(shareUrl);\n    const textEncoded = encodeURIComponent(shareText);\n    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n    switch (platform) {\n      case 'whatsapp':\n        if (isMobile) {\n          window.location.href = `whatsapp://send?text=${encoded}`;\n        } else {\n          window.open(`https://wa.me/?text=${encoded}`, '_blank');\n        }\n        break;\n\n      case 'messenger':\n        if (isMobile) {\n          window.location.href = `fb-messenger://share?link=${urlEncoded}`;\n          setTimeout(() => {\n            window.open(`https://www.facebook.com/dialog/send?link=${urlEncoded}&app_id=&redirect_uri=${urlEncoded}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://www.facebook.com/dialog/send?link=${urlEncoded}&app_id=&redirect_uri=${urlEncoded}`, '_blank', 'width=600,height=400');\n        }\n        break;\n\n      case 'instagram':\n        navigator.clipboard.writeText(message).then(() => {\n          toast.success('Link copied! Opening Instagram DMs...');\n          if (isMobile) {\n            window.location.href = 'instagram://direct/inbox';\n            setTimeout(() => {\n              window.open('https://www.instagram.com/direct/inbox/', '_blank');\n            }, 1500);\n          } else {\n            window.open('https://www.instagram.com/direct/inbox/', '_blank');\n          }\n        }).catch(() => {\n          toast.error('Failed to copy link');\n        });\n        break;\n\n      case 'facebook':\n        if (isMobile) {\n          window.location.href = `fb://profile/${currentUser.uid}`;\n          setTimeout(() => {\n            window.open(`https://www.facebook.com/sharer/sharer.php?u=${urlEncoded}&quote=${textEncoded}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://www.facebook.com/sharer/sharer.php?u=${urlEncoded}&quote=${textEncoded}`, '_blank', 'width=600,height=400');\n        }\n        break;\n\n      case 'twitter':\n        if (isMobile) {\n          window.location.href = `twitter://post?message=${textEncoded} ${urlEncoded}`;\n          setTimeout(() => {\n            window.open(`https://twitter.com/intent/tweet?text=${textEncoded}&url=${urlEncoded}`, '_blank');\n          }, 1500);\n        } else {\n          window.open(`https://twitter.com/intent/tweet?text=${textEncoded}&url=${urlEncoded}`, '_blank', 'width=600,height=400');\n        }\n        break;\n\n      case 'sms':\n        window.location.href = `sms:?body=${encoded}`;\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4\">\n        <div className=\"card p-8 bg-white dark:bg-gray-800\">\n          <div className=\"spinner\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto\">\n      <div className=\"card max-w-2xl w-full p-6 animate-scale-up max-h-[90vh] overflow-y-auto bg-white dark:bg-gray-800\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-display text-text-primary dark:text-white\">Share Your Profile</h2>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors text-gray-700 dark:text-gray-300\"\n          >\n            ‚úï\n          </button>\n        </div>\n\n        <p className=\"text-text-secondary dark:text-gray-300 mb-6\">Choose how you'd like to share your Besties profile with friends!</p>\n\n        {/* Hidden Card for Image Generation */}\n        <div style={{ position: 'absolute', left: '-9999px', top: '-9999px' }}>\n          <div\n            ref={cardRef}\n            className=\"w-full rounded-2xl p-8 text-center shadow-xl relative overflow-hidden\"\n            style={{ background: currentGradient, width: '600px' }}\n          >\n            {/* Profile Photo */}\n            <div className=\"w-32 h-32 bg-gradient-primary rounded-full flex items-center justify-center text-white text-5xl font-display overflow-hidden mx-auto mb-4 border-4 border-white shadow-xl\">\n              {userData?.photoURL ? (\n                <img src={userData.photoURL} alt=\"Profile\" className=\"w-full h-full object-cover\" crossOrigin=\"anonymous\" />\n              ) : (\n                userData?.displayName?.[0] || currentUser?.email?.[0] || 'U'\n              )}\n            </div>\n\n            {/* Name */}\n            <h3 className=\"font-display text-4xl text-gray-800 mb-3\">\n              {userData?.displayName || 'User'}\n            </h3>\n\n            {/* Bio */}\n            {userData?.profile?.bio && (\n              <p className=\"text-gray-700 italic max-w-md mx-auto mb-4 text-base\">\n                \"{userData.profile.bio}\"\n              </p>\n            )}\n\n            {/* Main Message */}\n            <div className=\"bg-white/95 backdrop-blur-sm rounded-2xl p-6 mb-4 shadow-2xl\">\n              <p className=\"text-2xl font-display text-primary mb-2\">\n                üíú Come be my safety Bestie!\n              </p>\n              <p className=\"text-sm text-gray-600\">\n                Join me on the Besties safety app\n              </p>\n            </div>\n\n            {/* Top 3 Badges */}\n            {badges.length > 0 && (\n              <div className=\"mb-4\">\n                <p className=\"text-sm font-semibold text-gray-700 mb-3\">Top Badges</p>\n                <div className=\"flex gap-4 justify-center\">\n                  {badges.map((badge) => (\n                    <div key={badge.id} className=\"flex flex-col items-center bg-white/90 backdrop-blur-sm rounded-xl p-3 shadow-md\">\n                      <div className=\"text-4xl mb-1\">{badge.icon}</div>\n                      <div className=\"text-xs font-semibold text-gray-700\">{badge.name}</div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* App branding */}\n            <div className=\"mt-6 pt-4 border-t-2 border-white/40\">\n              <div className=\"text-sm font-semibold text-gray-700\">Download</div>\n              <div className=\"font-display text-2xl text-gray-800\">Besties</div>\n              <div className=\"text-xs text-gray-600 mt-1\">Your Safety Network</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Share Buttons */}\n        <div className=\"grid grid-cols-2 gap-3 mb-4\">\n          <button\n            onClick={() => showShareChoicePopup('whatsapp')}\n            className=\"btn bg-[#25D366] text-white hover:bg-[#20BA5A] flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\"/>\n            </svg>\n            WhatsApp\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('messenger')}\n            className=\"btn bg-[#0084FF] text-white hover:bg-[#0073E6] flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 0C5.373 0 0 4.975 0 11.111c0 3.497 1.745 6.616 4.472 8.652V24l4.086-2.242c1.09.301 2.246.464 3.442.464 6.627 0 12-4.974 12-11.111C24 4.975 18.627 0 12 0zm1.191 14.963l-3.055-3.26-5.963 3.26L10.732 8l3.131 3.259L19.752 8l-6.561 6.963z\"/>\n            </svg>\n            Messenger\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('instagram')}\n            className=\"btn bg-gradient-to-r from-[#833AB4] via-[#FD1D1D] to-[#F77737] text-white hover:opacity-90 flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\n            </svg>\n            Instagram DM\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('facebook')}\n            className=\"btn bg-[#1877F2] text-white hover:bg-[#166FE5] flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n            </svg>\n            Facebook\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('twitter')}\n            className=\"btn bg-black text-white hover:bg-gray-800 flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\"/>\n            </svg>\n            X (Twitter)\n          </button>\n\n          <button\n            onClick={() => showShareChoicePopup('sms')}\n            className=\"btn bg-success text-white hover:bg-green-600 flex items-center justify-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n            </svg>\n            SMS\n          </button>\n        </div>\n\n        {/* Quick Actions */}\n        <div className=\"flex gap-3\">\n          <button\n            onClick={handleCopyText}\n            className=\"flex-1 btn btn-secondary\"\n          >\n            üìã Copy Link\n          </button>\n          <button\n            onClick={downloadImage}\n            disabled={generatingImage}\n            className=\"flex-1 btn btn-primary\"\n          >\n            {generatingImage ? '‚è≥ Generating...' : 'üì• Download Card'}\n          </button>\n        </div>\n\n        <p className=\"text-xs text-gray-500 dark:text-gray-400 text-center mt-4\">\n          Share your profile with friends so they can join your safety network!\n        </p>\n      </div>\n\n      {/* Share Choice Popup */}\n      {showShareChoice && (\n        <div className=\"fixed inset-0 bg-black/70 dark:bg-black/80 flex items-center justify-center z-[60] p-4 animate-fade-in\">\n          <div className=\"card max-w-md w-full p-6 animate-scale-up bg-white dark:bg-gray-800\">\n            <div className=\"text-center mb-6\">\n              <div className=\"text-6xl mb-4 animate-bounce-slow\">üé®</div>\n              <h3 className=\"text-2xl font-display text-text-primary dark:text-white mb-2\">\n                How do you want to share?\n              </h3>\n              <p className=\"text-sm text-text-secondary dark:text-gray-300\">\n                Choose between a beautiful card or a simple link\n              </p>\n            </div>\n\n            <div className=\"space-y-3 mb-4\">\n              {/* Share with Card */}\n              <button\n                onClick={handleShareWithCard}\n                className=\"w-full p-4 border-2 border-primary bg-purple-50 dark:bg-purple-900/30 rounded-xl hover:bg-purple-100 dark:hover:bg-purple-900/50 transition-all group\"\n                disabled={generatingImage}\n              >\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"text-4xl\">üñºÔ∏è</div>\n                  <div className=\"flex-1 text-left\">\n                    <div className=\"font-display text-lg text-primary dark:text-purple-400 mb-1\">\n                      Share Beautiful Card\n                    </div>\n                    <div className=\"text-xs text-text-secondary dark:text-gray-400\">\n                      Custom image with your profile & badges\n                    </div>\n                  </div>\n                  <div className=\"text-2xl opacity-0 group-hover:opacity-100 transition-opacity dark:text-white\">\n                    ‚Üí\n                  </div>\n                </div>\n              </button>\n\n              {/* Share with Link */}\n              <button\n                onClick={handleShareWithLink}\n                className=\"w-full p-4 border-2 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-all group\"\n              >\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"text-4xl\">üîó</div>\n                  <div className=\"flex-1 text-left\">\n                    <div className=\"font-display text-lg text-gray-800 dark:text-gray-200 mb-1\">\n                      Share Simple Link\n                    </div>\n                    <div className=\"text-xs text-text-secondary dark:text-gray-400\">\n                      Quick text message with link\n                    </div>\n                  </div>\n                  <div className=\"text-2xl opacity-0 group-hover:opacity-100 transition-opacity dark:text-white\">\n                    ‚Üí\n                  </div>\n                </div>\n              </button>\n            </div>\n\n            <button\n              onClick={() => setShowShareChoice(false)}\n              className=\"w-full btn btn-secondary\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* CSS for animations */}\n      <style>{`\n        @keyframes fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes bounce-slow {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-10px); }\n        }\n        .animate-fade-in {\n          animation: fade-in 0.2s ease-out;\n        }\n        .animate-bounce-slow {\n          animation: bounce-slow 2s ease-in-out infinite;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default SocialShareCardsModal;\n","import React, { useState, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { doc, updateDoc } from 'firebase/firestore';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { db, storage } from '../../services/firebase';\nimport toast from 'react-hot-toast';\n\nconst GRADIENT_OPTIONS = [\n  { id: 'pink', name: 'Pink Dream', gradient: 'linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%)' },\n  { id: 'purple', name: 'Purple Magic', gradient: 'linear-gradient(135deg, #e9d5ff 0%, #d8b4fe 100%)' },\n  { id: 'blue', name: 'Ocean Blue', gradient: 'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)' },\n  { id: 'green', name: 'Fresh Green', gradient: 'linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)' },\n  { id: 'sunset', name: 'Sunset Glow', gradient: 'linear-gradient(135deg, #fed7aa 0%, #fca5a5 100%)' },\n  { id: 'lavender', name: 'Lavender Fields', gradient: 'linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%)' },\n  { id: 'peach', name: 'Peachy Keen', gradient: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)' },\n  { id: 'mint', name: 'Mint Fresh', gradient: 'linear-gradient(135deg, #ccfbf1 0%, #99f6e4 100%)' }\n];\n\nconst AURA_OPTIONS = [\n  { id: 'none', name: 'None', emoji: 'üö´', description: 'No animation' },\n  { id: 'shimmer', name: 'Shimmer', emoji: '‚ú®', description: 'Subtle shimmering effect' },\n  { id: 'glow', name: 'Glow', emoji: 'üåü', description: 'Soft pulsing glow' },\n  { id: 'sparkle', name: 'Sparkle', emoji: 'üí´', description: 'Sparkling particles' },\n  { id: 'pulse', name: 'Pulse', emoji: 'üíó', description: 'Gentle pulsing' },\n  { id: 'rainbow', name: 'Rainbow', emoji: 'üåà', description: 'Rainbow border effect' }\n];\n\nconst ProfileCard = ({ currentUser, userData }) => {\n  const navigate = useNavigate();\n  const [showPhotoMenu, setShowPhotoMenu] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [showColorPicker, setShowColorPicker] = useState(false);\n  const [showAuraPicker, setShowAuraPicker] = useState(false);\n  const fileInputRef = useRef(null);\n\n  const currentGradient = userData?.profile?.backgroundGradient || GRADIENT_OPTIONS[0].gradient;\n  const currentAura = userData?.profile?.aura || 'none';\n\n  const handlePhotoUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    if (file.size > 5 * 1024 * 1024) {\n      toast.error('Photo must be less than 5MB');\n      return;\n    }\n\n    setUploading(true);\n    try {\n      const storageRef = ref(storage, `profile-pictures/${currentUser.uid}/${Date.now()}_${file.name}`);\n      await uploadBytes(storageRef, file);\n      const downloadURL = await getDownloadURL(storageRef);\n\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        photoURL: downloadURL,\n      });\n\n      toast.success('Profile picture updated!');\n      setShowPhotoMenu(false);\n    } catch (error) {\n      console.error('Error uploading photo:', error);\n      toast.error('Failed to upload photo');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleRemovePhoto = async () => {\n    try {\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        photoURL: currentUser?.photoURL || null,\n      });\n\n      toast.success('Profile picture removed');\n      setShowPhotoMenu(false);\n    } catch (error) {\n      console.error('Error removing photo:', error);\n      toast.error('Failed to remove photo');\n    }\n  };\n\n  const handleColorChange = async (gradient) => {\n    try {\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        'profile.backgroundGradient': gradient.gradient,\n      });\n      toast.success(`Background changed to ${gradient.name}!`);\n      setShowColorPicker(false);\n    } catch (error) {\n      console.error('Error updating background:', error);\n      toast.error('Failed to update background');\n    }\n  };\n\n  const handleAuraChange = async (aura) => {\n    try {\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        'profile.aura': aura.id,\n      });\n      toast.success(`Aura changed to ${aura.name}! ${aura.emoji}`);\n      setShowAuraPicker(false);\n    } catch (error) {\n      console.error('Error updating aura:', error);\n      toast.error('Failed to update aura');\n    }\n  };\n\n  return (\n    <div\n      id=\"profile-card-shareable\"\n      className={`card p-8 mb-6 text-center relative overflow-hidden shadow-2xl profile-card-aura-${currentAura}`}\n      style={{ background: currentGradient }}\n    >\n      {/* Edit Profile Button - Above Color Picker */}\n      <div className=\"absolute top-4 right-4 color-picker-container flex flex-col gap-2 z-20\">\n        <button\n          onClick={() => navigate('/edit-profile')}\n          className=\"w-10 h-10 rounded-full bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm shadow-xl flex items-center justify-center hover:scale-110 transition-all hover:bg-white dark:hover:bg-gray-800 text-xl\"\n          title=\"Edit profile\"\n        >\n          ‚úèÔ∏è\n        </button>\n\n        {/* Color Picker Button */}\n        <button\n          onClick={() => setShowColorPicker(!showColorPicker)}\n          className=\"w-10 h-10 rounded-full bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm shadow-xl flex items-center justify-center hover:scale-110 transition-all hover:bg-white dark:hover:bg-gray-800\"\n          title=\"Change background color\"\n        >\n          üé®\n        </button>\n\n        {/* Aura Picker Button */}\n        <button\n          onClick={() => setShowAuraPicker(!showAuraPicker)}\n          className=\"w-10 h-10 rounded-full bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm shadow-xl flex items-center justify-center hover:scale-110 transition-all hover:bg-white dark:hover:bg-gray-800\"\n          title=\"Change profile aura\"\n        >\n          ‚ú®\n        </button>\n\n        {showColorPicker && (\n          <>\n            <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 z-40\" onClick={() => setShowColorPicker(false)} />\n            <div className=\"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border-2 border-gray-200 dark:border-gray-600 p-4 z-50 w-80 max-h-[500px] overflow-y-auto\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-lg font-display text-gray-800 dark:text-gray-200\">Choose Background</h3>\n                <button\n                  onClick={() => setShowColorPicker(false)}\n                  className=\"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-400\"\n                >\n                  ‚úï\n                </button>\n              </div>\n              <div className=\"grid grid-cols-2 gap-3\">\n                {GRADIENT_OPTIONS.map((option) => (\n                  <button\n                    key={option.id}\n                    onClick={() => handleColorChange(option)}\n                    className=\"h-16 rounded-lg shadow-md hover:scale-105 transition-transform border-2 border-transparent hover:border-primary\"\n                    style={{ background: option.gradient }}\n                    title={option.name}\n                  >\n                    <span className=\"text-xs font-semibold text-gray-700 dark:text-gray-300 drop-shadow-sm\">\n                      {option.name}\n                    </span>\n                  </button>\n                ))}\n              </div>\n            </div>\n          </>\n        )}\n\n        {showAuraPicker && (\n          <div className=\"aura-picker-container\">\n            <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 z-40\" onClick={() => setShowAuraPicker(false)} />\n            <div className=\"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border-2 border-gray-200 dark:border-gray-600 p-4 z-50 w-80 max-h-[500px] overflow-y-auto\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-lg font-display text-gray-800 dark:text-gray-200\">Choose Profile Aura ‚ú®</h3>\n                <button\n                  onClick={() => setShowAuraPicker(false)}\n                  className=\"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-400\"\n                >\n                  ‚úï\n                </button>\n              </div>\n              <div className=\"space-y-2\">\n                {AURA_OPTIONS.map((option) => (\n                  <button\n                    key={option.id}\n                    onClick={() => handleAuraChange(option)}\n                    className={`w-full p-3 rounded-lg shadow-md hover:scale-105 transition-transform border-2 text-left ${\n                      (userData?.profile?.aura || 'none') === option.id\n                        ? 'border-primary bg-purple-50 dark:bg-purple-900/30'\n                        : 'border-transparent hover:border-primary bg-gray-50 dark:bg-gray-700'\n                    }`}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"text-2xl\">{option.emoji}</span>\n                      <div className=\"flex-1\">\n                        <div className=\"font-semibold text-gray-800 dark:text-gray-200\">{option.name}</div>\n                        <div className=\"text-xs text-gray-600 dark:text-gray-400\">{option.description}</div>\n                      </div>\n                      {(userData?.profile?.aura || 'none') === option.id && (\n                        <span className=\"text-primary\">‚úì</span>\n                      )}\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Profile Photo */}\n      <div className=\"relative inline-block photo-menu-container z-10\">\n        <button\n          onClick={() => setShowPhotoMenu(!showPhotoMenu)}\n          className=\"w-36 h-36 bg-gradient-primary rounded-full flex items-center justify-center text-white text-5xl font-display overflow-hidden hover:opacity-90 transition-all hover:scale-105 border-4 border-white shadow-2xl ring-4 ring-purple-200\"\n        >\n          {userData?.photoURL ? (\n            <img src={userData.photoURL} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            userData?.displayName?.[0] || currentUser?.email?.[0] || 'U'\n          )}\n        </button>\n\n        {/* Photo Management Menu */}\n        {showPhotoMenu && (\n          <div className=\"absolute top-full left-1/2 -translate-x-1/2 mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-xl border-2 border-gray-200 dark:border-gray-600 p-2 z-30 w-48\">\n            <div className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 px-3 py-1\">Manage Photo</div>\n            <button\n              onClick={() => {\n                fileInputRef.current?.click();\n                setShowPhotoMenu(false);\n              }}\n              disabled={uploading}\n              className=\"w-full text-left px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-sm font-semibold text-gray-700 dark:text-gray-300\"\n            >\n              üîÑ Replace\n            </button>\n            <button\n              onClick={handleRemovePhoto}\n              className=\"w-full text-left px-3 py-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded text-sm font-semibold text-red-600 dark:text-red-400\"\n            >\n              ‚ùå Remove\n            </button>\n          </div>\n        )}\n\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={handlePhotoUpload}\n          className=\"hidden\"\n        />\n      </div>\n\n      <h1 className=\"text-4xl font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-3 mt-4\">\n        {userData?.displayName || 'User'}\n      </h1>\n\n      {userData?.profile?.bio && (\n        <p className=\"text-gray-800 dark:text-gray-200 italic max-w-md mx-auto mt-4 text-lg\">\n          \"{userData.profile.bio}\"\n        </p>\n      )}\n\n      {/* Social Sharing Icons - Cute & Small */}\n      <div className=\"mt-6 relative z-10\">\n        <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-2 font-semibold\">Share your profile:</p>\n        <div className=\"flex gap-2 justify-center flex-wrap\">\n          {/* Facebook */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              const text = `Come be my bestie on Besties! üíú`;\n              const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n              if (isMobile) {\n                // Try to open Facebook app first\n                window.location.href = `fb://profile/${currentUser.uid}`;\n                // Fallback to web after a delay\n                setTimeout(() => {\n                  window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(text)}`, '_blank');\n                }, 1500);\n              } else {\n                window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(text)}`, '_blank');\n              }\n            }}\n            className=\"w-8 h-8 rounded-full bg-[#1877f2] hover:bg-[#1864d9] text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Share on Facebook\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n            </svg>\n          </button>\n\n          {/* Twitter/X */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              const text = `Come be my bestie on Besties! üíú`;\n              const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n              if (isMobile) {\n                // Try to open Twitter app first\n                window.location.href = `twitter://post?message=${encodeURIComponent(text + ' ' + url)}`;\n                // Fallback to web after a delay\n                setTimeout(() => {\n                  window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`, '_blank');\n                }, 1500);\n              } else {\n                window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`, '_blank');\n              }\n            }}\n            className=\"w-8 h-8 rounded-full bg-black hover:bg-gray-800 text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Share on X (Twitter)\"\n          >\n            <svg className=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\"/>\n            </svg>\n          </button>\n\n          {/* WhatsApp */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              const text = `Come be my bestie on Besties! üíú`;\n              const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n\n              if (isMobile) {\n                // Try to open WhatsApp app first\n                window.location.href = `whatsapp://send?text=${encodeURIComponent(text + ' ' + url)}`;\n                // Fallback to web after a delay\n                setTimeout(() => {\n                  window.open(`https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`, '_blank');\n                }, 1500);\n              } else {\n                window.open(`https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`, '_blank');\n              }\n            }}\n            className=\"w-8 h-8 rounded-full bg-[#25d366] hover:bg-[#20bd5a] text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Share on WhatsApp\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\"/>\n            </svg>\n          </button>\n\n          {/* Instagram - Copy Link */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              navigator.clipboard.writeText(url);\n              toast.success('Profile link copied! Share it on Instagram üíú');\n            }}\n            className=\"w-8 h-8 rounded-full bg-gradient-to-tr from-[#f09433] via-[#e6683c] to-[#bc1888] hover:opacity-90 text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Copy link for Instagram\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\n            </svg>\n          </button>\n\n          {/* Copy Link Button */}\n          <button\n            onClick={() => {\n              const url = `${window.location.origin}/user/${currentUser.uid}`;\n              navigator.clipboard.writeText(url);\n              toast.success('Profile link copied to clipboard!');\n            }}\n            className=\"w-8 h-8 rounded-full bg-gray-600 hover:bg-gray-700 text-white flex items-center justify-center transition-all shadow-md hover:shadow-lg hover:scale-110\"\n            title=\"Copy link\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileCard;\n","import React from 'react';\n\nconst ProfileCompletion = ({\n  profileCompletion,\n  animatedProgress,\n  onTaskNavigation\n}) => {\n  const getProgressColor = (percentage) => {\n    if (percentage === 100) return 'bg-green-500';\n    if (percentage >= 60) return 'bg-yellow-500';\n    return 'bg-red-500';\n  };\n\n  // Hide when 100% complete\n  if (profileCompletion.percentage >= 100) {\n    return null;\n  }\n\n  return (\n    <div className=\"card p-6 mb-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 border-2 border-purple-100 dark:border-gray-600\">\n      <div className=\"flex items-center justify-between mb-3\">\n        <h2 className=\"text-xl font-display text-gradient\">Profile Completion ‚ú®</h2>\n        <span className=\"text-2xl font-bold text-gradient\">\n          {profileCompletion.completed}/{profileCompletion.total}\n        </span>\n      </div>\n\n      {/* Animated Progress Bar with Shimmer Effect */}\n      <div className=\"w-full h-4 bg-white dark:bg-gray-700 rounded-full overflow-hidden mb-4 shadow-inner relative\">\n        <div\n          className={`h-full ${getProgressColor(profileCompletion.percentage)} transition-all duration-1000 ease-out relative overflow-hidden`}\n          style={{ width: `${animatedProgress}%` }}\n        >\n          {/* Shimmer effect */}\n          <div className=\"absolute inset-0 shimmer-effect\"></div>\n        </div>\n        {/* Progress percentage text */}\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          <span className=\"text-xs font-bold text-gray-700 dark:text-gray-300 drop-shadow-sm\">\n            {Math.round(profileCompletion.percentage)}%\n          </span>\n        </div>\n      </div>\n\n      {/* Task List with Navigation */}\n      <div className=\"space-y-2\">\n        {profileCompletion.tasks.map((task, index) => (\n          <div key={index} className=\"flex items-center justify-between gap-2\">\n            <div className=\"flex items-center gap-2 flex-1\">\n              <span className=\"text-lg\">\n                {task.completed ? '‚úÖ' : '‚≠ï'}\n              </span>\n              <span className={`text-sm ${task.completed ? 'text-gray-500 dark:text-gray-400 line-through' : 'text-gray-700 dark:text-gray-300 font-semibold'}`}>\n                {task.name}\n              </span>\n            </div>\n            {!task.completed && (task.path || task.action) && (\n              <button\n                onClick={() => onTaskNavigation(task)}\n                className=\"btn btn-sm btn-primary text-xs px-3 py-1\"\n              >\n                Go ‚Üí\n              </button>\n            )}\n          </div>\n        ))}\n      </div>\n\n      <style>{`\n        @keyframes shimmer {\n          0% {\n            transform: translateX(-100%);\n          }\n          100% {\n            transform: translateX(100%);\n          }\n        }\n        .shimmer-effect {\n          background: linear-gradient(\n            90deg,\n            transparent,\n            rgba(255, 255, 255, 0.4),\n            transparent\n          );\n          animation: shimmer 2s infinite;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ProfileCompletion;\n","import React from 'react';\n\nconst WeeklySummary = ({ weeklySummary, hasWeekOfActivity, userData, bestiesCount }) => {\n  return (\n    <div className=\"card p-6 mb-6\">\n      <h2 className=\"text-xl font-display text-gray-800 dark:text-gray-200 mb-4\">Weekly Summary</h2>\n\n      <div className=\"bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/30 dark:to-purple-900/30 rounded-xl p-4\">\n        <div className=\"flex items-start gap-3\">\n          <span className=\"text-4xl\">{weeklySummary.emoji}</span>\n          <div className=\"flex-1\">\n            <h3 className=\"font-semibold text-lg text-gray-800 dark:text-gray-200 mb-1\">\n              {weeklySummary.message}\n            </h3>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\n              üí° {weeklySummary.tip}\n            </p>\n            {hasWeekOfActivity && (\n              <div className=\"flex gap-4 text-sm\">\n                <div>\n                  <span className=\"font-semibold text-primary\">{userData?.stats?.totalCheckIns || 0}</span>\n                  <span className=\"text-gray-600 dark:text-gray-400\"> check-ins</span>\n                </div>\n                <div>\n                  <span className=\"font-semibold text-secondary\">{bestiesCount}</span>\n                  <span className=\"text-gray-600 dark:text-gray-400\"> besties</span>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WeeklySummary;\n","import React from 'react';\nimport CountUp from '../CountUp';\n\nconst LoginStreak = ({ loginStreak }) => {\n  if (loginStreak <= 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"card p-6 mb-6 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/30 dark:to-red-900/30\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-display text-gray-800 dark:text-gray-200 mb-1\">Daily Login Streak</h2>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">Keep it going! üí™</p>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-5xl mb-1\">üî•</div>\n          <div className=\"text-3xl font-display text-orange-600 dark:text-orange-400\">\n            <CountUp end={loginStreak} duration={1500} />\n          </div>\n          <div className=\"text-xs text-gray-600 dark:text-gray-400\">days</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginStreak;\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { doc, updateDoc } from 'firebase/firestore';\nimport { db } from '../../services/firebase';\nimport toast from 'react-hot-toast';\n\nconst BadgesSection = ({\n  currentUser,\n  badges,\n  featuredBadgeIds,\n  setFeaturedBadgeIds,\n  setConfettiTrigger\n}) => {\n  const navigate = useNavigate();\n  const [showBadgeSelector, setShowBadgeSelector] = useState(false);\n\n  const featuredBadges = badges.filter(b => featuredBadgeIds.includes(b.id));\n  const otherBadges = badges.filter(b => !featuredBadgeIds.includes(b.id));\n  const allBadgesToShow = [...featuredBadges, ...otherBadges];\n\n  const handleToggleFeaturedBadge = async (badgeId) => {\n    let newFeaturedBadges = [...featuredBadgeIds];\n\n    if (newFeaturedBadges.includes(badgeId)) {\n      newFeaturedBadges = newFeaturedBadges.filter(id => id !== badgeId);\n    } else {\n      if (newFeaturedBadges.length >= 3) {\n        toast.error('You can only feature up to 3 badges');\n        return;\n      }\n      newFeaturedBadges.push(badgeId);\n      setConfettiTrigger(true);\n      setTimeout(() => setConfettiTrigger(false), 100);\n    }\n\n    try {\n      await updateDoc(doc(db, 'users', currentUser.uid), {\n        featuredBadges: newFeaturedBadges,\n      });\n      setFeaturedBadgeIds(newFeaturedBadges);\n      toast.success('Featured badges updated!');\n    } catch (error) {\n      console.error('Error updating featured badges:', error);\n      toast.error('Failed to update badges');\n    }\n  };\n\n  return (\n    <>\n      <div className=\"mb-6 relative\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <h2 className=\"text-2xl font-display text-gray-800 dark:text-gray-200\">Your Badges</h2>\n          <button\n            onClick={() => navigate('/badges')}\n            className=\"text-primary font-semibold hover:underline text-sm\"\n          >\n            View All ‚Üí\n          </button>\n        </div>\n\n        <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-4\">\n          {featuredBadgeIds.length > 0\n            ? `‚≠ê ${featuredBadgeIds.length} featured badge${featuredBadgeIds.length > 1 ? 's' : ''} shown first ‚Ä¢ `\n            : ''}\n          <button\n            onClick={() => setShowBadgeSelector(true)}\n            className=\"text-primary hover:underline\"\n          >\n            Choose your top 3 to feature\n          </button>\n        </p>\n\n        {allBadgesToShow.length > 0 ? (\n          <>\n            {/* Featured Badges - Show prominently */}\n            {featuredBadges.length > 0 && (\n              <div className=\"mb-4\">\n                <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4\">\n                  {featuredBadges.map((badge) => (\n                    <div\n                      key={badge.id}\n                      className=\"card p-4 text-center transition-all bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/30 dark:to-orange-900/30 border-2 border-yellow-400 dark:border-yellow-600 shadow-lg\"\n                    >\n                      <div className=\"text-4xl mb-2\">{badge.icon}</div>\n                      <div className=\"font-semibold text-sm text-gray-800 dark:text-gray-200\">{badge.name}</div>\n                      <div className=\"text-xs text-yellow-600 dark:text-yellow-400 mt-1\">‚≠ê Featured</div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Other Badges - Scrollable horizontal list if many */}\n            {otherBadges.length > 0 && (\n              <div>\n                {otherBadges.length > 6 ? (\n                  <>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">Scroll to see all badges ‚Üí</p>\n                    <div className=\"flex gap-3 overflow-x-auto pb-2 scrollbar-hide\">\n                      {otherBadges.map((badge) => (\n                        <div\n                          key={badge.id}\n                          className=\"card p-4 text-center transition-all bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-700 flex-shrink-0 w-32\"\n                        >\n                          <div className=\"text-4xl mb-2\">{badge.icon}</div>\n                          <div className=\"font-semibold text-sm text-gray-800 dark:text-gray-200\">{badge.name}</div>\n                        </div>\n                      ))}\n                    </div>\n                  </>\n                ) : (\n                  <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4\">\n                    {otherBadges.map((badge) => (\n                      <div\n                        key={badge.id}\n                        className=\"card p-4 text-center transition-all bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-700\"\n                      >\n                        <div className=\"text-4xl mb-2\">{badge.icon}</div>\n                        <div className=\"font-semibold text-sm text-gray-800 dark:text-gray-200\">{badge.name}</div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n          </>\n        ) : (\n          <div className=\"card p-8 text-center\">\n            <div className=\"text-5xl mb-3\">üèÜ</div>\n            <p className=\"text-gray-800 dark:text-gray-200 font-semibold mb-2\">\n              Start earning badges!\n            </p>\n            <p className=\"text-gray-600 dark:text-gray-400 text-sm mb-4\">\n              Complete check-ins, invite friends, and stay safe to unlock achievements\n            </p>\n            <button\n              onClick={() => navigate('/badges')}\n              className=\"btn btn-primary text-sm\"\n            >\n              See All Available Badges\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Badge Selector Modal */}\n      {showBadgeSelector && (\n        <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-2xl font-display text-gray-800 dark:text-gray-200\">Choose Featured Badges</h2>\n              <button\n                onClick={() => setShowBadgeSelector(false)}\n                className=\"w-8 h-8 rounded-full bg-red-500 text-white hover:bg-red-600 flex items-center justify-center text-xl font-bold transition-colors\"\n                title=\"Close\"\n              >\n                √ó\n              </button>\n            </div>\n\n            <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\n              Select up to 3 badges to showcase on your profile ({featuredBadgeIds.length}/3 selected)\n            </p>\n\n            {badges.length > 0 ? (\n              <div className=\"grid grid-cols-3 sm:grid-cols-4 gap-4\">\n                {badges.map((badge) => {\n                  const isSelected = featuredBadgeIds.includes(badge.id);\n                  return (\n                    <button\n                      key={badge.id}\n                      onClick={() => handleToggleFeaturedBadge(badge.id)}\n                      className={`p-4 rounded-xl text-center transition-all ${\n                        isSelected\n                          ? 'bg-gradient-to-br from-yellow-100 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30 border-2 border-primary shadow-lg scale-105'\n                          : 'bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border-2 border-transparent'\n                      }`}\n                    >\n                      <div className=\"text-4xl mb-2\">{badge.icon}</div>\n                      <div className=\"font-semibold text-xs text-gray-800 dark:text-gray-200\">{badge.name}</div>\n                      {isSelected && <div className=\"text-xs text-primary mt-1\">‚úì Featured</div>}\n                    </button>\n                  );\n                })}\n              </div>\n            ) : (\n              <div className=\"text-center py-12\">\n                <div className=\"text-5xl mb-3\">üèÜ</div>\n                <p className=\"text-gray-600 dark:text-gray-400 mb-4\">No badges yet! Complete tasks to earn them.</p>\n              </div>\n            )}\n\n            <div className=\"mt-6 flex justify-center\">\n              <button\n                onClick={() => navigate('/badges')}\n                className=\"btn btn-primary\"\n              >\n                See How to Earn Badges ‚Üí\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <style>{`\n        /* Hide scrollbar for horizontal badge scroll */\n        .scrollbar-hide {\n          -ms-overflow-style: none;  /* IE and Edge */\n          scrollbar-width: none;  /* Firefox */\n        }\n        .scrollbar-hide::-webkit-scrollbar {\n          display: none;  /* Chrome, Safari, Opera */\n        }\n      `}</style>\n    </>\n  );\n};\n\nexport default BadgesSection;\n","import React from 'react';\nimport CountUp from '../CountUp';\n\nconst StatsSection = ({\n  bestiesCount,\n  emergencyContactCount,\n  daysActive,\n  userData,\n  badges,\n  loginStreak,\n  nighttimeCheckIns,\n  weekendCheckIns\n}) => {\n  return (\n    <div className=\"card p-8 mb-6 bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 dark:from-purple-900/30 dark:via-pink-900/30 dark:to-orange-900/30\">\n      <h2 className=\"text-3xl font-display text-gradient mb-6 text-center\">Your Impact ‚ú®</h2>\n\n      <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n        {/* Besties Count */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\">üíú</div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={bestiesCount} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Besties</div>\n          </div>\n        </div>\n\n        {/* Emergency Contact Count */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\">üõ°Ô∏è</div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={emergencyContactCount} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Times Selected</div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">as Emergency Contact</div>\n          </div>\n        </div>\n\n        {/* Days Active */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\">üìÖ</div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={daysActive} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Days Active</div>\n          </div>\n        </div>\n\n        {/* Completed Check-ins */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\">‚úÖ</div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={userData?.stats?.completedCheckIns || 0} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Safe Check-ins</div>\n          </div>\n        </div>\n\n        {/* Badges Earned */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\">üèÜ</div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={badges.length} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Badges Earned</div>\n          </div>\n        </div>\n\n        {/* Login Streak */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\">üî•</div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={loginStreak} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Day Streak</div>\n          </div>\n        </div>\n\n        {/* Nighttime Check-ins */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\">üåô</div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={nighttimeCheckIns} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Night Check-ins</div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">9 PM - 6 AM</div>\n          </div>\n        </div>\n\n        {/* Weekend Check-ins */}\n        <div className=\"relative overflow-hidden rounded-2xl p-6 bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-shadow\">\n          <div className=\"absolute top-0 right-0 text-6xl opacity-10\">üéâ</div>\n          <div className=\"relative z-10\">\n            <div className=\"text-4xl font-display bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-2\">\n              <CountUp end={weekendCheckIns} duration={1500} />\n            </div>\n            <div className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Weekend Check-ins</div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">Sat & Sun</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StatsSection;\n","import React from 'react';\nimport CountUp from '../CountUp';\n\nconst DonationStatus = ({ userData }) => {\n  if (!userData?.donationStats?.isActive) {\n    return null;\n  }\n\n  return (\n    <div className=\"card p-6 mb-6 bg-gradient-primary text-white\">\n      <h3 className=\"font-display text-xl mb-2\">üíú Thank You!</h3>\n      <p className=\"mb-2\">\n        You're helping keep Besties free for everyone\n      </p>\n      <div className=\"text-2xl font-display\">\n        $<CountUp end={userData.donationStats.totalDonated} duration={2000} /> donated\n      </div>\n    </div>\n  );\n};\n\nexport default DonationStatus;\n","import React from 'react';\n\nconst ProfileAuraStyles = () => {\n  return (\n    <style>{`\n      /* Aura Animations */\n      @keyframes aura-shimmer {\n        0%, 100% { opacity: 1; }\n        50% { opacity: 0.7; }\n      }\n      @keyframes aura-glow {\n        0%, 100% {\n          box-shadow: 0 0 20px rgba(219, 39, 119, 0.3), 0 0 40px rgba(139, 92, 246, 0.2);\n        }\n        50% {\n          box-shadow: 0 0 40px rgba(219, 39, 119, 0.5), 0 0 80px rgba(139, 92, 246, 0.4);\n        }\n      }\n      @keyframes aura-pulse {\n        0%, 100% { transform: scale(1); }\n        50% { transform: scale(1.02); }\n      }\n      @keyframes rainbow-border {\n        0% { border-color: #ff0000; }\n        16% { border-color: #ff7f00; }\n        33% { border-color: #ffff00; }\n        50% { border-color: #00ff00; }\n        66% { border-color: #0000ff; }\n        83% { border-color: #8b00ff; }\n        100% { border-color: #ff0000; }\n      }\n      @keyframes sparkle {\n        0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }\n        50% { opacity: 1; transform: scale(1) rotate(180deg); }\n      }\n\n      /* Aura Classes */\n      .profile-card-aura-shimmer::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: -100%;\n        width: 100%;\n        height: 100%;\n        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);\n        animation: shimmer 3s infinite;\n        pointer-events: none;\n      }\n\n      .profile-card-aura-glow {\n        animation: aura-glow 3s ease-in-out infinite;\n      }\n\n      .profile-card-aura-pulse {\n        animation: aura-pulse 2s ease-in-out infinite;\n      }\n\n      .profile-card-aura-rainbow {\n        border: 4px solid;\n        animation: rainbow-border 6s linear infinite;\n      }\n\n      .profile-card-aura-sparkle::after {\n        content: '‚ú®';\n        position: absolute;\n        top: 10%;\n        right: 10%;\n        font-size: 2rem;\n        animation: sparkle 2s ease-in-out infinite;\n        pointer-events: none;\n      }\n    `}</style>\n  );\n};\n\nexport default ProfileAuraStyles;\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { db } from '../services/firebase';\nimport { doc, getDoc, collection, query, where, getDocs } from 'firebase/firestore';\nimport Header from '../components/Header';\nimport BestieCircle from '../components/BestieCircle';\nimport SocialShareCardsModal from '../components/SocialShareCardsModal';\nimport ConfettiCelebration from '../components/ConfettiCelebration';\nimport ProfileCard from '../components/profile/ProfileCard';\nimport ProfileCompletion from '../components/profile/ProfileCompletion';\nimport WeeklySummary from '../components/profile/WeeklySummary';\nimport LoginStreak from '../components/profile/LoginStreak';\nimport BadgesSection from '../components/profile/BadgesSection';\nimport StatsSection from '../components/profile/StatsSection';\nimport DonationStatus from '../components/profile/DonationStatus';\nimport ProfileAuraStyles from '../components/profile/ProfileAuraStyles';\n\nconst ProfilePage = () => {\n  const { currentUser, userData } = useAuth();\n  const navigate = useNavigate();\n  const [badges, setBadges] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showShareModal, setShowShareModal] = useState(false);\n  const [featuredBadgeIds, setFeaturedBadgeIds] = useState([]);\n  const [bestiesCount, setBestiesCount] = useState(0);\n  const [confettiTrigger, setConfettiTrigger] = useState(false);\n  const [emergencyContactCount, setEmergencyContactCount] = useState(0);\n  const [firstCheckInDate, setFirstCheckInDate] = useState(null);\n  const [nighttimeCheckIns, setNighttimeCheckIns] = useState(0);\n  const [weekendCheckIns, setWeekendCheckIns] = useState(0);\n  const [animatedProgress, setAnimatedProgress] = useState(0);\n\n  useEffect(() => {\n    loadData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentUser]);\n\n  // Animate progress bar when profile completion changes\n  useEffect(() => {\n    const profileCompletion = calculateProfileCompletion();\n    const targetProgress = profileCompletion.percentage;\n    setAnimatedProgress(targetProgress);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userData, bestiesCount, currentUser]);\n\n  const loadData = async () => {\n    if (!currentUser) return;\n\n    try {\n      // Load badges\n      const badgesDoc = await getDoc(doc(db, 'badges', currentUser.uid));\n      if (badgesDoc.exists()) {\n        const badgesData = badgesDoc.data().badges || [];\n        setBadges(badgesData);\n      }\n\n      // Load featured badge preferences\n      const userDoc = await getDoc(doc(db, 'users', currentUser.uid));\n      if (userDoc.exists()) {\n        const data = userDoc.data();\n        setFeaturedBadgeIds(data.featuredBadges || []);\n      }\n\n      // Load besties count\n      const bestiesQuery = query(\n        collection(db, 'besties'),\n        where('requesterId', '==', currentUser.uid),\n        where('status', '==', 'accepted')\n      );\n      const bestiesQuery2 = query(\n        collection(db, 'besties'),\n        where('recipientId', '==', currentUser.uid),\n        where('status', '==', 'accepted')\n      );\n\n      const [snapshot1, snapshot2] = await Promise.all([\n        getDocs(bestiesQuery),\n        getDocs(bestiesQuery2)\n      ]);\n\n      setBestiesCount(snapshot1.size + snapshot2.size);\n\n      // Count how many times user is an emergency contact\n      const emergencyContactQuery = query(\n        collection(db, 'checkins'),\n        where('selectedBesties', 'array-contains', currentUser.uid)\n      );\n      const emergencySnapshot = await getDocs(emergencyContactQuery);\n      setEmergencyContactCount(emergencySnapshot.size);\n\n      // Get first check-in date\n      const checkInsQuery = query(\n        collection(db, 'checkins'),\n        where('userId', '==', currentUser.uid)\n      );\n      const checkInsSnapshot = await getDocs(checkInsQuery);\n      if (!checkInsSnapshot.empty) {\n        let earliestDate = null;\n        let nightCount = 0;\n        let weekendCount = 0;\n\n        checkInsSnapshot.forEach(docSnap => {\n          const data = docSnap.data();\n          const date = data.createdAt?.toDate();\n\n          if (date) {\n            if (!earliestDate || date < earliestDate) {\n              earliestDate = date;\n            }\n\n            const hour = date.getHours();\n            if (hour >= 21 || hour < 6) {\n              nightCount++;\n            }\n\n            const day = date.getDay();\n            if (day === 0 || day === 6) {\n              weekendCount++;\n            }\n          }\n        });\n\n        setFirstCheckInDate(earliestDate);\n        setNighttimeCheckIns(nightCount);\n        setWeekendCheckIns(weekendCount);\n      }\n\n      setLoading(false);\n    } catch (error) {\n      console.error('Error loading data:', error);\n      setLoading(false);\n    }\n  };\n\n  const calculateProfileCompletion = () => {\n    const tasks = [];\n    let completed = 0;\n\n    if (currentUser?.email) {\n      tasks.push({ name: 'Add email', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: 'Add email', completed: false, path: '/settings', section: 'account' });\n    }\n\n    if (userData?.phoneNumber) {\n      tasks.push({ name: 'Add phone number', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: 'Add phone number', completed: false, path: '/edit-profile', section: 'phone' });\n    }\n\n    if (userData?.photoURL) {\n      tasks.push({ name: 'Upload profile photo', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: 'Upload profile photo', completed: false, path: null, section: 'photo', action: 'scrollToPhoto' });\n    }\n\n    if (userData?.profile?.bio) {\n      tasks.push({ name: 'Write a bio', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: 'Write a bio', completed: false, path: '/edit-profile', section: 'bio' });\n    }\n\n    if (bestiesCount >= 5) {\n      tasks.push({ name: 'Add 5 besties', completed: true, path: null, section: null });\n      completed++;\n    } else {\n      tasks.push({ name: `Add 5 besties (${bestiesCount}/5)`, completed: false, path: null, section: null, action: 'scrollToBestieCircle' });\n    }\n\n    const percentage = (completed / tasks.length) * 100;\n    return { tasks, percentage, completed, total: tasks.length };\n  };\n\n  const hasWeekOfActivity = () => {\n    if (!firstCheckInDate) return false;\n    const weekAgo = new Date();\n    weekAgo.setDate(weekAgo.getDate() - 7);\n    return firstCheckInDate <= weekAgo;\n  };\n\n  const getWeeklySummary = () => {\n    if (!hasWeekOfActivity()) {\n      return {\n        status: 'new',\n        emoji: 'üå±',\n        message: 'Building your safety journey',\n        tip: 'You\\'ll get your weekly summary after you have one week of activity!'\n      };\n    }\n\n    const checkIns = userData?.stats?.totalCheckIns || 0;\n    const besties = userData?.stats?.totalBesties || 0;\n\n    if (checkIns >= 7 && besties >= 3) {\n      return {\n        status: 'excellent',\n        emoji: 'üåü',\n        message: 'You\\'re absolutely crushing it this week!',\n        tip: 'Keep up the amazing safety habits!'\n      };\n    } else if (checkIns >= 3 || besties >= 3) {\n      return {\n        status: 'good',\n        emoji: 'üí™',\n        message: 'You\\'re doing great! Keep it up!',\n        tip: 'Try to check in regularly and add more besties.'\n      };\n    } else {\n      return {\n        status: 'needsWork',\n        emoji: 'üíú',\n        message: 'Let\\'s build your safety network!',\n        tip: 'Start by adding your closest friends as besties.'\n      };\n    }\n  };\n\n  const handleTaskNavigation = (task) => {\n    if (task.action === 'scrollToPhoto') {\n      const photoElement = document.querySelector('.photo-menu-container');\n      if (photoElement) {\n        photoElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    } else if (task.action === 'scrollToBestieCircle') {\n      const bestieCircleElement = document.querySelector('.bestie-circle-section');\n      if (bestieCircleElement) {\n        bestieCircleElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    } else if (task.path) {\n      if (task.section) {\n        navigate(`${task.path}#${task.section}`);\n      } else {\n        navigate(task.path);\n      }\n    }\n  };\n\n  const getDaysActive = () => {\n    if (!firstCheckInDate) return 0;\n    const now = new Date();\n    const diffTime = Math.abs(now - firstCheckInDate);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n\n  const profileCompletion = calculateProfileCompletion();\n  const weeklySummary = getWeeklySummary();\n  const loginStreak = userData?.loginStreak || 0;\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-pattern\">\n        <Header />\n        <div className=\"flex items-center justify-center py-20\">\n          <div className=\"spinner\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-pattern\">\n      <Header />\n      <ConfettiCelebration trigger={confettiTrigger} type=\"badge\" />\n      <ProfileAuraStyles />\n\n      <div className=\"max-w-4xl mx-auto p-4 pb-24 md:pb-6\">\n        {/* Profile Card */}\n        <ProfileCard currentUser={currentUser} userData={userData} />\n\n        {/* Profile Completion */}\n        <ProfileCompletion\n          profileCompletion={profileCompletion}\n          animatedProgress={animatedProgress}\n          onTaskNavigation={handleTaskNavigation}\n        />\n\n        {/* Weekly Summary */}\n        <WeeklySummary\n          weeklySummary={weeklySummary}\n          hasWeekOfActivity={hasWeekOfActivity()}\n          userData={userData}\n          bestiesCount={bestiesCount}\n        />\n\n        {/* Login Streak */}\n        <LoginStreak loginStreak={loginStreak} />\n\n        {/* Badges Section */}\n        <BadgesSection\n          currentUser={currentUser}\n          badges={badges}\n          featuredBadgeIds={featuredBadgeIds}\n          setFeaturedBadgeIds={setFeaturedBadgeIds}\n          setConfettiTrigger={setConfettiTrigger}\n        />\n\n        {/* Stats Section */}\n        <StatsSection\n          bestiesCount={bestiesCount}\n          emergencyContactCount={emergencyContactCount}\n          daysActive={getDaysActive()}\n          userData={userData}\n          badges={badges}\n          loginStreak={loginStreak}\n          nighttimeCheckIns={nighttimeCheckIns}\n          weekendCheckIns={weekendCheckIns}\n        />\n\n        {/* Bestie Circle */}\n        <div className=\"mb-6 bestie-circle-section\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-2xl font-display text-gray-800 dark:text-gray-200\">Your Bestie Circle</h2>\n            <button\n              onClick={() => navigate('/besties')}\n              className=\"text-primary font-semibold hover:underline\"\n            >\n              Manage ‚Üí\n            </button>\n          </div>\n          <BestieCircle userId={currentUser?.uid} onAddClick={() => navigate('/besties')} />\n        </div>\n\n        {/* Donation Status */}\n        <DonationStatus userData={userData} />\n\n        {/* Settings Button */}\n        <div className=\"space-y-3\">\n          <button\n            onClick={() => navigate('/settings')}\n            className=\"w-full btn btn-secondary\"\n          >\n            ‚öôÔ∏è Settings\n          </button>\n        </div>\n      </div>\n\n      {/* Share Modal */}\n      {showShareModal && (\n        <SocialShareCardsModal onClose={() => setShowShareModal(false)} />\n      )}\n    </div>\n  );\n};\n\nexport default ProfilePage;\n","import { useEffect } from 'react';\nimport confetti from 'canvas-confetti';\n\nconst ConfettiCelebration = ({ trigger = false, type = 'default' }) => {\n  useEffect(() => {\n    if (!trigger) return;\n\n    const fireConfetti = () => {\n      if (type === 'badge') {\n        // Badge celebration - stars and hearts\n        const count = 200;\n        const defaults = {\n          origin: { y: 0.7 },\n          shapes: ['circle', 'square'],\n          colors: ['#FF69B4', '#DDA0DD', '#FFB6C1', '#FFC0CB', '#FF1493']\n        };\n\n        function fire(particleRatio, opts) {\n          confetti({\n            ...defaults,\n            ...opts,\n            particleCount: Math.floor(count * particleRatio)\n          });\n        }\n\n        fire(0.25, {\n          spread: 26,\n          startVelocity: 55,\n        });\n\n        fire(0.2, {\n          spread: 60,\n        });\n\n        fire(0.35, {\n          spread: 100,\n          decay: 0.91,\n          scalar: 0.8\n        });\n\n        fire(0.1, {\n          spread: 120,\n          startVelocity: 25,\n          decay: 0.92,\n          scalar: 1.2\n        });\n\n        fire(0.1, {\n          spread: 120,\n          startVelocity: 45,\n        });\n      } else if (type === 'milestone') {\n        // Milestone - explosion from center\n        confetti({\n          particleCount: 150,\n          spread: 70,\n          origin: { y: 0.6 },\n          colors: ['#FF69B4', '#DDA0DD', '#FFB6C1', '#87CEEB', '#98FB98']\n        });\n\n        // Second burst\n        setTimeout(() => {\n          confetti({\n            particleCount: 100,\n            angle: 60,\n            spread: 55,\n            origin: { x: 0 },\n            colors: ['#FF69B4', '#DDA0DD', '#FFB6C1']\n          });\n        }, 200);\n\n        setTimeout(() => {\n          confetti({\n            particleCount: 100,\n            angle: 120,\n            spread: 55,\n            origin: { x: 1 },\n            colors: ['#87CEEB', '#98FB98', '#FFB6C1']\n          });\n        }, 400);\n      } else {\n        // Default celebration\n        confetti({\n          particleCount: 100,\n          spread: 70,\n          origin: { y: 0.6 },\n          colors: ['#FF69B4', '#DDA0DD', '#FFB6C1', '#FFC0CB', '#FF1493']\n        });\n      }\n    };\n\n    fireConfetti();\n  }, [trigger, type]);\n\n  return null; // This component doesn't render anything\n};\n\nexport default ConfettiCelebration;\n","const CountUp = ({ end, duration = 1000, suffix = '', prefix = '', className = '' }) => {\n  // Display value directly without animation\n  const value = parseInt(end) || 0;\n\n  return (\n    <span className={className}>\n      {prefix}{value.toLocaleString()}{suffix}\n    </span>\n  );\n};\n\nexport default CountUp;\n"],"names":["_ref","onClose","circleCount","handleShare","platform","appUrl","window","location","origin","message","concat","encoded","encodeURIComponent","isMobile","test","navigator","userAgent","href","open","setTimeout","clipboard","writeText","then","toast","success","catch","error","textEncoded","urlEncoded","_jsx","className","onClick","children","_jsxs","e","stopPropagation","title","fill","viewBox","d","stroke","strokeLinecap","strokeLinejoin","strokeWidth","userId","onAddClick","navigate","useNavigate","allBesties","setAllBesties","useState","circleBesties","setCircleBesties","loading","setLoading","selectedSlot","setSelectedSlot","showReplaceModal","setShowReplaceModal","showShareModal","setShowShareModal","useEffect","async","requesterQuery","recipientQuery","Promise","all","getDocs","query","collection","db","where","bestiesList","docSnap","docs","data","userDoc","getDoc","doc","recipientId","userData","exists","push","id","name","displayName","photoURL","requestAttention","requesterId","featuredIds","featuredCircle","featured","map","find","b","filter","Boolean","needsAutoFill","length","remaining","includes","slice","finalCircle","saveFeaturedCircle","console","loadBesties","newCircle","updateDoc","slots","Array","from","_","i","slotColors","bestie","index","angle","Math","PI","x","cos","y","sin","style","zIndex","x1","y1","x2","y2","strokeDasharray","opacity","offset","stopColor","left","top","transform","ProfileWithBubble","size","showBubble","handleViewProfile","bestieId","handleRemoveFromCircle","replace","cb","newBestie","handleReplaceBestie","BestieCircleShareModal","_userData$profile","_userData$displayName","_currentUser$email","_userData$profile2","currentUser","useAuth","badges","setBadges","generatingImage","setGeneratingImage","generatedImageUrl","setGeneratedImageUrl","showShareChoice","setShowShareChoice","pendingPlatform","setPendingPlatform","cardRef","useRef","loadBadges","badgesDoc","uid","allBadges","featuredBadges","currentGradient","profile","backgroundGradient","shareUrl","shareText","generateShareImage","current","resolve","imageUrl","html2canvas","backgroundColor","scale","logging","useCORS","allowTaint","toDataURL","downloadImage","link","document","createElement","download","click","showShareChoicePopup","executePlatformShare","withCard","position","ref","background","width","src","alt","crossOrigin","email","bio","badge","icon","cardText","disabled","handleShareWithLink","GRADIENT_OPTIONS","gradient","AURA_OPTIONS","emoji","description","_userData$profile5","showPhotoMenu","setShowPhotoMenu","uploading","setUploading","showColorPicker","setShowColorPicker","showAuraPicker","setShowAuraPicker","fileInputRef","currentAura","aura","_Fragment","option","handleColorChange","_userData$profile3","_userData$profile4","handleAuraChange","_fileInputRef$current","type","accept","onChange","file","target","files","storageRef","storage","Date","now","uploadBytes","downloadURL","getDownloadURL","url","text","profileCompletion","animatedProgress","onTaskNavigation","percentage","completed","total","round","tasks","task","path","action","_userData$stats","weeklySummary","hasWeekOfActivity","bestiesCount","tip","stats","totalCheckIns","loginStreak","CountUp","end","duration","featuredBadgeIds","setFeaturedBadgeIds","setConfettiTrigger","showBadgeSelector","setShowBadgeSelector","otherBadges","allBadgesToShow","isSelected","newFeaturedBadges","badgeId","handleToggleFeaturedBadge","emergencyContactCount","daysActive","nighttimeCheckIns","weekendCheckIns","completedCheckIns","_userData$donationSta","donationStats","isActive","totalDonated","ProfileAuraStyles","ProfilePage","setBestiesCount","confettiTrigger","setEmergencyContactCount","firstCheckInDate","setFirstCheckInDate","setNighttimeCheckIns","setWeekendCheckIns","setAnimatedProgress","loadData","targetProgress","calculateProfileCompletion","badgesData","bestiesQuery","bestiesQuery2","snapshot1","snapshot2","emergencyContactQuery","emergencySnapshot","checkInsQuery","checkInsSnapshot","empty","earliestDate","nightCount","weekendCount","forEach","_data$createdAt","date","createdAt","toDate","hour","getHours","day","getDay","section","phoneNumber","weekAgo","setDate","getDate","getWeeklySummary","_userData$stats2","status","checkIns","besties","totalBesties","Header","ConfettiCelebration","trigger","ProfileCard","ProfileCompletion","photoElement","querySelector","scrollIntoView","behavior","block","bestieCircleElement","WeeklySummary","LoginStreak","BadgesSection","StatsSection","getDaysActive","diffTime","abs","ceil","BestieCircle","DonationStatus","SocialShareCardsModal","fireConfetti","count","defaults","shapes","colors","fire","particleRatio","opts","confetti","_objectSpread","particleCount","floor","spread","startVelocity","decay","scalar","suffix","prefix","value","parseInt","toLocaleString"],"sourceRoot":""}