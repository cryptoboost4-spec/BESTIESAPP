"use strict";(self.webpackChunkbesties_frontend=self.webpackChunkbesties_frontend||[]).push([[225],{7225:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var r=t(5043),i=t(3216),a=t(4528),n=t(3889),o=t(7400),l=t(5472),c=t(2339),d=t(4505),u=t(579);const m={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_VAPID_KEY;const x=new class{constructor(){this.initialized=!1,this.token=null}isSupported(){return"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window}getPermissionStatus(){return this.isSupported()?Notification.permission:"unsupported"}async requestPermission(){if(!this.isSupported())throw new Error("Push notifications are not supported in this browser");if("granted"===Notification.permission)return!0;if("denied"===Notification.permission)throw new Error("PERMISSION_DENIED");try{return"granted"===await Notification.requestPermission()}catch(e){throw console.error("Permission request error:",e),new Error("PERMISSION_BLOCKED")}}async initializeServiceWorker(){if(!("serviceWorker"in navigator))return console.warn("Service Worker not supported"),null;try{const e=await navigator.serviceWorker.register("/firebase-messaging-sw.js");return console.log("Service Worker registered:",e),e}catch(e){return console.error("Service Worker registration failed:",e),null}}async getToken(){try{if(!m)return console.warn("VAPID key not configured"),c.Ay.error("Push notifications require additional setup. Please use email or WhatsApp notifications instead.",{duration:6e3}),null;const e=await this.initializeServiceWorker();if(!e)return console.error("Could not register service worker"),null;await new Promise(e=>setTimeout(e,1e3));const s=await(0,o.gf)(o.BV,{vapidKey:m,serviceWorkerRegistration:e});return s?(console.log("FCM Token obtained:",s),this.token=s,s):(console.warn("No FCM token available. Request permission to generate one."),null)}catch(e){return console.error("Error getting FCM token:",e),null}}async saveTokenToFirestore(e){try{const s=o.j2.currentUser;return s?(await(0,l.mZ)((0,l.H9)(o.db,"users",s.uid),{fcmToken:e,notificationsEnabled:!0,lastTokenUpdate:new Date}),console.log("FCM token saved to Firestore"),!0):(console.warn("No user logged in to save token"),!1)}catch(s){return console.error("Error saving FCM token:",s),!1}}async enableNotifications(){try{if(!this.isSupported())return c.Ay.error("Push notifications are not supported in your browser"),!1;try{if(!await this.requestPermission())return c.Ay.error("Notification permission denied. Please enable notifications in your browser settings."),!1}catch(e){if("PERMISSION_DENIED"===e.message)return c.Ay.error("Push notifications are blocked. Go to your browser settings to enable them.",{duration:6e3}),!1;if("PERMISSION_BLOCKED"===e.message)return c.Ay.error("Could not request notification permission. Please enable notifications in your browser settings.",{duration:6e3}),!1;throw e}const s=await this.getToken();if(!s)return c.Ay.error("Could not get notification token"),!1;return await this.saveTokenToFirestore(s)?(this.setupForegroundListener(),this.initialized=!0,c.Ay.success("Push notifications enabled!"),!0):(c.Ay.error("Could not save notification settings"),!1)}catch(e){return console.error("Error enabling notifications:",e),c.Ay.error("Failed to enable notifications"),!1}}async disableNotifications(){try{const e=o.j2.currentUser;return!!e&&(await(0,l.mZ)((0,l.H9)(o.db,"users",e.uid),{notificationsEnabled:!1,fcmToken:null}),this.token=null,this.initialized=!1,c.Ay.success("Push notifications disabled"),!0)}catch(e){return console.error("Error disabling notifications:",e),c.Ay.error("Failed to disable notifications"),!1}}setupForegroundListener(){(0,o.xD)(o.BV,e=>{console.log("Foreground message received:",e);const{title:s,body:t,icon:r}=e.notification||{};c.Ay.custom(e=>(0,u.jsxs)("div",{className:"".concat(e.visible?"animate-enter":"animate-leave"," max-w-md w-full bg-white shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5"),children:[(0,u.jsx)("div",{className:"flex-1 w-0 p-4",children:(0,u.jsxs)("div",{className:"flex items-start",children:[r&&(0,u.jsx)("div",{className:"flex-shrink-0 pt-0.5",children:(0,u.jsx)("img",{className:"h-10 w-10 rounded-full",src:r,alt:""})}),(0,u.jsxs)("div",{className:"ml-3 flex-1",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-900",children:s}),(0,u.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:t})]})]})}),(0,u.jsx)("div",{className:"flex border-l border-gray-200",children:(0,u.jsx)("button",{onClick:()=>c.Ay.dismiss(e.id),className:"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-primary hover:text-primary/80 focus:outline-none",children:"Close"})})]}),{duration:6e3,position:"top-right"}),"Notification"in window&&"granted"===Notification.permission&&new Notification(s,{body:t,icon:r||"/logo192.png",badge:"/logo192.png",tag:"besties-notification",requireInteraction:!1})})}async sendTestNotification(){return"Notification"in window&&"granted"===Notification.permission&&(new Notification("Besties Test Notification",{body:"Push notifications are working!",icon:"/logo192.png",badge:"/logo192.png"}),!0)}},h=e=>{let{message:s}=e;const[t,i]=(0,r.useState)(!1),[a,n]=(0,r.useState)("left"),o=(0,r.useRef)(null),l=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=e=>{!l.current||l.current.contains(e.target)||o.current.contains(e.target)||i(!1)};if(t)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[t]),(0,r.useEffect)(()=>{if(t&&o.current){const e=o.current.getBoundingClientRect(),s=window.innerWidth,t=200;e.left+t>s-20?n("right"):n("left")}},[t]);return(0,u.jsxs)("div",{className:"relative inline-block ml-2",children:[(0,u.jsx)("button",{ref:o,type:"button",onClick:e=>{e.stopPropagation(),i(!t)},className:"text-primary dark:text-purple-400 hover:text-pink-600 dark:hover:text-pink-400 transition-colors",title:"Learn more",children:(0,u.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,u.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),t&&(0,u.jsx)("div",{ref:l,className:"absolute ".concat("right"===a?"right-0":"left-0"," top-full mt-2 z-50 animate-scale-up"),style:{minWidth:"160px",maxWidth:"200px"},children:(0,u.jsxs)("div",{className:"bg-white dark:bg-gray-800 bg-opacity-100 dark:bg-opacity-100 rounded-lg shadow-xl border-2 border-primary dark:border-purple-400 p-2.5",children:[(0,u.jsxs)("div",{className:"flex items-start gap-1.5",children:[(0,u.jsx)("span",{className:"text-sm flex-shrink-0",children:"\u2139\ufe0f"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("p",{className:"text-xs text-gray-900 dark:text-gray-100 leading-snug font-medium",children:s}),(0,u.jsx)("button",{onClick:()=>i(!1),className:"mt-1.5 text-primary dark:text-purple-400 text-xs font-semibold underline hover:no-underline",children:"Got it!"})]})]}),(0,u.jsx)("div",{className:"absolute bottom-full ".concat("right"===a?"right-3":"left-3"," w-0 h-0 border-l-6 border-r-6 border-b-6 border-transparent border-b-primary dark:border-b-purple-400")})]})})]})},y=e=>{var s,t,r,i,a,n;let{userData:o,toggleNotification:l,togglePushNotifications:c,pushNotificationsSupported:d,pushNotificationsEnabled:m,loading:x,smsWeeklyCount:y,handleSendTestAlert:b}=e;return(0,u.jsxs)("div",{className:"card p-6 mb-6",children:[(0,u.jsx)("h2",{className:"text-xl font-display text-text-primary mb-4",children:"Notifications"}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between opacity-50",children:[(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsxs)("div",{className:"font-semibold text-text-primary flex items-center gap-2 flex-wrap",children:["WhatsApp",(0,u.jsx)("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full whitespace-nowrap",children:"Coming Soon"}),(0,u.jsx)(h,{message:"WhatsApp notifications will be sent when your besties check in or need help. This is the most reliable option for mobile alerts and will be completely free!"})]}),(0,u.jsx)("div",{className:"text-sm text-text-secondary",children:"Integration in development"})]}),(0,u.jsx)("button",{onClick:()=>l("whatsapp"),className:"w-12 h-6 rounded-full transition-colors bg-gray-300 dark:bg-gray-600 cursor-not-allowed flex-shrink-0 ml-3",disabled:!0,children:(0,u.jsx)("div",{className:"w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform translate-x-1"})})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between opacity-50",children:[(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsxs)("div",{className:"font-semibold text-text-primary flex items-center gap-2 flex-wrap",children:["Facebook Messenger",(0,u.jsx)("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full whitespace-nowrap",children:"Coming Soon"}),(0,u.jsx)(h,{message:"Facebook Messenger notifications will keep you updated on your besties' safety. Perfect if you use Messenger regularly!"})]}),(0,u.jsx)("div",{className:"text-sm text-text-secondary",children:"Integration in development"})]}),(0,u.jsx)("button",{onClick:()=>l("facebook"),className:"w-12 h-6 rounded-full transition-colors bg-gray-300 dark:bg-gray-600 cursor-not-allowed flex-shrink-0 ml-3",disabled:!0,children:(0,u.jsx)("div",{className:"w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform translate-x-1"})})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"font-semibold text-text-primary flex items-center",children:["Email",(0,u.jsx)(h,{message:"Receive email alerts when your besties check in or trigger an emergency alert. Emails are sent instantly and work on all devices."})]}),(0,u.jsx)("div",{className:"text-sm text-text-secondary",children:"Get alerts via email"})]}),(0,u.jsx)("button",{onClick:()=>l("email"),className:"w-12 h-6 rounded-full transition-colors ".concat(null!==o&&void 0!==o&&null!==(s=o.notificationPreferences)&&void 0!==s&&s.email?"bg-primary":"bg-gray-300 dark:bg-gray-600"),children:(0,u.jsx)("div",{className:"w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform ".concat(null!==o&&void 0!==o&&null!==(t=o.notificationPreferences)&&void 0!==t&&t.email?"translate-x-6":"translate-x-1")})})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"font-semibold text-text-primary flex items-center",children:["Push Notifications (Beta)",(0,u.jsx)(h,{message:"Browser push notifications only work when your browser is open. For reliable alerts, we recommend using Email or SMS. We're building a mobile app with better push notifications soon! \ud83d\udcf1"})]}),(0,u.jsx)("div",{className:"text-sm text-text-secondary",children:d?"Browser notifications - limited reliability":"Not supported in this browser"})]}),(0,u.jsx)("button",{onClick:c,disabled:!d||x,className:"w-12 h-6 rounded-full transition-colors ".concat(d?m?"bg-primary":"bg-gray-300 dark:bg-gray-600":"bg-gray-200 dark:bg-gray-700 cursor-not-allowed"),children:(0,u.jsx)("div",{className:"w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform ".concat(m?"translate-x-6":"translate-x-1")})})]}),d&&!m&&(0,u.jsx)("div",{className:"text-xs text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/30 p-2 rounded-lg",children:"\ud83d\udca1 Tip: Email, WhatsApp, and Facebook are more reliable for critical safety alerts"}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,u.jsxs)("div",{className:"font-semibold text-text-primary flex items-center",children:["SMS Alerts",(0,u.jsx)(h,{message:"Text message alerts are currently free during beta (up to 5 per week). Once WhatsApp and Facebook integrations launch, SMS will become a premium feature at $1/month for 20 alerts. Use Email for unlimited free alerts!"})]}),(0,u.jsx)("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 px-2 py-1 rounded-full font-semibold",children:"Free - Limited Time"})]}),(0,u.jsx)("div",{className:"text-sm text-text-secondary",children:null!==o&&void 0!==o&&null!==(r=o.notificationPreferences)&&void 0!==r&&r.sms?"Active - ".concat(y,"/5 alerts used this week"):"Not enabled"})]}),(0,u.jsx)("button",{onClick:()=>l("sms"),className:"w-12 h-6 rounded-full transition-colors ".concat(null!==o&&void 0!==o&&null!==(i=o.notificationPreferences)&&void 0!==i&&i.sms?"bg-primary":"bg-gray-300 dark:bg-gray-600"),children:(0,u.jsx)("div",{className:"w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform ".concat(null!==o&&void 0!==o&&null!==(a=o.notificationPreferences)&&void 0!==a&&a.sms?"translate-x-6":"translate-x-1")})})]}),(null===o||void 0===o||null===(n=o.notificationPreferences)||void 0===n?void 0:n.sms)&&y>=4&&(0,u.jsx)("div",{className:"text-xs text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/30 p-2 rounded-lg",children:"\u26a0\ufe0f You're approaching the weekly limit of 5 SMS alerts. Consider using email or WhatsApp for unlimited free alerts."})]}),(0,u.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,u.jsx)("button",{onClick:b,disabled:x,className:"w-full btn btn-primary",children:x?"Sending Test Alert...":"\ud83e\uddea Send Test Alert"}),(0,u.jsx)("p",{className:"text-xs text-text-secondary mt-2 text-center",children:"Test your notification setup - sends to all enabled channels"})]})]})},b=e=>{var s;let{userData:t,handleSMSSubscription:r,loading:i,setLoading:a,navigate:n}=e;return(0,u.jsx)(u.Fragment,{children:null!==t&&void 0!==t&&null!==(s=t.smsSubscription)&&void 0!==s&&s.active?(0,u.jsxs)("div",{className:"card p-6 mb-6 bg-green-50 dark:bg-green-900/30 border-2 border-green-300 dark:border-green-600",children:[(0,u.jsx)("h2",{className:"text-xl font-display text-text-primary mb-2",children:"\u2705 Premium SMS Active"}),(0,u.jsx)("p",{className:"text-text-secondary mb-4",children:"You're subscribed to premium SMS alerts - up to 20 SMS per month"}),(0,u.jsx)("button",{onClick:async()=>{a(!0);try{const e=await d.Ay.createPortalSession();e.data&&e.data.url?window.location.href=e.data.url:c.Ay.error("Failed to open subscription portal")}catch(e){console.error("Portal session error:",e),c.Ay.error("Failed to open subscription portal")}finally{a(!1)}},disabled:i,className:"btn btn-secondary",children:i?"Loading...":"Manage Subscription"})]}):(0,u.jsxs)("div",{className:"card p-6 mb-6 bg-gradient-secondary dark:from-purple-900/30 dark:to-pink-900/30",children:[(0,u.jsx)("h2",{className:"text-xl font-display text-text-primary mb-2",children:"Premium SMS Alerts"}),(0,u.jsx)("p",{className:"text-text-secondary mb-4",children:"Get up to 20 SMS alerts per month for just $1/month"}),(0,u.jsxs)("ul",{className:"text-sm text-text-secondary mb-4 space-y-1",children:[(0,u.jsx)("li",{children:"\u2713 20 SMS alerts per month"}),(0,u.jsx)("li",{children:"\u2713 Priority delivery"}),(0,u.jsx)("li",{children:"\u2713 No weekly limits"})]}),(0,u.jsxs)("div",{className:"flex gap-3",children:[(0,u.jsx)("button",{onClick:r,disabled:i,className:"btn btn-primary flex-1",children:"Subscribe for $1/month"}),(0,u.jsx)("button",{onClick:()=>n("/about"),className:"btn btn-secondary",children:"Learn More"})]})]})})},g=e=>{var s,t,r,i,a,n,d,m,x;let{userData:y,currentUser:b}=e;return(0,u.jsxs)("div",{className:"card p-6 mb-6",children:[(0,u.jsx)("h2",{className:"text-xl font-display text-text-primary mb-2",children:"Privacy"}),(0,u.jsx)("p",{className:"text-sm text-text-secondary mb-4",children:"Control what your besties can see on your profile"}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"font-semibold text-text-primary flex items-center",children:["Show Stats to Besties",(0,u.jsx)(h,{message:"Control whether your besties can see your check-in stats and safety record on your profile. This includes streaks, badges, and check-in history."})]}),(0,u.jsx)("div",{className:"text-sm text-text-secondary",children:!1!==(null===y||void 0===y||null===(s=y.privacySettings)||void 0===s?void 0:s.showStatsToBesties)?"Besties can see your stats":"Stats are private"})]}),(0,u.jsx)("button",{onClick:async()=>{try{var e;const s=!(!1!==(null===y||void 0===y||null===(e=y.privacySettings)||void 0===e?void 0:e.showStatsToBesties));await(0,l.mZ)((0,l.H9)(o.db,"users",b.uid),{"privacySettings.showStatsToBesties":s}),c.Ay.success(s?"Stats now visible to besties":"Stats are now private")}catch(s){console.error("Error updating privacy:",s),c.Ay.error("Failed to update privacy setting")}},className:"w-12 h-6 rounded-full transition-colors ".concat(!1!==(null===y||void 0===y||null===(t=y.privacySettings)||void 0===t?void 0:t.showStatsToBesties)?"bg-primary":"bg-gray-300 dark:bg-gray-600"),children:(0,u.jsx)("div",{className:"w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform ".concat(!1!==(null===y||void 0===y||null===(r=y.privacySettings)||void 0===r?void 0:r.showStatsToBesties)?"translate-x-6":"translate-x-1")})})]}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"font-semibold text-text-primary mb-2 flex items-center",children:["Check-in Visibility",(0,u.jsx)(h,{message:"Choose who can see your check-ins in their activity feed. This helps you control your privacy while still letting your closest besties know you're safe."})]}),(0,u.jsx)("div",{className:"text-sm text-text-secondary mb-3",children:"Control who can see your check-ins (last 7 days)"})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("label",{className:"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700",style:{borderColor:"all_besties"===((null===y||void 0===y||null===(i=y.privacySettings)||void 0===i?void 0:i.checkInVisibility)||"all_besties")?"#FF6B9D":"#e5e7eb"},children:[(0,u.jsx)("input",{type:"radio",name:"checkInVisibility",value:"all_besties",checked:"all_besties"===((null===y||void 0===y||null===(a=y.privacySettings)||void 0===a?void 0:a.checkInVisibility)||"all_besties"),onChange:async e=>{try{await(0,l.mZ)((0,l.H9)(o.db,"users",b.uid),{"privacySettings.checkInVisibility":"all_besties"}),c.Ay.success("All besties can now see your check-ins")}catch(s){console.error("Error updating privacy:",s),c.Ay.error("Failed to update privacy setting")}},className:"mt-1"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("div",{className:"font-semibold text-text-primary",children:"All Besties"}),(0,u.jsx)("div",{className:"text-sm text-text-secondary",children:"All your besties can see your check-ins."})]})]}),(0,u.jsxs)("label",{className:"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700",style:{borderColor:"circle"===((null===y||void 0===y||null===(n=y.privacySettings)||void 0===n?void 0:n.checkInVisibility)||"all_besties")?"#FF6B9D":"#e5e7eb"},children:[(0,u.jsx)("input",{type:"radio",name:"checkInVisibility",value:"circle",checked:"circle"===((null===y||void 0===y||null===(d=y.privacySettings)||void 0===d?void 0:d.checkInVisibility)||"all_besties"),onChange:async e=>{try{await(0,l.mZ)((0,l.H9)(o.db,"users",b.uid),{"privacySettings.checkInVisibility":"circle"}),c.Ay.success("Only circle besties can see your check-ins")}catch(s){console.error("Error updating privacy:",s),c.Ay.error("Failed to update privacy setting")}},className:"mt-1"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("div",{className:"font-semibold text-text-primary",children:"Bestie Circle Only"}),(0,u.jsx)("div",{className:"text-sm text-text-secondary",children:"Only your top 5 circle besties can see your check-ins."})]})]}),(0,u.jsxs)("label",{className:"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700",style:{borderColor:"alerts_only"===((null===y||void 0===y||null===(m=y.privacySettings)||void 0===m?void 0:m.checkInVisibility)||"all_besties")?"#FF6B9D":"#e5e7eb"},children:[(0,u.jsx)("input",{type:"radio",name:"checkInVisibility",value:"alerts_only",checked:"alerts_only"===((null===y||void 0===y||null===(x=y.privacySettings)||void 0===x?void 0:x.checkInVisibility)||"all_besties"),onChange:async e=>{try{await(0,l.mZ)((0,l.H9)(o.db,"users",b.uid),{"privacySettings.checkInVisibility":"alerts_only"}),c.Ay.success("Check-ins only visible when alerts trigger")}catch(s){console.error("Error updating privacy:",s),c.Ay.error("Failed to update privacy setting")}},className:"mt-1"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("div",{className:"font-semibold text-text-primary",children:"Alerts Only (Most Private)"}),(0,u.jsx)("div",{className:"text-sm text-text-secondary",children:"Check-ins are hidden until an alert goes off."})]})]})]})]})]})]})},p=e=>{var s,t,r,i,a,n,o,l;let{userData:c,showPasscodeInfo:d,setShowPasscodeInfo:m,setPasscodeType:x,setShowPasscodeModal:y,handleRemovePasscode:b,loading:g}=e;return(0,u.jsxs)("div",{className:"card p-6 mb-6",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsx)("h2",{className:"text-xl font-display text-text-primary",children:"Security Passcodes"}),(0,u.jsx)("button",{onClick:()=>m(!d),className:"text-primary text-sm font-semibold hover:underline",children:d?"Hide Info":"Learn More"})]}),(0,u.jsx)("p",{className:"text-sm text-text-secondary mb-4",children:"Protect your check-ins with passcodes"}),d&&(0,u.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg p-4 mb-4",children:[(0,u.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2",children:"How Passcodes Work:"}),(0,u.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-2 list-disc ml-4",children:[(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Safety Passcode:"})," Required to end check-ins or cancel SOS alerts. This ensures only you can mark yourself safe."]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Duress Code:"})," A special code that ",(0,u.jsx)("em",{children:"appears"})," to cancel the alert, but secretly triggers an emergency alert to all besties in your circle. Use this if you're in danger and being forced to cancel."]}),(0,u.jsx)("li",{children:"Both codes must be different and at least 4 digits."}),(0,u.jsx)("li",{children:"Your codes are encrypted and stored securely."})]})]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"border-2 border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsxs)("div",{className:"font-semibold text-text-primary flex items-center",children:["\ud83d\udd12 Safety",(0,u.jsx)("br",{}),"Passcode",(0,u.jsx)(h,{message:"Required to cancel check-ins or SOS alerts. This ensures only you can mark yourself safe, protecting you from coercion."})]}),(null===c||void 0===c||null===(s=c.security)||void 0===s?void 0:s.safetyPasscode)&&(0,u.jsx)("div",{className:"text-green-600 text-xl",children:"\u2713"})]}),null!==c&&void 0!==c&&null!==(t=c.security)&&void 0!==t&&t.safetyPasscode?(0,u.jsx)("button",{onClick:()=>{x("safety"),y(!0)},className:"text-primary text-sm font-semibold hover:underline",children:"Edit"}):(0,u.jsx)("button",{onClick:()=>{x("safety"),y(!0)},className:"btn btn-primary btn-sm px-6",children:"Set"})]}),(0,u.jsx)("div",{className:"text-sm text-text-secondary mb-1",children:null!==c&&void 0!==c&&null!==(r=c.security)&&void 0!==r&&r.safetyPasscode?"Passcode is set":"Not set"}),(null===c||void 0===c||null===(i=c.security)||void 0===i?void 0:i.safetyPasscode)&&(0,u.jsx)("button",{onClick:()=>b("safety"),disabled:g,className:"text-red-600 text-sm font-semibold hover:underline mt-2",children:"Remove Passcode"})]}),(0,u.jsxs)("div",{className:"border-2 border-red-200 dark:border-red-600 rounded-lg p-4 bg-red-50/50 dark:bg-red-900/10",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsxs)("div",{className:"font-semibold text-text-primary flex items-center",children:["\ud83d\udea8 Duress",(0,u.jsx)("br",{}),"Code",(0,u.jsx)(h,{message:"A special code that appears to cancel alerts but secretly sends an emergency signal to all besties. Use if you're in danger and being forced to cancel."})]}),(null===c||void 0===c||null===(a=c.security)||void 0===a?void 0:a.duressCode)&&(0,u.jsx)("div",{className:"text-green-600 text-xl",children:"\u2713"})]}),null!==c&&void 0!==c&&null!==(n=c.security)&&void 0!==n&&n.duressCode?(0,u.jsx)("button",{onClick:()=>{x("duress"),y(!0)},className:"text-primary text-sm font-semibold hover:underline",children:"Edit"}):(0,u.jsx)("button",{onClick:()=>{x("duress"),y(!0)},className:"btn btn-primary btn-sm px-6",children:"Set"})]}),(0,u.jsx)("div",{className:"text-sm text-text-secondary mb-1",children:null!==c&&void 0!==c&&null!==(o=c.security)&&void 0!==o&&o.duressCode?"Duress code is set":"Not set"}),(null===c||void 0===c||null===(l=c.security)||void 0===l?void 0:l.duressCode)&&(0,u.jsx)("button",{onClick:()=>b("duress"),disabled:g,className:"text-red-600 text-sm font-semibold hover:underline mt-2",children:"Remove Code"})]})]})]})},f=e=>{var s,t,r;let{isDark:i,toggleDarkMode:a,toggleHoldData:n,userData:o,navigate:l}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"card p-6 mb-6",children:[(0,u.jsx)("h2",{className:"text-xl font-display text-text-primary mb-4",children:"Preferences"}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"font-semibold text-text-primary flex items-center",children:["Dark Mode",(0,u.jsx)(h,{message:"Toggle between light and dark color themes. Dark mode is easier on your eyes at night and can save battery on OLED screens."})]}),(0,u.jsx)("div",{className:"text-sm text-text-secondary",children:i?"Dark mode enabled":"Light mode enabled"})]}),(0,u.jsx)("button",{onClick:a,className:"w-12 h-6 rounded-full transition-colors ".concat(i?"bg-primary":"bg-gray-300 dark:bg-gray-600"),children:(0,u.jsx)("div",{className:"w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform ".concat(i?"translate-x-6":"translate-x-1")})})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"font-semibold text-text-primary flex items-center",children:["Data Retention",(0,u.jsx)(h,{message:"Choose whether to keep your check-in history indefinitely or auto-delete after 24 hours. Keeping history lets you track patterns, while auto-delete maximizes privacy."})]}),(0,u.jsx)("div",{className:"text-sm text-text-secondary",children:null!==o&&void 0!==o&&null!==(s=o.settings)&&void 0!==s&&s.holdData?"Keeping all check-in history":"Auto-delete after 24h (default)"})]}),(0,u.jsx)("button",{onClick:n,className:"w-12 h-6 rounded-full transition-colors ".concat(null!==o&&void 0!==o&&null!==(t=o.settings)&&void 0!==t&&t.holdData?"bg-primary":"bg-gray-300 dark:bg-gray-600"),children:(0,u.jsx)("div",{className:"w-5 h-5 bg-white dark:bg-gray-300 rounded-full transition-transform ".concat(null!==o&&void 0!==o&&null!==(r=o.settings)&&void 0!==r&&r.holdData?"translate-x-6":"translate-x-1")})})]})]})]}),(0,u.jsxs)("div",{className:"card p-6 mb-6",children:[(0,u.jsx)("h2",{className:"text-xl font-display text-text-primary mb-4",children:"Quick Access"}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,u.jsx)("button",{onClick:()=>l("/history"),className:"btn btn-secondary text-left px-4 py-3",children:(0,u.jsx)("div",{className:"text-sm",children:"\ud83d\udcca History"})}),(0,u.jsx)("button",{onClick:()=>l("/export-data"),className:"btn btn-secondary text-left px-4 py-3",children:(0,u.jsx)("div",{className:"text-sm",children:"\ud83d\udce5 Export Data"})}),(null===o||void 0===o?void 0:o.isAdmin)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{onClick:()=>l("/dev-analytics"),className:"btn btn-secondary text-left px-4 py-3",children:(0,u.jsx)("div",{className:"text-sm",children:"\ud83d\udcc8 Analytics"})}),(0,u.jsx)("button",{onClick:()=>l("/monitoring"),className:"btn bg-gradient-primary text-white text-left px-4 py-3",children:(0,u.jsx)("div",{className:"text-sm",children:"\ud83d\udd0d Monitoring"})})]})]})]})]})},v=e=>{let{navigate:s}=e;return(0,u.jsxs)("div",{className:"card p-6 mb-6",children:[(0,u.jsx)("h2",{className:"text-xl font-display text-text-primary mb-4",children:"Legal & Privacy"}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("span",{className:"text-2xl",children:"\ud83d\udd12"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-semibold text-text-primary",children:"Privacy Policy"}),(0,u.jsx)("div",{className:"text-xs text-text-secondary",children:"How we protect your data"})]})]}),(0,u.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"\u2192"})]}),(0,u.jsxs)("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("span",{className:"text-2xl",children:"\ud83d\udcdc"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-semibold text-text-primary",children:"Terms of Service"}),(0,u.jsx)("div",{className:"text-xs text-text-secondary",children:"Terms and conditions"})]})]}),(0,u.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"\u2192"})]}),(0,u.jsxs)("a",{href:"/about",className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("span",{className:"text-2xl",children:"\ud83d\udc95"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-semibold text-text-primary",children:"About Besties"}),(0,u.jsx)("div",{className:"text-xs text-text-secondary",children:"Our story and mission"})]})]}),(0,u.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"\u2192"})]})]})]})},j=()=>{var e,s,t;const{currentUser:m,userData:h}=(0,a.As)(),{isDark:j,toggle:N}=(0,n.D)(),k=(0,i.Zp)(),[w,S]=(0,r.useState)(!1),[A,C]=(0,r.useState)(!1),[P,E]=(0,r.useState)(!0),[D,M]=(0,r.useState)(!1),[T,F]=(0,r.useState)(0),[I,_]=(0,r.useState)(!1),[W,B]=(0,r.useState)(null),[R,O]=(0,r.useState)(""),[L,H]=(0,r.useState)(""),[V,U]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=x.isSupported();E(e),e&&C((null===h||void 0===h?void 0:h.notificationsEnabled)||!1)},[h]),(0,r.useEffect)(()=>{const e=window.location.hash.slice(1);e&&setTimeout(()=>{const s=document.getElementById(e);s&&(s.scrollIntoView({behavior:"smooth",block:"start"}),s.style.transition="background-color 0.3s",s.style.backgroundColor="rgba(168, 85, 247, 0.1)",setTimeout(()=>{s.style.backgroundColor=""},2e3))},100)},[]),(0,r.useEffect)(()=>{(async()=>{if(m)try{const e=await(0,l.x7)((0,l.H9)(o.db,"users",m.uid));if(e.exists()){const s=e.data();F(s.smsWeeklyCount||0)}}catch(e){console.error("Error loading SMS count:",e)}})()},[m]);const z=async e=>{if(m){S(!0);try{const s="safety"===e?"safetyPasscode":"duressCode";await(0,l.mZ)((0,l.H9)(o.db,"users",m.uid),{["security.".concat(s)]:null}),c.Ay.success("".concat("safety"===e?"Safety passcode":"Duress code"," removed"))}catch(s){console.error("Error removing passcode:",s),c.Ay.error("Failed to remove passcode")}finally{S(!1)}}};return(0,u.jsxs)("div",{className:"min-h-screen bg-pattern",children:[(0,u.jsxs)("div",{className:"max-w-4xl mx-auto p-4 pb-24 md:pb-6",children:[(0,u.jsxs)("div",{className:"mb-6",children:[(0,u.jsx)("h1",{className:"text-3xl font-display text-text-primary mb-2",children:"Settings"}),(0,u.jsx)("p",{className:"text-text-secondary",children:"Manage your account and preferences"})]}),(0,u.jsx)("div",{id:"notifications",children:(0,u.jsx)(y,{userData:h,toggleNotification:async e=>{if(m){if("sms"===e){var s;const e=(null===h||void 0===h||null===(s=h.notificationPreferences)||void 0===s?void 0:s.sms)||!1;if(!e&&(null===h||void 0===h||!h.hasSeenSMSPopup))return void M(!0);if(!e&&T>=5)return void c.Ay.error("You've reached the weekly limit of 5 SMS alerts. Limit resets every Monday.",{duration:6e3})}try{var t;const s=!(null!==h&&void 0!==h&&null!==(t=h.notificationPreferences)&&void 0!==t&&t[e]);if("whatsapp"===e&&s)return void c.Ay.error("WhatsApp integration coming soon! \ud83d\ude80",{duration:4e3});if("facebook"===e&&s)return void c.Ay.error("Facebook integration coming soon! \ud83d\ude80",{duration:4e3});await(0,l.mZ)((0,l.H9)(o.db,"users",m.uid),{["notificationPreferences.".concat(e)]:s}),c.Ay.success("".concat(e," notifications ").concat(s?"enabled":"disabled"))}catch(r){console.error("Error updating notification:",r),c.Ay.error("Failed to update notification setting")}}},togglePushNotifications:async()=>{if(P){S(!0);try{if(A){await x.disableNotifications()&&C(!1)}else{await x.enableNotifications()&&C(!0)}}catch(e){console.error("Push notification error:",e),c.Ay.error("Failed to update push notifications")}finally{S(!1)}}else c.Ay.error("Push notifications are not supported in your browser")},pushNotificationsSupported:P,pushNotificationsEnabled:A,loading:w,smsWeeklyCount:T,handleSendTestAlert:async()=>{S(!0);try{const e=await d.Ay.sendTestAlert();if(e.data&&e.data.success){const s=e.data.channels,t=[];s.email&&t.push("Email"),s.push&&t.push("Push"),t.length>0?c.Ay.success("Test alert sent to: ".concat(t.join(", "),". WhatsApp/SMS/Facebook not tested to save costs, but use same system."),{duration:6e3}):c.Ay.error("No notification channels enabled. Enable email to test alerts.",{duration:5e3})}else c.Ay.error("Failed to send test alert")}catch(e){console.error("Test alert error:",e),c.Ay.error("Failed to send test alert")}finally{S(!1)}}})}),(0,u.jsx)(b,{userData:h,handleSMSSubscription:async()=>{S(!0);try{const e=await d.Ay.createCheckoutSession({amount:1,type:"subscription"});e.data&&e.data.url?window.location.href=e.data.url:c.Ay.error("Failed to start subscription")}catch(e){console.error("Subscription error:",e),c.Ay.error("Failed to start subscription")}finally{S(!1)}},loading:w,setLoading:S,navigate:k}),(0,u.jsx)("div",{id:"privacy",children:(0,u.jsx)(g,{userData:h,currentUser:m})}),(0,u.jsx)("div",{id:"security",children:(0,u.jsx)(p,{userData:h,showPasscodeInfo:V,setShowPasscodeInfo:U,setPasscodeType:B,setShowPasscodeModal:_,handleRemovePasscode:z,loading:w})}),(0,u.jsx)(f,{isDark:j,toggleDarkMode:N,toggleHoldData:async()=>{if(m)try{var e;const s=!(null!==h&&void 0!==h&&null!==(e=h.settings)&&void 0!==e&&e.holdData);await(0,l.mZ)((0,l.H9)(o.db,"users",m.uid),{"settings.holdData":s}),c.Ay.success(s?"Data will be kept indefinitely":"Data will be deleted after 24h")}catch(s){console.error("Error updating data retention:",s),c.Ay.error("Failed to update setting")}},userData:h,navigate:k}),(null===h||void 0===h||null===(e=h.donationStats)||void 0===e?void 0:e.isActive)&&(0,u.jsxs)("div",{className:"card p-6 mb-6 bg-gradient-primary text-white",children:[(0,u.jsx)("h2",{className:"text-xl font-display mb-2",children:"Thank You! \ud83d\udc9c"}),(0,u.jsx)("p",{className:"mb-2",children:"You're helping keep Besties free"}),(0,u.jsxs)("div",{className:"text-2xl font-display",children:["$",h.donationStats.monthlyAmount,"/month"]}),(0,u.jsxs)("div",{className:"text-sm mt-2 opacity-80",children:["Total donated: $",h.donationStats.totalDonated]})]}),(0,u.jsx)(v,{navigate:k}),(0,u.jsx)("div",{className:"card p-6 mb-6",children:(0,u.jsx)("button",{onClick:async()=>{(await o.y1.signOut()).success?(c.Ay.success("Signed out successfully"),k("/login")):c.Ay.error("Sign out failed")},className:"w-full btn bg-red-500 hover:bg-red-600 text-white py-3 text-lg font-semibold",children:"\ud83d\udeaa Log Out"})})]}),I&&(0,u.jsx)("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4",children:(0,u.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6",children:[(0,u.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-2",children:"safety"===W?"\ud83d\udd12 Set Safety Passcode":"\u26a0\ufe0f Set Duress Code"}),(0,u.jsx)("p",{className:"text-text-secondary mb-4",children:"safety"===W?"This passcode will be required to end check-ins and cancel alerts.":"This code appears to cancel alerts but secretly triggers an emergency alert to your besties."}),"duress"===W&&(0,u.jsx)("div",{className:"bg-orange-50 dark:bg-orange-900/30 border border-orange-200 dark:border-orange-700 rounded-lg p-3 mb-4",children:(0,u.jsxs)("p",{className:"text-sm text-orange-800 dark:text-orange-300",children:["\u26a0\ufe0f ",(0,u.jsx)("strong",{children:"Warning:"})," Use your duress code only in genuine emergencies when you're being forced to cancel an alert under duress."]})}),(0,u.jsxs)("div",{className:"space-y-4 mb-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"safety"===W?"Passcode":"Duress Code"}),(0,u.jsx)("input",{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:R,onChange:e=>O(e.target.value.replace(/\D/g,"")),className:"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-primary focus:outline-none text-center text-2xl tracking-widest bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"\u2022\u2022\u2022\u2022",maxLength:6,autoFocus:!0}),(0,u.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"At least 4 digits"})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:["Confirm ","safety"===W?"Passcode":"Code"]}),(0,u.jsx)("input",{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:L,onChange:e=>H(e.target.value.replace(/\D/g,"")),className:"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-primary focus:outline-none text-center text-2xl tracking-widest bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"\u2022\u2022\u2022\u2022",maxLength:6})]})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,u.jsxs)("div",{className:"flex gap-3",children:[(0,u.jsx)("button",{onClick:()=>{_(!1),O(""),H(""),B(null)},className:"flex-1 btn btn-secondary",disabled:w,children:"Cancel"}),(0,u.jsx)("button",{onClick:async()=>{if(R)if(R.length<4)c.Ay.error("Passcode must be at least 4 digits");else if(R===L){var e;if("duress"===W){if(R===(null===h||void 0===h||null===(e=h.security)||void 0===e?void 0:e.safetyPasscode))return void c.Ay.error("Duress code must be different from safety passcode")}else if("safety"===W){var s;if(R===(null===h||void 0===h||null===(s=h.security)||void 0===s?void 0:s.duressCode))return void c.Ay.error("Safety passcode must be different from duress code")}S(!0);try{const e="safety"===W?"safetyPasscode":"duressCode";await(0,l.mZ)((0,l.H9)(o.db,"users",m.uid),{["security.".concat(e)]:R}),c.Ay.success("".concat("safety"===W?"Safety passcode":"Duress code"," updated!")),_(!1),O(""),H(""),B(null)}catch(t){console.error("Error saving passcode:",t),c.Ay.error("Failed to save passcode")}finally{S(!1)}}else c.Ay.error("Passcodes do not match");else c.Ay.error("Please enter a passcode")},disabled:w||!R||!L,className:"flex-1 btn ".concat("duress"===W?"bg-orange-600 hover:bg-orange-700":"btn-primary"," text-white"),children:w?"Saving...":"Save"})]}),"safety"===W&&null!==h&&void 0!==h&&null!==(s=h.security)&&void 0!==s&&s.safetyPasscode||"duress"===W&&null!==h&&void 0!==h&&null!==(t=h.security)&&void 0!==t&&t.duressCode?(0,u.jsxs)("button",{onClick:()=>{z(W),_(!1),O(""),H(""),B(null)},disabled:w,className:"w-full btn bg-red-500 text-white hover:bg-red-600 text-sm",children:["Remove ","safety"===W?"Safety Passcode":"Duress Code"]}):null]})]})}),D&&(0,u.jsx)("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4",children:(0,u.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6",children:[(0,u.jsxs)("div",{className:"text-center mb-4",children:[(0,u.jsx)("div",{className:"text-5xl mb-3",children:"\ud83d\udcf1"}),(0,u.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-2",children:"About SMS Alerts"})]}),(0,u.jsxs)("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300 mb-6",children:[(0,u.jsx)("p",{className:"font-semibold text-primary",children:"SMS alerts are currently FREE during beta testing!"}),(0,u.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded-lg",children:[(0,u.jsx)("p",{className:"font-semibold mb-1",children:"Free Tier Limits:"}),(0,u.jsxs)("ul",{className:"list-disc ml-4 space-y-1",children:[(0,u.jsx)("li",{children:"Up to 5 SMS alerts per week"}),(0,u.jsx)("li",{children:"Resets every Monday"}),(0,u.jsxs)("li",{children:["You've used ",T,"/5 this week"]})]})]}),(0,u.jsxs)("div",{className:"bg-orange-50 dark:bg-orange-900/30 p-3 rounded-lg",children:[(0,u.jsx)("p",{className:"font-semibold mb-1",children:"Important to Know:"}),(0,u.jsxs)("ul",{className:"list-disc ml-4 space-y-1",children:[(0,u.jsx)("li",{children:"SMS messages are expensive to send"}),(0,u.jsx)("li",{children:"Once WhatsApp and Facebook integrations launch, SMS will become a premium feature ($1/month for up to 20 alerts)"}),(0,u.jsx)("li",{children:"We recommend using email or WhatsApp for unlimited free alerts"})]})]}),(0,u.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 italic",children:"By enabling SMS, you understand these limitations and agree to use SMS responsibly."})]}),(0,u.jsxs)("div",{className:"flex gap-3",children:[(0,u.jsx)("button",{onClick:()=>M(!1),className:"flex-1 btn btn-secondary",children:"Cancel"}),(0,u.jsx)("button",{onClick:async()=>{if(m)try{await(0,l.mZ)((0,l.H9)(o.db,"users",m.uid),{"notificationPreferences.sms":!0,hasSeenSMSPopup:!0}),M(!1),c.Ay.success("SMS notifications enabled!")}catch(e){console.error("Error enabling SMS:",e),c.Ay.error("Failed to enable SMS")}},className:"flex-1 btn btn-primary",children:"I Understand - Enable SMS"})]})]})})]})}}}]);
//# sourceMappingURL=225.86c4c064.chunk.js.map