/*! For license information please see main.7da2feb5.js.LICENSE.txt */
(()=>{var e={52:(e,t,A)=>{"use strict";A.d(t,{KO:()=>Z,MF:()=>X,Sx:()=>Y,Wp:()=>J,j6:()=>V,om:()=>K,xZ:()=>G});var n=A(8812),r=A(443),s=A(7700),i=A(2799);class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const a="@firebase/app",l="0.10.13",c=new r.Vy("@firebase/app"),u="@firebase/app-compat",d="@firebase/analytics-compat",h="@firebase/analytics",f="@firebase/app-check-compat",g="@firebase/app-check",p="@firebase/auth",m="@firebase/auth-compat",w="@firebase/database",y="@firebase/data-connect",B="@firebase/database-compat",v="@firebase/functions",b="@firebase/functions-compat",C="@firebase/installations",x="@firebase/installations-compat",E="@firebase/messaging",U="@firebase/messaging-compat",Q="@firebase/performance",F="@firebase/performance-compat",I="@firebase/remote-config",k="@firebase/remote-config-compat",S="@firebase/storage",_="@firebase/storage-compat",T="@firebase/firestore",N="@firebase/vertexai-preview",D="@firebase/firestore-compat",L="firebase",H="[DEFAULT]",O={[a]:"fire-core",[u]:"fire-core-compat",[h]:"fire-analytics",[d]:"fire-analytics-compat",[g]:"fire-app-check",[f]:"fire-app-check-compat",[p]:"fire-auth",[m]:"fire-auth-compat",[w]:"fire-rtdb",[y]:"fire-data-connect",[B]:"fire-rtdb-compat",[v]:"fire-fn",[b]:"fire-fn-compat",[C]:"fire-iid",[x]:"fire-iid-compat",[E]:"fire-fcm",[U]:"fire-fcm-compat",[Q]:"fire-perf",[F]:"fire-perf-compat",[I]:"fire-rc",[k]:"fire-rc-compat",[S]:"fire-gcs",[_]:"fire-gcs-compat",[T]:"fire-fst",[D]:"fire-fst-compat",[N]:"fire-vertex","fire-js":"fire-js",[L]:"fire-js-all"},R=new Map,P=new Map,M=new Map;function j(e,t){try{e.container.addComponent(t)}catch(A){c.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),A)}}function K(e){const t=e.name;if(M.has(t))return c.debug("There were multiple attempts to register component ".concat(t,".")),!1;M.set(t,e);for(const A of R.values())j(A,e);for(const A of P.values())j(A,e);return!0}function V(e,t){const A=e.container.getProvider("heartbeat").getImmediate({optional:!0});return A&&A.triggerHeartbeat(),e.container.getProvider(t)}function G(e){return void 0!==e.settings}const z={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},W=new s.FA("app","Firebase",z);class q{constructor(e,t,A){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=A,this.container.addComponent(new n.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw W.create("app-deleted",{appName:this._name})}}const X="10.14.1";function J(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:H,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw W.create("bad-app-name",{appName:String(i)});if(A||(A=(0,s.T9)()),!A)throw W.create("no-options");const o=R.get(i);if(o){if((0,s.bD)(A,o.options)&&(0,s.bD)(r,o.config))return o;throw W.create("duplicate-app",{appName:i})}const a=new n.h1(i);for(const n of M.values())a.addComponent(n);const l=new q(A,r,a);return R.set(i,l),l}function Y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;const t=R.get(e);if(!t&&e===H&&(0,s.T9)())return J();if(!t)throw W.create("no-app",{appName:e});return t}function Z(e,t,A){var r;let s=null!==(r=O[e])&&void 0!==r?r:e;A&&(s+="-".concat(A));const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void c.warn(e.join(" "))}K(new n.uA("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const $="firebase-heartbeat-store";let ee=null;function te(){return ee||(ee=(0,i.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore($)}catch(A){console.warn(A)}}}).catch(e=>{throw W.create("idb-open",{originalErrorMessage:e.message})})),ee}async function Ae(e,t){try{const A=(await te()).transaction($,"readwrite"),n=A.objectStore($);await n.put(t,ne(e)),await A.done}catch(A){if(A instanceof s.g)c.warn(A.message);else{const e=W.create("idb-set",{originalErrorMessage:null===A||void 0===A?void 0:A.message});c.warn(e.message)}}}function ne(e){return"".concat(e.name,"!").concat(e.options.appId)}class re{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ie(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const A=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=se();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))return;return this._heartbeatsCache.heartbeats.push({date:n,agent:A}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(A){c.warn(A)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=se(),{heartbeatsToSend:A,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const A=[];let n=e.slice();for(const r of e){const e=A.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),oe(A)>t){e.dates.pop();break}}else if(A.push({agent:r.agent,dates:[r.date]}),oe(A)>t){A.pop();break}n=n.slice(1)}return{heartbeatsToSend:A,unsentEntries:n}}(this._heartbeatsCache.heartbeats),r=(0,s.Uj)(JSON.stringify({version:2,heartbeats:A}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return c.warn(t),""}}}function se(){return(new Date).toISOString().substring(0,10)}class ie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await te()).transaction($),A=await t.objectStore($).get(ne(e));return await t.done,A}catch(t){if(t instanceof s.g)c.warn(t.message);else{const e=W.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});c.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const A=await this.read();return Ae(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:A.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const A=await this.read();return Ae(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:A.lastSentHeartbeatDate,heartbeats:[...A.heartbeats,...e.heartbeats]})}}}function oe(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ae;ae="",K(new n.uA("platform-logger",e=>new o(e),"PRIVATE")),K(new n.uA("heartbeat",e=>new re(e),"PRIVATE")),Z(a,l,ae),Z(a,l,"esm2017"),Z("fire-js","")},443:(e,t,A)=>{"use strict";A.d(t,{$b:()=>r,Vy:()=>l});const n=[];var r;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));const s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},i=r.INFO,o={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},a=function(e,t){if(t<e.logLevel)return;const A=(new Date).toISOString(),n=o[t];if(!n)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];console[n]("[".concat(A,"]  ").concat(e.name,":"),...s)};class l{constructor(e){this.name=e,this._logLevel=i,this._logHandler=a,this._userLogHandler=null,n.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),A=0;A<e;A++)t[A]=arguments[A];this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...t),this._logHandler(this,r.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),A=0;A<e;A++)t[A]=arguments[A];this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...t),this._logHandler(this,r.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),A=0;A<e;A++)t[A]=arguments[A];this._userLogHandler&&this._userLogHandler(this,r.INFO,...t),this._logHandler(this,r.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),A=0;A<e;A++)t[A]=arguments[A];this._userLogHandler&&this._userLogHandler(this,r.WARN,...t),this._logHandler(this,r.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),A=0;A<e;A++)t[A]=arguments[A];this._userLogHandler&&this._userLogHandler(this,r.ERROR,...t),this._logHandler(this,r.ERROR,...t)}}},559:(e,t,A)=>{"use strict";A.d(t,{A:()=>p});var n=A(5043),r=A(3216),s=A(5475),i=A(4528),o=A(3889),a=A(7400),l=A(2339),c=A(2555),u=A(5472),d=A(579);const h=()=>{const e=(0,r.Zp)(),{currentUser:t}=(0,i.As)(),[A,s]=(0,n.useState)(!1),[o,l]=(0,n.useState)([]),[h,f]=(0,n.useState)(0),g=(0,n.useRef)(null);(0,n.useEffect)(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&s(!1)};if(A)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[A]),(0,n.useEffect)(()=>{if(null===t||void 0===t||!t.uid)return;const e=(0,u.P)((0,u.rJ)(a.db,"notifications"),(0,u._M)("userId","==",t.uid),(0,u.My)("createdAt","desc")),A=(0,u.aQ)(e,e=>{const t=e.docs.map(e=>(0,c.A)({id:e.id},e.data()));l(t),f(t.filter(e=>!e.read).length)});return()=>A()},[null===t||void 0===t?void 0:t.uid]);const p=async e=>{try{await(0,u.mZ)((0,u.H9)(a.db,"notifications",e),{read:!0})}catch(t){console.error("Error marking notification as read:",t)}},m=e=>{switch(e){case"bestie_request":return"\ud83d\udc9c";case"check_in_alert":return"\u23f0";case"missed_check_in":return"\u26a0\ufe0f";case"request_attention":return"\ud83d\udc4b";case"badge_earned":return"\ud83c\udfc6";case"system":return"\ud83d\udce2";default:return"\ud83d\udd14"}},w=e=>{if(!e)return"";const t=e.toDate?e.toDate():new Date(e),A=new Date-t,n=Math.floor(A/6e4),r=Math.floor(A/36e5),s=Math.floor(A/864e5);return n<1?"Just now":n<60?"".concat(n,"m ago"):r<24?"".concat(r,"h ago"):s<7?"".concat(s,"d ago"):t.toLocaleDateString()};return(0,d.jsxs)("div",{className:"relative",ref:g,children:[(0,d.jsxs)("button",{onClick:()=>s(!A),className:"relative p-2 hover:bg-gray-100 rounded-full transition-colors",children:[(0,d.jsxs)("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",children:[(0,d.jsx)("defs",{children:(0,d.jsxs)("linearGradient",{id:"bellGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,d.jsx)("stop",{offset:"0%",stopColor:"#ec4899"}),(0,d.jsx)("stop",{offset:"50%",stopColor:"#a855f7"}),(0,d.jsx)("stop",{offset:"100%",stopColor:"#d946ef"})]})}),(0,d.jsx)("path",{d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",fill:"none",stroke:"url(#bellGradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),h>0&&(0,d.jsx)("div",{className:"absolute -top-1 -right-1 bg-gradient-to-br from-rose-500 to-pink-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center animate-pulse shadow-lg",children:h>9?"9+":h})]}),A&&(0,d.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-xl shadow-2xl border-2 border-gray-200 z-50 max-h-96 overflow-hidden flex flex-col",children:[(0,d.jsx)("div",{className:"p-4 border-b-2 border-gray-100 bg-gradient-to-r from-pink-50 to-purple-50",children:(0,d.jsxs)("h3",{className:"font-display text-lg text-text-primary flex items-center justify-between",children:[(0,d.jsx)("span",{children:"Notifications"}),h>0&&(0,d.jsxs)("span",{className:"text-xs bg-primary text-white px-2 py-1 rounded-full",children:[h," new"]})]})}),(0,d.jsx)("div",{className:"overflow-y-auto flex-1",children:0===o.length?(0,d.jsxs)("div",{className:"p-8 text-center",children:[(0,d.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udd14"}),(0,d.jsx)("p",{className:"text-text-secondary text-sm",children:"No notifications yet"}),(0,d.jsx)("p",{className:"text-text-secondary text-xs mt-1",children:"We'll notify you about check-ins, bestie requests, and more"})]}):(0,d.jsx)("div",{className:"divide-y divide-gray-100",children:o.map(t=>(0,d.jsx)("button",{onClick:()=>(t=>{switch(t.read||p(t.id),t.type){case"bestie_request":case"missed_check_in":case"request_attention":e("/besties");break;case"check_in_alert":e("/history");break;case"badge_earned":e("/profile")}s(!1)})(t),className:"w-full p-4 text-left hover:bg-gradient-to-r hover:from-pink-50 hover:to-purple-50 transition-colors ".concat(t.read?"":"bg-purple-50/30"),children:(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("div",{className:"flex-shrink-0 text-2xl",children:m(t.type)}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm ".concat(t.read?"text-gray-700":"font-semibold text-gray-900"),children:t.title}),(0,d.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:t.message}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:w(t.createdAt)})]}),!t.read&&(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full"})})]})},t.id))})}),h>0&&(0,d.jsx)("div",{className:"p-3 border-t-2 border-gray-100 bg-gray-50",children:(0,d.jsx)("button",{onClick:async()=>{const e=o.filter(e=>!e.read);for(const t of e)await p(t.id)},className:"w-full text-center text-sm font-semibold text-primary hover:text-primary-dark transition-colors",children:"Mark all as read"})})]})]})};var f=A(7766);const g=e=>{var t;let{photoURL:A,name:r,size:s="md"}=e;const[i,o]=(0,n.useState)(!1),a={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"};return(0,n.useEffect)(()=>{const e=setInterval(()=>{o(!0),setTimeout(()=>{o(!1)},1500)},3500);return()=>clearInterval(e)},[]),(0,d.jsxs)("div",{className:"relative",style:{perspective:"1000px"},children:[(0,d.jsxs)("div",{className:"".concat(a[s]," rounded-full relative transition-transform duration-1500 ease-in-out ").concat(i?"animate-coin-flip":""),style:{transformStyle:"preserve-3d"},children:[(0,d.jsx)("div",{className:"absolute inset-0 ".concat(a[s]," rounded-full overflow-hidden border-2 border-primary shadow-md"),style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:A?(0,d.jsx)("img",{src:A,alt:r,className:"w-full h-full object-cover"}):(0,d.jsx)("div",{className:"w-full h-full bg-gradient-primary flex items-center justify-center text-white font-bold text-lg",children:(null===r||void 0===r||null===(t=r.charAt(0))||void 0===t?void 0:t.toUpperCase())||"?"})}),(0,d.jsx)("div",{className:"absolute inset-0 ".concat(a[s]," rounded-full overflow-hidden border-2 border-primary shadow-md bg-gradient-primary flex items-center justify-center"),style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:(0,d.jsx)("span",{className:"text-white font-display text-xs font-bold",children:"B"})})]}),(0,d.jsx)("style",{children:"\n        @keyframes coin-flip {\n          0% {\n            transform: rotateY(0deg);\n          }\n          100% {\n            transform: rotateY(1440deg); /* 4 full rotations (360 * 4) */\n          }\n        }\n\n        .animate-coin-flip {\n          animation: coin-flip 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n        }\n\n        .duration-1500 {\n          transition-duration: 1500ms;\n        }\n      "})]})},p=()=>{var e;const{userData:t}=(0,i.As)(),{isDark:A,toggle:c}=(0,o.D)(),u=(0,r.zy)(),p=(0,r.Zp)(),[m,w]=(0,n.useState)(!1),y=(0,n.useRef)(null),B=e=>u.pathname===e;(0,n.useEffect)(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&w(!1)};if(m)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[m]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("header",{className:"".concat(A?"bg-gray-900":"bg-white"," shadow-sm sticky top-0 z-40 transition-colors"),children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,d.jsx)(s.N_,{to:"/",className:"flex items-center",children:(0,d.jsx)("span",{className:"font-display text-2xl text-gradient",children:"Besties"})}),(0,d.jsxs)("nav",{className:"hidden md:flex items-center gap-6",children:[(0,d.jsx)(s.N_,{to:"/",className:"font-semibold transition-colors ".concat(B("/")?"text-primary":A?"text-gray-300 hover:text-primary":"text-text-secondary hover:text-primary"),children:"Home"}),(0,d.jsx)(s.N_,{to:"/besties",className:"font-semibold transition-colors ".concat(B("/besties")?"text-primary":A?"text-gray-300 hover:text-primary":"text-text-secondary hover:text-primary"),children:"Besties"}),(0,d.jsx)(s.N_,{to:"/profile",className:"font-semibold transition-colors ".concat(B("/profile")?"text-primary":A?"text-gray-300 hover:text-primary":"text-text-secondary hover:text-primary"),children:"Profile"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(h,{}),(0,d.jsxs)("div",{className:"relative",ref:y,children:[(0,d.jsx)("button",{onClick:()=>w(!m),className:"hover:opacity-90 transition-opacity relative",children:null!==t&&void 0!==t&&null!==(e=t.requestAttention)&&void 0!==e&&e.active?(0,d.jsx)(f.A,{photoURL:null===t||void 0===t?void 0:t.photoURL,name:(null===t||void 0===t?void 0:t.displayName)||"User",requestAttention:null===t||void 0===t?void 0:t.requestAttention,size:"md",showBubble:!0}):(0,d.jsx)(g,{photoURL:null===t||void 0===t?void 0:t.photoURL,name:(null===t||void 0===t?void 0:t.displayName)||"User",size:"md"})}),m&&(0,d.jsxs)("div",{className:"absolute right-0 mt-2 w-48 ".concat(A?"bg-gray-800 border-gray-700":"bg-white border-gray-200"," rounded-lg shadow-lg border overflow-hidden animate-scale-up transition-colors"),children:[(0,d.jsxs)("div",{className:"px-4 py-3 ".concat(A?"border-gray-700":"border-gray-200"," border-b"),children:[(0,d.jsx)("div",{className:"font-semibold ".concat(A?"text-gray-100":"text-text-primary"," truncate"),children:(null===t||void 0===t?void 0:t.displayName)||"User"}),(0,d.jsx)("div",{className:"text-xs ".concat(A?"text-gray-400":"text-text-secondary"," truncate"),children:null===t||void 0===t?void 0:t.email})]}),(0,d.jsxs)("button",{onClick:()=>{w(!1),p("/profile")},className:"w-full px-4 py-2 text-left ".concat(A?"hover:bg-gray-700 text-gray-100":"hover:bg-gray-50 text-text-primary"," transition-colors flex items-center gap-2"),children:[(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]}),(0,d.jsxs)("button",{onClick:()=>{w(!1),p("/settings")},className:"w-full px-4 py-2 text-left ".concat(A?"hover:bg-gray-700 text-gray-100":"hover:bg-gray-50 text-text-primary"," transition-colors flex items-center gap-2"),children:[(0,d.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),(0,d.jsxs)("button",{onClick:()=>{w(!1),p("/history")},className:"w-full px-4 py-2 text-left ".concat(A?"hover:bg-gray-700 text-gray-100":"hover:bg-gray-50 text-text-primary"," transition-colors flex items-center gap-2"),children:[(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"History"]}),(0,d.jsxs)("button",{onClick:()=>{w(!1),p("/about")},className:"w-full px-4 py-2 text-left ".concat(A?"hover:bg-gray-700 text-gray-100":"hover:bg-gray-50 text-text-primary"," transition-colors flex items-center gap-2"),children:[(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"About Besties"]}),(0,d.jsx)("div",{className:"".concat(A?"border-gray-700":"border-gray-200"," border-t"),children:(0,d.jsxs)("button",{onClick:()=>{c(),l.Ay.success("".concat(A?"Light":"Dark"," mode enabled"))},className:"w-full px-4 py-2 text-left ".concat(A?"hover:bg-gray-700 text-gray-100":"hover:bg-gray-50 text-text-primary"," transition-colors flex items-center justify-between"),children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[A?(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),(0,d.jsx)("span",{children:A?"Light Mode":"Dark Mode"})]}),(0,d.jsx)("span",{className:"text-xs ".concat(A?"text-gray-400":"text-text-secondary"),children:A?"\u2600\ufe0f":"\ud83c\udf19"})]})}),(0,d.jsx)("div",{className:"".concat(A?"border-gray-700":"border-gray-200"," border-t"),children:(0,d.jsxs)("button",{onClick:async()=>{(await a.y1.signOut()).success?(l.Ay.success("Signed out successfully"),p("/login")):l.Ay.error("Sign out failed")},className:"w-full px-4 py-2 text-left ".concat(A?"hover:bg-red-900/30":"hover:bg-red-50"," transition-colors flex items-center gap-2 text-red-600"),children:[(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})})]})]})]})]})})}),(0,d.jsx)("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 ".concat(A?"bg-gray-900 border-gray-700":"bg-white border-gray-200"," border-t shadow-lg z-[9999] transition-colors"),style:{position:"fixed",bottom:0,width:"100%"},children:(0,d.jsxs)("div",{className:"flex items-center justify-around py-3 safe-area-inset-bottom",children:[(0,d.jsxs)(s.N_,{to:"/",className:"flex flex-col items-center gap-1 transition-colors ".concat(B("/")?"text-primary":A?"text-gray-300":"text-text-secondary"),children:[(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,d.jsx)("span",{className:"text-xs font-semibold",children:"Home"})]}),(0,d.jsxs)(s.N_,{to:"/besties",className:"flex flex-col items-center gap-1 transition-colors ".concat(B("/besties")?"text-primary":A?"text-gray-300":"text-text-secondary"),children:[(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),(0,d.jsx)("span",{className:"text-xs font-semibold",children:"Besties"})]}),(0,d.jsxs)(s.N_,{to:"/profile",className:"flex flex-col items-center gap-1 transition-colors ".concat(B("/profile")?"text-primary":A?"text-gray-300":"text-text-secondary"),children:[(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,d.jsx)("span",{className:"text-xs font-semibold",children:"Profile"})]})]})})]})}},579:(e,t,A)=>{"use strict";e.exports=A(1153)},626:(e,t,A)=>{"use strict";A.d(t,{Uz:()=>b,Qg:()=>C});var n=A(52),r=A(7700),s=A(8812);const i="type.googleapis.com/google.protobuf.Int64Value",o="type.googleapis.com/google.protobuf.UInt64Value";function a(e,t){const A={};for(const n in e)e.hasOwnProperty(n)&&(A[n]=t(e[n]));return A}function l(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(e=>l(e));if("function"===typeof e||"object"===typeof e)return a(e,e=>l(e));throw new Error("Data cannot be encoded in JSON: "+e)}function c(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case i:case o:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(e=>c(e)):"function"===typeof e||"object"===typeof e?a(e,e=>c(e)):e}const u="functions",d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class h extends r.g{constructor(e,t,A){super("".concat(u,"/").concat(e),t||""),this.details=A}}class f{constructor(e,t,A){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(e=>this.auth=e,()=>{}),this.messaging||t.get().then(e=>this.messaging=e,()=>{}),this.appCheck||A.get().then(e=>this.appCheck=e,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const g="us-central1";class p{constructor(e,t,A,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:g,s=arguments.length>5?arguments[5]:void 0;this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new f(t,A,n),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{const e=new URL(r);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=g}catch(i){this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const A=this.emulatorOrigin;return"".concat(A,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}function m(e,t,A){return n=>function(e,t,A,n){const r=e._url(t);return y(e,r,A,n)}(e,t,n,A||{})}async function w(e,t,A,n){let r;A["Content-Type"]="application/json";try{r=await n(e,{method:"POST",body:JSON.stringify(t),headers:A})}catch(i){return{status:0,json:null}}let s=null;try{s=await r.json()}catch(i){}return{status:r.status,json:s}}async function y(e,t,A,n){const r={data:A=l(A)},s={},i=await e.contextProvider.getContext(n.limitedUseAppCheckTokens);i.authToken&&(s.Authorization="Bearer "+i.authToken),i.messagingToken&&(s["Firebase-Instance-ID-Token"]=i.messagingToken),null!==i.appCheckToken&&(s["X-Firebase-AppCheck"]=i.appCheckToken);const o=function(e){let t=null;return{promise:new Promise((A,n)=>{t=setTimeout(()=>{n(new h("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}(n.timeout||7e4),a=await Promise.race([w(t,r,s,e.fetchImpl),o.promise,e.cancelAllRequests]);if(o.cancel(),!a)throw new h("cancelled","Firebase Functions instance was deleted.");const u=function(e,t){let A,n=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=n;try{const e=t&&t.error;if(e){const t=e.status;if("string"===typeof t){if(!d[t])return new h("internal","internal");n=d[t],r=t}const s=e.message;"string"===typeof s&&(r=s),A=e.details,void 0!==A&&(A=c(A))}}catch(s){}return"ok"===n?null:new h(n,r,A)}(a.status,a.json);if(u)throw u;if(!a.json)throw new h("internal","Response is not valid JSON object.");let f=a.json.data;if("undefined"===typeof f&&(f=a.json.result),"undefined"===typeof f)throw new h("internal","Response is missing data field.");return{data:c(f)}}const B="@firebase/functions",v="0.11.8";function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.Sx)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;const A=(0,n.j6)((0,r.Ku)(e),u).getImmediate({identifier:t}),s=(0,r.yU)("functions");return s&&function(e,t,A){!function(e,t,A){e.emulatorOrigin="http://".concat(t,":").concat(A)}((0,r.Ku)(e),t,A)}(A,...s),A}function C(e,t,A){return m((0,r.Ku)(e),t,A)}var x,E;x=fetch.bind(self),(0,n.om)(new s.uA(u,(e,t)=>{let{instanceIdentifier:A}=t;const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("messaging-internal"),i=e.getProvider("app-check-internal");return new p(n,r,s,i,A,x)},"PUBLIC").setMultipleInstances(!0)),(0,n.KO)(B,v,E),(0,n.KO)(B,v,"esm2017")},1019:(e,t,A)=>{"use strict";function n(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}A.d(t,{w:()=>n})},1153:(e,t,A)=>{"use strict";var n=A(5043),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,A){var n,s={},l=null,c=null;for(n in void 0!==A&&(l=""+A),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,n)&&!a.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:r,type:e,key:l,ref:c,props:s,_owner:o.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},1182:(e,t,A)=>{"use strict";A.d(t,{A:()=>i});var n=A(2555),r=A(7400),s=A(5472);const i=new class{constructor(){this.sessionId=this.generateSessionId(),this.userId=null,this.userAgent=navigator.userAgent,this.startTime=Date.now(),this.errors=[],this.performance=[],this.setupErrorHandlers()}generateSessionId(){return"session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}setUser(e){this.userId=e}setupErrorHandlers(){window.addEventListener("error",e=>{var t;this.logError({type:"uncaught_error",message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,stack:null===(t=e.error)||void 0===t?void 0:t.stack})}),window.addEventListener("unhandledrejection",e=>{var t,A;this.logError({type:"unhandled_promise",message:(null===(t=e.reason)||void 0===t?void 0:t.message)||String(e.reason),stack:null===(A=e.reason)||void 0===A?void 0:A.stack})}),this.trackPerformance()}logError(e){const t=(0,n.A)((0,n.A)({},e),{},{stack:e.stack||null,sessionId:this.sessionId,userId:this.userId,timestamp:Date.now(),url:window.location.href,userAgent:this.userAgent});this.errors.push(t),this.sendToFirestore("errors",t),console.error("Error tracked:",t)}logCustomError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.logError({type:"custom_error",message:e,details:t,stack:(new Error).stack})}trackPerformance(){window.addEventListener("load",()=>{setTimeout(()=>{const e=performance.getEntriesByType("navigation")[0];e&&this.logPerformance({type:"page_load",metrics:{dns:e.domainLookupEnd-e.domainLookupStart,tcp:e.connectEnd-e.connectStart,request:e.responseStart-e.requestStart,response:e.responseEnd-e.responseStart,dom:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,load:e.loadEventEnd-e.loadEventStart,total:e.loadEventEnd-e.fetchStart}})},0)});new PerformanceObserver(e=>{for(const t of e.getEntries())t.duration>1e3&&this.logPerformance({type:"slow_resource",name:t.name,duration:t.duration,size:t.transferSize})}).observe({entryTypes:["resource","measure"]})}logPerformance(e){const t=(0,n.A)((0,n.A)({},e),{},{sessionId:this.sessionId,userId:this.userId,timestamp:Date.now(),url:window.location.href});this.performance.push(t),this.sendToFirestore("performance",t)}trackAction(e){const t={action:e,details:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},sessionId:this.sessionId,userId:this.userId,timestamp:Date.now(),url:window.location.href};this.sendToFirestore("user_actions",t)}trackPageView(e){this.trackAction("page_view",{page:e})}trackFunnelStep(e,t){const A={funnel:e,step:t,metadata:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},sessionId:this.sessionId,userId:this.userId,timestamp:Date.now(),url:window.location.href};this.sendToFirestore("funnel_events",A)}async sendToFirestore(e,t){try{await(0,s.gS)((0,s.rJ)(r.db,e),(0,n.A)((0,n.A)({},t),{},{createdAt:s.Dc.now()}))}catch(A){console.error("Failed to send to Firestore:",A),this.storeLocally(e,t)}}storeLocally(e,t){try{const A="besties_".concat(e),n=JSON.parse(localStorage.getItem(A)||"[]");n.push(t),n.length>100&&n.shift(),localStorage.setItem(A,JSON.stringify(n))}catch(A){console.error("Failed to store locally:",A)}}getSessionSummary(){return{sessionId:this.sessionId,userId:this.userId,duration:Date.now()-this.startTime,errors:this.errors.length,url:window.location.href,userAgent:this.userAgent}}}},1387:(e,t,A)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var A=arguments[t];for(var n in A)Object.prototype.hasOwnProperty.call(A,n)&&(e[n]=A[n])}return e},n.apply(this,arguments)}var r;A.d(t,{AO:()=>u,Gh:()=>H,HS:()=>O,Oi:()=>o,Rr:()=>d,pX:()=>K,pb:()=>k,rc:()=>r,tH:()=>j,ue:()=>g,yD:()=>L,zR:()=>i}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const s="popstate";function i(e){return void 0===e&&(e={}),h(function(e,t){let{pathname:A,search:n,hash:r}=e.location;return c("",{pathname:A,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:u(t)},null,e)}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function a(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(A){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t,A,r){return void 0===A&&(A=null),n({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:A,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function u(e){let{pathname:t="/",search:A="",hash:n=""}=e;return A&&"?"!==A&&(t+="?"===A.charAt(0)?A:"?"+A),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function d(e){let t={};if(e){let A=e.indexOf("#");A>=0&&(t.hash=e.substr(A),e=e.substr(0,A));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function h(e,t,A,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:d=!1}=i,h=a.history,f=r.Pop,g=null,p=m();function m(){return(h.state||{idx:null}).idx}function w(){f=r.Pop;let e=m(),t=null==e?null:e-p;p=e,g&&g({action:f,location:B.location,delta:t})}function y(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,A="string"===typeof e?e:u(e);return A=A.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,t)}null==p&&(p=0,h.replaceState(n({},h.state,{idx:p}),""));let B={get action(){return f},get location(){return e(a,h)},listen(e){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(s,w),g=e,()=>{a.removeEventListener(s,w),g=null}},createHref:e=>t(a,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;let n=c(B.location,e,t);A&&A(n,e),p=m()+1;let s=l(n,p),i=B.createHref(n);try{h.pushState(s,"",i)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;a.location.assign(i)}d&&g&&g({action:f,location:B.location,delta:1})},replace:function(e,t){f=r.Replace;let n=c(B.location,e,t);A&&A(n,e),p=m();let s=l(n,p),i=B.createHref(n);h.replaceState(s,"",i),d&&g&&g({action:f,location:B.location,delta:0})},go:e=>h.go(e)};return B}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,A){return void 0===A&&(A="/"),p(e,t,A,!1)}function p(e,t,A,n){let r=k(("string"===typeof t?d(t):t).pathname||"/",A);if(null==r)return null;let s=m(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let A=e.length===t.length&&e.slice(0,-1).every((e,A)=>e===t[A]);return A?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=I(r);i=Q(s[o],e,n)}return i}function m(e,t,A,n){void 0===t&&(t=[]),void 0===A&&(A=[]),void 0===n&&(n="");let r=(e,r,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(o(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let a=O([n,i.relativePath]),l=A.concat(i);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),m(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:U(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var A;if(""!==e.path&&null!=(A=e.path)&&A.includes("?"))for(let n of w(e.path))r(e,t,n);else r(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[A,...n]=t,r=A.endsWith("?"),s=A.replace(/\?$/,"");if(0===n.length)return r?[s,""]:[s];let i=w(n.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),r&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const y=/^:[\w-]+$/,B=3,v=2,b=1,C=10,x=-2,E=e=>"*"===e;function U(e,t){let A=e.split("/"),n=A.length;return A.some(E)&&(n+=x),t&&(n+=v),A.filter(e=>!E(e)).reduce((e,t)=>e+(y.test(t)?B:""===t?b:C),n)}function Q(e,t,A){void 0===A&&(A=!1);let{routesMeta:n}=e,r={},s="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===s?t:t.slice(s.length)||"/",c=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l),u=e.route;if(!c&&a&&A&&!n[n.length-1].route.index&&(c=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!c)return null;Object.assign(r,c.params),i.push({params:r,pathname:O([s,c.pathname]),pathnameBase:R(O([s,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(s=O([s,c.pathnameBase]))}return i}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[A,n]=function(e,t,A){void 0===t&&(t=!1);void 0===A&&(A=!0);a("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,A)=>(n.push({paramName:t,isOptional:null!=A}),A?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):A?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),r=t.match(A);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:n.reduce((e,t,A)=>{let{paramName:n,isOptional:r}=t;if("*"===n){let e=o[A]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const a=o[A];return e[n]=r&&!a?void 0:(a||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return a(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function k(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let A=t.endsWith("/")?t.length-1:t.length,n=e.charAt(A);return n&&"/"!==n?null:e.slice(A)||"/"}const S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_=e=>S.test(e);function T(e,t){let A=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?A.length>1&&A.pop():"."!==e&&A.push(e)}),A.length>1?A.join("/"):"/"}function N(e,t,A,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+A+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let A=D(e);return t?A.map((e,t)=>t===A.length-1?e.pathname:e.pathnameBase):A.map(e=>e.pathnameBase)}function H(e,t,A,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=d(e):(s=n({},e),o(!s.pathname||!s.pathname.includes("?"),N("?","pathname","search",s)),o(!s.pathname||!s.pathname.includes("#"),N("#","pathname","hash",s)),o(!s.search||!s.search.includes("#"),N("#","search","hash",s)));let i,l=""===e||""===s.pathname,c=l?"/":s.pathname;if(null==c)i=A;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let A,{pathname:n,search:r="",hash:s=""}="string"===typeof e?d(e):e;if(n)if(_(n))A=n;else{if(n.includes("//")){let e=n;n=n.replace(/\/\/+/g,"/"),a(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+n)}A=n.startsWith("/")?T(n.substring(1),"/"):T(n,t)}else A=t;return{pathname:A,search:P(r),hash:M(s)}}(s,i),h=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&A.endsWith("/");return u.pathname.endsWith("/")||!h&&!f||(u.pathname+="/"),u}const O=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class j extends Error{}function K(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],G=(new Set(V),["get",...V]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},1479:(e,t,A)=>{"use strict";A.d(t,{c:()=>c});const n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function r(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const A=t.width?String(t.width):e.defaultWidth;return e.formats[A]||e.formats[e.defaultWidth]}}const s={date:r({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:r({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:r({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function o(e){return(t,A)=>{let n;if("formatting"===(null!==A&&void 0!==A&&A.context?String(A.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,r=null!==A&&void 0!==A&&A.width?String(A.width):t;n=e.formattingValues[r]||e.formattingValues[t]}else{const t=e.defaultWidth,r=null!==A&&void 0!==A&&A.width?String(A.width):e.defaultWidth;n=e.values[r]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function a(e){return function(t){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=A.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(r);if(!s)return null;const i=s[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],a=Array.isArray(o)?function(e,t){for(let A=0;A<e.length;A++)if(t(e[A]))return A;return}(o,e=>e.test(i)):function(e,t){for(const A in e)if(Object.prototype.hasOwnProperty.call(e,A)&&t(e[A]))return A;return}(o,e=>e.test(i));let l;l=e.valueCallback?e.valueCallback(a):a,l=A.valueCallback?A.valueCallback(l):l;return{value:l,rest:t.slice(i.length)}}}var l;const c={code:"en-US",formatDistance:(e,t,A)=>{let r;const s=n[e];return r="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),null!==A&&void 0!==A&&A.addSuffix?A.comparison&&A.comparison>0?"in "+r:r+" ago":r},formatLong:s,formatRelative:(e,t,A,n)=>i[e],localize:{ordinalNumber:(e,t)=>{const A=Number(e),n=A%100;if(n>20||n<10)switch(n%10){case 1:return A+"st";case 2:return A+"nd";case 3:return A+"rd"}return A+"th"},era:o({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:o({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:o({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:o({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:o({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(l={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const A=e.match(l.matchPattern);if(!A)return null;const n=A[0],r=e.match(l.parsePattern);if(!r)return null;let s=l.valueCallback?l.valueCallback(r[0]):r[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(n.length)}}),era:a({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:a({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:a({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:a({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:a({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},2339:(e,t,A)=>{"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}A.d(t,{l$:()=>ye,Ay:()=>Be});var r=A(2555),s=A(5043);let i={data:""},o=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||i},a=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,l=/\/\*[^]*?\*\/|  +/g,c=/\n+/g,u=(e,t)=>{let A="",n="",r="";for(let s in e){let i=e[s];"@"==s[0]?"i"==s[1]?A=s+" "+i+";":n+="f"==s[1]?u(i,s):s+"{"+u(i,"k"==s[1]?"":t)+"}":"object"==typeof i?n+=u(i,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=i&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=u.p?u.p(s,i):s+":"+i+";")}return A+(t&&r?t+"{"+r+"}":r)+n},d={},h=e=>{if("object"==typeof e){let t="";for(let A in e)t+=A+h(e[A]);return t}return e},f=(e,t,A,n,r)=>{let s=h(e),i=d[s]||(d[s]=(e=>{let t=0,A=11;for(;t<e.length;)A=101*A+e.charCodeAt(t++)>>>0;return"go"+A})(s));if(!d[i]){let t=s!==e?e:(e=>{let t,A,n=[{}];for(;t=a.exec(e.replace(l,""));)t[4]?n.shift():t[3]?(A=t[3].replace(c," ").trim(),n.unshift(n[0][A]=n[0][A]||{})):n[0][t[1]]=t[2].replace(c," ").trim();return n[0]})(e);d[i]=u(r?{["@keyframes "+i]:t}:t,A?"":"."+i)}let o=A&&d.g?d.g:null;return A&&(d.g=d[i]),((e,t,A,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=A?e+t.data:t.data+e)})(d[i],t,n,o),i};function g(e){let t=this||{},A=e.call?e(t.p):e;return f(A.unshift?A.raw?((e,t,A)=>e.reduce((e,n,r)=>{let s=t[r];if(s&&s.call){let e=s(A),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":u(e,""):!1===e?"":e}return e+n+(null==s?"":s)},""))(A,[].slice.call(arguments,1),t.p):A.reduce((e,A)=>Object.assign(e,A&&A.call?A(t.p):A),{}):A,o(t.target),t.g,t.o,t.k)}g.bind({g:1});let p,m,w,y=g.bind({k:1});function B(e,t){let A=this||{};return function(){let n=arguments;function r(s,i){let o=Object.assign({},s),a=o.className||r.className;A.p=Object.assign({theme:m&&m()},o),A.o=/ *go\d+/.test(a),o.className=g.apply(A,n)+(a?" "+a:""),t&&(o.ref=i);let l=e;return e[0]&&(l=o.as||e,delete o.as),w&&l[0]&&w(o),p(l,o)}return t?t(r):r}}var v,b,C,x,E,U,Q,F,I,k,S,_,T,N,D,L,H=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,O=(()=>{let e=0;return()=>(++e).toString()})(),R=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),P="default",M=(e,t)=>{let{toastLimit:A}=e.settings;switch(t.type){case 0:return(0,r.A)((0,r.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,A)});case 1:return(0,r.A)((0,r.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,r.A)((0,r.A)({},e),t.toast):e)});case 2:let{toast:n}=t;return M(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return(0,r.A)((0,r.A)({},e),{},{toasts:e.toasts.map(e=>e.id===s||void 0===s?(0,r.A)((0,r.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,r.A)((0,r.A)({},e),{},{toasts:[]}):(0,r.A)((0,r.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,r.A)((0,r.A)({},e),{},{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return(0,r.A)((0,r.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,r.A)((0,r.A)({},e),{},{pauseDuration:e.pauseDuration+i}))})}},j=[],K={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},V={},G=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;V[t]=M(V[t]||K,e),j.forEach(e=>{let[A,n]=e;A===t&&n(V[t])})},z=e=>Object.keys(V).forEach(t=>G(e,t)),W=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return t=>{G(t,e)}},q={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},X=e=>(t,A)=>{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",A=arguments.length>2?arguments[2]:void 0;return(0,r.A)((0,r.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},A),{},{id:(null==A?void 0:A.id)||O()})}(t,e,A);return W(n.toasterId||(e=>Object.keys(V).find(t=>V[t].toasts.some(t=>t.id===e)))(n.id))({type:2,toast:n}),n.id},J=(e,t)=>X("blank")(e,t);J.error=X("error"),J.success=X("success"),J.loading=X("loading"),J.custom=X("custom"),J.dismiss=(e,t)=>{let A={type:3,toastId:e};t?W(t)(A):z(A)},J.dismissAll=e=>J.dismiss(void 0,e),J.remove=(e,t)=>{let A={type:4,toastId:e};t?W(t)(A):z(A)},J.removeAll=e=>J.remove(void 0,e),J.promise=(e,t,A)=>{let n=J.loading(t.loading,(0,r.A)((0,r.A)({},A),null==A?void 0:A.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let s=t.success?H(t.success,e):void 0;return s?J.success(s,(0,r.A)((0,r.A)({id:n},A),null==A?void 0:A.success)):J.dismiss(n),e}).catch(e=>{let s=t.error?H(t.error,e):void 0;s?J.error(s,(0,r.A)((0,r.A)({id:n},A),null==A?void 0:A.error)):J.dismiss(n)}),e};var Y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:A,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P,[A,n]=(0,s.useState)(V[t]||K),i=(0,s.useRef)(V[t]);(0,s.useEffect)(()=>(i.current!==V[t]&&n(V[t]),j.push([t,n]),()=>{let e=j.findIndex(e=>{let[A]=e;return A===t});e>-1&&j.splice(e,1)}),[t]);let o=A.toasts.map(t=>{var A,n,s;return(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(A=e[t.type])?void 0:A.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||q[t.type],style:(0,r.A)((0,r.A)((0,r.A)({},e.style),null==(s=e[t.type])?void 0:s.style),t.style)})});return(0,r.A)((0,r.A)({},A),{},{toasts:o})}(e,t),i=(0,s.useRef)(new Map).current,o=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(i.has(e))return;let A=setTimeout(()=>{i.delete(e),a({type:4,toastId:e})},t);i.set(e,A)},[]);(0,s.useEffect)(()=>{if(n)return;let e=Date.now(),r=A.map(A=>{if(A.duration===1/0)return;let n=(A.duration||0)+A.pauseDuration-(e-A.createdAt);if(!(n<0))return setTimeout(()=>J.dismiss(A.id,t),n);A.visible&&J.dismiss(A.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[A,n,t]);let a=(0,s.useCallback)(W(t),[t]),l=(0,s.useCallback)(()=>{a({type:5,time:Date.now()})},[a]),c=(0,s.useCallback)((e,t)=>{a({type:1,toast:{id:e,height:t}})},[a]),u=(0,s.useCallback)(()=>{n&&a({type:6,time:Date.now()})},[n,a]),d=(0,s.useCallback)((e,t)=>{let{reverseOrder:n=!1,gutter:r=8,defaultPosition:s}=t||{},i=A.filter(t=>(t.position||s)===(e.position||s)&&t.height),o=i.findIndex(t=>t.id===e.id),a=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...n?[a+1]:[0,a]).reduce((e,t)=>e+(t.height||0)+r,0)},[A]);return(0,s.useEffect)(()=>{A.forEach(e=>{if(e.dismissed)o(e.id,e.removeDelay);else{let t=i.get(e.id);t&&(clearTimeout(t),i.delete(e.id))}})},[A,o]),{toasts:A,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},Z=y(v||(v=n(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),$=y(b||(b=n(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ee=y(C||(C=n(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),te=B("div")(x||(x=n(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Z,$,e=>e.secondary||"#fff",ee),Ae=y(E||(E=n(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),ne=B("div")(U||(U=n(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Ae),re=y(Q||(Q=n(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),se=y(F||(F=n(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),ie=B("div")(I||(I=n(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",re,se,e=>e.secondary||"#fff"),oe=B("div")(k||(k=n(["\n  position: absolute;\n"]))),ae=B("div")(S||(S=n(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),le=y(_||(_=n(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ce=B("div")(T||(T=n(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),le),ue=e=>{let{toast:t}=e,{icon:A,type:n,iconTheme:i}=t;return void 0!==A?"string"==typeof A?s.createElement(ce,null,A):A:"blank"===n?null:s.createElement(ae,null,s.createElement(ne,(0,r.A)({},i)),"loading"!==n&&s.createElement(oe,null,"error"===n?s.createElement(te,(0,r.A)({},i)):s.createElement(ie,(0,r.A)({},i))))},de=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),he=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),fe=B("div")(N||(N=n(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),ge=B("div")(D||(D=n(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),pe=s.memo(e=>{let{toast:t,position:A,style:n,children:i}=e,o=t.height?((e,t)=>{let A=e.includes("top")?1:-1,[n,r]=R()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[de(A),he(A)];return{animation:t?"".concat(y(n)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(y(r)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||A||"top-center",t.visible):{opacity:0},a=s.createElement(ue,{toast:t}),l=s.createElement(ge,(0,r.A)({},t.ariaProps),H(t.message,t));return s.createElement(fe,{className:t.className,style:(0,r.A)((0,r.A)((0,r.A)({},o),n),t.style)},"function"==typeof i?i({icon:a,message:l}):s.createElement(s.Fragment,null,a,l))});!function(e,t,A,n){u.p=t,p=e,m=A,w=n}(s.createElement);var me=e=>{let{id:t,className:A,style:n,onHeightUpdate:r,children:i}=e,o=s.useCallback(e=>{if(e){let A=()=>{let A=e.getBoundingClientRect().height;r(t,A)};A(),new MutationObserver(A).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return s.createElement("div",{ref:o,className:A,style:n},i)},we=g(L||(L=n(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),ye=e=>{let{reverseOrder:t,position:A="top-center",toastOptions:n,gutter:i,children:o,toasterId:a,containerStyle:l,containerClassName:c}=e,{toasts:u,handlers:d}=Y(n,a);return s.createElement("div",{"data-rht-toaster":a||"",style:(0,r.A)({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(e=>{let n=e.position||A,a=((e,t)=>{let A=e.includes("top"),n=A?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return(0,r.A)((0,r.A)({left:0,right:0,display:"flex",position:"absolute",transition:R()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(A?1:-1),"px)")},n),s)})(n,d.calculateOffset(e,{reverseOrder:t,gutter:i,defaultPosition:A}));return s.createElement(me,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?we:"",style:a},"custom"===e.type?H(e.message,e):o?o(e):s.createElement(pe,{toast:e,position:n}))}))},Be=J},2555:(e,t,A)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var r=A.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function s(e,t,A){return(t=r(t))in e?Object.defineProperty(e,t,{value:A,enumerable:!0,configurable:!0,writable:!0}):e[t]=A,e}function i(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),A.push.apply(A,n)}return A}function o(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?i(Object(A),!0).forEach(function(t){s(e,t,A[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):i(Object(A)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))})}return e}A.d(t,{A:()=>o})},2730:(e,t,A)=>{"use strict";var n=A(5043),r=A(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,A=1;A<arguments.length;A++)t+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function g(e,t,A,n,r,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=A,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){p[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];p[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){p[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){p[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){p[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){p[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){p[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){p[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){p[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function y(e,t,A,n){var r=p.hasOwnProperty(t)?p[t]:null;(null!==r?0!==r.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,A,n){if(null===t||"undefined"===typeof t||function(e,t,A,n){if(null!==A&&0===A.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==A?!A.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,A,n))return!0;if(n)return!1;if(null!==A)switch(A.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,A,r,n)&&(A=null),n||null===r?function(e){return!!u.call(f,e)||!u.call(h,e)&&(d.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===A?e.removeAttribute(t):e.setAttribute(t,""+A)):r.mustUseProperty?e[r.propertyName]=null===A?3!==r.type&&"":A:(t=r.attributeName,n=r.attributeNamespace,null===A?e.removeAttribute(t):(A=3===(r=r.type)||4===r&&!0===A?"":""+A,n?e.setAttributeNS(n,t,A):e.setAttribute(t,A))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,w);p[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,w);p[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,w);p[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){p[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),p.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){p[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,v=Symbol.for("react.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),Q=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var L,H=Object.assign;function O(e){if(void 0===L)try{throw Error()}catch(A){var t=A.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var R=!1;function P(e,t){if(!e||R)return"";R=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&"string"===typeof l.stack){for(var r=l.stack.split("\n"),s=n.stack.split("\n"),i=r.length-1,o=s.length-1;1<=i&&0<=o&&r[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||r[i]!==s[o]){var a="\n"+r[i].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}}while(1<=i&&0<=o);break}}}finally{R=!1,Error.prepareStackTrace=A}return(e=e?e.displayName||e.name:"")?O(e):""}function M(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=P(e.type,!1);case 11:return e=P(e.type.render,!1);case 1:return e=P(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case b:return"Portal";case E:return"Profiler";case x:return"StrictMode";case I:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Q:return(e.displayName||"Context")+".Consumer";case U:return(e._context.displayName||"Context")+".Provider";case F:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return j(e(t))}catch(A){}}return null}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function z(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",A=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof A&&"function"===typeof A.get&&"function"===typeof A.set){var r=A.get,s=A.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:A.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var A=t.getValue(),n="";return e&&(n=G(e)?e.checked?"true":"false":e.value),(e=n)!==A&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var A=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=A?A:e._wrapperState.initialChecked})}function J(e,t){var A=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;A=V(null!=t.value?t.value:A),e._wrapperState={initialChecked:n,initialValue:A,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){Y(e,t);var A=V(t.value),n=t.type;if(null!=A)"number"===n?(0===A&&""===e.value||e.value!=A)&&(e.value=""+A):e.value!==""+A&&(e.value=""+A);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,A):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,A){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,A||t===e.value||(e.value=t),e.defaultValue=t}""!==(A=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==A&&(e.name=A)}function ee(e,t,A){"number"===t&&q(e.ownerDocument)===e||(null==A?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+A&&(e.defaultValue=""+A))}var te=Array.isArray;function Ae(e,t,A,n){if(e=e.options,t){t={};for(var r=0;r<A.length;r++)t["$"+A[r]]=!0;for(A=0;A<e.length;A++)r=t.hasOwnProperty("$"+e[A].value),e[A].selected!==r&&(e[A].selected=r),r&&n&&(e[A].defaultSelected=!0)}else{for(A=""+V(A),t=null,r=0;r<e.length;r++){if(e[r].value===A)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var A=t.value;if(null==A){if(A=t.children,t=t.defaultValue,null!=A){if(null!=t)throw Error(s(92));if(te(A)){if(1<A.length)throw Error(s(93));A=A[0]}t=A}null==t&&(t=""),A=t}e._wrapperState={initialValue:V(A)}}function se(e,t){var A=V(t.value),n=V(t.defaultValue);null!=A&&((A=""+A)!==e.value&&(e.value=A),null==t.defaultValue&&e.defaultValue!==A&&(e.defaultValue=A)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,ue=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,A,n){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function de(e,t){if(t){var A=e.firstChild;if(A&&A===e.lastChild&&3===A.nodeType)return void(A.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,A){return null==t||"boolean"===typeof t||""===t?"":A||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function pe(e,t){for(var A in e=e.style,t)if(t.hasOwnProperty(A)){var n=0===A.indexOf("--"),r=ge(A,t[A],n);"float"===A&&(A="cssFloat"),n?e.setProperty(A,r):e[A]=r}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var me=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Be=null;function ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,Ce=null,xe=null;function Ee(e){if(e=yr(e)){if("function"!==typeof be)throw Error(s(280));var t=e.stateNode;t&&(t=vr(t),be(e.stateNode,e.type,t))}}function Ue(e){Ce?xe?xe.push(e):xe=[e]:Ce=e}function Qe(){if(Ce){var e=Ce,t=xe;if(xe=Ce=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Fe(e,t){return e(t)}function Ie(){}var ke=!1;function Se(e,t,A){if(ke)return e(t,A);ke=!0;try{return Fe(e,t,A)}finally{ke=!1,(null!==Ce||null!==xe)&&(Ie(),Qe())}}function _e(e,t){var A=e.stateNode;if(null===A)return null;var n=vr(A);if(null===n)return null;A=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(A&&"function"!==typeof A)throw Error(s(231,t,typeof A));return A}var Te=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Te=!1}function De(e,t,A,n,r,s,i,o,a){var l=Array.prototype.slice.call(arguments,3);try{t.apply(A,l)}catch(c){this.onError(c)}}var Le=!1,He=null,Oe=!1,Re=null,Pe={onError:function(e){Le=!0,He=e}};function Me(e,t,A,n,r,s,i,o,a){Le=!1,He=null,De.apply(Pe,arguments)}function je(e){var t=e,A=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(A=t.return),e=t.return}while(e)}return 3===t.tag?A:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(je(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(s(188));return t!==e?null:e}for(var A=e,n=t;;){var r=A.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(n=r.return)){A=n;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===A)return Ve(r),e;if(i===n)return Ve(r),t;i=i.sibling}throw Error(s(188))}if(A.return!==n.return)A=r,n=i;else{for(var o=!1,a=r.child;a;){if(a===A){o=!0,A=r,n=i;break}if(a===n){o=!0,n=r,A=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===A){o=!0,A=i,n=r;break}if(a===n){o=!0,n=i,A=r;break}a=a.sibling}if(!o)throw Error(s(189))}}if(A.alternate!==n)throw Error(s(190))}if(3!==A.tag)throw Error(s(188));return A.stateNode.current===A?e:t}(e))?ze(e):null}function ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ze(e);if(null!==t)return t;e=e.sibling}return null}var We=r.unstable_scheduleCallback,qe=r.unstable_cancelCallback,Xe=r.unstable_shouldYield,Je=r.unstable_requestPaint,Ye=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,At=r.unstable_LowPriority,nt=r.unstable_IdlePriority,rt=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/at|0)|0},ot=Math.log,at=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var A=e.pendingLanes;if(0===A)return 0;var n=0,r=e.suspendedLanes,s=e.pingedLanes,i=268435455&A;if(0!==i){var o=i&~r;0!==o?n=ut(o):0!==(s&=i)&&(n=ut(s))}else 0!==(i=A&~r)?n=ut(i):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&r)&&((r=n&-n)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&A),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)r=1<<(A=31-it(t)),n|=e[A],t&=~r;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function pt(e){for(var t=[],A=0;31>A;A++)t.push(e);return t}function mt(e,t,A){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=A}function wt(e,t){var A=e.entangledLanes|=t;for(e=e.entanglements;A;){var n=31-it(A),r=1<<n;r&t|e[n]&t&&(e[n]|=t),A&=~r}}var yt=0;function Bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var vt,bt,Ct,xt,Et,Ut=!1,Qt=[],Ft=null,It=null,kt=null,St=new Map,_t=new Map,Tt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Lt(e,t,A,n,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:A,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=yr(t))&&bt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ht(e){var t=wr(e.target);if(null!==t){var A=je(t);if(null!==A)if(13===(t=A.tag)){if(null!==(t=Ke(A)))return e.blockedOn=t,void Et(e.priority,function(){Ct(A)})}else if(3===t&&A.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===A.tag?A.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var A=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==A)return null!==(t=yr(A))&&bt(t),e.blockedOn=A,!1;var n=new(A=e.nativeEvent).constructor(A.type,A);Be=n,A.target.dispatchEvent(n),Be=null,t.shift()}return!0}function Rt(e,t,A){Ot(e)&&A.delete(t)}function Pt(){Ut=!1,null!==Ft&&Ot(Ft)&&(Ft=null),null!==It&&Ot(It)&&(It=null),null!==kt&&Ot(kt)&&(kt=null),St.forEach(Rt),_t.forEach(Rt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ut||(Ut=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Pt)))}function jt(e){function t(t){return Mt(t,e)}if(0<Qt.length){Mt(Qt[0],e);for(var A=1;A<Qt.length;A++){var n=Qt[A];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Ft&&Mt(Ft,e),null!==It&&Mt(It,e),null!==kt&&Mt(kt,e),St.forEach(t),_t.forEach(t),A=0;A<Tt.length;A++)(n=Tt[A]).blockedOn===e&&(n.blockedOn=null);for(;0<Tt.length&&null===(A=Tt[0]).blockedOn;)Ht(A),null===A.blockedOn&&Tt.shift()}var Kt=B.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,A,n){var r=yt,s=Kt.transition;Kt.transition=null;try{yt=1,Wt(e,t,A,n)}finally{yt=r,Kt.transition=s}}function zt(e,t,A,n){var r=yt,s=Kt.transition;Kt.transition=null;try{yt=4,Wt(e,t,A,n)}finally{yt=r,Kt.transition=s}}function Wt(e,t,A,n){if(Vt){var r=Xt(e,t,A,n);if(null===r)Vn(e,t,n,qt,A),Dt(e,n);else if(function(e,t,A,n,r){switch(t){case"focusin":return Ft=Lt(Ft,e,t,A,n,r),!0;case"dragenter":return It=Lt(It,e,t,A,n,r),!0;case"mouseover":return kt=Lt(kt,e,t,A,n,r),!0;case"pointerover":var s=r.pointerId;return St.set(s,Lt(St.get(s)||null,e,t,A,n,r)),!0;case"gotpointercapture":return s=r.pointerId,_t.set(s,Lt(_t.get(s)||null,e,t,A,n,r)),!0}return!1}(r,e,t,A,n))n.stopPropagation();else if(Dt(e,n),4&t&&-1<Nt.indexOf(e)){for(;null!==r;){var s=yr(r);if(null!==s&&vt(s),null===(s=Xt(e,t,A,n))&&Vn(e,t,n,qt,A),s===r)break;r=s}null!==r&&n.stopPropagation()}else Vn(e,t,n,null,A)}}var qt=null;function Xt(e,t,A,n){if(qt=null,null!==(e=wr(e=ve(n))))if(null===(t=je(e)))e=null;else if(13===(A=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===A){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case At:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,Zt=null,$t=null;function eA(){if($t)return $t;var e,t,A=Zt,n=A.length,r="value"in Yt?Yt.value:Yt.textContent,s=r.length;for(e=0;e<n&&A[e]===r[e];e++);var i=n-e;for(t=1;t<=i&&A[n-t]===r[s-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tA(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function AA(){return!0}function nA(){return!1}function rA(e){function t(t,A,n,r,s){for(var i in this._reactName=t,this._targetInst=n,this.type=A,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?AA:nA,this.isPropagationStopped=nA,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=AA)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=AA)},persist:function(){},isPersistent:AA}),t}var sA,iA,oA,aA={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lA=rA(aA),cA=H({},aA,{view:0,detail:0}),uA=rA(cA),dA=H({},cA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xA,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oA&&(oA&&"mousemove"===e.type?(sA=e.screenX-oA.screenX,iA=e.screenY-oA.screenY):iA=sA=0,oA=e),sA)},movementY:function(e){return"movementY"in e?e.movementY:iA}}),hA=rA(dA),fA=rA(H({},dA,{dataTransfer:0})),gA=rA(H({},cA,{relatedTarget:0})),pA=rA(H({},aA,{animationName:0,elapsedTime:0,pseudoElement:0})),mA=H({},aA,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wA=rA(mA),yA=rA(H({},aA,{data:0})),BA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bA[e])&&!!t[e]}function xA(){return CA}var EA=H({},cA,{key:function(e){if(e.key){var t=BA[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tA(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?vA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xA,charCode:function(e){return"keypress"===e.type?tA(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tA(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),UA=rA(EA),QA=rA(H({},dA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),FA=rA(H({},cA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xA})),IA=rA(H({},aA,{propertyName:0,elapsedTime:0,pseudoElement:0})),kA=H({},dA,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SA=rA(kA),_A=[9,13,27,32],TA=c&&"CompositionEvent"in window,NA=null;c&&"documentMode"in document&&(NA=document.documentMode);var DA=c&&"TextEvent"in window&&!NA,LA=c&&(!TA||NA&&8<NA&&11>=NA),HA=String.fromCharCode(32),OA=!1;function RA(e,t){switch(e){case"keyup":return-1!==_A.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PA(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var MA=!1;var jA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jA[e.type]:"textarea"===t}function VA(e,t,A,n){Ue(n),0<(t=zn(t,"onChange")).length&&(A=new lA("onChange","change",null,A,n),e.push({event:A,listeners:t}))}var GA=null,zA=null;function WA(e){On(e,0)}function qA(e){if(W(Br(e)))return e}function XA(e,t){if("change"===e)return t}var JA=!1;if(c){var YA;if(c){var ZA="oninput"in document;if(!ZA){var $A=document.createElement("div");$A.setAttribute("oninput","return;"),ZA="function"===typeof $A.oninput}YA=ZA}else YA=!1;JA=YA&&(!document.documentMode||9<document.documentMode)}function en(){GA&&(GA.detachEvent("onpropertychange",tn),zA=GA=null)}function tn(e){if("value"===e.propertyName&&qA(zA)){var t=[];VA(t,zA,e,ve(e)),Se(WA,t)}}function An(e,t,A){"focusin"===e?(en(),zA=A,(GA=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qA(zA)}function rn(e,t){if("click"===e)return qA(t)}function sn(e,t){if("input"===e||"change"===e)return qA(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function an(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var A=Object.keys(e),n=Object.keys(t);if(A.length!==n.length)return!1;for(n=0;n<A.length;n++){var r=A[n];if(!u.call(t,r)||!on(e[r],t[r]))return!1}return!0}function ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cn(e,t){var A,n=ln(e);for(e=0;n;){if(3===n.nodeType){if(A=e+n.textContent.length,e<=t&&A>=t)return{node:n,offset:t-e};e=A}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ln(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dn(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var A="string"===typeof t.contentWindow.location.href}catch(n){A=!1}if(!A)break;t=q((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fn(e){var t=dn(),A=e.focusedElem,n=e.selectionRange;if(t!==A&&A&&A.ownerDocument&&un(A.ownerDocument.documentElement,A)){if(null!==n&&hn(A))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in A)A.selectionStart=t,A.selectionEnd=Math.min(e,A.value.length);else if((e=(t=A.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=A.textContent.length,s=Math.min(n.start,r);n=void 0===n.end?s:Math.min(n.end,r),!e.extend&&s>n&&(r=n,n=s,s=r),r=cn(A,s);var i=cn(A,n);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=A;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof A.focus&&A.focus(),A=0;A<t.length;A++)(e=t[A]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gn=c&&"documentMode"in document&&11>=document.documentMode,pn=null,mn=null,wn=null,yn=!1;function Bn(e,t,A){var n=A.window===A?A.document:9===A.nodeType?A:A.ownerDocument;yn||null==pn||pn!==q(n)||("selectionStart"in(n=pn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},wn&&an(wn,n)||(wn=n,0<(n=zn(mn,"onSelect")).length&&(t=new lA("onSelect","select",null,t,A),e.push({event:t,listeners:n}),t.target=pn)))}function vn(e,t){var A={};return A[e.toLowerCase()]=t.toLowerCase(),A["Webkit"+e]="webkit"+t,A["Moz"+e]="moz"+t,A}var bn={animationend:vn("Animation","AnimationEnd"),animationiteration:vn("Animation","AnimationIteration"),animationstart:vn("Animation","AnimationStart"),transitionend:vn("Transition","TransitionEnd")},Cn={},xn={};function En(e){if(Cn[e])return Cn[e];if(!bn[e])return e;var t,A=bn[e];for(t in A)if(A.hasOwnProperty(t)&&t in xn)return Cn[e]=A[t];return e}c&&(xn=document.createElement("div").style,"AnimationEvent"in window||(delete bn.animationend.animation,delete bn.animationiteration.animation,delete bn.animationstart.animation),"TransitionEvent"in window||delete bn.transitionend.transition);var Un=En("animationend"),Qn=En("animationiteration"),Fn=En("animationstart"),In=En("transitionend"),kn=new Map,Sn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){kn.set(e,t),a(t,[e])}for(var Tn=0;Tn<Sn.length;Tn++){var Nn=Sn[Tn];_n(Nn.toLowerCase(),"on"+(Nn[0].toUpperCase()+Nn.slice(1)))}_n(Un,"onAnimationEnd"),_n(Qn,"onAnimationIteration"),_n(Fn,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(In,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Hn(e,t,A){var n=e.type||"unknown-event";e.currentTarget=A,function(e,t,A,n,r,i,o,a,l){if(Me.apply(this,arguments),Le){if(!Le)throw Error(s(198));var c=He;Le=!1,He=null,Oe||(Oe=!0,Re=c)}}(n,t,void 0,e),e.currentTarget=null}function On(e,t){t=0!==(4&t);for(var A=0;A<e.length;A++){var n=e[A],r=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],a=o.instance,l=o.currentTarget;if(o=o.listener,a!==s&&r.isPropagationStopped())break e;Hn(r,o,l),s=a}else for(i=0;i<n.length;i++){if(a=(o=n[i]).instance,l=o.currentTarget,o=o.listener,a!==s&&r.isPropagationStopped())break e;Hn(r,o,l),s=a}}}if(Oe)throw e=Re,Oe=!1,Re=null,e}function Rn(e,t){var A=t[gr];void 0===A&&(A=t[gr]=new Set);var n=e+"__bubble";A.has(n)||(Kn(t,e,2,!1),A.add(n))}function Pn(e,t,A){var n=0;t&&(n|=4),Kn(A,e,n,t)}var Mn="_reactListening"+Math.random().toString(36).slice(2);function jn(e){if(!e[Mn]){e[Mn]=!0,i.forEach(function(t){"selectionchange"!==t&&(Ln.has(t)||Pn(t,!1,e),Pn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mn]||(t[Mn]=!0,Pn("selectionchange",!1,t))}}function Kn(e,t,A,n){switch(Jt(t)){case 1:var r=Gt;break;case 4:r=zt;break;default:r=Wt}A=r.bind(null,t,A,e),r=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,A,{capture:!0,passive:r}):e.addEventListener(t,A,!0):void 0!==r?e.addEventListener(t,A,{passive:r}):e.addEventListener(t,A,!1)}function Vn(e,t,A,n,r){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===i)for(i=n.return;null!==i;){var a=i.tag;if((3===a||4===a)&&((a=i.stateNode.containerInfo)===r||8===a.nodeType&&a.parentNode===r))return;i=i.return}for(;null!==o;){if(null===(i=wr(o)))return;if(5===(a=i.tag)||6===a){n=s=i;continue e}o=o.parentNode}}n=n.return}Se(function(){var n=s,r=ve(A),i=[];e:{var o=kn.get(e);if(void 0!==o){var a=lA,l=e;switch(e){case"keypress":if(0===tA(A))break e;case"keydown":case"keyup":a=UA;break;case"focusin":l="focus",a=gA;break;case"focusout":l="blur",a=gA;break;case"beforeblur":case"afterblur":a=gA;break;case"click":if(2===A.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=hA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=fA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=FA;break;case Un:case Qn:case Fn:a=pA;break;case In:a=IA;break;case"scroll":a=uA;break;case"wheel":a=SA;break;case"copy":case"cut":case"paste":a=wA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=QA}var c=0!==(4&t),u=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var h,f=n;null!==f;){var g=(h=f).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==d&&(null!=(g=_e(f,d))&&c.push(Gn(f,g,h)))),u)break;f=f.return}0<c.length&&(o=new a(o,l,null,A,r),i.push({event:o,listeners:c}))}}if(0===(7&t)){if(a="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||A===Be||!(l=A.relatedTarget||A.fromElement)||!wr(l)&&!l[fr])&&(a||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=n,null!==(l=(l=A.relatedTarget||A.toElement)?wr(l):null)&&(l!==(u=je(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(a=null,l=n),a!==l)){if(c=hA,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=QA,g="onPointerLeave",d="onPointerEnter",f="pointer"),u=null==a?o:Br(a),h=null==l?o:Br(l),(o=new c(g,f+"leave",a,A,r)).target=u,o.relatedTarget=h,g=null,wr(r)===n&&((c=new c(d,f+"enter",l,A,r)).target=h,c.relatedTarget=u,g=c),u=g,a&&l)e:{for(d=l,f=0,h=c=a;h;h=Wn(h))f++;for(h=0,g=d;g;g=Wn(g))h++;for(;0<f-h;)c=Wn(c),f--;for(;0<h-f;)d=Wn(d),h--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break e;c=Wn(c),d=Wn(d)}c=null}else c=null;null!==a&&qn(i,o,a,c,!1),null!==l&&null!==u&&qn(i,u,l,c,!0)}if("select"===(a=(o=n?Br(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===a&&"file"===o.type)var p=XA;else if(KA(o))if(JA)p=sn;else{p=nn;var m=An}else(a=o.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(p=rn);switch(p&&(p=p(e,n))?VA(i,p,A,r):(m&&m(e,o,n),"focusout"===e&&(m=o._wrapperState)&&m.controlled&&"number"===o.type&&ee(o,"number",o.value)),m=n?Br(n):window,e){case"focusin":(KA(m)||"true"===m.contentEditable)&&(pn=m,mn=n,wn=null);break;case"focusout":wn=mn=pn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,Bn(i,A,r);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":Bn(i,A,r)}var w;if(TA)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else MA?RA(e,A)&&(y="onCompositionEnd"):"keydown"===e&&229===A.keyCode&&(y="onCompositionStart");y&&(LA&&"ko"!==A.locale&&(MA||"onCompositionStart"!==y?"onCompositionEnd"===y&&MA&&(w=eA()):(Zt="value"in(Yt=r)?Yt.value:Yt.textContent,MA=!0)),0<(m=zn(n,y)).length&&(y=new yA(y,e,null,A,r),i.push({event:y,listeners:m}),w?y.data=w:null!==(w=PA(A))&&(y.data=w))),(w=DA?function(e,t){switch(e){case"compositionend":return PA(t);case"keypress":return 32!==t.which?null:(OA=!0,HA);case"textInput":return(e=t.data)===HA&&OA?null:e;default:return null}}(e,A):function(e,t){if(MA)return"compositionend"===e||!TA&&RA(e,t)?(e=eA(),$t=Zt=Yt=null,MA=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LA&&"ko"!==t.locale?null:t.data}}(e,A))&&(0<(n=zn(n,"onBeforeInput")).length&&(r=new yA("onBeforeInput","beforeinput",null,A,r),i.push({event:r,listeners:n}),r.data=w))}On(i,t)})}function Gn(e,t,A){return{instance:e,listener:t,currentTarget:A}}function zn(e,t){for(var A=t+"Capture",n=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=_e(e,A))&&n.unshift(Gn(e,s,r)),null!=(s=_e(e,t))&&n.push(Gn(e,s,r))),e=e.return}return n}function Wn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qn(e,t,A,n,r){for(var s=t._reactName,i=[];null!==A&&A!==n;){var o=A,a=o.alternate,l=o.stateNode;if(null!==a&&a===n)break;5===o.tag&&null!==l&&(o=l,r?null!=(a=_e(A,s))&&i.unshift(Gn(A,a,o)):r||null!=(a=_e(A,s))&&i.push(Gn(A,a,o))),A=A.return}0!==i.length&&e.push({event:t,listeners:i})}var Xn=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Yn(e){return("string"===typeof e?e:""+e).replace(Xn,"\n").replace(Jn,"")}function Zn(e,t,A){if(t=Yn(t),Yn(e)!==t&&A)throw Error(s(425))}function $n(){}var er=null,tr=null;function Ar(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var nr="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ir="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(or)}:nr;function or(e){setTimeout(function(){throw e})}function ar(e,t){var A=t,n=0;do{var r=A.nextSibling;if(e.removeChild(A),r&&8===r.nodeType)if("/$"===(A=r.data)){if(0===n)return e.removeChild(r),void jt(t);n--}else"$"!==A&&"$?"!==A&&"$!"!==A||n++;A=r}while(A);jt(t)}function lr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var A=e.data;if("$"===A||"$!"===A||"$?"===A){if(0===t)return e;t--}else"/$"===A&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),dr="__reactFiber$"+ur,hr="__reactProps$"+ur,fr="__reactContainer$"+ur,gr="__reactEvents$"+ur,pr="__reactListeners$"+ur,mr="__reactHandles$"+ur;function wr(e){var t=e[dr];if(t)return t;for(var A=e.parentNode;A;){if(t=A[fr]||A[dr]){if(A=t.alternate,null!==t.child||null!==A&&null!==A.child)for(e=cr(e);null!==e;){if(A=e[dr])return A;e=cr(e)}return t}A=(e=A).parentNode}return null}function yr(e){return!(e=e[dr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function vr(e){return e[hr]||null}var br=[],Cr=-1;function xr(e){return{current:e}}function Er(e){0>Cr||(e.current=br[Cr],br[Cr]=null,Cr--)}function Ur(e,t){Cr++,br[Cr]=e.current,e.current=t}var Qr={},Fr=xr(Qr),Ir=xr(!1),kr=Qr;function Sr(e,t){var A=e.type.contextTypes;if(!A)return Qr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in A)s[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function _r(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Tr(){Er(Ir),Er(Fr)}function Nr(e,t,A){if(Fr.current!==Qr)throw Error(s(168));Ur(Fr,t),Ur(Ir,A)}function Dr(e,t,A){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return A;for(var r in n=n.getChildContext())if(!(r in t))throw Error(s(108,K(e)||"Unknown",r));return H({},A,n)}function Lr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qr,kr=Fr.current,Ur(Fr,e),Ur(Ir,Ir.current),!0}function Hr(e,t,A){var n=e.stateNode;if(!n)throw Error(s(169));A?(e=Dr(e,t,kr),n.__reactInternalMemoizedMergedChildContext=e,Er(Ir),Er(Fr),Ur(Fr,e)):Er(Ir),Ur(Ir,A)}var Or=null,Rr=!1,Pr=!1;function Mr(e){null===Or?Or=[e]:Or.push(e)}function jr(){if(!Pr&&null!==Or){Pr=!0;var e=0,t=yt;try{var A=Or;for(yt=1;e<A.length;e++){var n=A[e];do{n=n(!0)}while(null!==n)}Or=null,Rr=!1}catch(r){throw null!==Or&&(Or=Or.slice(e+1)),We($e,jr),r}finally{yt=t,Pr=!1}}return null}var Kr=[],Vr=0,Gr=null,zr=0,Wr=[],qr=0,Xr=null,Jr=1,Yr="";function Zr(e,t){Kr[Vr++]=zr,Kr[Vr++]=Gr,Gr=e,zr=t}function $r(e,t,A){Wr[qr++]=Jr,Wr[qr++]=Yr,Wr[qr++]=Xr,Xr=e;var n=Jr;e=Yr;var r=32-it(n)-1;n&=~(1<<r),A+=1;var s=32-it(t)+r;if(30<s){var i=r-r%5;s=(n&(1<<i)-1).toString(32),n>>=i,r-=i,Jr=1<<32-it(t)+r|A<<r|n,Yr=s+e}else Jr=1<<s|A<<r|n,Yr=e}function es(e){null!==e.return&&(Zr(e,1),$r(e,1,0))}function ts(e){for(;e===Gr;)Gr=Kr[--Vr],Kr[Vr]=null,zr=Kr[--Vr],Kr[Vr]=null;for(;e===Xr;)Xr=Wr[--qr],Wr[qr]=null,Yr=Wr[--qr],Wr[qr]=null,Jr=Wr[--qr],Wr[qr]=null}var As=null,ns=null,rs=!1,ss=null;function is(e,t){var A=Sl(5,null,null,0);A.elementType="DELETED",A.stateNode=t,A.return=e,null===(t=e.deletions)?(e.deletions=[A],e.flags|=16):t.push(A)}function os(e,t){switch(e.tag){case 5:var A=e.type;return null!==(t=1!==t.nodeType||A.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,As=e,ns=lr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,As=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(A=null!==Xr?{id:Jr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:A,retryLane:1073741824},(A=Sl(18,null,null,0)).stateNode=t,A.return=e,e.child=A,As=e,ns=null,!0);default:return!1}}function as(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(rs){var t=ns;if(t){var A=t;if(!os(e,t)){if(as(e))throw Error(s(418));t=lr(A.nextSibling);var n=As;t&&os(e,t)?is(n,A):(e.flags=-4097&e.flags|2,rs=!1,As=e)}}else{if(as(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,As=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;As=e}function us(e){if(e!==As)return!1;if(!rs)return cs(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Ar(e.type,e.memoizedProps)),t&&(t=ns)){if(as(e))throw ds(),Error(s(418));for(;t;)is(e,t),t=lr(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var A=e.data;if("/$"===A){if(0===t){ns=lr(e.nextSibling);break e}t--}else"$"!==A&&"$!"!==A&&"$?"!==A||t++}e=e.nextSibling}ns=null}}else ns=As?lr(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=ns;e;)e=lr(e.nextSibling)}function hs(){ns=As=null,rs=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var gs=B.ReactCurrentBatchConfig;function ps(e,t,A){if(null!==(e=A.ref)&&"function"!==typeof e&&"object"!==typeof e){if(A._owner){if(A=A._owner){if(1!==A.tag)throw Error(s(309));var n=A.stateNode}if(!n)throw Error(s(147,e));var r=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!A._owner)throw Error(s(290,e))}return e}function ms(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ws(e){return(0,e._init)(e._payload)}function ys(e){function t(t,A){if(e){var n=t.deletions;null===n?(t.deletions=[A],t.flags|=16):n.push(A)}}function A(A,n){if(!e)return null;for(;null!==n;)t(A,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Tl(e,t)).index=0,e.sibling=null,e}function i(t,A,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<A?(t.flags|=2,A):n:(t.flags|=2,A):(t.flags|=1048576,A)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,A,n){return null===t||6!==t.tag?((t=Hl(A,e.mode,n)).return=e,t):((t=r(t,A)).return=e,t)}function l(e,t,A,n){var s=A.type;return s===C?u(e,t,A.props.children,n,A.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===_&&ws(s)===t.type)?((n=r(t,A.props)).ref=ps(e,t,A),n.return=e,n):((n=Nl(A.type,A.key,A.props,null,e.mode,n)).ref=ps(e,t,A),n.return=e,n)}function c(e,t,A,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==A.containerInfo||t.stateNode.implementation!==A.implementation?((t=Ol(A,e.mode,n)).return=e,t):((t=r(t,A.children||[])).return=e,t)}function u(e,t,A,n,s){return null===t||7!==t.tag?((t=Dl(A,e.mode,n,s)).return=e,t):((t=r(t,A)).return=e,t)}function d(e,t,A){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Hl(""+t,e.mode,A)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case v:return(A=Nl(t.type,t.key,t.props,null,e.mode,A)).ref=ps(e,null,t),A.return=e,A;case b:return(t=Ol(t,e.mode,A)).return=e,t;case _:return d(e,(0,t._init)(t._payload),A)}if(te(t)||D(t))return(t=Dl(t,e.mode,A,null)).return=e,t;ms(e,t)}return null}function h(e,t,A,n){var r=null!==t?t.key:null;if("string"===typeof A&&""!==A||"number"===typeof A)return null!==r?null:a(e,t,""+A,n);if("object"===typeof A&&null!==A){switch(A.$$typeof){case v:return A.key===r?l(e,t,A,n):null;case b:return A.key===r?c(e,t,A,n):null;case _:return h(e,t,(r=A._init)(A._payload),n)}if(te(A)||D(A))return null!==r?null:u(e,t,A,n,null);ms(e,A)}return null}function f(e,t,A,n,r){if("string"===typeof n&&""!==n||"number"===typeof n)return a(t,e=e.get(A)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case v:return l(t,e=e.get(null===n.key?A:n.key)||null,n,r);case b:return c(t,e=e.get(null===n.key?A:n.key)||null,n,r);case _:return f(e,t,A,(0,n._init)(n._payload),r)}if(te(n)||D(n))return u(t,e=e.get(A)||null,n,r,null);ms(t,n)}return null}function g(r,s,o,a){for(var l=null,c=null,u=s,g=s=0,p=null;null!==u&&g<o.length;g++){u.index>g?(p=u,u=null):p=u.sibling;var m=h(r,u,o[g],a);if(null===m){null===u&&(u=p);break}e&&u&&null===m.alternate&&t(r,u),s=i(m,s,g),null===c?l=m:c.sibling=m,c=m,u=p}if(g===o.length)return A(r,u),rs&&Zr(r,g),l;if(null===u){for(;g<o.length;g++)null!==(u=d(r,o[g],a))&&(s=i(u,s,g),null===c?l=u:c.sibling=u,c=u);return rs&&Zr(r,g),l}for(u=n(r,u);g<o.length;g++)null!==(p=f(u,r,g,o[g],a))&&(e&&null!==p.alternate&&u.delete(null===p.key?g:p.key),s=i(p,s,g),null===c?l=p:c.sibling=p,c=p);return e&&u.forEach(function(e){return t(r,e)}),rs&&Zr(r,g),l}function p(r,o,a,l){var c=D(a);if("function"!==typeof c)throw Error(s(150));if(null==(a=c.call(a)))throw Error(s(151));for(var u=c=null,g=o,p=o=0,m=null,w=a.next();null!==g&&!w.done;p++,w=a.next()){g.index>p?(m=g,g=null):m=g.sibling;var y=h(r,g,w.value,l);if(null===y){null===g&&(g=m);break}e&&g&&null===y.alternate&&t(r,g),o=i(y,o,p),null===u?c=y:u.sibling=y,u=y,g=m}if(w.done)return A(r,g),rs&&Zr(r,p),c;if(null===g){for(;!w.done;p++,w=a.next())null!==(w=d(r,w.value,l))&&(o=i(w,o,p),null===u?c=w:u.sibling=w,u=w);return rs&&Zr(r,p),c}for(g=n(r,g);!w.done;p++,w=a.next())null!==(w=f(g,r,p,w.value,l))&&(e&&null!==w.alternate&&g.delete(null===w.key?p:w.key),o=i(w,o,p),null===u?c=w:u.sibling=w,u=w);return e&&g.forEach(function(e){return t(r,e)}),rs&&Zr(r,p),c}return function e(n,s,i,a){if("object"===typeof i&&null!==i&&i.type===C&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case v:e:{for(var l=i.key,c=s;null!==c;){if(c.key===l){if((l=i.type)===C){if(7===c.tag){A(n,c.sibling),(s=r(c,i.props.children)).return=n,n=s;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===_&&ws(l)===c.type){A(n,c.sibling),(s=r(c,i.props)).ref=ps(n,c,i),s.return=n,n=s;break e}A(n,c);break}t(n,c),c=c.sibling}i.type===C?((s=Dl(i.props.children,n.mode,a,i.key)).return=n,n=s):((a=Nl(i.type,i.key,i.props,null,n.mode,a)).ref=ps(n,s,i),a.return=n,n=a)}return o(n);case b:e:{for(c=i.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){A(n,s.sibling),(s=r(s,i.children||[])).return=n,n=s;break e}A(n,s);break}t(n,s),s=s.sibling}(s=Ol(i,n.mode,a)).return=n,n=s}return o(n);case _:return e(n,s,(c=i._init)(i._payload),a)}if(te(i))return g(n,s,i,a);if(D(i))return p(n,s,i,a);ms(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(A(n,s.sibling),(s=r(s,i)).return=n,n=s):(A(n,s),(s=Hl(i,n.mode,a)).return=n,n=s),o(n)):A(n,s)}}var Bs=ys(!0),vs=ys(!1),bs=xr(null),Cs=null,xs=null,Es=null;function Us(){Es=xs=Cs=null}function Qs(e){var t=bs.current;Er(bs),e._currentValue=t}function Fs(e,t,A){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===A)break;e=e.return}}function Is(e,t){Cs=e,Es=xs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===xs){if(null===Cs)throw Error(s(308));xs=e,Cs.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var Ss=null;function _s(e){null===Ss?Ss=[e]:Ss.push(e)}function Ts(e,t,A,n){var r=t.interleaved;return null===r?(A.next=A,_s(t)):(A.next=r.next,r.next=A),t.interleaved=A,Ns(e,n)}function Ns(e,t){e.lanes|=t;var A=e.alternate;for(null!==A&&(A.lanes|=t),A=e,e=e.return;null!==e;)e.childLanes|=t,null!==(A=e.alternate)&&(A.childLanes|=t),A=e,e=e.return;return 3===A.tag?A.stateNode:null}var Ds=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,A){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Fa)){var r=n.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),n.pending=t,Ns(e,A)}return null===(r=n.interleaved)?(t.next=t,_s(n)):(t.next=r.next,r.next=t),n.interleaved=t,Ns(e,A)}function Ps(e,t,A){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&A))){var n=t.lanes;A|=n&=e.pendingLanes,t.lanes=A,wt(e,A)}}function Ms(e,t){var A=e.updateQueue,n=e.alternate;if(null!==n&&A===(n=n.updateQueue)){var r=null,s=null;if(null!==(A=A.firstBaseUpdate)){do{var i={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};null===s?r=s=i:s=s.next=i,A=A.next}while(null!==A);null===s?r=s=t:s=s.next=t}else r=s=t;return A={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=A)}null===(e=A.lastBaseUpdate)?A.firstBaseUpdate=t:e.next=t,A.lastBaseUpdate=t}function js(e,t,A,n){var r=e.updateQueue;Ds=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var a=o,l=a.next;a.next=null,null===i?s=l:i.next=l,i=a;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===o?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=a))}if(null!==s){var u=r.baseState;for(i=0,c=l=a=null,o=s;;){var d=o.lane,h=o.eventTime;if((n&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,g=o;switch(d=t,h=A,g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(h,u,d);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=g.payload)?f.call(h,u,d):f)||void 0===d)break e;u=H({},u,d);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(l=c=h,a=u):c=c.next=h,i|=d;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(d=o).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===c&&(a=u),r.baseState=a,r.firstBaseUpdate=l,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);La|=i,e.lanes=i,e.memoizedState=u}}function Ks(e,t,A){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(null!==r){if(n.callback=null,n=A,"function"!==typeof r)throw Error(s(191,r));r.call(n)}}}var Vs={},Gs=xr(Vs),zs=xr(Vs),Ws=xr(Vs);function qs(e){if(e===Vs)throw Error(s(174));return e}function Xs(e,t){switch(Ur(Ws,t),Ur(zs,e),Ur(Gs,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ae(null,"");break;default:t=ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Er(Gs),Ur(Gs,t)}function Js(){Er(Gs),Er(zs),Er(Ws)}function Ys(e){qs(Ws.current);var t=qs(Gs.current),A=ae(t,e.type);t!==A&&(Ur(zs,e),Ur(Gs,A))}function Zs(e){zs.current===e&&(Er(Gs),Er(zs))}var $s=xr(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var A=t.memoizedState;if(null!==A&&(null===(A=A.dehydrated)||"$?"===A.data||"$!"===A.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function Ai(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ni=B.ReactCurrentDispatcher,ri=B.ReactCurrentBatchConfig,si=0,ii=null,oi=null,ai=null,li=!1,ci=!1,ui=0,di=0;function hi(){throw Error(s(321))}function fi(e,t){if(null===t)return!1;for(var A=0;A<t.length&&A<e.length;A++)if(!on(e[A],t[A]))return!1;return!0}function gi(e,t,A,n,r,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=null===e||null===e.memoizedState?Zi:$i,e=A(n,r),ci){i=0;do{if(ci=!1,ui=0,25<=i)throw Error(s(301));i+=1,ai=oi=null,t.updateQueue=null,ni.current=eo,e=A(n,r)}while(ci)}if(ni.current=Yi,t=null!==oi&&null!==oi.next,si=0,ai=oi=ii=null,li=!1,t)throw Error(s(300));return e}function pi(){var e=0!==ui;return ui=0,e}function mi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ai?ii.memoizedState=ai=e:ai=ai.next=e,ai}function wi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===ai?ii.memoizedState:ai.next;if(null!==t)ai=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===ai?ii.memoizedState=ai=e:ai=ai.next=e}return ai}function yi(e,t){return"function"===typeof t?t(e):t}function Bi(e){var t=wi(),A=t.queue;if(null===A)throw Error(s(311));A.lastRenderedReducer=e;var n=oi,r=n.baseQueue,i=A.pending;if(null!==i){if(null!==r){var o=r.next;r.next=i.next,i.next=o}n.baseQueue=r=i,A.pending=null}if(null!==r){i=r.next,n=n.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((si&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(a=l=d,o=n):l=l.next=d,ii.lanes|=u,La|=u}c=c.next}while(null!==c&&c!==i);null===l?o=n:l.next=a,on(n,t.memoizedState)||(yo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,A.lastRenderedState=n}if(null!==(e=A.interleaved)){r=e;do{i=r.lane,ii.lanes|=i,La|=i,r=r.next}while(r!==e)}else null===r&&(A.lanes=0);return[t.memoizedState,A.dispatch]}function vi(e){var t=wi(),A=t.queue;if(null===A)throw Error(s(311));A.lastRenderedReducer=e;var n=A.dispatch,r=A.pending,i=t.memoizedState;if(null!==r){A.pending=null;var o=r=r.next;do{i=e(i,o.action),o=o.next}while(o!==r);on(i,t.memoizedState)||(yo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),A.lastRenderedState=i}return[i,n]}function bi(){}function Ci(e,t){var A=ii,n=wi(),r=t(),i=!on(n.memoizedState,r);if(i&&(n.memoizedState=r,yo=!0),n=n.queue,Di(Ui.bind(null,A,n,e),[e]),n.getSnapshot!==t||i||null!==ai&&1&ai.memoizedState.tag){if(A.flags|=2048,ki(9,Ei.bind(null,A,n,r,t),void 0,null),null===Ia)throw Error(s(349));0!==(30&si)||xi(A,t,r)}return r}function xi(e,t,A){e.flags|=16384,e={getSnapshot:t,value:A},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(A=t.stores)?t.stores=[e]:A.push(e)}function Ei(e,t,A,n){t.value=A,t.getSnapshot=n,Qi(t)&&Fi(e)}function Ui(e,t,A){return A(function(){Qi(t)&&Fi(e)})}function Qi(e){var t=e.getSnapshot;e=e.value;try{var A=t();return!on(e,A)}catch(n){return!0}}function Fi(e){var t=Ns(e,1);null!==t&&Al(t,e,1,-1)}function Ii(e){var t=mi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Wi.bind(null,ii,e),[t.memoizedState,e]}function ki(e,t,A,n){return e={tag:e,create:t,destroy:A,deps:n,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(A=t.lastEffect)?t.lastEffect=e.next=e:(n=A.next,A.next=e,e.next=n,t.lastEffect=e),e}function Si(){return wi().memoizedState}function _i(e,t,A,n){var r=mi();ii.flags|=e,r.memoizedState=ki(1|t,A,void 0,void 0===n?null:n)}function Ti(e,t,A,n){var r=wi();n=void 0===n?null:n;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==n&&fi(n,i.deps))return void(r.memoizedState=ki(t,A,s,n))}ii.flags|=e,r.memoizedState=ki(1|t,A,s,n)}function Ni(e,t){return _i(8390656,8,e,t)}function Di(e,t){return Ti(2048,8,e,t)}function Li(e,t){return Ti(4,2,e,t)}function Hi(e,t){return Ti(4,4,e,t)}function Oi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ri(e,t,A){return A=null!==A&&void 0!==A?A.concat([e]):null,Ti(4,4,Oi.bind(null,t,e),A)}function Pi(){}function Mi(e,t){var A=wi();t=void 0===t?null:t;var n=A.memoizedState;return null!==n&&null!==t&&fi(t,n[1])?n[0]:(A.memoizedState=[e,t],e)}function ji(e,t){var A=wi();t=void 0===t?null:t;var n=A.memoizedState;return null!==n&&null!==t&&fi(t,n[1])?n[0]:(e=e(),A.memoizedState=[e,t],e)}function Ki(e,t,A){return 0===(21&si)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=A):(on(A,t)||(A=gt(),ii.lanes|=A,La|=A,e.baseState=!0),t)}function Vi(e,t){var A=yt;yt=0!==A&&4>A?A:4,e(!0);var n=ri.transition;ri.transition={};try{e(!1),t()}finally{yt=A,ri.transition=n}}function Gi(){return wi().memoizedState}function zi(e,t,A){var n=tl(e);if(A={lane:n,action:A,hasEagerState:!1,eagerState:null,next:null},qi(e))Xi(t,A);else if(null!==(A=Ts(e,t,A,n))){Al(A,e,n,el()),Ji(A,t,n)}}function Wi(e,t,A){var n=tl(e),r={lane:n,action:A,hasEagerState:!1,eagerState:null,next:null};if(qi(e))Xi(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,A);if(r.hasEagerState=!0,r.eagerState=o,on(o,i)){var a=t.interleaved;return null===a?(r.next=r,_s(t)):(r.next=a.next,a.next=r),void(t.interleaved=r)}}catch(l){}null!==(A=Ts(e,t,r,n))&&(Al(A,e,n,r=el()),Ji(A,t,n))}}function qi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Xi(e,t){ci=li=!0;var A=e.pending;null===A?t.next=t:(t.next=A.next,A.next=t),e.pending=t}function Ji(e,t,A){if(0!==(4194240&A)){var n=t.lanes;A|=n&=e.pendingLanes,t.lanes=A,wt(e,A)}}var Yi={readContext:ks,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Zi={readContext:ks,useCallback:function(e,t){return mi().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:Ni,useImperativeHandle:function(e,t,A){return A=null!==A&&void 0!==A?A.concat([e]):null,_i(4194308,4,Oi.bind(null,t,e),A)},useLayoutEffect:function(e,t){return _i(4194308,4,e,t)},useInsertionEffect:function(e,t){return _i(4,2,e,t)},useMemo:function(e,t){var A=mi();return t=void 0===t?null:t,e=e(),A.memoizedState=[e,t],e},useReducer:function(e,t,A){var n=mi();return t=void 0!==A?A(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=zi.bind(null,ii,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},mi().memoizedState=e},useState:Ii,useDebugValue:Pi,useDeferredValue:function(e){return mi().memoizedState=e},useTransition:function(){var e=Ii(!1),t=e[0];return e=Vi.bind(null,e[1]),mi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,A){var n=ii,r=mi();if(rs){if(void 0===A)throw Error(s(407));A=A()}else{if(A=t(),null===Ia)throw Error(s(349));0!==(30&si)||xi(n,t,A)}r.memoizedState=A;var i={value:A,getSnapshot:t};return r.queue=i,Ni(Ui.bind(null,n,i,e),[e]),n.flags|=2048,ki(9,Ei.bind(null,n,i,A,t),void 0,null),A},useId:function(){var e=mi(),t=Ia.identifierPrefix;if(rs){var A=Yr;t=":"+t+"R"+(A=(Jr&~(1<<32-it(Jr)-1)).toString(32)+A),0<(A=ui++)&&(t+="H"+A.toString(32)),t+=":"}else t=":"+t+"r"+(A=di++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$i={readContext:ks,useCallback:Mi,useContext:ks,useEffect:Di,useImperativeHandle:Ri,useInsertionEffect:Li,useLayoutEffect:Hi,useMemo:ji,useReducer:Bi,useRef:Si,useState:function(){return Bi(yi)},useDebugValue:Pi,useDeferredValue:function(e){return Ki(wi(),oi.memoizedState,e)},useTransition:function(){return[Bi(yi)[0],wi().memoizedState]},useMutableSource:bi,useSyncExternalStore:Ci,useId:Gi,unstable_isNewReconciler:!1},eo={readContext:ks,useCallback:Mi,useContext:ks,useEffect:Di,useImperativeHandle:Ri,useInsertionEffect:Li,useLayoutEffect:Hi,useMemo:ji,useReducer:vi,useRef:Si,useState:function(){return vi(yi)},useDebugValue:Pi,useDeferredValue:function(e){var t=wi();return null===oi?t.memoizedState=e:Ki(t,oi.memoizedState,e)},useTransition:function(){return[vi(yi)[0],wi().memoizedState]},useMutableSource:bi,useSyncExternalStore:Ci,useId:Gi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var A in t=H({},t),e=e.defaultProps)void 0===t[A]&&(t[A]=e[A]);return t}return t}function Ao(e,t,A,n){A=null===(A=A(n,t=e.memoizedState))||void 0===A?t:H({},t,A),e.memoizedState=A,0===e.lanes&&(e.updateQueue.baseState=A)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,A){e=e._reactInternals;var n=el(),r=tl(e),s=Os(n,r);s.payload=t,void 0!==A&&null!==A&&(s.callback=A),null!==(t=Rs(e,s,r))&&(Al(t,e,r,n),Ps(t,e,r))},enqueueReplaceState:function(e,t,A){e=e._reactInternals;var n=el(),r=tl(e),s=Os(n,r);s.tag=1,s.payload=t,void 0!==A&&null!==A&&(s.callback=A),null!==(t=Rs(e,s,r))&&(Al(t,e,r,n),Ps(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var A=el(),n=tl(e),r=Os(A,n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Rs(e,r,n))&&(Al(t,e,n,A),Ps(t,e,n))}};function ro(e,t,A,n,r,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!an(A,n)||!an(r,s))}function so(e,t,A){var n=!1,r=Qr,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(r=_r(t)?kr:Fr.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Sr(e,r):Qr),t=new t(A,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,A,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(A,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(A,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,A,n){var r=e.stateNode;r.props=A,r.state=e.memoizedState,r.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=ks(s):(s=_r(t)?kr:Fr.current,r.context=Sr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Ao(e,t,s,A),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&no.enqueueReplaceState(r,r.state,null),js(e,A,r,n),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ao(e,t){try{var A="",n=t;do{A+=M(n),n=n.return}while(n);var r=A}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function lo(e,t,A){return{value:e,source:null,stack:null!=A?A:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(A){setTimeout(function(){throw A})}}var uo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,A){(A=Os(-1,A)).tag=3,A.payload={element:null};var n=t.value;return A.callback=function(){Va||(Va=!0,Ga=n),co(0,t)},A}function fo(e,t,A){(A=Os(-1,A)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var r=t.value;A.payload=function(){return n(r)},A.callback=function(){co(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(A.callback=function(){co(0,t),"function"!==typeof n&&(null===za?za=new Set([this]):za.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),A}function go(e,t,A){var n=e.pingCache;if(null===n){n=e.pingCache=new uo;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(A)||(r.add(A),e=El.bind(null,e,t,A),t.then(e,e))}function po(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mo(e,t,A,n,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,A.flags|=131072,A.flags&=-52805,1===A.tag&&(null===A.alternate?A.tag=17:((t=Os(-1,1)).tag=2,Rs(A,t,1))),A.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var wo=B.ReactCurrentOwner,yo=!1;function Bo(e,t,A,n){t.child=null===e?vs(t,null,A,n):Bs(t,e.child,A,n)}function vo(e,t,A,n,r){A=A.render;var s=t.ref;return Is(t,r),n=gi(e,t,A,n,s,r),A=pi(),null===e||yo?(rs&&A&&es(t),t.flags|=1,Bo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vo(e,t,r))}function bo(e,t,A,n,r){if(null===e){var s=A.type;return"function"!==typeof s||_l(s)||void 0!==s.defaultProps||null!==A.compare||void 0!==A.defaultProps?((e=Nl(A.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Co(e,t,s,n,r))}if(s=e.child,0===(e.lanes&r)){var i=s.memoizedProps;if((A=null!==(A=A.compare)?A:an)(i,n)&&e.ref===t.ref)return Vo(e,t,r)}return t.flags|=1,(e=Tl(s,n)).ref=t.ref,e.return=t,t.child=e}function Co(e,t,A,n,r){if(null!==e){var s=e.memoizedProps;if(an(s,n)&&e.ref===t.ref){if(yo=!1,t.pendingProps=n=s,0===(e.lanes&r))return t.lanes=e.lanes,Vo(e,t,r);0!==(131072&e.flags)&&(yo=!0)}}return Uo(e,t,A,n,r)}function xo(e,t,A){var n=t.pendingProps,r=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ur(Ta,_a),_a|=A;else{if(0===(1073741824&A))return e=null!==s?s.baseLanes|A:A,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ur(Ta,_a),_a|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:A,Ur(Ta,_a),_a|=n}else null!==s?(n=s.baseLanes|A,t.memoizedState=null):n=A,Ur(Ta,_a),_a|=n;return Bo(e,t,r,A),t.child}function Eo(e,t){var A=t.ref;(null===e&&null!==A||null!==e&&e.ref!==A)&&(t.flags|=512,t.flags|=2097152)}function Uo(e,t,A,n,r){var s=_r(A)?kr:Fr.current;return s=Sr(t,s),Is(t,r),A=gi(e,t,A,n,s,r),n=pi(),null===e||yo?(rs&&n&&es(t),t.flags|=1,Bo(e,t,A,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vo(e,t,r))}function Qo(e,t,A,n,r){if(_r(A)){var s=!0;Lr(t)}else s=!1;if(Is(t,r),null===t.stateNode)Ko(e,t),so(t,A,n),oo(t,A,n,r),n=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var a=i.context,l=A.contextType;"object"===typeof l&&null!==l?l=ks(l):l=Sr(t,l=_r(A)?kr:Fr.current);var c=A.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==n||a!==l)&&io(t,i,n,l),Ds=!1;var d=t.memoizedState;i.state=d,js(t,n,i,r),a=t.memoizedState,o!==n||d!==a||Ir.current||Ds?("function"===typeof c&&(Ao(t,A,c,n),a=t.memoizedState),(o=Ds||ro(t,A,o,n,d,a,l))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),i.props=n,i.state=a,i.context=l,n=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Hs(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:to(t.type,o),i.props=l,u=t.pendingProps,d=i.context,"object"===typeof(a=A.contextType)&&null!==a?a=ks(a):a=Sr(t,a=_r(A)?kr:Fr.current);var h=A.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||d!==a)&&io(t,i,n,a),Ds=!1,d=t.memoizedState,i.state=d,js(t,n,i,r);var f=t.memoizedState;o!==u||d!==f||Ir.current||Ds?("function"===typeof h&&(Ao(t,A,h,n),f=t.memoizedState),(l=Ds||ro(t,A,l,n,d,f,a)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,f,a),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,f,a)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),i.props=n,i.state=f,i.context=a,n=l):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return Fo(e,t,A,n,s,r)}function Fo(e,t,A,n,r,s){Eo(e,t);var i=0!==(128&t.flags);if(!n&&!i)return r&&Hr(t,A,!1),Vo(e,t,s);n=t.stateNode,wo.current=t;var o=i&&"function"!==typeof A.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=Bs(t,e.child,null,s),t.child=Bs(t,null,o,s)):Bo(e,t,o,s),t.memoizedState=n.state,r&&Hr(t,A,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Nr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nr(0,t.context,!1),Xs(e,t.containerInfo)}function ko(e,t,A,n,r){return hs(),fs(r),t.flags|=256,Bo(e,t,A,n),t.child}var So,_o,To,No,Do={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ho(e,t,A){var n,r=t.pendingProps,i=$s.current,o=!1,a=0!==(128&t.flags);if((n=a)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ur($s,1&i),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=Ll(a,r,0,null),e=Dl(e,r,A,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(A),t.memoizedState=Do,e):Oo(t,a));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,A,n,r,i,o){if(A)return 256&t.flags?(t.flags&=-257,Ro(e,t,o,n=lo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,r=t.mode,n=Ll({mode:"visible",children:n.children},r,0,null),(i=Dl(i,r,o,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&Bs(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Do,i);if(0===(1&t.mode))return Ro(e,t,o,null);if("$!"===r.data){if(n=r.nextSibling&&r.nextSibling.dataset)var a=n.dgst;return n=a,Ro(e,t,o,n=lo(i=Error(s(419)),n,void 0))}if(a=0!==(o&e.childLanes),yo||a){if(null!==(n=Ia)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(n.suspendedLanes|o))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Ns(e,r),Al(n,e,r,-1))}return gl(),Ro(e,t,o,n=lo(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ql.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,ns=lr(r.nextSibling),As=t,rs=!0,ss=null,null!==e&&(Wr[qr++]=Jr,Wr[qr++]=Yr,Wr[qr++]=Xr,Jr=e.id,Yr=e.overflow,Xr=t),t=Oo(t,n.children),t.flags|=4096,t)}(e,t,a,r,n,i,A);if(o){o=r.fallback,a=t.mode,n=(i=e.child).sibling;var l={mode:"hidden",children:r.children};return 0===(1&a)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=l,t.deletions=null):(r=Tl(i,l)).subtreeFlags=14680064&i.subtreeFlags,null!==n?o=Tl(n,o):(o=Dl(o,a,A,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=null===(a=e.child.memoizedState)?Lo(A):{baseLanes:a.baseLanes|A,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~A,t.memoizedState=Do,r}return e=(o=e.child).sibling,r=Tl(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=A),r.return=t,r.sibling=null,null!==e&&(null===(A=t.deletions)?(t.deletions=[e],t.flags|=16):A.push(e)),t.child=r,t.memoizedState=null,r}function Oo(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ro(e,t,A,n){return null!==n&&fs(n),Bs(t,e.child,null,A),(e=Oo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Po(e,t,A){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Fs(e.return,t,A)}function Mo(e,t,A,n,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:A,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=A,s.tailMode=r)}function jo(e,t,A){var n=t.pendingProps,r=n.revealOrder,s=n.tail;if(Bo(e,t,n.children,A),0!==(2&(n=$s.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Po(e,A,t);else if(19===e.tag)Po(e,A,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ur($s,n),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(A=t.child,r=null;null!==A;)null!==(e=A.alternate)&&null===ei(e)&&(r=A),A=A.sibling;null===(A=r)?(r=t.child,t.child=null):(r=A.sibling,A.sibling=null),Mo(t,!1,r,A,s);break;case"backwards":for(A=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ei(e)){t.child=r;break}e=r.sibling,r.sibling=A,A=r,r=e}Mo(t,!0,A,null,s);break;case"together":Mo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ko(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,A){if(null!==e&&(t.dependencies=e.dependencies),La|=t.lanes,0===(A&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(A=Tl(e=t.child,e.pendingProps),t.child=A,A.return=t;null!==e.sibling;)e=e.sibling,(A=A.sibling=Tl(e,e.pendingProps)).return=t;A.sibling=null}return t.child}function Go(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var A=null;null!==t;)null!==t.alternate&&(A=t),t=t.sibling;null===A?e.tail=null:A.sibling=null;break;case"collapsed":A=e.tail;for(var n=null;null!==A;)null!==A.alternate&&(n=A),A=A.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function zo(e){var t=null!==e.alternate&&e.alternate.child===e.child,A=0,n=0;if(t)for(var r=e.child;null!==r;)A|=r.lanes|r.childLanes,n|=14680064&r.subtreeFlags,n|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)A|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=A,t}function Wo(e,t,A){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zo(t),null;case 1:case 17:return _r(t.type)&&Tr(),zo(t),null;case 3:return n=t.stateNode,Js(),Er(Ir),Er(Fr),Ai(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(il(ss),ss=null))),_o(e,t),zo(t),null;case 5:Zs(t);var r=qs(Ws.current);if(A=t.type,null!==e&&null!=t.stateNode)To(e,t,A,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return zo(t),null}if(e=qs(Gs.current),us(t)){n=t.stateNode,A=t.type;var i=t.memoizedProps;switch(n[dr]=t,n[hr]=i,e=0!==(1&t.mode),A){case"dialog":Rn("cancel",n),Rn("close",n);break;case"iframe":case"object":case"embed":Rn("load",n);break;case"video":case"audio":for(r=0;r<Dn.length;r++)Rn(Dn[r],n);break;case"source":Rn("error",n);break;case"img":case"image":case"link":Rn("error",n),Rn("load",n);break;case"details":Rn("toggle",n);break;case"input":J(n,i),Rn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Rn("invalid",n);break;case"textarea":re(n,i),Rn("invalid",n)}for(var a in we(A,i),r=null,i)if(i.hasOwnProperty(a)){var l=i[a];"children"===a?"string"===typeof l?n.textContent!==l&&(!0!==i.suppressHydrationWarning&&Zn(n.textContent,l,e),r=["children",l]):"number"===typeof l&&n.textContent!==""+l&&(!0!==i.suppressHydrationWarning&&Zn(n.textContent,l,e),r=["children",""+l]):o.hasOwnProperty(a)&&null!=l&&"onScroll"===a&&Rn("scroll",n)}switch(A){case"input":z(n),$(n,i,!0);break;case"textarea":z(n),ie(n);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(n.onclick=$n)}n=r,t.updateQueue=n,null!==n&&(t.flags|=4)}else{a=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(A)),"http://www.w3.org/1999/xhtml"===e?"script"===A?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=a.createElement(A,{is:n.is}):(e=a.createElement(A),"select"===A&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,A),e[dr]=t,e[hr]=n,So(e,t,!1,!1),t.stateNode=e;e:{switch(a=ye(A,n),A){case"dialog":Rn("cancel",e),Rn("close",e),r=n;break;case"iframe":case"object":case"embed":Rn("load",e),r=n;break;case"video":case"audio":for(r=0;r<Dn.length;r++)Rn(Dn[r],e);r=n;break;case"source":Rn("error",e),r=n;break;case"img":case"image":case"link":Rn("error",e),Rn("load",e),r=n;break;case"details":Rn("toggle",e),r=n;break;case"input":J(e,n),r=X(e,n),Rn("invalid",e);break;case"option":default:r=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},r=H({},n,{value:void 0}),Rn("invalid",e);break;case"textarea":re(e,n),r=ne(e,n),Rn("invalid",e)}for(i in we(A,r),l=r)if(l.hasOwnProperty(i)){var c=l[i];"style"===i?pe(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===i?"string"===typeof c?("textarea"!==A||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Rn("scroll",e):null!=c&&y(e,i,c,a))}switch(A){case"input":z(e),$(e,n,!1);break;case"textarea":z(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+V(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?Ae(e,!!n.multiple,i,!1):null!=n.defaultValue&&Ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$n)}switch(A){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return zo(t),null;case 6:if(e&&null!=t.stateNode)No(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(A=qs(Ws.current),qs(Gs.current),us(t)){if(n=t.stateNode,A=t.memoizedProps,n[dr]=t,(i=n.nodeValue!==A)&&null!==(e=As))switch(e.tag){case 3:Zn(n.nodeValue,A,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zn(n.nodeValue,A,0!==(1&e.mode))}i&&(t.flags|=4)}else(n=(9===A.nodeType?A:A.ownerDocument).createTextNode(n))[dr]=t,t.stateNode=n}return zo(t),null;case 13:if(Er($s),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ds(),hs(),t.flags|=98560,i=!1;else if(i=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[dr]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;zo(t),i=!1}else null!==ss&&(il(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=A,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$s.current)?0===Na&&(Na=3):gl())),null!==t.updateQueue&&(t.flags|=4),zo(t),null);case 4:return Js(),_o(e,t),null===e&&jn(t.stateNode.containerInfo),zo(t),null;case 10:return Qs(t.type._context),zo(t),null;case 19:if(Er($s),null===(i=t.memoizedState))return zo(t),null;if(n=0!==(128&t.flags),null===(a=i.rendering))if(n)Go(i,!1);else{if(0!==Na||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ei(e))){for(t.flags|=128,Go(i,!1),null!==(n=a.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=A,A=t.child;null!==A;)e=n,(i=A).flags&=14680066,null===(a=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),A=A.sibling;return Ur($s,1&$s.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>ja&&(t.flags|=128,n=!0,Go(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ei(a))){if(t.flags|=128,n=!0,null!==(A=e.updateQueue)&&(t.updateQueue=A,t.flags|=4),Go(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!rs)return zo(t),null}else 2*Ye()-i.renderingStartTime>ja&&1073741824!==A&&(t.flags|=128,n=!0,Go(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(A=i.last)?A.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,A=$s.current,Ur($s,n?1&A|2:1&A),t):(zo(t),null);case 22:case 23:return ul(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&_a)&&(zo(t),6&t.subtreeFlags&&(t.flags|=8192)):zo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function qo(e,t){switch(ts(t),t.tag){case 1:return _r(t.type)&&Tr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),Er(Ir),Er(Fr),Ai(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Er($s),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Er($s),null;case 4:return Js(),null;case 10:return Qs(t.type._context),null;case 22:case 23:return ul(),null;default:return null}}So=function(e,t){for(var A=t.child;null!==A;){if(5===A.tag||6===A.tag)e.appendChild(A.stateNode);else if(4!==A.tag&&null!==A.child){A.child.return=A,A=A.child;continue}if(A===t)break;for(;null===A.sibling;){if(null===A.return||A.return===t)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},_o=function(){},To=function(e,t,A,n){var r=e.memoizedProps;if(r!==n){e=t.stateNode,qs(Gs.current);var s,i=null;switch(A){case"input":r=X(e,r),n=X(e,n),i=[];break;case"select":r=H({},r,{value:void 0}),n=H({},n,{value:void 0}),i=[];break;case"textarea":r=ne(e,r),n=ne(e,n),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(e.onclick=$n)}for(c in we(A,n),A=null,r)if(!n.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var a=r[c];for(s in a)a.hasOwnProperty(s)&&(A||(A={}),A[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=null!=r?r[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(null!=l||null!=a))if("style"===c)if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(A||(A={}),A[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(A||(A={}),A[s]=l[s])}else A||(i||(i=[]),i.push(c,A)),A=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(i=i||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(i=i||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Rn("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}A&&(i=i||[]).push("style",A);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},No=function(e,t,A,n){A!==n&&(t.flags|=4)};var Xo=!1,Jo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function $o(e,t){var A=e.ref;if(null!==A)if("function"===typeof A)try{A(null)}catch(n){xl(e,t,n)}else A.current=null}function ea(e,t,A){try{A()}catch(n){xl(e,t,n)}}var ta=!1;function Aa(e,t,A){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&ea(t,A,s)}r=r.next}while(r!==n)}}function na(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var A=t=t.next;do{if((A.tag&e)===e){var n=A.create;A.destroy=n()}A=A.next}while(A!==t)}}function ra(e){var t=e.ref;if(null!==t){var A=e.stateNode;e.tag,e=A,"function"===typeof t?t(e):t.current=e}}function sa(e){var t=e.alternate;null!==t&&(e.alternate=null,sa(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[hr],delete t[gr],delete t[pr],delete t[mr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ia(e){return 5===e.tag||3===e.tag||4===e.tag}function oa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ia(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function aa(e,t,A){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===A.nodeType?A.parentNode.insertBefore(e,t):A.insertBefore(e,t):(8===A.nodeType?(t=A.parentNode).insertBefore(e,A):(t=A).appendChild(e),null!==(A=A._reactRootContainer)&&void 0!==A||null!==t.onclick||(t.onclick=$n));else if(4!==n&&null!==(e=e.child))for(aa(e,t,A),e=e.sibling;null!==e;)aa(e,t,A),e=e.sibling}function la(e,t,A){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?A.insertBefore(e,t):A.appendChild(e);else if(4!==n&&null!==(e=e.child))for(la(e,t,A),e=e.sibling;null!==e;)la(e,t,A),e=e.sibling}var ca=null,ua=!1;function da(e,t,A){for(A=A.child;null!==A;)ha(e,t,A),A=A.sibling}function ha(e,t,A){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,A)}catch(o){}switch(A.tag){case 5:Jo||$o(A,t);case 6:var n=ca,r=ua;ca=null,da(e,t,A),ua=r,null!==(ca=n)&&(ua?(e=ca,A=A.stateNode,8===e.nodeType?e.parentNode.removeChild(A):e.removeChild(A)):ca.removeChild(A.stateNode));break;case 18:null!==ca&&(ua?(e=ca,A=A.stateNode,8===e.nodeType?ar(e.parentNode,A):1===e.nodeType&&ar(e,A),jt(e)):ar(ca,A.stateNode));break;case 4:n=ca,r=ua,ca=A.stateNode.containerInfo,ua=!0,da(e,t,A),ca=n,ua=r;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(n=A.updateQueue)&&null!==(n=n.lastEffect))){r=n=n.next;do{var s=r,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&ea(A,t,i),r=r.next}while(r!==n)}da(e,t,A);break;case 1:if(!Jo&&($o(A,t),"function"===typeof(n=A.stateNode).componentWillUnmount))try{n.props=A.memoizedProps,n.state=A.memoizedState,n.componentWillUnmount()}catch(o){xl(A,t,o)}da(e,t,A);break;case 21:da(e,t,A);break;case 22:1&A.mode?(Jo=(n=Jo)||null!==A.memoizedState,da(e,t,A),Jo=n):da(e,t,A);break;default:da(e,t,A)}}function fa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var A=e.stateNode;null===A&&(A=e.stateNode=new Yo),t.forEach(function(t){var n=Fl.bind(null,e,t);A.has(t)||(A.add(t),t.then(n,n))})}}function ga(e,t){var A=t.deletions;if(null!==A)for(var n=0;n<A.length;n++){var r=A[n];try{var i=e,o=t,a=o;e:for(;null!==a;){switch(a.tag){case 5:ca=a.stateNode,ua=!1;break e;case 3:case 4:ca=a.stateNode.containerInfo,ua=!0;break e}a=a.return}if(null===ca)throw Error(s(160));ha(i,o,r),ca=null,ua=!1;var l=r.alternate;null!==l&&(l.return=null),r.return=null}catch(c){xl(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pa(t,e),t=t.sibling}function pa(e,t){var A=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ga(t,e),ma(e),4&n){try{Aa(3,e,e.return),na(3,e)}catch(p){xl(e,e.return,p)}try{Aa(5,e,e.return)}catch(p){xl(e,e.return,p)}}break;case 1:ga(t,e),ma(e),512&n&&null!==A&&$o(A,A.return);break;case 5:if(ga(t,e),ma(e),512&n&&null!==A&&$o(A,A.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(p){xl(e,e.return,p)}}if(4&n&&null!=(r=e.stateNode)){var i=e.memoizedProps,o=null!==A?A.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===i.type&&null!=i.name&&Y(r,i),ye(a,o);var c=ye(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];"style"===u?pe(r,d):"dangerouslySetInnerHTML"===u?ue(r,d):"children"===u?de(r,d):y(r,u,d,c)}switch(a){case"input":Z(r,i);break;case"textarea":se(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var f=i.value;null!=f?Ae(r,!!i.multiple,f,!1):h!==!!i.multiple&&(null!=i.defaultValue?Ae(r,!!i.multiple,i.defaultValue,!0):Ae(r,!!i.multiple,i.multiple?[]:"",!1))}r[hr]=i}catch(p){xl(e,e.return,p)}}break;case 6:if(ga(t,e),ma(e),4&n){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(p){xl(e,e.return,p)}}break;case 3:if(ga(t,e),ma(e),4&n&&null!==A&&A.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(p){xl(e,e.return,p)}break;case 4:default:ga(t,e),ma(e);break;case 13:ga(t,e),ma(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(Ma=Ye())),4&n&&fa(e);break;case 22:if(u=null!==A&&null!==A.memoizedState,1&e.mode?(Jo=(c=Jo)||u,ga(t,e),Jo=c):ga(t,e),ma(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(d=Zo=u;null!==Zo;){switch(f=(h=Zo).child,h.tag){case 0:case 11:case 14:case 15:Aa(4,h,h.return);break;case 1:$o(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){n=h,A=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){xl(n,A,p)}}break;case 5:$o(h,h.return);break;case 22:if(null!==h.memoizedState){va(d);continue}}null!==f?(f.return=h,Zo=f):va(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{r=d.stateNode,c?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(a=d.stateNode,o=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,a.style.display=ge("display",o))}catch(p){xl(e,e.return,p)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){xl(e,e.return,p)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ga(t,e),ma(e),4&n&&fa(e);case 21:}}function ma(e){var t=e.flags;if(2&t){try{e:{for(var A=e.return;null!==A;){if(ia(A)){var n=A;break e}A=A.return}throw Error(s(160))}switch(n.tag){case 5:var r=n.stateNode;32&n.flags&&(de(r,""),n.flags&=-33),la(e,oa(e),r);break;case 3:case 4:var i=n.stateNode.containerInfo;aa(e,oa(e),i);break;default:throw Error(s(161))}}catch(o){xl(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wa(e,t,A){Zo=e,ya(e,t,A)}function ya(e,t,A){for(var n=0!==(1&e.mode);null!==Zo;){var r=Zo,s=r.child;if(22===r.tag&&n){var i=null!==r.memoizedState||Xo;if(!i){var o=r.alternate,a=null!==o&&null!==o.memoizedState||Jo;o=Xo;var l=Jo;if(Xo=i,(Jo=a)&&!l)for(Zo=r;null!==Zo;)a=(i=Zo).child,22===i.tag&&null!==i.memoizedState?ba(r):null!==a?(a.return=i,Zo=a):ba(r);for(;null!==s;)Zo=s,ya(s,t,A),s=s.sibling;Zo=r,Xo=o,Jo=l}Ba(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Zo=s):Ba(e)}}function Ba(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var A=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||na(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Jo)if(null===A)n.componentDidMount();else{var r=t.elementType===t.type?A.memoizedProps:to(t.type,A.memoizedProps);n.componentDidUpdate(r,A.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ks(t,i,n);break;case 3:var o=t.updateQueue;if(null!==o){if(A=null,null!==t.child)switch(t.child.tag){case 5:case 1:A=t.child.stateNode}Ks(t,o,A)}break;case 5:var a=t.stateNode;if(null===A&&4&t.flags){A=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&A.focus();break;case"img":l.src&&(A.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&jt(d)}}}break;default:throw Error(s(163))}Jo||512&t.flags&&ra(t)}catch(h){xl(t,t.return,h)}}if(t===e){Zo=null;break}if(null!==(A=t.sibling)){A.return=t.return,Zo=A;break}Zo=t.return}}function va(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var A=t.sibling;if(null!==A){A.return=t.return,Zo=A;break}Zo=t.return}}function ba(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var A=t.return;try{na(4,t)}catch(a){xl(t,A,a)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var r=t.return;try{n.componentDidMount()}catch(a){xl(t,r,a)}}var s=t.return;try{ra(t)}catch(a){xl(t,s,a)}break;case 5:var i=t.return;try{ra(t)}catch(a){xl(t,i,a)}}}catch(a){xl(t,t.return,a)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Ca,xa=Math.ceil,Ea=B.ReactCurrentDispatcher,Ua=B.ReactCurrentOwner,Qa=B.ReactCurrentBatchConfig,Fa=0,Ia=null,ka=null,Sa=0,_a=0,Ta=xr(0),Na=0,Da=null,La=0,Ha=0,Oa=0,Ra=null,Pa=null,Ma=0,ja=1/0,Ka=null,Va=!1,Ga=null,za=null,Wa=!1,qa=null,Xa=0,Ja=0,Ya=null,Za=-1,$a=0;function el(){return 0!==(6&Fa)?Ye():-1!==Za?Za:Za=Ye()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Fa)&&0!==Sa?Sa&-Sa:null!==gs.transition?(0===$a&&($a=gt()),$a):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function Al(e,t,A,n){if(50<Ja)throw Ja=0,Ya=null,Error(s(185));mt(e,A,n),0!==(2&Fa)&&e===Ia||(e===Ia&&(0===(2&Fa)&&(Ha|=A),4===Na&&ol(e,Sa)),nl(e,n),1===A&&0===Fa&&0===(1&t.mode)&&(ja=Ye()+500,Rr&&jr()))}function nl(e,t){var A=e.callbackNode;!function(e,t){for(var A=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,a=r[i];-1===a?0!==(o&A)&&0===(o&n)||(r[i]=ht(o,t)):a<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var n=dt(e,e===Ia?Sa:0);if(0===n)null!==A&&qe(A),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=A&&qe(A),1===t)0===e.tag?function(e){Rr=!0,Mr(e)}(al.bind(null,e)):Mr(al.bind(null,e)),ir(function(){0===(6&Fa)&&jr()}),A=null;else{switch(Bt(n)){case 1:A=$e;break;case 4:A=et;break;case 16:default:A=tt;break;case 536870912:A=nt}A=Il(A,rl.bind(null,e))}e.callbackPriority=t,e.callbackNode=A}}function rl(e,t){if(Za=-1,$a=0,0!==(6&Fa))throw Error(s(327));var A=e.callbackNode;if(bl()&&e.callbackNode!==A)return null;var n=dt(e,e===Ia?Sa:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=pl(e,n);else{t=n;var r=Fa;Fa|=2;var i=fl();for(Ia===e&&Sa===t||(Ka=null,ja=Ye()+500,dl(e,t));;)try{wl();break}catch(a){hl(e,a)}Us(),Ea.current=i,Fa=r,null!==ka?t=0:(Ia=null,Sa=0,t=Na)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(n=r,t=sl(e,r))),1===t)throw A=Da,dl(e,0),ol(e,n),nl(e,Ye()),A;if(6===t)ol(e,n);else{if(r=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var A=t.updateQueue;if(null!==A&&null!==(A=A.stores))for(var n=0;n<A.length;n++){var r=A[n],s=r.getSnapshot;r=r.value;try{if(!on(s(),r))return!1}catch(o){return!1}}}if(A=t.child,16384&t.subtreeFlags&&null!==A)A.return=t,t=A;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=pl(e,n))&&(0!==(i=ft(e))&&(n=i,t=sl(e,i))),1===t))throw A=Da,dl(e,0),ol(e,n),nl(e,Ye()),A;switch(e.finishedWork=r,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:vl(e,Pa,Ka);break;case 3:if(ol(e,n),(130023424&n)===n&&10<(t=Ma+500-Ye())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&n)!==n){el(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=nr(vl.bind(null,e,Pa,Ka),t);break}vl(e,Pa,Ka);break;case 4:if(ol(e,n),(4194240&n)===n)break;for(t=e.eventTimes,r=-1;0<n;){var o=31-it(n);i=1<<o,(o=t[o])>r&&(r=o),n&=~i}if(n=r,10<(n=(120>(n=Ye()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xa(n/1960))-n)){e.timeoutHandle=nr(vl.bind(null,e,Pa,Ka),n);break}vl(e,Pa,Ka);break;default:throw Error(s(329))}}}return nl(e,Ye()),e.callbackNode===A?rl.bind(null,e):null}function sl(e,t){var A=Ra;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=pl(e,t))&&(t=Pa,Pa=A,null!==t&&il(t)),e}function il(e){null===Pa?Pa=e:Pa.push.apply(Pa,e)}function ol(e,t){for(t&=~Oa,t&=~Ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var A=31-it(t),n=1<<A;e[A]=-1,t&=~n}}function al(e){if(0!==(6&Fa))throw Error(s(327));bl();var t=dt(e,0);if(0===(1&t))return nl(e,Ye()),null;var A=pl(e,t);if(0!==e.tag&&2===A){var n=ft(e);0!==n&&(t=n,A=sl(e,n))}if(1===A)throw A=Da,dl(e,0),ol(e,t),nl(e,Ye()),A;if(6===A)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vl(e,Pa,Ka),nl(e,Ye()),null}function ll(e,t){var A=Fa;Fa|=1;try{return e(t)}finally{0===(Fa=A)&&(ja=Ye()+500,Rr&&jr())}}function cl(e){null!==qa&&0===qa.tag&&0===(6&Fa)&&bl();var t=Fa;Fa|=1;var A=Qa.transition,n=yt;try{if(Qa.transition=null,yt=1,e)return e()}finally{yt=n,Qa.transition=A,0===(6&(Fa=t))&&jr()}}function ul(){_a=Ta.current,Er(Ta)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var A=e.timeoutHandle;if(-1!==A&&(e.timeoutHandle=-1,rr(A)),null!==ka)for(A=ka.return;null!==A;){var n=A;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Tr();break;case 3:Js(),Er(Ir),Er(Fr),Ai();break;case 5:Zs(n);break;case 4:Js();break;case 13:case 19:Er($s);break;case 10:Qs(n.type._context);break;case 22:case 23:ul()}A=A.return}if(Ia=e,ka=e=Tl(e.current,null),Sa=_a=t,Na=0,Da=null,Oa=Ha=La=0,Pa=Ra=null,null!==Ss){for(t=0;t<Ss.length;t++)if(null!==(n=(A=Ss[t]).interleaved)){A.interleaved=null;var r=n.next,s=A.pending;if(null!==s){var i=s.next;s.next=r,n.next=i}A.pending=n}Ss=null}return e}function hl(e,t){for(;;){var A=ka;try{if(Us(),ni.current=Yi,li){for(var n=ii.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}li=!1}if(si=0,ai=oi=ii=null,ci=!1,ui=0,Ua.current=null,null===A||null===A.return){Na=1,Da=t,ka=null;break}e:{var i=e,o=A.return,a=A,l=t;if(t=Sa,a.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,u=a,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=po(o);if(null!==f){f.flags&=-257,mo(f,o,a,0,t),1&f.mode&&go(i,c,t),l=c;var g=(t=f).updateQueue;if(null===g){var p=new Set;p.add(l),t.updateQueue=p}else g.add(l);break e}if(0===(1&t)){go(i,c,t),gl();break e}l=Error(s(426))}else if(rs&&1&a.mode){var m=po(o);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),mo(m,o,a,0,t),fs(ao(l,a));break e}}i=l=ao(l,a),4!==Na&&(Na=2),null===Ra?Ra=[i]:Ra.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ms(i,ho(0,l,t));break e;case 1:a=l;var w=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof w.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===za||!za.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Ms(i,fo(i,a,t));break e}}i=i.return}while(null!==i)}Bl(A)}catch(B){t=B,ka===A&&null!==A&&(ka=A=A.return);continue}break}}function fl(){var e=Ea.current;return Ea.current=Yi,null===e?Yi:e}function gl(){0!==Na&&3!==Na&&2!==Na||(Na=4),null===Ia||0===(268435455&La)&&0===(268435455&Ha)||ol(Ia,Sa)}function pl(e,t){var A=Fa;Fa|=2;var n=fl();for(Ia===e&&Sa===t||(Ka=null,dl(e,t));;)try{ml();break}catch(r){hl(e,r)}if(Us(),Fa=A,Ea.current=n,null!==ka)throw Error(s(261));return Ia=null,Sa=0,Na}function ml(){for(;null!==ka;)yl(ka)}function wl(){for(;null!==ka&&!Xe();)yl(ka)}function yl(e){var t=Ca(e.alternate,e,_a);e.memoizedProps=e.pendingProps,null===t?Bl(e):ka=t,Ua.current=null}function Bl(e){var t=e;do{var A=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(A=Wo(A,t,_a)))return void(ka=A)}else{if(null!==(A=qo(A,t)))return A.flags&=32767,void(ka=A);if(null===e)return Na=6,void(ka=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ka=t);ka=t=e}while(null!==t);0===Na&&(Na=5)}function vl(e,t,A){var n=yt,r=Qa.transition;try{Qa.transition=null,yt=1,function(e,t,A,n){do{bl()}while(null!==qa);if(0!==(6&Fa))throw Error(s(327));A=e.finishedWork;var r=e.finishedLanes;if(null===A)return null;if(e.finishedWork=null,e.finishedLanes=0,A===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=A.lanes|A.childLanes;if(function(e,t){var A=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<A;){var r=31-it(A),s=1<<r;t[r]=0,n[r]=-1,e[r]=-1,A&=~s}}(e,i),e===Ia&&(ka=Ia=null,Sa=0),0===(2064&A.subtreeFlags)&&0===(2064&A.flags)||Wa||(Wa=!0,Il(tt,function(){return bl(),null})),i=0!==(15990&A.flags),0!==(15990&A.subtreeFlags)||i){i=Qa.transition,Qa.transition=null;var o=yt;yt=1;var a=Fa;Fa|=4,Ua.current=null,function(e,t){if(er=Vt,hn(e=dn())){if("selectionStart"in e)var A={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(A=(A=e.ownerDocument)&&A.defaultView||window).getSelection&&A.getSelection();if(n&&0!==n.rangeCount){A=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{A.nodeType,i.nodeType}catch(v){A=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==A||0!==r&&3!==d.nodeType||(a=o+r),d!==i||0!==n&&3!==d.nodeType||(l=o+n),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===A&&++c===r&&(a=o),h===i&&++u===n&&(l=o),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}A=-1===a||-1===l?null:{start:a,end:l}}else A=null}A=A||{start:0,end:0}}else A=null;for(tr={focusedElem:e,selectionRange:A},Vt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var p=g.memoizedProps,m=g.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?p:to(t.type,p),m);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var B=t.stateNode.containerInfo;1===B.nodeType?B.textContent="":9===B.nodeType&&B.documentElement&&B.removeChild(B.documentElement);break;default:throw Error(s(163))}}catch(v){xl(t,t.return,v)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}g=ta,ta=!1}(e,A),pa(A,e),fn(tr),Vt=!!er,tr=er=null,e.current=A,wa(A,e,r),Je(),Fa=a,yt=o,Qa.transition=i}else e.current=A;if(Wa&&(Wa=!1,qa=e,Xa=r),i=e.pendingLanes,0===i&&(za=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(A.stateNode),nl(e,Ye()),null!==t)for(n=e.onRecoverableError,A=0;A<t.length;A++)r=t[A],n(r.value,{componentStack:r.stack,digest:r.digest});if(Va)throw Va=!1,e=Ga,Ga=null,e;0!==(1&Xa)&&0!==e.tag&&bl(),i=e.pendingLanes,0!==(1&i)?e===Ya?Ja++:(Ja=0,Ya=e):Ja=0,jr()}(e,t,A,n)}finally{Qa.transition=r,yt=n}return null}function bl(){if(null!==qa){var e=Bt(Xa),t=Qa.transition,A=yt;try{if(Qa.transition=null,yt=16>e?16:e,null===qa)var n=!1;else{if(e=qa,qa=null,Xa=0,0!==(6&Fa))throw Error(s(331));var r=Fa;for(Fa|=4,Zo=e.current;null!==Zo;){var i=Zo,o=i.child;if(0!==(16&Zo.flags)){var a=i.deletions;if(null!==a){for(var l=0;l<a.length;l++){var c=a[l];for(Zo=c;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:Aa(8,u,i)}var d=u.child;if(null!==d)d.return=u,Zo=d;else for(;null!==Zo;){var h=(u=Zo).sibling,f=u.return;if(sa(u),u===c){Zo=null;break}if(null!==h){h.return=f,Zo=h;break}Zo=f}}}var g=i.alternate;if(null!==g){var p=g.child;if(null!==p){g.child=null;do{var m=p.sibling;p.sibling=null,p=m}while(null!==p)}}Zo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(i=Zo).flags))switch(i.tag){case 0:case 11:case 15:Aa(9,i,i.return)}var w=i.sibling;if(null!==w){w.return=i.return,Zo=w;break e}Zo=i.return}}var y=e.current;for(Zo=y;null!==Zo;){var B=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==B)B.return=o,Zo=B;else e:for(o=y;null!==Zo;){if(0!==(2048&(a=Zo).flags))try{switch(a.tag){case 0:case 11:case 15:na(9,a)}}catch(b){xl(a,a.return,b)}if(a===o){Zo=null;break e}var v=a.sibling;if(null!==v){v.return=a.return,Zo=v;break e}Zo=a.return}}if(Fa=r,jr(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(b){}n=!0}return n}finally{yt=A,Qa.transition=t}}return!1}function Cl(e,t,A){e=Rs(e,t=ho(0,t=ao(A,t),1),1),t=el(),null!==e&&(mt(e,1,t),nl(e,t))}function xl(e,t,A){if(3===e.tag)Cl(e,e,A);else for(;null!==t;){if(3===t.tag){Cl(t,e,A);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===za||!za.has(n))){t=Rs(t,e=fo(t,e=ao(A,e),1),1),e=el(),null!==t&&(mt(t,1,e),nl(t,e));break}}t=t.return}}function El(e,t,A){var n=e.pingCache;null!==n&&n.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&A,Ia===e&&(Sa&A)===A&&(4===Na||3===Na&&(130023424&Sa)===Sa&&500>Ye()-Ma?dl(e,0):Oa|=A),nl(e,t)}function Ul(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var A=el();null!==(e=Ns(e,t))&&(mt(e,t,A),nl(e,A))}function Ql(e){var t=e.memoizedState,A=0;null!==t&&(A=t.retryLane),Ul(e,A)}function Fl(e,t){var A=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;null!==r&&(A=r.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Ul(e,A)}function Il(e,t){return We(e,t)}function kl(e,t,A,n){this.tag=e,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sl(e,t,A,n){return new kl(e,t,A,n)}function _l(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tl(e,t){var A=e.alternate;return null===A?((A=Sl(e.tag,t,e.key,e.mode)).elementType=e.elementType,A.type=e.type,A.stateNode=e.stateNode,A.alternate=e,e.alternate=A):(A.pendingProps=t,A.type=e.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=14680064&e.flags,A.childLanes=e.childLanes,A.lanes=e.lanes,A.child=e.child,A.memoizedProps=e.memoizedProps,A.memoizedState=e.memoizedState,A.updateQueue=e.updateQueue,t=e.dependencies,A.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},A.sibling=e.sibling,A.index=e.index,A.ref=e.ref,A}function Nl(e,t,A,n,r,i){var o=2;if(n=e,"function"===typeof e)_l(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case C:return Dl(A.children,r,i,t);case x:o=8,r|=8;break;case E:return(e=Sl(12,A,t,2|r)).elementType=E,e.lanes=i,e;case I:return(e=Sl(13,A,t,r)).elementType=I,e.lanes=i,e;case k:return(e=Sl(19,A,t,r)).elementType=k,e.lanes=i,e;case T:return Ll(A,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case U:o=10;break e;case Q:o=9;break e;case F:o=11;break e;case S:o=14;break e;case _:o=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Sl(o,A,t,r)).elementType=e,t.type=n,t.lanes=i,t}function Dl(e,t,A,n){return(e=Sl(7,e,n,t)).lanes=A,e}function Ll(e,t,A,n){return(e=Sl(22,e,n,t)).elementType=T,e.lanes=A,e.stateNode={isHidden:!1},e}function Hl(e,t,A){return(e=Sl(6,e,null,t)).lanes=A,e}function Ol(e,t,A){return(t=Sl(4,null!==e.children?e.children:[],e.key,t)).lanes=A,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rl(e,t,A,n,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Pl(e,t,A,n,r,s,i,o,a){return e=new Rl(e,t,A,o,a),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Sl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Ml(e){if(!e)return Qr;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var A=e.type;if(_r(A))return Dr(e,A,t)}return t}function jl(e,t,A,n,r,s,i,o,a){return(e=Pl(A,n,!0,e,0,s,0,o,a)).context=Ml(null),A=e.current,(s=Os(n=el(),r=tl(A))).callback=void 0!==t&&null!==t?t:null,Rs(A,s,r),e.current.lanes=r,mt(e,r,n),nl(e,n),e}function Kl(e,t,A,n){var r=t.current,s=el(),i=tl(r);return A=Ml(A),null===t.context?t.context=A:t.pendingContext=A,(t=Os(s,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Rs(r,t,i))&&(Al(e,r,i,s),Ps(e,r,i)),i}function Vl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var A=e.retryLane;e.retryLane=0!==A&&A<t?A:t}}function zl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Ca=function(e,t,A){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ir.current)yo=!0;else{if(0===(e.lanes&A)&&0===(128&t.flags))return yo=!1,function(e,t,A){switch(t.tag){case 3:Io(t),hs();break;case 5:Ys(t);break;case 1:_r(t.type)&&Lr(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,r=t.memoizedProps.value;Ur(bs,n._currentValue),n._currentValue=r;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ur($s,1&$s.current),t.flags|=128,null):0!==(A&t.child.childLanes)?Ho(e,t,A):(Ur($s,1&$s.current),null!==(e=Vo(e,t,A))?e.sibling:null);Ur($s,1&$s.current);break;case 19:if(n=0!==(A&t.childLanes),0!==(128&e.flags)){if(n)return jo(e,t,A);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ur($s,$s.current),n)break;return null;case 22:case 23:return t.lanes=0,xo(e,t,A)}return Vo(e,t,A)}(e,t,A);yo=0!==(131072&e.flags)}else yo=!1,rs&&0!==(1048576&t.flags)&&$r(t,zr,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ko(e,t),e=t.pendingProps;var r=Sr(t,Fr.current);Is(t,A),r=gi(null,t,n,e,r,A);var i=pi();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_r(n)?(i=!0,Lr(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ls(t),r.updater=no,t.stateNode=r,r._reactInternals=t,oo(t,n,e,A),t=Fo(null,t,n,!0,i,A)):(t.tag=0,rs&&i&&es(t),Bo(null,t,r,A),t=t.child),t;case 16:n=t.elementType;e:{switch(Ko(e,t),e=t.pendingProps,n=(r=n._init)(n._payload),t.type=n,r=t.tag=function(e){if("function"===typeof e)return _l(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===F)return 11;if(e===S)return 14}return 2}(n),e=to(n,e),r){case 0:t=Uo(null,t,n,e,A);break e;case 1:t=Qo(null,t,n,e,A);break e;case 11:t=vo(null,t,n,e,A);break e;case 14:t=bo(null,t,n,to(n.type,e),A);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,r=t.pendingProps,Uo(e,t,n,r=t.elementType===n?r:to(n,r),A);case 1:return n=t.type,r=t.pendingProps,Qo(e,t,n,r=t.elementType===n?r:to(n,r),A);case 3:e:{if(Io(t),null===e)throw Error(s(387));n=t.pendingProps,r=(i=t.memoizedState).element,Hs(e,t),js(t,n,null,A);var o=t.memoizedState;if(n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ko(e,t,n,A,r=ao(Error(s(423)),t));break e}if(n!==r){t=ko(e,t,n,A,r=ao(Error(s(424)),t));break e}for(ns=lr(t.stateNode.containerInfo.firstChild),As=t,rs=!0,ss=null,A=vs(t,null,n,A),t.child=A;A;)A.flags=-3&A.flags|4096,A=A.sibling}else{if(hs(),n===r){t=Vo(e,t,A);break e}Bo(e,t,n,A)}t=t.child}return t;case 5:return Ys(t),null===e&&ls(t),n=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,o=r.children,Ar(n,r)?o=null:null!==i&&Ar(n,i)&&(t.flags|=32),Eo(e,t),Bo(e,t,o,A),t.child;case 6:return null===e&&ls(t),null;case 13:return Ho(e,t,A);case 4:return Xs(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Bs(t,null,n,A):Bo(e,t,n,A),t.child;case 11:return n=t.type,r=t.pendingProps,vo(e,t,n,r=t.elementType===n?r:to(n,r),A);case 7:return Bo(e,t,t.pendingProps,A),t.child;case 8:case 12:return Bo(e,t,t.pendingProps.children,A),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,i=t.memoizedProps,o=r.value,Ur(bs,n._currentValue),n._currentValue=o,null!==i)if(on(i.value,o)){if(i.children===r.children&&!Ir.current){t=Vo(e,t,A);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var a=i.dependencies;if(null!==a){o=i.child;for(var l=a.firstContext;null!==l;){if(l.context===n){if(1===i.tag){(l=Os(-1,A&-A)).tag=2;var c=i.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=A,null!==(l=i.alternate)&&(l.lanes|=A),Fs(i.return,A,t),a.lanes|=A;break}l=l.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=A,null!==(a=o.alternate)&&(a.lanes|=A),Fs(o,A,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}Bo(e,t,r.children,A),t=t.child}return t;case 9:return r=t.type,n=t.pendingProps.children,Is(t,A),n=n(r=ks(r)),t.flags|=1,Bo(e,t,n,A),t.child;case 14:return r=to(n=t.type,t.pendingProps),bo(e,t,n,r=to(n.type,r),A);case 15:return Co(e,t,t.type,t.pendingProps,A);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:to(n,r),Ko(e,t),t.tag=1,_r(n)?(e=!0,Lr(t)):e=!1,Is(t,A),so(t,n,r),oo(t,n,r,A),Fo(null,t,n,!0,e,A);case 19:return jo(e,t,A);case 22:return xo(e,t,A)}throw Error(s(156,t.tag))};var Wl="function"===typeof reportError?reportError:function(e){console.error(e)};function ql(e){this._internalRoot=e}function Xl(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function $l(e,t,A,n,r){var s=A._reactRootContainer;if(s){var i=s;if("function"===typeof r){var o=r;r=function(){var e=Vl(i);o.call(e)}}Kl(t,i,e,r)}else i=function(e,t,A,n,r){if(r){if("function"===typeof n){var s=n;n=function(){var e=Vl(i);s.call(e)}}var i=jl(t,n,e,0,null,!1,0,"",Zl);return e._reactRootContainer=i,e[fr]=i.current,jn(8===e.nodeType?e.parentNode:e),cl(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof n){var o=n;n=function(){var e=Vl(a);o.call(e)}}var a=Pl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=a,e[fr]=a.current,jn(8===e.nodeType?e.parentNode:e),cl(function(){Kl(t,a,A,n)}),a}(A,t,e,r,n);return Vl(i)}Xl.prototype.render=ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Kl(e,t,null,null)},Xl.prototype.unmount=ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl(function(){Kl(null,e,null,null)}),t[fr]=null}},Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var A=0;A<Tt.length&&0!==t&&t<Tt[A].priority;A++);Tt.splice(A,0,e),0===A&&Ht(e)}},vt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var A=ut(t.pendingLanes);0!==A&&(wt(t,1|A),nl(t,Ye()),0===(6&Fa)&&(ja=Ye()+500,jr()))}break;case 13:cl(function(){var t=Ns(e,1);if(null!==t){var A=el();Al(t,e,1,A)}}),zl(e,1)}},bt=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)Al(t,e,134217728,el());zl(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tl(e),A=Ns(e,t);if(null!==A)Al(A,e,t,el());zl(e,t)}},xt=function(){return yt},Et=function(e,t){var A=yt;try{return yt=e,t()}finally{yt=A}},be=function(e,t,A){switch(t){case"input":if(Z(e,A),t=A.name,"radio"===A.type&&null!=t){for(A=e;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<A.length;t++){var n=A[t];if(n!==e&&n.form===e.form){var r=vr(n);if(!r)throw Error(s(90));W(n),Z(n,r)}}}break;case"textarea":se(e,A);break;case"select":null!=(t=A.value)&&Ae(e,!!A.multiple,t,!1)}},Fe=ll,Ie=cl;var ec={usingClientEntryPoint:!1,Events:[yr,Br,vr,Ue,Qe,ll]},tc={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ac={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{rt=nc.inject(Ac),st=nc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(s(200));return function(e,t,A){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==n?null:""+n,children:e,containerInfo:t,implementation:A}}(e,t,null,A)},t.createRoot=function(e,t){if(!Jl(e))throw Error(s(299));var A=!1,n="",r=Wl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(A=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Pl(e,1,!1,null,0,A,0,n,r),e[fr]=t.current,jn(8===e.nodeType?e.parentNode:e),new ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,A){if(!Yl(t))throw Error(s(200));return $l(null,e,t,!0,A)},t.hydrateRoot=function(e,t,A){if(!Jl(e))throw Error(s(405));var n=null!=A&&A.hydratedSources||null,r=!1,i="",o=Wl;if(null!==A&&void 0!==A&&(!0===A.unstable_strictMode&&(r=!0),void 0!==A.identifierPrefix&&(i=A.identifierPrefix),void 0!==A.onRecoverableError&&(o=A.onRecoverableError)),t=jl(t,null,e,1,null!=A?A:null,r,0,i,o),e[fr]=t.current,jn(e),n)for(e=0;e<n.length;e++)r=(r=(A=n[e])._getVersion)(A._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[A,r]:t.mutableSourceEagerHydrationData.push(A,r);return new Xl(t)},t.render=function(e,t,A){if(!Yl(t))throw Error(s(200));return $l(null,e,t,!1,A)},t.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(s(40));return!!e._reactRootContainer&&(cl(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[fr]=null})}),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,A,n){if(!Yl(A))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return $l(e,t,A,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},2799:(e,t,A)=>{"use strict";A.d(t,{MR:()=>w,P2:()=>m});var n=A(2555);const r=(e,t)=>t.some(t=>e instanceof t);let s,i;const o=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;let d={get(e,t,A){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return g(e[t])},set:(e,t,A)=>(e[t]=A,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,A=new Array(t),n=0;n<t;n++)A[n]=arguments[n];return e.apply(p(this),A),g(o.get(this))}:function(){for(var t=arguments.length,A=new Array(t),n=0;n<t;n++)A[n]=arguments[n];return g(e.apply(p(this),A))}:function(t){for(var A=arguments.length,n=new Array(A>1?A-1:0),r=1;r<A;r++)n[r-1]=arguments[r];const s=e.call(p(this),t,...n);return l.set(s,t.sort?t.sort():[t]),g(s)}}function f(e){return"function"===typeof e?h(e):(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise((t,A)=>{const n=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),n()},s=()=>{A(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});a.set(e,t)}(e),r(e,s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,d):e)}function g(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,A)=>{const n=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(g(e.result)),n()},s=()=>{A(e.error),n()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&o.set(t,e)}).catch(()=>{}),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=f(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const p=e=>u.get(e);function m(e,t){let{blocked:A,upgrade:n,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),o=g(i);return n&&i.addEventListener("upgradeneeded",e=>{n(g(i.result),e.oldVersion,e.newVersion,g(i.transaction),e)}),A&&i.addEventListener("blocked",e=>A(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}function w(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const A=indexedDB.deleteDatabase(e);return t&&A.addEventListener("blocked",e=>t(e.oldVersion,e)),g(A).then(()=>{})}const y=["get","getKey","getAll","getAllKeys","count"],B=["put","add","delete","clear"],v=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(v.get(t))return v.get(t);const A=t.replace(/FromIndex$/,""),n=t!==A,r=B.includes(A);if(!(A in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!y.includes(A))return;const s=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let s=t.store;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return n&&(s=s.index(o.shift())),(await Promise.all([s[A](...o),r&&t.done]))[0]};return v.set(t,s),s}d=(e=>(0,n.A)((0,n.A)({},e),{},{get:(t,A,n)=>b(t,A)||e.get(t,A,n),has:(t,A)=>!!b(t,A)||e.has(t,A)}))(d)},3007:(e,t,A)=>{"use strict";A.d(t,{m:()=>y});var n=A(1019);function r(e){return(0,n.w)(e,Date.now())}var s=A(9119);function i(e,t){const A=(0,s.a)(e),n=(0,s.a)(t),r=A.getTime()-n.getTime();return r<0?-1:r>0?1:r}var o=A(6815);function a(e,t){const A=(0,s.a)(e),n=(0,s.a)(t);return 12*(A.getFullYear()-n.getFullYear())+(A.getMonth()-n.getMonth())}function l(e){const t=(0,s.a)(e);return t.setHours(23,59,59,999),t}function c(e){const t=(0,s.a)(e),A=t.getMonth();return t.setFullYear(t.getFullYear(),A+1,0),t.setHours(23,59,59,999),t}function u(e){const t=(0,s.a)(e);return+l(t)===+c(t)}function d(e,t){const A=(0,s.a)(e),n=(0,s.a)(t),r=i(A,n),o=Math.abs(a(A,n));let l;if(o<1)l=0;else{1===A.getMonth()&&A.getDate()>27&&A.setDate(30),A.setMonth(A.getMonth()-r*o);let t=i(A,n)===-r;u((0,s.a)(e))&&1===o&&1===i(e,n)&&(t=!1),l=r*(o-Number(t))}return 0===l?0:l}function h(e,t){return+(0,s.a)(e)-+(0,s.a)(t)}function f(e,t,A){const n=h(e,t)/1e3;return(r=null===A||void 0===A?void 0:A.roundingMethod,e=>{const t=(r?Math[r]:Math.trunc)(e);return 0===t?0:t})(n);var r}var g=A(1479),p=A(8176),m=A(4774);function w(e,t,A){var n,r;const a=(0,p.q)(),l=null!==(n=null!==(r=null===A||void 0===A?void 0:A.locale)&&void 0!==r?r:a.locale)&&void 0!==n?n:g.c,c=i(e,t);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},A,{addSuffix:null===A||void 0===A?void 0:A.addSuffix,comparison:c});let h,w;c>0?(h=(0,s.a)(t),w=(0,s.a)(e)):(h=(0,s.a)(e),w=(0,s.a)(t));const y=f(w,h),B=((0,m.G)(w)-(0,m.G)(h))/1e3,v=Math.round((y-B)/60);let b;if(v<2)return null!==A&&void 0!==A&&A.includeSeconds?y<5?l.formatDistance("lessThanXSeconds",5,u):y<10?l.formatDistance("lessThanXSeconds",10,u):y<20?l.formatDistance("lessThanXSeconds",20,u):y<40?l.formatDistance("halfAMinute",0,u):y<60?l.formatDistance("lessThanXMinutes",1,u):l.formatDistance("xMinutes",1,u):0===v?l.formatDistance("lessThanXMinutes",1,u):l.formatDistance("xMinutes",v,u);if(v<45)return l.formatDistance("xMinutes",v,u);if(v<90)return l.formatDistance("aboutXHours",1,u);if(v<o.F6){const e=Math.round(v/60);return l.formatDistance("aboutXHours",e,u)}if(v<2520)return l.formatDistance("xDays",1,u);if(v<o.Nw){const e=Math.round(v/o.F6);return l.formatDistance("xDays",e,u)}if(v<2*o.Nw)return b=Math.round(v/o.Nw),l.formatDistance("aboutXMonths",b,u);if(b=d(w,h),b<12){const e=Math.round(v/o.Nw);return l.formatDistance("xMonths",e,u)}{const e=b%12,t=Math.trunc(b/12);return e<3?l.formatDistance("aboutXYears",t,u):e<9?l.formatDistance("overXYears",t,u):l.formatDistance("almostXYears",t+1,u)}}function y(e,t){return w(e,r(e),t)}},3197:(e,t,A)=>{"use strict";A.d(t,{A:()=>r});A(5043);var n=A(579);const r=e=>{let{missedCheckIns:t,requestsForAttention:A,besties:r}=e;return t.length>0||A.length>0?(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("h2",{className:"text-lg md:text-xl font-display text-red-600 mb-3 flex items-center gap-2",children:[(0,n.jsx)("span",{className:"animate-ping inline-block w-3 h-3 bg-red-600 rounded-full"}),"\u26a0\ufe0f NEEDS ATTENTION"]}),t.length>0&&(0,n.jsx)("div",{className:"space-y-3 mb-4",children:t.map(e=>{var t,A;return(0,n.jsx)("div",{className:"card p-4 bg-red-50 dark:bg-red-900/30 border-2 border-red-400 dark:border-red-600",children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3",children:[(0,n.jsx)("div",{className:"text-3xl flex-shrink-0",children:"\ud83d\udea8"}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("h3",{className:"font-semibold text-red-900 dark:text-red-200 text-sm md:text-base",children:[e.userName," missed a check-in"]}),(0,n.jsxs)("p",{className:"text-xs md:text-sm text-red-700 dark:text-red-300 break-words",children:[(null===(t=e.checkInData.activity)||void 0===t?void 0:t.name)||"Check-in"," \u2022 ",new Date(e.timestamp).toLocaleString()]}),(null===(A=e.checkInData.location)||void 0===A?void 0:A.address)&&(0,n.jsxs)("p",{className:"text-xs md:text-sm text-red-600 dark:text-red-400 mt-1 break-words",children:["\ud83d\udccd ",e.checkInData.location.address]})]}),(0,n.jsx)("button",{className:"btn btn-sm bg-red-600 text-white hover:bg-red-700 w-full sm:w-auto flex-shrink-0",onClick:()=>{var t;return window.location.href="tel:".concat(null===(t=r.find(t=>t.userId===e.userId))||void 0===t?void 0:t.phone)},children:"Call Now"})]})},e.id)})}),A.length>0&&(0,n.jsx)("div",{className:"space-y-2",children:A.map(e=>(0,n.jsxs)("div",{className:"flex items-center gap-3 p-3 border-l-4 border-purple-500 bg-purple-50/50 dark:bg-purple-900/20 rounded",children:[(0,n.jsx)("div",{className:"text-2xl",children:"\ud83d\udc9c"}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("span",{className:"font-semibold text-purple-900 dark:text-purple-200 text-sm",children:[e.userName," needs support"]}),(0,n.jsx)("span",{className:"mx-2 text-purple-600 dark:text-purple-400",children:"\u2022"}),(0,n.jsx)("span",{className:"text-xs px-2 py-1 bg-purple-200 dark:bg-purple-700 text-purple-800 dark:text-purple-200 rounded-full font-semibold",children:e.tag})]}),(0,n.jsx)("button",{className:"btn btn-sm btn-primary flex-shrink-0",onClick:()=>{const t=r.find(t=>t.userId===e.userId);null!==t&&void 0!==t&&t.phone&&(window.location.href="sms:".concat(t.phone))},children:"Reach Out"})]},e.userId))})]}):null}},3216:(e,t,A)=>{"use strict";var n;A.d(t,{$P:()=>h,BV:()=>H,C5:()=>N,Ix:()=>L,V8:()=>T,Zp:()=>m,g:()=>w,jb:()=>l,qh:()=>D,x$:()=>y,zy:()=>g});var r=A(5043),s=A(1387);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var A=arguments[t];for(var n in A)Object.prototype.hasOwnProperty.call(A,n)&&(e[n]=A[n])}return e},i.apply(this,arguments)}const o=r.createContext(null);const a=r.createContext(null);const l=r.createContext(null);const c=r.createContext(null);const u=r.createContext({outlet:null,matches:[],isDataRoute:!1});const d=r.createContext(null);function h(e,t){let{relative:A}=void 0===t?{}:t;f()||(0,s.Oi)(!1);let{basename:n,navigator:i}=r.useContext(l),{hash:o,pathname:a,search:c}=y(e,{relative:A}),u=a;return"/"!==n&&(u="/"===a?n:(0,s.HS)([n,a])),i.createHref({pathname:u,search:c,hash:o})}function f(){return null!=r.useContext(c)}function g(){return f()||(0,s.Oi)(!1),r.useContext(c).location}function p(e){r.useContext(l).static||r.useLayoutEffect(e)}function m(){let{isDataRoute:e}=r.useContext(u);return e?function(){let{router:e}=F(U.UseNavigateStable),t=k(Q.UseNavigateStable),A=r.useRef(!1);return p(()=>{A.current=!0}),r.useCallback(function(n,r){void 0===r&&(r={}),A.current&&("number"===typeof n?e.navigate(n):e.navigate(n,i({fromRouteId:t},r)))},[e,t])}():function(){f()||(0,s.Oi)(!1);let e=r.useContext(o),{basename:t,future:A,navigator:n}=r.useContext(l),{matches:i}=r.useContext(u),{pathname:a}=g(),c=JSON.stringify((0,s.yD)(i,A.v7_relativeSplatPath)),d=r.useRef(!1);return p(()=>{d.current=!0}),r.useCallback(function(A,r){if(void 0===r&&(r={}),!d.current)return;if("number"===typeof A)return void n.go(A);let i=(0,s.Gh)(A,JSON.parse(c),a,"path"===r.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:(0,s.HS)([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)},[t,n,c,a,e])}()}function w(){let{matches:e}=r.useContext(u),t=e[e.length-1];return t?t.params:{}}function y(e,t){let{relative:A}=void 0===t?{}:t,{future:n}=r.useContext(l),{matches:i}=r.useContext(u),{pathname:o}=g(),a=JSON.stringify((0,s.yD)(i,n.v7_relativeSplatPath));return r.useMemo(()=>(0,s.Gh)(e,JSON.parse(a),o,"path"===A),[e,a,o,A])}function B(e,t,A,n){f()||(0,s.Oi)(!1);let{navigator:o}=r.useContext(l),{matches:a}=r.useContext(u),d=a[a.length-1],h=d?d.params:{},p=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let m,w=g();if(t){var y;let e="string"===typeof t?(0,s.Rr)(t):t;"/"===p||(null==(y=e.pathname)?void 0:y.startsWith(p))||(0,s.Oi)(!1),m=e}else m=w;let B=m.pathname||"/",v=B;if("/"!==p){let e=p.replace(/^\//,"").split("/");v="/"+B.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=(0,s.ue)(e,{pathname:v});let C=E(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:(0,s.HS)([p,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:(0,s.HS)([p,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,A,n);return t&&C?r.createElement(c.Provider,{value:{location:i({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:s.rc.Pop}},C):C}function v(){let e=function(){var e;let t=r.useContext(d),A=I(Q.UseRouteError),n=k(Q.UseRouteError);if(void 0!==t)return t;return null==(e=A.errors)?void 0:e[n]}(),t=(0,s.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),A=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),A?r.createElement("pre",{style:i},A):null,null)}const b=r.createElement(v,null);class C extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(u.Provider,{value:this.props.routeContext},r.createElement(d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x(e){let{routeContext:t,match:A,children:n}=e,s=r.useContext(o);return s&&s.static&&s.staticContext&&(A.route.errorElement||A.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=A.route.id),r.createElement(u.Provider,{value:t},n)}function E(e,t,A,n){var i;if(void 0===t&&(t=[]),void 0===A&&(A=null),void 0===n&&(n=null),null==e){var o;if(!A)return null;if(A.errors)e=A.matches;else{if(!(null!=(o=n)&&o.v7_partialHydration&&0===t.length&&!A.initialized&&A.matches.length>0))return null;e=A.matches}}let a=e,l=null==(i=A)?void 0:i.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||(0,s.Oi)(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(A&&n&&n.v7_partialHydration)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:n}=A,r=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||r){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight((e,n,s)=>{let i,o=!1,d=null,h=null;var f;A&&(i=l&&n.route.id?l[n.route.id]:void 0,d=n.route.errorElement||b,c&&(u<0&&0===s?(f="route-fallback",!1||S[f]||(S[f]=!0),o=!0,h=null):u===s&&(o=!0,h=n.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,s+1)),p=()=>{let t;return t=i?d:o?h:n.route.Component?r.createElement(n.route.Component,null):n.route.element?n.route.element:e,r.createElement(x,{match:n,routeContext:{outlet:e,matches:g,isDataRoute:null!=A},children:t})};return A&&(n.route.ErrorBoundary||n.route.errorElement||0===s)?r.createElement(C,{location:A.location,revalidation:A.revalidation,component:d,error:i,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var U=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(U||{}),Q=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Q||{});function F(e){let t=r.useContext(o);return t||(0,s.Oi)(!1),t}function I(e){let t=r.useContext(a);return t||(0,s.Oi)(!1),t}function k(e){let t=function(){let e=r.useContext(u);return e||(0,s.Oi)(!1),e}(),A=t.matches[t.matches.length-1];return A.route.id||(0,s.Oi)(!1),A.route.id}const S={};const _=(e,t,A)=>{};function T(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&_("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&void 0!==t.v7_relativeSplatPath||_("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&_("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&_("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&_("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&_("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}(n||(n=A.t(r,2))).startTransition;function N(e){let{to:t,replace:A,state:n,relative:i}=e;f()||(0,s.Oi)(!1);let{future:o,static:a}=r.useContext(l),{matches:c}=r.useContext(u),{pathname:d}=g(),h=m(),p=(0,s.Gh)(t,(0,s.yD)(c,o.v7_relativeSplatPath),d,"path"===i),w=JSON.stringify(p);return r.useEffect(()=>h(JSON.parse(w),{replace:A,state:n,relative:i}),[h,w,i,A,n]),null}function D(e){(0,s.Oi)(!1)}function L(e){let{basename:t="/",children:A=null,location:n,navigationType:o=s.rc.Pop,navigator:a,static:u=!1,future:d}=e;f()&&(0,s.Oi)(!1);let h=t.replace(/^\/*/,"/"),g=r.useMemo(()=>({basename:h,navigator:a,static:u,future:i({v7_relativeSplatPath:!1},d)}),[h,d,a,u]);"string"===typeof n&&(n=(0,s.Rr)(n));let{pathname:p="/",search:m="",hash:w="",state:y=null,key:B="default"}=n,v=r.useMemo(()=>{let e=(0,s.pb)(p,h);return null==e?null:{location:{pathname:e,search:m,hash:w,state:y,key:B},navigationType:o}},[h,p,m,w,y,B,o]);return null==v?null:r.createElement(l.Provider,{value:g},r.createElement(c.Provider,{children:A,value:v}))}function H(e){let{children:t,location:A}=e;return B(O(t),A)}new Promise(()=>{});r.Component;function O(e,t){void 0===t&&(t=[]);let A=[];return r.Children.forEach(e,(e,n)=>{if(!r.isValidElement(e))return;let i=[...t,n];if(e.type===r.Fragment)return void A.push.apply(A,O(e.props.children,i));e.type!==D&&(0,s.Oi)(!1),e.props.index&&e.props.children&&(0,s.Oi)(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=O(e.props.children,i)),A.push(o)}),A}},3889:(e,t,A)=>{"use strict";A.d(t,{D:()=>i,L:()=>o});var n=A(5043),r=A(579);const s=(0,n.createContext)(),i=()=>{const e=(0,n.useContext)(s);if(!e)throw new Error("useDarkMode must be used within DarkModeProvider");return e},o=e=>{let{children:t}=e;const[A,i]=(0,n.useState)(()=>{const e=localStorage.getItem("darkMode");return!!e&&JSON.parse(e)});(0,n.useEffect)(()=>{localStorage.setItem("darkMode",JSON.stringify(A)),A?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[A]);return(0,r.jsx)(s.Provider,{value:{isDark:A,toggle:()=>i(!A)},children:t})}},4202:(e,t)=>{"use strict";var A=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,p={};function m(e,t,A){this.props=e,this.context=t,this.refs=p,this.updater=A||f}function w(){}function y(e,t,A){this.props=e,this.context=t,this.refs=p,this.updater=A||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=m.prototype;var B=y.prototype=new w;B.constructor=y,g(B,m.prototype),B.isPureReactComponent=!0;var v=Array.isArray,b=Object.prototype.hasOwnProperty,C={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,s={},i=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(1===a)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===s[r]&&(s[r]=a[r]);return{$$typeof:A,type:e,key:i,ref:o,props:s,_owner:C.current}}function U(e){return"object"===typeof e&&null!==e&&e.$$typeof===A}var Q=/\/+/g;function F(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,r,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case A:case n:a=!0}}if(a)return i=i(a=e),e=""===s?"."+F(a,0):s,v(i)?(r="",null!=e&&(r=e.replace(Q,"$&/")+"/"),I(i,t,r,"",function(e){return e})):null!=i&&(U(i)&&(i=function(e,t){return{$$typeof:A,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Q,"$&/")+"/")+e)),t.push(i)),1;if(a=0,s=""===s?".":s+":",v(e))for(var l=0;l<e.length;l++){var c=s+F(o=e[l],l);a+=I(o,t,r,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(o=e.next()).done;)a+=I(o=o.value,t,r,c=s+F(o,l++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function k(e,t,A){if(null==e)return e;var n=[],r=0;return I(e,n,"","",function(e){return t.call(A,e,r++)}),n}function S(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},T={transition:null},N={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:T,ReactCurrentOwner:C};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:k,forEach:function(e,t,A){k(e,function(){t.apply(this,arguments)},A)},count:function(e){var t=0;return k(e,function(){t++}),t},toArray:function(e){return k(e,function(e){return e})||[]},only:function(e){if(!U(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=r,t.Profiler=i,t.PureComponent=y,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:A,type:e.type,key:s,ref:i,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=U,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,A){return _.current.useImperativeHandle(e,t,A)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,A){return _.current.useReducer(e,t,A)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,A){return _.current.useSyncExternalStore(e,t,A)},t.useTransition=function(){return _.current.useTransition()},t.version="18.3.1"},4391:(e,t,A)=>{"use strict";var n=A(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4505:(e,t,A)=>{"use strict";A.d(t,{Ay:()=>s});var n=A(7400),r=A(626);const s={extendCheckIn:(0,r.Qg)(n.Cn,"extendCheckIn"),completeCheckIn:(0,r.Qg)(n.Cn,"completeCheckIn"),sendBestieInvite:(0,r.Qg)(n.Cn,"sendBestieInvite"),acceptBestieRequest:(0,r.Qg)(n.Cn,"acceptBestieRequest"),declineBestieRequest:(0,r.Qg)(n.Cn,"declineBestieRequest"),triggerEmergencySOS:(0,r.Qg)(n.Cn,"triggerEmergencySOS"),createCheckoutSession:(0,r.Qg)(n.Cn,"createCheckoutSession"),createPortalSession:(0,r.Qg)(n.Cn,"createPortalSession"),sendTestAlert:(0,r.Qg)(n.Cn,"sendTestAlert"),migratePhoneNumbers:(0,r.Qg)(n.Cn,"migratePhoneNumbers")}},4528:(e,t,A)=>{"use strict";A.d(t,{As:()=>u,OJ:()=>d});var n=A(2555),r=A(5043),s=A(7400),i=A(5472),o=A(2339),a=A(1182),l=A(579);const c=(0,r.createContext)(),u=()=>{const e=(0,r.useContext)(c);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},d=e=>{let{children:t}=e;const[A,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(null),[f,g]=(0,r.useState)(!0),p=(0,r.useRef)(null);return(0,r.useEffect)(()=>{const e=new URLSearchParams(window.location.search).get("invite");if(e){localStorage.setItem("pending_invite",e);(async()=>{try{const t=(0,i.H9)(s.db,"users",e),A=await(0,i.x7)(t);if(A.exists()){const t=A.data();localStorage.setItem("inviter_info",JSON.stringify({uid:e,displayName:t.displayName,photoURL:t.photoURL}))}}catch(t){console.log("Could not fetch inviter info (this is normal):",t.code)}})();const t=window.location.pathname;window.history.replaceState({},"",t)}},[]),(0,r.useEffect)(()=>{const e=s.j2.onAuthStateChanged(async e=>{if(u(e),e){a.A.setUser(e.uid);const A=(0,i.H9)(s.db,"users",e.uid),r=await(0,i.x7)(A),l=!r.exists();if(l)await(0,i.BN)(A,{displayName:e.displayName||"New User",email:e.email,phoneNumber:e.phoneNumber||null,photoURL:e.photoURL||null,stats:{joinedAt:i.Dc.now(),totalCheckIns:0,completedCheckIns:0,alertedCheckIns:0,totalBesties:0},notificationPreferences:{whatsapp:!1,email:!0},notificationsEnabled:!1,smsSubscription:{active:!1},lastActive:i.Dc.now(),onboardingCompleted:!1});else{const e={lastActive:i.Dc.now()};void 0===r.data().onboardingCompleted&&(e.onboardingCompleted=!0),r.data().notifications&&!r.data().notificationPreferences&&(e.notificationPreferences=r.data().notifications),void 0===r.data().notificationsEnabled&&(e.notificationsEnabled=!!r.data().fcmToken),await(0,i.mZ)(A,e)}const c=localStorage.getItem("pending_invite");if(c&&(await(async(e,t)=>{if(e&&t&&t!==e.uid)try{const r=(0,i.H9)(s.db,"users",e.uid),o=await(0,i.x7)(r),a=o.exists()?o.data():{},l=localStorage.getItem("inviter_info");let c="Your Bestie",u=null;if(l)try{const e=JSON.parse(l);c=e.displayName||"Your Bestie",u=e.photoURL}catch(A){console.log("Could not parse cached inviter info")}const d=[(0,i.P)((0,i.rJ)(s.db,"besties"),(0,i._M)("requesterId","==",t),(0,i._M)("recipientId","==",e.uid)),(0,i.P)((0,i.rJ)(s.db,"besties"),(0,i._M)("requesterId","==",e.uid),(0,i._M)("recipientId","==",t)),(0,i.P)((0,i.rJ)(s.db,"besties"),(0,i._M)("requesterId","==",t),(0,i._M)("recipientPhone","==",e.phoneNumber||e.email))];let h=!1;for(let t of d){const A=await(0,i.GG)(t);if(!A.empty){const t=A.docs[0];await(0,i.mZ)((0,i.H9)(s.db,"besties",t.id),{status:"accepted",acceptedAt:i.Dc.now(),recipientId:e.uid,recipientName:a.displayName||e.displayName||"Unknown",recipientPhone:e.phoneNumber||e.email,recipientPhotoURL:a.photoURL||e.photoURL||null}),h=!0;break}}h||await(0,i.gS)((0,i.rJ)(s.db,"besties"),{requesterId:t,recipientId:e.uid,status:"accepted",acceptedAt:i.Dc.now(),createdAt:i.Dc.now(),requesterName:c,requesterPhotoURL:u,recipientName:a.displayName||e.displayName||"Unknown",recipientPhone:e.phoneNumber||e.email,recipientPhotoURL:a.photoURL||e.photoURL||null});try{await(0,i.gS)((0,i.rJ)(s.db,"bestie_celebrations"),{userId:e.uid,bestieId:t,bestieName:c,bestiePhotoURL:u,seen:!1,createdAt:i.Dc.now()}),await(0,i.gS)((0,i.rJ)(s.db,"bestie_celebrations"),{userId:t,bestieId:e.uid,bestieName:a.displayName||e.displayName||"Someone",bestiePhotoURL:a.photoURL||e.photoURL||null,seen:!1,createdAt:i.Dc.now()})}catch(n){console.error("Failed to create celebration documents:",n)}localStorage.removeItem("pending_invite")}catch(n){console.error("Auto-add bestie failed:",n)}})(e,c),!l)){const e=localStorage.getItem("inviter_info");if(e){try{const{displayName:t}=JSON.parse(e);o.Ay.success("You're now besties with ".concat(t,"! \ud83d\udc9c"),{duration:5e3})}catch(t){console.error("Failed to parse inviter info:",t)}localStorage.removeItem("inviter_info")}}p.current&&p.current(),p.current=(0,i.aQ)(A,t=>{if(t.exists()){const e=(0,n.A)({id:t.id},t.data());h(e)}else console.error("\u274c User document does not exist at path:","users/".concat(e.uid));g(!1)},e=>{console.error("\u274c Firestore listener error:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),g(!1)})}else p.current&&(p.current(),p.current=null),a.A.setUser(null),h(null),g(!1)});return()=>{e(),p.current&&p.current()}},[]),(0,l.jsx)(c.Provider,{value:{currentUser:A,userData:d,loading:f},children:t})}},4774:(e,t,A)=>{"use strict";A.d(t,{G:()=>r});var n=A(9119);function r(e){const t=(0,n.a)(e),A=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return A.setUTCFullYear(t.getFullYear()),+e-+A}},5043:(e,t,A)=>{"use strict";e.exports=A(4202)},5239:function(e){e.exports=function(){"use strict";var e=function(t,A){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A])},e(t,A)};function t(t,A){if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}var A=function(){return A=Object.assign||function(e){for(var t,A=1,n=arguments.length;A<n;A++)for(var r in t=arguments[A])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},A.apply(this,arguments)};function n(e,t,A,n){function r(e){return e instanceof A?e:new A(function(t){t(e)})}return new(A||(A=Promise))(function(A,s){function i(e){try{a(n.next(e))}catch(Ht){s(Ht)}}function o(e){try{a(n.throw(e))}catch(Ht){s(Ht)}}function a(e){e.done?A(e.value):r(e.value).then(i,o)}a((n=n.apply(e,t||[])).next())})}function r(e,t){var A,n,r,s,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(e){return function(t){return a([e,t])}}function a(s){if(A)throw new TypeError("Generator is already executing.");for(;i;)try{if(A=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(Ht){s=[6,Ht],n=0}finally{A=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function s(e,t,A){if(A||2===arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||t)}for(var i=function(){function e(e,t,A,n){this.left=e,this.top=t,this.width=A,this.height=n}return e.prototype.add=function(t,A,n,r){return new e(this.left+t,this.top+A,this.width+n,this.height+r)},e.fromClientRect=function(t,A){return new e(A.left+t.windowBounds.left,A.top+t.windowBounds.top,A.width,A.height)},e.fromDOMRectList=function(t,A){var n=Array.from(A).find(function(e){return 0!==e.width});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,t){return i.fromClientRect(e,t.getBoundingClientRect())},a=function(e){var t=e.body,A=e.documentElement;if(!t||!A)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,A.scrollWidth),Math.max(t.offsetWidth,A.offsetWidth),Math.max(t.clientWidth,A.clientWidth)),r=Math.max(Math.max(t.scrollHeight,A.scrollHeight),Math.max(t.offsetHeight,A.offsetHeight),Math.max(t.clientHeight,A.clientHeight));return new i(0,0,n,r)},l=function(e){for(var t=[],A=0,n=e.length;A<n;){var r=e.charCodeAt(A++);if(r>=55296&&r<=56319&&A<n){var s=e.charCodeAt(A++);56320===(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),A--)}else t.push(r)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var A=e.length;if(!A)return"";for(var n=[],r=-1,s="";++r<A;){var i=e[r];i<=65535?n.push(i):(i-=65536,n.push(55296+(i>>10),i%1024+56320)),(r+1===A||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<u.length;h++)d[u.charCodeAt(h)]=h;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g="undefined"===typeof Uint8Array?[]:new Uint8Array(256),p=0;p<f.length;p++)g[f.charCodeAt(p)]=p;for(var m=function(e){var t,A,n,r,s,i=.75*e.length,o=e.length,a=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)A=g[e.charCodeAt(t)],n=g[e.charCodeAt(t+1)],r=g[e.charCodeAt(t+2)],s=g[e.charCodeAt(t+3)],c[a++]=A<<2|n>>4,c[a++]=(15&n)<<4|r>>2,c[a++]=(3&r)<<6|63&s;return l},w=function(e){for(var t=e.length,A=[],n=0;n<t;n+=2)A.push(e[n+1]<<8|e[n]);return A},y=function(e){for(var t=e.length,A=[],n=0;n<t;n+=4)A.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return A},B=5,v=11,b=2,C=65536>>B,x=(1<<B)-1,E=C+(1024>>B)+32,U=65536>>v,Q=(1<<v-B)-1,F=function(e,t,A){return e.slice?e.slice(t,A):new Uint16Array(Array.prototype.slice.call(e,t,A))},I=function(e,t,A){return e.slice?e.slice(t,A):new Uint32Array(Array.prototype.slice.call(e,t,A))},k=function(e,t){var A=m(e),n=Array.isArray(A)?y(A):new Uint32Array(A),r=Array.isArray(A)?w(A):new Uint16Array(A),s=24,i=F(r,s/2,n[4]/2),o=2===n[5]?F(r,(s+n[4])/2):I(n,Math.ceil((s+n[4])/4));return new S(n[0],n[1],n[2],n[3],i,o)},S=function(){function e(e,t,A,n,r,s){this.initialValue=e,this.errorValue=t,this.highStart=A,this.highValueIndex=n,this.index=r,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>B])<<b)+(e&x),this.data[t];if(e<=65535)return t=((t=this.index[C+(e-55296>>B)])<<b)+(e&x),this.data[t];if(e<this.highStart)return t=E-U+(e>>v),t=this.index[t],t+=e>>B&Q,t=((t=this.index[t])<<b)+(e&x),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T="undefined"===typeof Uint8Array?[]:new Uint8Array(256),N=0;N<_.length;N++)T[_.charCodeAt(N)]=N;var D=50,L=1,H=2,O=3,R=4,P=5,M=7,j=8,K=9,V=10,G=11,z=12,W=13,q=14,X=15,J=16,Y=17,Z=18,$=19,ee=20,te=21,Ae=22,ne=23,re=24,se=25,ie=26,oe=27,ae=28,le=29,ce=30,ue=31,de=32,he=33,fe=34,ge=35,pe=36,me=37,we=38,ye=39,Be=40,ve=41,be=42,Ce=43,xe=[9001,65288],Ee="!",Ue="\xd7",Qe="\xf7",Fe=k("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Ie=[ce,pe],ke=[L,H,O,P],Se=[V,j],_e=[oe,ie],Te=ke.concat(Se),Ne=[we,ye,Be,fe,ge],De=[X,W],Le=function(e,t){void 0===t&&(t="strict");var A=[],n=[],r=[];return e.forEach(function(e,s){var i=Fe.get(e);if(i>D?(r.push(!0),i-=D):r.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return n.push(s),A.push(J);if(i===R||i===G){if(0===s)return n.push(s),A.push(ce);var o=A[s-1];return-1===Te.indexOf(o)?(n.push(n[s-1]),A.push(o)):(n.push(s),A.push(ce))}return n.push(s),i===ue?A.push("strict"===t?te:me):i===be||i===le?A.push(ce):i===Ce?e>=131072&&e<=196605||e>=196608&&e<=262141?A.push(me):A.push(ce):void A.push(i)}),[n,A,r]},He=function(e,t,A,n){var r=n[A];if(Array.isArray(e)?-1!==e.indexOf(r):e===r)for(var s=A;s<=n.length;){if((a=n[++s])===t)return!0;if(a!==V)break}if(r===V)for(s=A;s>0;){var i=n[--s];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=A;o<=n.length;){var a;if((a=n[++o])===t)return!0;if(a!==V)break}if(i!==V)break}return!1},Oe=function(e,t){for(var A=e;A>=0;){var n=t[A];if(n!==V)return n;A--}return 0},Re=function(e,t,A,n,r){if(0===A[n])return Ue;var s=n-1;if(Array.isArray(r)&&!0===r[s])return Ue;var i=s-1,o=s+1,a=t[s],l=i>=0?t[i]:0,c=t[o];if(a===H&&c===O)return Ue;if(-1!==ke.indexOf(a))return Ee;if(-1!==ke.indexOf(c))return Ue;if(-1!==Se.indexOf(c))return Ue;if(Oe(s,t)===j)return Qe;if(Fe.get(e[s])===G)return Ue;if((a===de||a===he)&&Fe.get(e[o])===G)return Ue;if(a===M||c===M)return Ue;if(a===K)return Ue;if(-1===[V,W,X].indexOf(a)&&c===K)return Ue;if(-1!==[Y,Z,$,re,ae].indexOf(c))return Ue;if(Oe(s,t)===Ae)return Ue;if(He(ne,Ae,s,t))return Ue;if(He([Y,Z],te,s,t))return Ue;if(He(z,z,s,t))return Ue;if(a===V)return Qe;if(a===ne||c===ne)return Ue;if(c===J||a===J)return Qe;if(-1!==[W,X,te].indexOf(c)||a===q)return Ue;if(l===pe&&-1!==De.indexOf(a))return Ue;if(a===ae&&c===pe)return Ue;if(c===ee)return Ue;if(-1!==Ie.indexOf(c)&&a===se||-1!==Ie.indexOf(a)&&c===se)return Ue;if(a===oe&&-1!==[me,de,he].indexOf(c)||-1!==[me,de,he].indexOf(a)&&c===ie)return Ue;if(-1!==Ie.indexOf(a)&&-1!==_e.indexOf(c)||-1!==_e.indexOf(a)&&-1!==Ie.indexOf(c))return Ue;if(-1!==[oe,ie].indexOf(a)&&(c===se||-1!==[Ae,X].indexOf(c)&&t[o+1]===se)||-1!==[Ae,X].indexOf(a)&&c===se||a===se&&-1!==[se,ae,re].indexOf(c))return Ue;if(-1!==[se,ae,re,Y,Z].indexOf(c))for(var u=s;u>=0;){if((d=t[u])===se)return Ue;if(-1===[ae,re].indexOf(d))break;u--}if(-1!==[oe,ie].indexOf(c))for(u=-1!==[Y,Z].indexOf(a)?i:s;u>=0;){var d;if((d=t[u])===se)return Ue;if(-1===[ae,re].indexOf(d))break;u--}if(we===a&&-1!==[we,ye,fe,ge].indexOf(c)||-1!==[ye,fe].indexOf(a)&&-1!==[ye,Be].indexOf(c)||-1!==[Be,ge].indexOf(a)&&c===Be)return Ue;if(-1!==Ne.indexOf(a)&&-1!==[ee,ie].indexOf(c)||-1!==Ne.indexOf(c)&&a===oe)return Ue;if(-1!==Ie.indexOf(a)&&-1!==Ie.indexOf(c))return Ue;if(a===re&&-1!==Ie.indexOf(c))return Ue;if(-1!==Ie.concat(se).indexOf(a)&&c===Ae&&-1===xe.indexOf(e[o])||-1!==Ie.concat(se).indexOf(c)&&a===Z)return Ue;if(a===ve&&c===ve){for(var h=A[s],f=1;h>0&&t[--h]===ve;)f++;if(f%2!==0)return Ue}return a===de&&c===he?Ue:Qe},Pe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var A=Le(e,t.lineBreak),n=A[0],r=A[1],s=A[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(r=r.map(function(e){return-1!==[se,ce,be].indexOf(e)?me:e}));var i="keep-all"===t.wordBreak?s.map(function(t,A){return t&&e[A]>=19968&&e[A]<=40959}):void 0;return[n,r,i]},Me=function(){function e(e,t,A,n){this.codePoints=e,this.required=t===Ee,this.start=A,this.end=n}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),je=function(e,t){var A=l(e),n=Pe(A,t),r=n[0],s=n[1],i=n[2],o=A.length,a=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var e=Ue;c<o&&(e=Re(A,s,r,++c,i))===Ue;);if(e!==Ue||c===o){var t=new Me(A,e,a,c);return a=c,{value:t,done:!1}}return{done:!0,value:null}}}},Ke=1,Ve=2,Ge=4,ze=8,We=10,qe=47,Xe=92,Je=9,Ye=32,Ze=34,$e=61,et=35,tt=36,At=37,nt=39,rt=40,st=41,it=95,ot=45,at=33,lt=60,ct=62,ut=64,dt=91,ht=93,ft=61,gt=123,pt=63,mt=125,wt=124,yt=126,Bt=128,vt=65533,bt=42,Ct=43,xt=44,Et=58,Ut=59,Qt=46,Ft=0,It=8,kt=11,St=14,_t=31,Tt=127,Nt=-1,Dt=48,Lt=97,Ht=101,Ot=102,Rt=117,Pt=122,Mt=65,jt=69,Kt=70,Vt=85,Gt=90,zt=function(e){return e>=Dt&&e<=57},Wt=function(e){return e>=55296&&e<=57343},qt=function(e){return zt(e)||e>=Mt&&e<=Kt||e>=Lt&&e<=Ot},Xt=function(e){return e>=Lt&&e<=Pt},Jt=function(e){return e>=Mt&&e<=Gt},Yt=function(e){return Xt(e)||Jt(e)},Zt=function(e){return e>=Bt},$t=function(e){return e===We||e===Je||e===Ye},eA=function(e){return Yt(e)||Zt(e)||e===it},tA=function(e){return eA(e)||zt(e)||e===ot},AA=function(e){return e>=Ft&&e<=It||e===kt||e>=St&&e<=_t||e===Tt},nA=function(e,t){return e===Xe&&t!==We},rA=function(e,t,A){return e===ot?eA(t)||nA(t,A):!!eA(e)||!(e!==Xe||!nA(e,t))},sA=function(e,t,A){return e===Ct||e===ot?!!zt(t)||t===Qt&&zt(A):zt(e===Qt?t:e)},iA=function(e){var t=0,A=1;e[t]!==Ct&&e[t]!==ot||(e[t]===ot&&(A=-1),t++);for(var n=[];zt(e[t]);)n.push(e[t++]);var r=n.length?parseInt(c.apply(void 0,n),10):0;e[t]===Qt&&t++;for(var s=[];zt(e[t]);)s.push(e[t++]);var i=s.length,o=i?parseInt(c.apply(void 0,s),10):0;e[t]!==jt&&e[t]!==Ht||t++;var a=1;e[t]!==Ct&&e[t]!==ot||(e[t]===ot&&(a=-1),t++);for(var l=[];zt(e[t]);)l.push(e[t++]);var u=l.length?parseInt(c.apply(void 0,l),10):0;return A*(r+o*Math.pow(10,-i))*Math.pow(10,a*u)},oA={type:2},aA={type:3},lA={type:4},cA={type:13},uA={type:8},dA={type:21},hA={type:9},fA={type:10},gA={type:11},pA={type:12},mA={type:14},wA={type:23},yA={type:1},BA={type:25},vA={type:24},bA={type:26},CA={type:27},xA={type:28},EA={type:29},UA={type:31},QA={type:32},FA=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==QA;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case et:var t=this.peekCodePoint(0),A=this.peekCodePoint(1),n=this.peekCodePoint(2);if(tA(t)||nA(A,n)){var r=rA(t,A,n)?Ve:Ke;return{type:5,value:this.consumeName(),flags:r}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),cA;break;case nt:return this.consumeStringToken(nt);case rt:return oA;case st:return aA;case bt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),mA;break;case Ct:if(sA(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case xt:return lA;case ot:var s=e,i=this.peekCodePoint(0),o=this.peekCodePoint(1);if(sA(s,i,o))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(rA(s,i,o))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(i===ot&&o===ct)return this.consumeCodePoint(),this.consumeCodePoint(),vA;break;case Qt:if(sA(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case qe:if(this.peekCodePoint(0)===bt)for(this.consumeCodePoint();;){var a=this.consumeCodePoint();if(a===bt&&(a=this.consumeCodePoint())===qe)return this.consumeToken();if(a===Nt)return this.consumeToken()}break;case Et:return bA;case Ut:return CA;case lt:if(this.peekCodePoint(0)===at&&this.peekCodePoint(1)===ot&&this.peekCodePoint(2)===ot)return this.consumeCodePoint(),this.consumeCodePoint(),BA;break;case ut:var l=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(rA(l,u,d))return{type:7,value:this.consumeName()};break;case dt:return xA;case Xe:if(nA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return EA;case ft:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),uA;break;case gt:return gA;case mt:return pA;case Rt:case Vt:var h=this.peekCodePoint(0),f=this.peekCodePoint(1);return h!==Ct||!qt(f)&&f!==pt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case wt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),hA;if(this.peekCodePoint(0)===wt)return this.consumeCodePoint(),dA;break;case yt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),fA;break;case Nt:return QA}return $t(e)?(this.consumeWhiteSpace(),UA):zt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):eA(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();qt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var A=!1;t===pt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),A=!0;if(A)return{type:30,start:parseInt(c.apply(void 0,e.map(function(e){return e===pt?Dt:e})),16),end:parseInt(c.apply(void 0,e.map(function(e){return e===pt?Kt:e})),16)};var n=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===ot&&qt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var r=[];qt(t)&&r.length<6;)r.push(t),t=this.consumeCodePoint();return{type:30,start:n,end:parseInt(c.apply(void 0,r),16)}}return{type:30,start:n,end:n}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===rt?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===rt?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Nt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===nt||t===Ze){var A=this.consumeStringToken(this.consumeCodePoint());return 0===A.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Nt||this.peekCodePoint(0)===st)?(this.consumeCodePoint(),{type:22,value:A.value}):(this.consumeBadUrlRemnants(),wA)}for(;;){var n=this.consumeCodePoint();if(n===Nt||n===st)return{type:22,value:c.apply(void 0,e)};if($t(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Nt||this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),wA);if(n===Ze||n===nt||n===rt||AA(n))return this.consumeBadUrlRemnants(),wA;if(n===Xe){if(!nA(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),wA;e.push(this.consumeEscapedCodePoint())}else e.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===st||e===Nt)return;nA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,A="";e>0;){var n=Math.min(t,e);A+=c.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),A},e.prototype.consumeStringToken=function(e){for(var t="",A=0;;){var n=this._value[A];if(n===Nt||void 0===n||n===e)return{type:0,value:t+=this.consumeStringSlice(A)};if(n===We)return this._value.splice(0,A),yA;if(n===Xe){var r=this._value[A+1];r!==Nt&&void 0!==r&&(r===We?(t+=this.consumeStringSlice(A),A=-1,this._value.shift()):nA(n,r)&&(t+=this.consumeStringSlice(A),t+=c(this.consumeEscapedCodePoint()),A=-1))}A++}},e.prototype.consumeNumber=function(){var e=[],t=Ge,A=this.peekCodePoint(0);for(A!==Ct&&A!==ot||e.push(this.consumeCodePoint());zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());A=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(A===Qt&&zt(n))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());A=this.peekCodePoint(0),n=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((A===jt||A===Ht)&&((n===Ct||n===ot)&&zt(r)||zt(n)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[iA(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],A=e[1],n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);return rA(n,r,s)?{type:15,number:t,flags:A,unit:this.consumeName()}:n===At?(this.consumeCodePoint(),{type:16,number:t,flags:A}):{type:17,number:t,flags:A}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(qt(e)){for(var t=c(e);qt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var A=parseInt(t,16);return 0===A||Wt(A)||A>1114111?vt:A}return e===Nt?vt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tA(t))e+=c(t);else{if(!nA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),IA=function(){function e(e){this._tokens=e}return e.create=function(t){var A=new FA;return A.write(t),new e(A.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},A=this.consumeToken();;){if(32===A.type||OA(A,e))return t;this.reconsumeToken(A),t.values.push(this.consumeComponentValue()),A=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var A=this.consumeToken();if(32===A.type||3===A.type)return t;this.reconsumeToken(A),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?QA:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),kA=function(e){return 15===e.type},SA=function(e){return 17===e.type},_A=function(e){return 20===e.type},TA=function(e){return 0===e.type},NA=function(e,t){return _A(e)&&e.value===t},DA=function(e){return 31!==e.type},LA=function(e){return 31!==e.type&&4!==e.type},HA=function(e){var t=[],A=[];return e.forEach(function(e){if(4===e.type){if(0===A.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(A),void(A=[])}31!==e.type&&A.push(e)}),A.length&&t.push(A),t},OA=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},RA=function(e){return 17===e.type||15===e.type},PA=function(e){return 16===e.type||RA(e)},MA=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},jA={type:17,number:0,flags:Ge},KA={type:16,number:50,flags:Ge},VA={type:16,number:100,flags:Ge},GA=function(e,t,A){var n=e[0],r=e[1];return[zA(n,t),zA("undefined"!==typeof r?r:n,A)]},zA=function(e,t){if(16===e.type)return e.number/100*t;if(kA(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},WA="deg",qA="grad",XA="rad",JA="turn",YA={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case WA:return Math.PI*t.number/180;case qA:return Math.PI/200*t.number;case XA:return t.number;case JA:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},ZA=function(e){return 15===e.type&&(e.unit===WA||e.unit===qA||e.unit===XA||e.unit===JA)},$A=function(e){switch(e.filter(_A).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[jA,jA];case"to top":case"bottom":return en(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[jA,VA];case"to right":case"left":return en(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[VA,VA];case"to bottom":case"top":return en(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[VA,jA];case"to left":case"right":return en(270)}return 0},en=function(e){return Math.PI*e/180},tn={name:"color",parse:function(e,t){if(18===t.type){var A=cn[t.name];if("undefined"===typeof A)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return A(e,t.values)}if(5===t.type){if(3===t.value.length){var n=t.value.substring(0,1),r=t.value.substring(1,2),s=t.value.substring(2,3);return rn(parseInt(n+n,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(4===t.value.length){n=t.value.substring(0,1),r=t.value.substring(1,2),s=t.value.substring(2,3);var i=t.value.substring(3,4);return rn(parseInt(n+n,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(6===t.value.length)return n=t.value.substring(0,2),r=t.value.substring(2,4),s=t.value.substring(4,6),rn(parseInt(n,16),parseInt(r,16),parseInt(s,16),1);if(8===t.value.length)return n=t.value.substring(0,2),r=t.value.substring(2,4),s=t.value.substring(4,6),i=t.value.substring(6,8),rn(parseInt(n,16),parseInt(r,16),parseInt(s,16),parseInt(i,16)/255)}if(20===t.type){var o=dn[t.value.toUpperCase()];if("undefined"!==typeof o)return o}return dn.TRANSPARENT}},An=function(e){return 0===(255&e)},nn=function(e){var t=255&e,A=255&e>>8,n=255&e>>16,r=255&e>>24;return t<255?"rgba("+r+","+n+","+A+","+t/255+")":"rgb("+r+","+n+","+A+")"},rn=function(e,t,A,n){return(e<<24|t<<16|A<<8|Math.round(255*n))>>>0},sn=function(e,t){if(17===e.type)return e.number;if(16===e.type){var A=3===t?1:255;return 3===t?e.number/100*A:Math.round(e.number/100*A)}return 0},on=function(e,t){var A=t.filter(LA);if(3===A.length){var n=A.map(sn),r=n[0],s=n[1],i=n[2];return rn(r,s,i,1)}if(4===A.length){var o=A.map(sn),a=(r=o[0],s=o[1],i=o[2],o[3]);return rn(r,s,i,a)}return 0};function an(e,t,A){return A<0&&(A+=1),A>=1&&(A-=1),A<1/6?(t-e)*A*6+e:A<.5?t:A<2/3?6*(t-e)*(2/3-A)+e:e}var ln=function(e,t){var A=t.filter(LA),n=A[0],r=A[1],s=A[2],i=A[3],o=(17===n.type?en(n.number):YA.parse(e,n))/(2*Math.PI),a=PA(r)?r.number/100:0,l=PA(s)?s.number/100:0,c="undefined"!==typeof i&&PA(i)?zA(i,1):1;if(0===a)return rn(255*l,255*l,255*l,1);var u=l<=.5?l*(a+1):l+a-l*a,d=2*l-u,h=an(d,u,o+1/3),f=an(d,u,o),g=an(d,u,o-1/3);return rn(255*h,255*f,255*g,c)},cn={hsl:ln,hsla:ln,rgb:on,rgba:on},un=function(e,t){return tn.parse(e,IA.create(t).parseComponentValue())},dn={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hn={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(_A(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fn={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gn=function(e,t){var A=tn.parse(e,t[0]),n=t[1];return n&&PA(n)?{color:A,stop:n}:{color:A,stop:null}},pn=function(e,t){var A=e[0],n=e[e.length-1];null===A.stop&&(A.stop=jA),null===n.stop&&(n.stop=VA);for(var r=[],s=0,i=0;i<e.length;i++){var o=e[i].stop;if(null!==o){var a=zA(o,t);a>s?r.push(a):r.push(s),s=a}else r.push(null)}var l=null;for(i=0;i<r.length;i++){var c=r[i];if(null===c)null===l&&(l=i);else if(null!==l){for(var u=i-l,d=(c-r[l-1])/(u+1),h=1;h<=u;h++)r[l+h-1]=d*h;l=null}}return e.map(function(e,A){return{color:e.color,stop:Math.max(Math.min(1,r[A]/t),0)}})},mn=function(e,t,A){var n=t/2,r=A/2,s=zA(e[0],t)-n,i=r-zA(e[1],A);return(Math.atan2(i,s)+2*Math.PI)%(2*Math.PI)},wn=function(e,t,A){var n="number"===typeof e?e:mn(e,t,A),r=Math.abs(t*Math.sin(n))+Math.abs(A*Math.cos(n)),s=t/2,i=A/2,o=r/2,a=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[r,s-l,s+l,i-a,i+a]},yn=function(e,t){return Math.sqrt(e*e+t*t)},Bn=function(e,t,A,n,r){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var s=t[0],i=t[1],o=yn(A-s,n-i);return(r?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:t,optimumDistance:o}:e},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},vn=function(e,t,A,n,r){var s=0,i=0;switch(e.size){case 0:0===e.shape?s=i=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(A),Math.abs(A-r)):1===e.shape&&(s=Math.min(Math.abs(t),Math.abs(t-n)),i=Math.min(Math.abs(A),Math.abs(A-r)));break;case 2:if(0===e.shape)s=i=Math.min(yn(t,A),yn(t,A-r),yn(t-n,A),yn(t-n,A-r));else if(1===e.shape){var o=Math.min(Math.abs(A),Math.abs(A-r))/Math.min(Math.abs(t),Math.abs(t-n)),a=Bn(n,r,t,A,!0),l=a[0],c=a[1];i=o*(s=yn(l-t,(c-A)/o))}break;case 1:0===e.shape?s=i=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(A),Math.abs(A-r)):1===e.shape&&(s=Math.max(Math.abs(t),Math.abs(t-n)),i=Math.max(Math.abs(A),Math.abs(A-r)));break;case 3:if(0===e.shape)s=i=Math.max(yn(t,A),yn(t,A-r),yn(t-n,A),yn(t-n,A-r));else if(1===e.shape){o=Math.max(Math.abs(A),Math.abs(A-r))/Math.max(Math.abs(t),Math.abs(t-n));var u=Bn(n,r,t,A,!1);l=u[0],c=u[1],i=o*(s=yn(l-t,(c-A)/o))}}return Array.isArray(e.size)&&(s=zA(e.size[0],n),i=2===e.size.length?zA(e.size[1],r):s),[s,i]},bn=function(e,t){var A=en(180),n=[];return HA(t).forEach(function(t,r){if(0===r){var s=t[0];if(20===s.type&&-1!==["top","left","right","bottom"].indexOf(s.value))return void(A=$A(t));if(ZA(s))return void(A=(YA.parse(e,s)+en(270))%en(360))}var i=gn(e,t);n.push(i)}),{angle:A,stops:n,type:1}},Cn="closest-side",xn="farthest-side",En="closest-corner",Un="farthest-corner",Qn="circle",Fn="ellipse",In="cover",kn="contain",Sn=function(e,t){var A=0,n=3,r=[],s=[];return HA(t).forEach(function(t,i){var o=!0;if(0===i?o=t.reduce(function(e,t){if(_A(t))switch(t.value){case"center":return s.push(KA),!1;case"top":case"left":return s.push(jA),!1;case"right":case"bottom":return s.push(VA),!1}else if(PA(t)||RA(t))return s.push(t),!1;return e},o):1===i&&(o=t.reduce(function(e,t){if(_A(t))switch(t.value){case Qn:return A=0,!1;case Fn:return A=1,!1;case kn:case Cn:return n=0,!1;case xn:return n=1,!1;case En:return n=2,!1;case In:case Un:return n=3,!1}else if(RA(t)||PA(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return e},o)),o){var a=gn(e,t);r.push(a)}}),{size:n,shape:A,stops:r,position:s,type:2}},_n=function(e){return 1===e.type},Tn=function(e){return 2===e.type},Nn={name:"image",parse:function(e,t){if(22===t.type){var A={url:t.value,type:0};return e.cache.addImage(t.value),A}if(18===t.type){var n=Hn[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Dn(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Hn[e.name])}var Ln,Hn={"linear-gradient":function(e,t){var A=en(180),n=[];return HA(t).forEach(function(t,r){if(0===r){var s=t[0];if(20===s.type&&"to"===s.value)return void(A=$A(t));if(ZA(s))return void(A=YA.parse(e,s))}var i=gn(e,t);n.push(i)}),{angle:A,stops:n,type:1}},"-moz-linear-gradient":bn,"-ms-linear-gradient":bn,"-o-linear-gradient":bn,"-webkit-linear-gradient":bn,"radial-gradient":function(e,t){var A=0,n=3,r=[],s=[];return HA(t).forEach(function(t,i){var o=!0;if(0===i){var a=!1;o=t.reduce(function(e,t){if(a)if(_A(t))switch(t.value){case"center":return s.push(KA),e;case"top":case"left":return s.push(jA),e;case"right":case"bottom":return s.push(VA),e}else(PA(t)||RA(t))&&s.push(t);else if(_A(t))switch(t.value){case Qn:return A=0,!1;case Fn:return A=1,!1;case"at":return a=!0,!1;case Cn:return n=0,!1;case In:case xn:return n=1,!1;case kn:case En:return n=2,!1;case Un:return n=3,!1}else if(RA(t)||PA(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return e},o)}if(o){var l=gn(e,t);r.push(l)}}),{size:n,shape:A,stops:r,position:s,type:2}},"-moz-radial-gradient":Sn,"-ms-radial-gradient":Sn,"-o-radial-gradient":Sn,"-webkit-radial-gradient":Sn,"-webkit-gradient":function(e,t){var A=en(180),n=[],r=1,s=0,i=3,o=[];return HA(t).forEach(function(t,A){var s=t[0];if(0===A){if(_A(s)&&"linear"===s.value)return void(r=1);if(_A(s)&&"radial"===s.value)return void(r=2)}if(18===s.type)if("from"===s.name){var i=tn.parse(e,s.values[0]);n.push({stop:jA,color:i})}else if("to"===s.name)i=tn.parse(e,s.values[0]),n.push({stop:VA,color:i});else if("color-stop"===s.name){var o=s.values.filter(LA);if(2===o.length){i=tn.parse(e,o[1]);var a=o[0];SA(a)&&n.push({stop:{type:16,number:100*a.number,flags:a.flags},color:i})}}}),1===r?{angle:(A+en(180))%en(360),stops:n,type:r}:{size:i,shape:s,stops:n,position:o,type:r}}},On={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var A=t[0];return 20===A.type&&"none"===A.value?[]:t.filter(function(e){return LA(e)&&Dn(e)}).map(function(t){return Nn.parse(e,t)})}},Rn={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(_A(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Pn={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return HA(t).map(function(e){return e.filter(PA)}).map(MA)}},Mn={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return HA(t).map(function(e){return e.filter(_A).map(function(e){return e.value}).join(" ")}).map(jn)}},jn=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Ln||(Ln={}));var Kn,Vn={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return HA(t).map(function(e){return e.filter(Gn)})}},Gn=function(e){return _A(e)||PA(e)},zn=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Wn=zn("top"),qn=zn("right"),Xn=zn("bottom"),Jn=zn("left"),Yn=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return MA(t.filter(PA))}}},Zn=Yn("top-left"),$n=Yn("top-right"),er=Yn("bottom-right"),tr=Yn("bottom-left"),Ar=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},nr=Ar("top"),rr=Ar("right"),sr=Ar("bottom"),ir=Ar("left"),or=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return kA(t)?t.number:0}}},ar=or("top"),lr=or("right"),cr=or("bottom"),ur=or("left"),dr={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hr={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},fr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(_A).reduce(function(e,t){return e|gr(t.value)},0)}},gr=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},pr={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mr={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Kn||(Kn={}));var wr,yr={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Kn.STRICT:Kn.NORMAL}},Br={name:"line-height",initialValue:"normal",prefix:!1,type:4},vr=function(e,t){return _A(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:PA(e)?zA(e,t):t},br={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Nn.parse(e,t)}},Cr={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},xr={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Er=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Ur=Er("top"),Qr=Er("right"),Fr=Er("bottom"),Ir=Er("left"),kr={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(_A).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Sr={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},_r=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Tr=_r("top"),Nr=_r("right"),Dr=_r("bottom"),Lr=_r("left"),Hr={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Or={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Rr={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&NA(t[0],"none")?[]:HA(t).map(function(t){for(var A={color:dn.TRANSPARENT,offsetX:jA,offsetY:jA,blur:jA},n=0,r=0;r<t.length;r++){var s=t[r];RA(s)?(0===n?A.offsetX=s:1===n?A.offsetY=s:A.blur=s,n++):A.color=tn.parse(e,s)}return A})}},Pr={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Mr={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var A=jr[t.name];if("undefined"===typeof A)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return A(t.values)}return null}},jr={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),A=t[0],n=t[1];t[2],t[3];var r=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],16===t.length?[A,n,r,s,i,o]:null}},Kr={type:16,number:50,flags:Ge},Vr=[Kr,Kr],Gr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var A=t.filter(PA);return 2!==A.length?Vr:[A[0],A[1]]}},zr={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(wr||(wr={}));for(var Wr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return wr.BREAK_ALL;case"keep-all":return wr.KEEP_ALL;default:return wr.NORMAL}}},qr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(SA(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Xr={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Jr={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return SA(t)?t.number:1}},Yr={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zr={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(_A).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},$r={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var A=[],n=[];return t.forEach(function(e){switch(e.type){case 20:case 0:A.push(e.value);break;case 17:A.push(e.number.toString());break;case 4:n.push(A.join(" ")),A.length=0}}),A.length&&n.push(A.join(" ")),n.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},es={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ts={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return SA(t)?t.number:_A(t)&&"bold"===t.value?700:400}},As={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(_A).map(function(e){return e.value})}},ns={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},rs=function(e,t){return 0!==(e&t)},ss={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var A=t[0];return 20===A.type&&"none"===A.value?[]:t}},is={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var A=t[0];if(20===A.type&&"none"===A.value)return null;for(var n=[],r=t.filter(DA),s=0;s<r.length;s++){var i=r[s],o=r[s+1];if(20===i.type){var a=o&&SA(o)?o.number:1;n.push({counter:i.value,increment:a})}}return n}},os={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var A=[],n=t.filter(DA),r=0;r<n.length;r++){var s=n[r],i=n[r+1];if(_A(s)&&"none"!==s.value){var o=i&&SA(i)?i.number:0;A.push({counter:s.value,reset:o})}}return A}},as={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(kA).map(function(t){return Xr.parse(e,t)})}},ls={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var A=t[0];if(20===A.type&&"none"===A.value)return null;var n=[],r=t.filter(TA);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var i=r[s].value,o=r[s+1].value;n.push({open:i,close:o})}return n}},cs=function(e,t,A){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?A?n.open:n.close:""},us={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&NA(t[0],"none")?[]:HA(t).map(function(t){for(var A={color:255,offsetX:jA,offsetY:jA,blur:jA,spread:jA,inset:!1},n=0,r=0;r<t.length;r++){var s=t[r];NA(s,"inset")?A.inset=!0:RA(s)?(0===n?A.offsetX=s:1===n?A.offsetY=s:2===n?A.blur=s:A.spread=s,n++):A.color=tn.parse(e,s)}return A})}},ds={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var A=[0,1,2],n=[];return t.filter(_A).forEach(function(e){switch(e.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}}),A.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n}},hs={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fs={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return kA(t)?t.number:0}},gs=function(){function e(e,t){var A,n;this.animationDuration=ws(e,as,t.animationDuration),this.backgroundClip=ws(e,hn,t.backgroundClip),this.backgroundColor=ws(e,fn,t.backgroundColor),this.backgroundImage=ws(e,On,t.backgroundImage),this.backgroundOrigin=ws(e,Rn,t.backgroundOrigin),this.backgroundPosition=ws(e,Pn,t.backgroundPosition),this.backgroundRepeat=ws(e,Mn,t.backgroundRepeat),this.backgroundSize=ws(e,Vn,t.backgroundSize),this.borderTopColor=ws(e,Wn,t.borderTopColor),this.borderRightColor=ws(e,qn,t.borderRightColor),this.borderBottomColor=ws(e,Xn,t.borderBottomColor),this.borderLeftColor=ws(e,Jn,t.borderLeftColor),this.borderTopLeftRadius=ws(e,Zn,t.borderTopLeftRadius),this.borderTopRightRadius=ws(e,$n,t.borderTopRightRadius),this.borderBottomRightRadius=ws(e,er,t.borderBottomRightRadius),this.borderBottomLeftRadius=ws(e,tr,t.borderBottomLeftRadius),this.borderTopStyle=ws(e,nr,t.borderTopStyle),this.borderRightStyle=ws(e,rr,t.borderRightStyle),this.borderBottomStyle=ws(e,sr,t.borderBottomStyle),this.borderLeftStyle=ws(e,ir,t.borderLeftStyle),this.borderTopWidth=ws(e,ar,t.borderTopWidth),this.borderRightWidth=ws(e,lr,t.borderRightWidth),this.borderBottomWidth=ws(e,cr,t.borderBottomWidth),this.borderLeftWidth=ws(e,ur,t.borderLeftWidth),this.boxShadow=ws(e,us,t.boxShadow),this.color=ws(e,dr,t.color),this.direction=ws(e,hr,t.direction),this.display=ws(e,fr,t.display),this.float=ws(e,pr,t.cssFloat),this.fontFamily=ws(e,$r,t.fontFamily),this.fontSize=ws(e,es,t.fontSize),this.fontStyle=ws(e,ns,t.fontStyle),this.fontVariant=ws(e,As,t.fontVariant),this.fontWeight=ws(e,ts,t.fontWeight),this.letterSpacing=ws(e,mr,t.letterSpacing),this.lineBreak=ws(e,yr,t.lineBreak),this.lineHeight=ws(e,Br,t.lineHeight),this.listStyleImage=ws(e,br,t.listStyleImage),this.listStylePosition=ws(e,Cr,t.listStylePosition),this.listStyleType=ws(e,xr,t.listStyleType),this.marginTop=ws(e,Ur,t.marginTop),this.marginRight=ws(e,Qr,t.marginRight),this.marginBottom=ws(e,Fr,t.marginBottom),this.marginLeft=ws(e,Ir,t.marginLeft),this.opacity=ws(e,Jr,t.opacity);var r=ws(e,kr,t.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=ws(e,Sr,t.overflowWrap),this.paddingTop=ws(e,Tr,t.paddingTop),this.paddingRight=ws(e,Nr,t.paddingRight),this.paddingBottom=ws(e,Dr,t.paddingBottom),this.paddingLeft=ws(e,Lr,t.paddingLeft),this.paintOrder=ws(e,ds,t.paintOrder),this.position=ws(e,Or,t.position),this.textAlign=ws(e,Hr,t.textAlign),this.textDecorationColor=ws(e,Yr,null!==(A=t.textDecorationColor)&&void 0!==A?A:t.color),this.textDecorationLine=ws(e,Zr,null!==(n=t.textDecorationLine)&&void 0!==n?n:t.textDecoration),this.textShadow=ws(e,Rr,t.textShadow),this.textTransform=ws(e,Pr,t.textTransform),this.transform=ws(e,Mr,t.transform),this.transformOrigin=ws(e,Gr,t.transformOrigin),this.visibility=ws(e,zr,t.visibility),this.webkitTextStrokeColor=ws(e,hs,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=ws(e,fs,t.webkitTextStrokeWidth),this.wordBreak=ws(e,Wr,t.wordBreak),this.zIndex=ws(e,qr,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return An(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return rs(this.display,4)||rs(this.display,33554432)||rs(this.display,268435456)||rs(this.display,536870912)||rs(this.display,67108864)||rs(this.display,134217728)},e}(),ps=function(){function e(e,t){this.content=ws(e,ss,t.content),this.quotes=ws(e,ls,t.quotes)}return e}(),ms=function(){function e(e,t){this.counterIncrement=ws(e,is,t.counterIncrement),this.counterReset=ws(e,os,t.counterReset)}return e}(),ws=function(e,t,A){var n=new FA,r=null!==A&&"undefined"!==typeof A?A.toString():t.initialValue;n.write(r);var s=new IA(n.read());switch(t.type){case 2:var i=s.parseComponentValue();return t.parse(e,_A(i)?i.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return YA.parse(e,s.parseComponentValue());case"color":return tn.parse(e,s.parseComponentValue());case"image":return Nn.parse(e,s.parseComponentValue());case"length":var o=s.parseComponentValue();return RA(o)?o:jA;case"length-percentage":var a=s.parseComponentValue();return PA(a)?a:jA;case"time":return Xr.parse(e,s.parseComponentValue())}}},ys="data-html2canvas-debug",Bs=function(e){switch(e.getAttribute(ys)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},vs=function(e,t){var A=Bs(e);return 1===A||t===A},bs=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,vs(t,3),this.styles=new gs(e,window.getComputedStyle(t,null)),lo(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),vs(t,4)&&(this.flags|=16)}return e}(),Cs="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",xs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Es="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Us=0;Us<xs.length;Us++)Es[xs.charCodeAt(Us)]=Us;for(var Qs=function(e){var t,A,n,r,s,i=.75*e.length,o=e.length,a=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)A=Es[e.charCodeAt(t)],n=Es[e.charCodeAt(t+1)],r=Es[e.charCodeAt(t+2)],s=Es[e.charCodeAt(t+3)],c[a++]=A<<2|n>>4,c[a++]=(15&n)<<4|r>>2,c[a++]=(3&r)<<6|63&s;return l},Fs=function(e){for(var t=e.length,A=[],n=0;n<t;n+=2)A.push(e[n+1]<<8|e[n]);return A},Is=function(e){for(var t=e.length,A=[],n=0;n<t;n+=4)A.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return A},ks=5,Ss=11,_s=2,Ts=65536>>ks,Ns=(1<<ks)-1,Ds=Ts+(1024>>ks)+32,Ls=65536>>Ss,Hs=(1<<Ss-ks)-1,Os=function(e,t,A){return e.slice?e.slice(t,A):new Uint16Array(Array.prototype.slice.call(e,t,A))},Rs=function(e,t,A){return e.slice?e.slice(t,A):new Uint32Array(Array.prototype.slice.call(e,t,A))},Ps=function(e,t){var A=Qs(e),n=Array.isArray(A)?Is(A):new Uint32Array(A),r=Array.isArray(A)?Fs(A):new Uint16Array(A),s=24,i=Os(r,s/2,n[4]/2),o=2===n[5]?Os(r,(s+n[4])/2):Rs(n,Math.ceil((s+n[4])/4));return new Ms(n[0],n[1],n[2],n[3],i,o)},Ms=function(){function e(e,t,A,n,r,s){this.initialValue=e,this.errorValue=t,this.highStart=A,this.highValueIndex=n,this.index=r,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>ks])<<_s)+(e&Ns),this.data[t];if(e<=65535)return t=((t=this.index[Ts+(e-55296>>ks)])<<_s)+(e&Ns),this.data[t];if(e<this.highStart)return t=Ds-Ls+(e>>Ss),t=this.index[t],t+=e>>ks&Hs,t=((t=this.index[t])<<_s)+(e&Ns),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),js="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ks="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Vs=0;Vs<js.length;Vs++)Ks[js.charCodeAt(Vs)]=Vs;var Gs,zs=1,Ws=2,qs=3,Xs=4,Js=5,Ys=7,Zs=8,$s=9,ei=10,ti=11,Ai=12,ni=13,ri=14,si=15,ii=function(e){for(var t=[],A=0,n=e.length;A<n;){var r=e.charCodeAt(A++);if(r>=55296&&r<=56319&&A<n){var s=e.charCodeAt(A++);56320===(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),A--)}else t.push(r)}return t},oi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var A=e.length;if(!A)return"";for(var n=[],r=-1,s="";++r<A;){var i=e[r];i<=65535?n.push(i):(i-=65536,n.push(55296+(i>>10),i%1024+56320)),(r+1===A||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},ai=Ps(Cs),li="\xd7",ci="\xf7",ui=function(e){return ai.get(e)},di=function(e,t,A){var n=A-2,r=t[n],s=t[A-1],i=t[A];if(s===Ws&&i===qs)return li;if(s===Ws||s===qs||s===Xs)return ci;if(i===Ws||i===qs||i===Xs)return ci;if(s===Zs&&-1!==[Zs,$s,ti,Ai].indexOf(i))return li;if((s===ti||s===$s)&&(i===$s||i===ei))return li;if((s===Ai||s===ei)&&i===ei)return li;if(i===ni||i===Js)return li;if(i===Ys)return li;if(s===zs)return li;if(s===ni&&i===ri){for(;r===Js;)r=t[--n];if(r===ri)return li}if(s===si&&i===si){for(var o=0;r===si;)o++,r=t[--n];if(o%2===0)return li}return ci},hi=function(e){var t=ii(e),A=t.length,n=0,r=0,s=t.map(ui);return{next:function(){if(n>=A)return{done:!0,value:null};for(var e=li;n<A&&(e=di(t,s,++n))===li;);if(e!==li||n===A){var i=oi.apply(null,t.slice(r,n));return r=n,{value:i,done:!1}}return{done:!0,value:null}}}},fi=function(e){for(var t,A=hi(e),n=[];!(t=A.next()).done;)t.value&&n.push(t.value.slice());return n},gi=function(e){var t=123;if(e.createRange){var A=e.createRange();if(A.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),A.selectNode(n);var r=A.getBoundingClientRect(),s=Math.round(r.height);if(e.body.removeChild(n),s===t)return!0}}return!1},pi=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var A=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var n=t.firstChild,r=l(n.data).map(function(e){return c(e)}),s=0,i={},o=r.every(function(e,t){A.setStart(n,s),A.setEnd(n,s+e.length);var r=A.getBoundingClientRect();s+=e.length;var o=r.x>i.x||r.y>i.y;return i=r,0===t||o});return e.body.removeChild(t),o},mi=function(){return"undefined"!==typeof(new Image).crossOrigin},wi=function(){return"string"===typeof(new XMLHttpRequest).responseType},yi=function(e){var t=new Image,A=e.createElement("canvas"),n=A.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),A.toDataURL()}catch(Ht){return!1}return!0},Bi=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},vi=function(e){var t=e.createElement("canvas"),A=100;t.width=A,t.height=A;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,A,A);var r=new Image,s=t.toDataURL();r.src=s;var i=bi(A,A,0,0,r);return n.fillStyle="red",n.fillRect(0,0,A,A),Ci(i).then(function(t){n.drawImage(t,0,0);var r=n.getImageData(0,0,A,A).data;n.fillStyle="red",n.fillRect(0,0,A,A);var i=e.createElement("div");return i.style.backgroundImage="url("+s+")",i.style.height=A+"px",Bi(r)?Ci(bi(A,A,0,0,i)):Promise.reject(!1)}).then(function(e){return n.drawImage(e,0,0),Bi(n.getImageData(0,0,A,A).data)}).catch(function(){return!1})},bi=function(e,t,A,n,r){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",A.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(r),i},Ci=function(e){return new Promise(function(t,A){var n=new Image;n.onload=function(){return t(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},xi={get SUPPORT_RANGE_BOUNDS(){var e=gi(document);return Object.defineProperty(xi,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=xi.SUPPORT_RANGE_BOUNDS&&pi(document);return Object.defineProperty(xi,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=yi(document);return Object.defineProperty(xi,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?vi(document):Promise.resolve(!1);return Object.defineProperty(xi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=mi();return Object.defineProperty(xi,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=wi();return Object.defineProperty(xi,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(xi,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(xi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Ei=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Ui=function(e,t,A,n){var r=Si(t,A),s=[],o=0;return r.forEach(function(t){if(A.textDecorationLine.length||t.trim().length>0)if(xi.SUPPORT_RANGE_BOUNDS){var r=Fi(n,o,t.length).getClientRects();if(r.length>1){var a=Ii(t),l=0;a.forEach(function(t){s.push(new Ei(t,i.fromDOMRectList(e,Fi(n,l+o,t.length).getClientRects()))),l+=t.length})}else s.push(new Ei(t,i.fromDOMRectList(e,r)))}else{var c=n.splitText(t.length);s.push(new Ei(t,Qi(e,n))),n=c}else xi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(t.length));o+=t.length}),s},Qi=function(e,t){var A=t.ownerDocument;if(A){var n=A.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var r=t.parentNode;if(r){r.replaceChild(n,t);var s=o(e,n);return n.firstChild&&r.replaceChild(n.firstChild,n),s}}return i.EMPTY},Fi=function(e,t,A){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var r=n.createRange();return r.setStart(e,t),r.setEnd(e,t+A),r},Ii=function(e){if(xi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return fi(e)},ki=function(e,t){if(xi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(A.segment(e)).map(function(e){return e.segment})}return Ti(e,t)},Si=function(e,t){return 0!==t.letterSpacing?Ii(e):ki(e,t)},_i=[32,160,4961,65792,65793,4153,4241],Ti=function(e,t){for(var A,n=je(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),r=[],s=function(){if(A.value){var e=A.value.slice(),t=l(e),n="";t.forEach(function(e){-1===_i.indexOf(e)?n+=c(e):(n.length&&r.push(n),r.push(c(e)),n="")}),n.length&&r.push(n)}};!(A=n.next()).done;)s();return r},Ni=function(){function e(e,t,A){this.text=Di(t.data,A.textTransform),this.textBounds=Ui(e,this.text,A,t)}return e}(),Di=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Li,Hi);case 2:return e.toUpperCase();default:return e}},Li=/(^|\s|:|-|\(|\))([a-z])/g,Hi=function(e,t,A){return e.length>0?t+A.toUpperCase():e},Oi=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n.src=A.currentSrc||A.src,n.intrinsicWidth=A.naturalWidth,n.intrinsicHeight=A.naturalHeight,n.context.cache.addImage(n.src),n}return t(A,e),A}(bs),Ri=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n.canvas=A,n.intrinsicWidth=A.width,n.intrinsicHeight=A.height,n}return t(A,e),A}(bs),Pi=function(e){function A(t,A){var n=e.call(this,t,A)||this,r=new XMLSerializer,s=o(t,A);return A.setAttribute("width",s.width+"px"),A.setAttribute("height",s.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(A)),n.intrinsicWidth=A.width.baseVal.value,n.intrinsicHeight=A.height.baseVal.value,n.context.cache.addImage(n.svg),n}return t(A,e),A}(bs),Mi=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n.value=A.value,n}return t(A,e),A}(bs),ji=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n.start=A.start,n.reversed="boolean"===typeof A.reversed&&!0===A.reversed,n}return t(A,e),A}(bs),Ki=[{type:15,flags:0,unit:"px",number:3}],Vi=[{type:16,flags:0,number:50}],Gi=function(e){return e.width>e.height?new i(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new i(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},zi=function(e){var t=e.type===Xi?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Wi="checkbox",qi="radio",Xi="password",Ji=707406591,Yi=function(e){function A(t,A){var n=e.call(this,t,A)||this;switch(n.type=A.type.toLowerCase(),n.checked=A.checked,n.value=zi(A),n.type!==Wi&&n.type!==qi||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=Gi(n.bounds)),n.type){case Wi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Ki;break;case qi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Vi}return n}return t(A,e),A}(bs),Zi=function(e){function A(t,A){var n=e.call(this,t,A)||this,r=A.options[A.selectedIndex||0];return n.value=r&&r.text||"",n}return t(A,e),A}(bs),$i=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n.value=A.value,n}return t(A,e),A}(bs),eo=function(e){function A(t,A){var n=e.call(this,t,A)||this;n.src=A.src,n.width=parseInt(A.width,10)||0,n.height=parseInt(A.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(A.contentWindow&&A.contentWindow.document&&A.contentWindow.document.documentElement){n.tree=ro(t,A.contentWindow.document.documentElement);var r=A.contentWindow.document.documentElement?un(t,getComputedStyle(A.contentWindow.document.documentElement).backgroundColor):dn.TRANSPARENT,s=A.contentWindow.document.body?un(t,getComputedStyle(A.contentWindow.document.body).backgroundColor):dn.TRANSPARENT;n.backgroundColor=An(r)?An(s)?n.styles.backgroundColor:s:r}}catch(Ht){}return n}return t(A,e),A}(bs),to=["OL","UL","MENU"],Ao=function(e,t,A,n){for(var r=t.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,oo(r)&&r.data.trim().length>0)A.textNodes.push(new Ni(e,r,A.styles));else if(ao(r))if(Uo(r)&&r.assignedNodes)r.assignedNodes().forEach(function(t){return Ao(e,t,A,n)});else{var i=no(e,r);i.styles.isVisible()&&(so(r,i,n)?i.flags|=4:io(i.styles)&&(i.flags|=2),-1!==to.indexOf(r.tagName)&&(i.flags|=8),A.elements.push(i),r.slot,r.shadowRoot?Ao(e,r.shadowRoot,i,n):xo(r)||po(r)||Eo(r)||Ao(e,r,i,n))}},no=function(e,t){return Bo(t)?new Oi(e,t):wo(t)?new Ri(e,t):po(t)?new Pi(e,t):uo(t)?new Mi(e,t):ho(t)?new ji(e,t):fo(t)?new Yi(e,t):Eo(t)?new Zi(e,t):xo(t)?new $i(e,t):vo(t)?new eo(e,t):new bs(e,t)},ro=function(e,t){var A=no(e,t);return A.flags|=4,Ao(e,t,A,A),A},so=function(e,t,A){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||mo(e)&&A.styles.isTransparent()},io=function(e){return e.isPositioned()||e.isFloating()},oo=function(e){return e.nodeType===Node.TEXT_NODE},ao=function(e){return e.nodeType===Node.ELEMENT_NODE},lo=function(e){return ao(e)&&"undefined"!==typeof e.style&&!co(e)},co=function(e){return"object"===typeof e.className},uo=function(e){return"LI"===e.tagName},ho=function(e){return"OL"===e.tagName},fo=function(e){return"INPUT"===e.tagName},go=function(e){return"HTML"===e.tagName},po=function(e){return"svg"===e.tagName},mo=function(e){return"BODY"===e.tagName},wo=function(e){return"CANVAS"===e.tagName},yo=function(e){return"VIDEO"===e.tagName},Bo=function(e){return"IMG"===e.tagName},vo=function(e){return"IFRAME"===e.tagName},bo=function(e){return"STYLE"===e.tagName},Co=function(e){return"SCRIPT"===e.tagName},xo=function(e){return"TEXTAREA"===e.tagName},Eo=function(e){return"SELECT"===e.tagName},Uo=function(e){return"SLOT"===e.tagName},Qo=function(e){return e.tagName.indexOf("-")>0},Fo=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,A=e.counterIncrement,n=e.counterReset,r=!0;null!==A&&A.forEach(function(e){var A=t.counters[e.counter];A&&0!==e.increment&&(r=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=e.increment)});var s=[];return r&&n.forEach(function(e){var A=t.counters[e.counter];s.push(e.counter),A||(A=t.counters[e.counter]=[]),A.push(e.reset)}),s},e}(),Io={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ko={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},So={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},_o={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},To=function(e,t,A,n,r,s){return e<t||e>A?zo(e,r,s.length>0):n.integers.reduce(function(t,A,r){for(;e>=A;)e-=A,t+=n.values[r];return t},"")+s},No=function(e,t,A,n){var r="";do{A||e--,r=n(e)+r,e/=t}while(e*t>=t);return r},Do=function(e,t,A,n,r){var s=A-t+1;return(e<0?"-":"")+(No(Math.abs(e),s,n,function(e){return c(Math.floor(e%s)+t)})+r)},Lo=function(e,t,A){void 0===A&&(A=". ");var n=t.length;return No(Math.abs(e),n,!1,function(e){return t[Math.floor(e%n)]})+A},Ho=1,Oo=2,Ro=4,Po=8,Mo=function(e,t,A,n,r,s){if(e<-9999||e>9999)return zo(e,4,r.length>0);var i=Math.abs(e),o=r;if(0===i)return t[0]+o;for(var a=0;i>0&&a<=4;a++){var l=i%10;0===l&&rs(s,Ho)&&""!==o?o=t[l]+o:l>1||1===l&&0===a||1===l&&1===a&&rs(s,Oo)||1===l&&1===a&&rs(s,Ro)&&e>100||1===l&&a>1&&rs(s,Po)?o=t[l]+(a>0?A[a-1]:"")+o:1===l&&a>0&&(o=A[a-1]+o),i=Math.floor(i/10)}return(e<0?n:"")+o},jo="\u5341\u767e\u5343\u842c",Ko="\u62fe\u4f70\u4edf\u842c",Vo="\u30de\u30a4\u30ca\u30b9",Go="\ub9c8\uc774\ub108\uc2a4",zo=function(e,t,A){var n=A?". ":"",r=A?"\u3001":"",s=A?", ":"",i=A?" ":"";switch(t){case 0:return"\u2022"+i;case 1:return"\u25e6"+i;case 2:return"\u25fe"+i;case 5:var o=Do(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Lo(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",r);case 6:return To(e,1,3999,Io,3,n).toLowerCase();case 7:return To(e,1,3999,Io,3,n);case 8:return Do(e,945,969,!1,n);case 9:return Do(e,97,122,!1,n);case 10:return Do(e,65,90,!1,n);case 11:return Do(e,1632,1641,!0,n);case 12:case 49:return To(e,1,9999,ko,3,n);case 35:return To(e,1,9999,ko,3,n).toLowerCase();case 13:return Do(e,2534,2543,!0,n);case 14:case 30:return Do(e,6112,6121,!0,n);case 15:return Lo(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",r);case 16:return Lo(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",r);case 17:case 48:return Mo(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",jo,"\u8ca0",r,Oo|Ro|Po);case 47:return Mo(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Ko,"\u8ca0",r,Ho|Oo|Ro|Po);case 42:return Mo(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",jo,"\u8d1f",r,Oo|Ro|Po);case 41:return Mo(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Ko,"\u8d1f",r,Ho|Oo|Ro|Po);case 26:return Mo(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Vo,r,0);case 25:return Mo(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Vo,r,Ho|Oo|Ro);case 31:return Mo(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Go,s,Ho|Oo|Ro);case 33:return Mo(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Go,s,0);case 32:return Mo(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Go,s,Ho|Oo|Ro);case 18:return Do(e,2406,2415,!0,n);case 20:return To(e,1,19999,_o,3,n);case 21:return Do(e,2790,2799,!0,n);case 22:return Do(e,2662,2671,!0,n);case 22:return To(e,1,10999,So,3,n);case 23:return Lo(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Lo(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Do(e,3302,3311,!0,n);case 28:return Lo(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",r);case 29:return Lo(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",r);case 34:return Do(e,3792,3801,!0,n);case 37:return Do(e,6160,6169,!0,n);case 38:return Do(e,4160,4169,!0,n);case 39:return Do(e,2918,2927,!0,n);case 40:return Do(e,1776,1785,!0,n);case 43:return Do(e,3046,3055,!0,n);case 44:return Do(e,3174,3183,!0,n);case 45:return Do(e,3664,3673,!0,n);case 46:return Do(e,3872,3881,!0,n);default:return Do(e,48,57,!0,n)}},Wo="data-html2canvas-ignore",qo=function(){function e(e,t,A){if(this.context=e,this.options=A,this.scrolledElements=[],this.referenceElement=t,this.counters=new Fo,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var A=this,s=Jo(e,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=s.contentWindow,l=a.document,c=$o(s).then(function(){return n(A,void 0,void 0,function(){var e,A;return r(this,function(n){switch(n.label){case 0:return this.scrolledElements.forEach(ra),a&&(a.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===t.top&&a.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-t.left,a.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(A=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zo(l)]:[3,4];case 3:n.sent(),n.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then(function(){return e(l,A)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(Aa(document.doctype)+"<html></html>"),na(this.referenceElement.ownerDocument,i,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(e){if(vs(e,2),wo(e))return this.createCanvasClone(e);if(yo(e))return this.createVideoClone(e);if(bo(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Bo(t)&&(Bo(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Qo(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return ta(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var A=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e},""),n=e.cloneNode(!1);return n.textContent=A,n}}catch(Ht){if(this.context.logger.error("Unable to access cssRules property",Ht),"SecurityError"!==Ht.name)throw Ht}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var A=e.ownerDocument.createElement("img");try{return A.src=e.toDataURL(),A}catch(Ht){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var r=e.getContext("2d"),s=n.getContext("2d");if(s)if(!this.options.allowTaint&&r)s.putImageData(r.getImageData(0,0,e.width,e.height),0,0);else{var i=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(i){var o=i.getContextAttributes();!1===(null===o||void 0===o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return n}catch(Ht){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return n},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var A=t.getContext("2d");try{return A&&(A.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||A.getImageData(0,0,t.width,t.height)),t}catch(Ht){this.context.logger.info("Unable to clone video as it is tainted",e)}var n=e.ownerDocument.createElement("canvas");return n.width=e.offsetWidth,n.height=e.offsetHeight,n},e.prototype.appendChildNode=function(e,t,A){ao(t)&&(Co(t)||t.hasAttribute(Wo)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ao(t)&&bo(t)||e.appendChild(this.cloneNode(t,A))},e.prototype.cloneChildNodes=function(e,t,A){for(var n=this,r=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;r;r=r.nextSibling)if(ao(r)&&Uo(r)&&"function"===typeof r.assignedNodes){var s=r.assignedNodes();s.length&&s.forEach(function(e){return n.appendChildNode(t,e,A)})}else this.appendChildNode(t,r,A)},e.prototype.cloneNode=function(e,t){if(oo(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var A=e.ownerDocument.defaultView;if(A&&ao(e)&&(lo(e)||co(e))){var n=this.createElementClone(e);n.style.transitionProperty="none";var r=A.getComputedStyle(e),s=A.getComputedStyle(e,":before"),i=A.getComputedStyle(e,":after");this.referenceElement===e&&lo(n)&&(this.clonedReferenceElement=n),mo(n)&&ca(n);var o=this.counters.parse(new ms(this.context,r)),a=this.resolvePseudoContent(e,n,s,Gs.BEFORE);Qo(e)&&(t=!0),yo(e)||this.cloneChildNodes(e,n,t),a&&n.insertBefore(a,n.firstChild);var l=this.resolvePseudoContent(e,n,i,Gs.AFTER);return l&&n.appendChild(l),this.counters.pop(o),(r&&(this.options.copyStyles||co(e))&&!vo(e)||t)&&ta(r,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(xo(e)||Eo(e))&&(xo(n)||Eo(n))&&(n.value=e.value),n}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,A,n){var r=this;if(A){var s=A.content,i=t.ownerDocument;if(i&&s&&"none"!==s&&"-moz-alt-content"!==s&&"none"!==A.display){this.counters.parse(new ms(this.context,A));var o=new ps(this.context,A),a=i.createElement("html2canvaspseudoelement");ta(A,a),o.content.forEach(function(t){if(0===t.type)a.appendChild(i.createTextNode(t.value));else if(22===t.type){var A=i.createElement("img");A.src=t.value,A.style.opacity="1",a.appendChild(A)}else if(18===t.type){if("attr"===t.name){var n=t.values.filter(_A);n.length&&a.appendChild(i.createTextNode(e.getAttribute(n[0].value)||""))}else if("counter"===t.name){var s=t.values.filter(LA),l=s[0],c=s[1];if(l&&_A(l)){var u=r.counters.getCounterValue(l.value),d=c&&_A(c)?xr.parse(r.context,c.value):3;a.appendChild(i.createTextNode(zo(u,d,!1)))}}else if("counters"===t.name){var h=t.values.filter(LA),f=(l=h[0],h[1]);if(c=h[2],l&&_A(l)){var g=r.counters.getCounterValues(l.value),p=c&&_A(c)?xr.parse(r.context,c.value):3,m=f&&0===f.type?f.value:"",w=g.map(function(e){return zo(e,p,!1)}).join(m);a.appendChild(i.createTextNode(w))}}}else if(20===t.type)switch(t.value){case"open-quote":a.appendChild(i.createTextNode(cs(o.quotes,r.quoteDepth++,!0)));break;case"close-quote":a.appendChild(i.createTextNode(cs(o.quotes,--r.quoteDepth,!1)));break;default:a.appendChild(i.createTextNode(t.value))}}),a.className=oa+" "+aa;var l=n===Gs.BEFORE?" "+oa:" "+aa;return co(t)?t.className.baseValue+=l:t.className+=l,a}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Gs||(Gs={}));var Xo,Jo=function(e,t){var A=e.createElement("iframe");return A.className="html2canvas-container",A.style.visibility="hidden",A.style.position="fixed",A.style.left="-10000px",A.style.top="0px",A.style.border="0",A.width=t.width.toString(),A.height=t.height.toString(),A.scrolling="no",A.setAttribute(Wo,"true"),e.body.appendChild(A),A},Yo=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},Zo=function(e){return Promise.all([].slice.call(e.images,0).map(Yo))},$o=function(e){return new Promise(function(t,A){var n=e.contentWindow;if(!n)return A("No window assigned for iframe");var r=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var A=setInterval(function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(A),t(e))},50)}})},ea=["all","d","content"],ta=function(e,t){for(var A=e.length-1;A>=0;A--){var n=e.item(A);-1===ea.indexOf(n)&&t.style.setProperty(n,e.getPropertyValue(n))}return t},Aa=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},na=function(e,t,A){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||A!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,A)},ra=function(e){var t=e[0],A=e[1],n=e[2];t.scrollLeft=A,t.scrollTop=n},sa=":before",ia=":after",oa="___html2canvas___pseudoelement_before",aa="___html2canvas___pseudoelement_after",la='{\n    content: "" !important;\n    display: none !important;\n}',ca=function(e){ua(e,"."+oa+sa+la+"\n         ."+aa+ia+la)},ua=function(e,t){var A=e.ownerDocument;if(A){var n=A.createElement("style");n.textContent=t,e.appendChild(n)}},da=function(){function e(){}return e.getOrigin=function(t){var A=e._link;return A?(A.href=t,A.href=A.href,A.protocol+A.hostname+A.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),ha=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:Ba(e)||ma(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return n(this,void 0,void 0,function(){var t,A,n,s,i=this;return r(this,function(r){switch(r.label){case 0:return t=da.isSameOrigin(e),A=!wa(e)&&!0===this._options.useCORS&&xi.SUPPORT_CORS_IMAGES&&!t,n=!wa(e)&&!t&&!Ba(e)&&"string"===typeof this._options.proxy&&xi.SUPPORT_CORS_XHR&&!A,t||!1!==this._options.allowTaint||wa(e)||Ba(e)||n||A?(s=e,n?[4,this.proxy(s)]:[3,2]):[2];case 1:s=r.sent(),r.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,(ya(s)||A)&&(n.crossOrigin="anonymous"),n.src=s,!0===n.complete&&setTimeout(function(){return e(n)},500),i._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,r.sent()]}})})},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,A=this._options.proxy;if(!A)throw new Error("No proxy defined");var n=e.substring(0,256);return new Promise(function(r,s){var i=xi.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===i)r(o.response);else{var e=new FileReader;e.addEventListener("load",function(){return r(e.result)},!1),e.addEventListener("error",function(e){return s(e)},!1),e.readAsDataURL(o.response)}else s("Failed to proxy resource "+n+" with status code "+o.status)},o.onerror=s;var a=A.indexOf("?")>-1?"&":"?";if(o.open("GET",""+A+a+"url="+encodeURIComponent(e)+"&responseType="+i),"text"!==i&&o instanceof XMLHttpRequest&&(o.responseType=i),t._options.imageTimeout){var l=t._options.imageTimeout;o.timeout=l,o.ontimeout=function(){return s("Timed out ("+l+"ms) proxying "+n)}}o.send()})},e}(),fa=/^data:image\/svg\+xml/i,ga=/^data:image\/.*;base64,/i,pa=/^data:image\/.*/i,ma=function(e){return xi.SUPPORT_SVG_DRAWING||!va(e)},wa=function(e){return pa.test(e)},ya=function(e){return ga.test(e)},Ba=function(e){return"blob"===e.substr(0,4)},va=function(e){return"svg"===e.substr(-3).toLowerCase()||fa.test(e)},ba=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,A){return new e(this.x+t,this.y+A)},e}(),Ca=function(e,t,A){return new ba(e.x+(t.x-e.x)*A,e.y+(t.y-e.y)*A)},xa=function(){function e(e,t,A,n){this.type=1,this.start=e,this.startControl=t,this.endControl=A,this.end=n}return e.prototype.subdivide=function(t,A){var n=Ca(this.start,this.startControl,t),r=Ca(this.startControl,this.endControl,t),s=Ca(this.endControl,this.end,t),i=Ca(n,r,t),o=Ca(r,s,t),a=Ca(i,o,t);return A?new e(this.start,n,i,a):new e(a,o,s,this.end)},e.prototype.add=function(t,A){return new e(this.start.add(t,A),this.startControl.add(t,A),this.endControl.add(t,A),this.end.add(t,A))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Ea=function(e){return 1===e.type},Ua=function(){function e(e){var t=e.styles,A=e.bounds,n=GA(t.borderTopLeftRadius,A.width,A.height),r=n[0],s=n[1],i=GA(t.borderTopRightRadius,A.width,A.height),o=i[0],a=i[1],l=GA(t.borderBottomRightRadius,A.width,A.height),c=l[0],u=l[1],d=GA(t.borderBottomLeftRadius,A.width,A.height),h=d[0],f=d[1],g=[];g.push((r+o)/A.width),g.push((h+c)/A.width),g.push((s+f)/A.height),g.push((a+u)/A.height);var p=Math.max.apply(Math,g);p>1&&(r/=p,s/=p,o/=p,a/=p,c/=p,u/=p,h/=p,f/=p);var m=A.width-o,w=A.height-u,y=A.width-c,B=A.height-f,v=t.borderTopWidth,b=t.borderRightWidth,C=t.borderBottomWidth,x=t.borderLeftWidth,E=zA(t.paddingTop,e.bounds.width),U=zA(t.paddingRight,e.bounds.width),Q=zA(t.paddingBottom,e.bounds.width),F=zA(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||s>0?Qa(A.left+x/3,A.top+v/3,r-x/3,s-v/3,Xo.TOP_LEFT):new ba(A.left+x/3,A.top+v/3),this.topRightBorderDoubleOuterBox=r>0||s>0?Qa(A.left+m,A.top+v/3,o-b/3,a-v/3,Xo.TOP_RIGHT):new ba(A.left+A.width-b/3,A.top+v/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?Qa(A.left+y,A.top+w,c-b/3,u-C/3,Xo.BOTTOM_RIGHT):new ba(A.left+A.width-b/3,A.top+A.height-C/3),this.bottomLeftBorderDoubleOuterBox=h>0||f>0?Qa(A.left+x/3,A.top+B,h-x/3,f-C/3,Xo.BOTTOM_LEFT):new ba(A.left+x/3,A.top+A.height-C/3),this.topLeftBorderDoubleInnerBox=r>0||s>0?Qa(A.left+2*x/3,A.top+2*v/3,r-2*x/3,s-2*v/3,Xo.TOP_LEFT):new ba(A.left+2*x/3,A.top+2*v/3),this.topRightBorderDoubleInnerBox=r>0||s>0?Qa(A.left+m,A.top+2*v/3,o-2*b/3,a-2*v/3,Xo.TOP_RIGHT):new ba(A.left+A.width-2*b/3,A.top+2*v/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?Qa(A.left+y,A.top+w,c-2*b/3,u-2*C/3,Xo.BOTTOM_RIGHT):new ba(A.left+A.width-2*b/3,A.top+A.height-2*C/3),this.bottomLeftBorderDoubleInnerBox=h>0||f>0?Qa(A.left+2*x/3,A.top+B,h-2*x/3,f-2*C/3,Xo.BOTTOM_LEFT):new ba(A.left+2*x/3,A.top+A.height-2*C/3),this.topLeftBorderStroke=r>0||s>0?Qa(A.left+x/2,A.top+v/2,r-x/2,s-v/2,Xo.TOP_LEFT):new ba(A.left+x/2,A.top+v/2),this.topRightBorderStroke=r>0||s>0?Qa(A.left+m,A.top+v/2,o-b/2,a-v/2,Xo.TOP_RIGHT):new ba(A.left+A.width-b/2,A.top+v/2),this.bottomRightBorderStroke=c>0||u>0?Qa(A.left+y,A.top+w,c-b/2,u-C/2,Xo.BOTTOM_RIGHT):new ba(A.left+A.width-b/2,A.top+A.height-C/2),this.bottomLeftBorderStroke=h>0||f>0?Qa(A.left+x/2,A.top+B,h-x/2,f-C/2,Xo.BOTTOM_LEFT):new ba(A.left+x/2,A.top+A.height-C/2),this.topLeftBorderBox=r>0||s>0?Qa(A.left,A.top,r,s,Xo.TOP_LEFT):new ba(A.left,A.top),this.topRightBorderBox=o>0||a>0?Qa(A.left+m,A.top,o,a,Xo.TOP_RIGHT):new ba(A.left+A.width,A.top),this.bottomRightBorderBox=c>0||u>0?Qa(A.left+y,A.top+w,c,u,Xo.BOTTOM_RIGHT):new ba(A.left+A.width,A.top+A.height),this.bottomLeftBorderBox=h>0||f>0?Qa(A.left,A.top+B,h,f,Xo.BOTTOM_LEFT):new ba(A.left,A.top+A.height),this.topLeftPaddingBox=r>0||s>0?Qa(A.left+x,A.top+v,Math.max(0,r-x),Math.max(0,s-v),Xo.TOP_LEFT):new ba(A.left+x,A.top+v),this.topRightPaddingBox=o>0||a>0?Qa(A.left+Math.min(m,A.width-b),A.top+v,m>A.width+b?0:Math.max(0,o-b),Math.max(0,a-v),Xo.TOP_RIGHT):new ba(A.left+A.width-b,A.top+v),this.bottomRightPaddingBox=c>0||u>0?Qa(A.left+Math.min(y,A.width-x),A.top+Math.min(w,A.height-C),Math.max(0,c-b),Math.max(0,u-C),Xo.BOTTOM_RIGHT):new ba(A.left+A.width-b,A.top+A.height-C),this.bottomLeftPaddingBox=h>0||f>0?Qa(A.left+x,A.top+Math.min(B,A.height-C),Math.max(0,h-x),Math.max(0,f-C),Xo.BOTTOM_LEFT):new ba(A.left+x,A.top+A.height-C),this.topLeftContentBox=r>0||s>0?Qa(A.left+x+F,A.top+v+E,Math.max(0,r-(x+F)),Math.max(0,s-(v+E)),Xo.TOP_LEFT):new ba(A.left+x+F,A.top+v+E),this.topRightContentBox=o>0||a>0?Qa(A.left+Math.min(m,A.width+x+F),A.top+v+E,m>A.width+x+F?0:o-x+F,a-(v+E),Xo.TOP_RIGHT):new ba(A.left+A.width-(b+U),A.top+v+E),this.bottomRightContentBox=c>0||u>0?Qa(A.left+Math.min(y,A.width-(x+F)),A.top+Math.min(w,A.height+v+E),Math.max(0,c-(b+U)),u-(C+Q),Xo.BOTTOM_RIGHT):new ba(A.left+A.width-(b+U),A.top+A.height-(C+Q)),this.bottomLeftContentBox=h>0||f>0?Qa(A.left+x+F,A.top+B,Math.max(0,h-(x+F)),f-(C+Q),Xo.BOTTOM_LEFT):new ba(A.left+x+F,A.top+A.height-(C+Q))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Xo||(Xo={}));var Qa=function(e,t,A,n,r){var s=(Math.sqrt(2)-1)/3*4,i=A*s,o=n*s,a=e+A,l=t+n;switch(r){case Xo.TOP_LEFT:return new xa(new ba(e,l),new ba(e,l-o),new ba(a-i,t),new ba(a,t));case Xo.TOP_RIGHT:return new xa(new ba(e,t),new ba(e+i,t),new ba(a,l-o),new ba(a,l));case Xo.BOTTOM_RIGHT:return new xa(new ba(a,t),new ba(a,t+o),new ba(e+i,l),new ba(e,l));case Xo.BOTTOM_LEFT:default:return new xa(new ba(a,l),new ba(a-i,l),new ba(e,t+o),new ba(e,t))}},Fa=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Ia=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},ka=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Sa=function(){function e(e,t,A){this.offsetX=e,this.offsetY=t,this.matrix=A,this.type=0,this.target=6}return e}(),_a=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Ta=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Na=function(e){return 0===e.type},Da=function(e){return 1===e.type},La=function(e){return 2===e.type},Ha=function(e,t){return e.length===t.length&&e.some(function(e,A){return e===t[A]})},Oa=function(e,t,A,n,r){return e.map(function(e,s){switch(s){case 0:return e.add(t,A);case 1:return e.add(t+n,A);case 2:return e.add(t+n,A+r);case 3:return e.add(t,A+r)}return e})},Ra=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Pa=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Ua(this.container),this.container.styles.opacity<1&&this.effects.push(new Ta(this.container.styles.opacity)),null!==this.container.styles.transform){var A=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new Sa(A,n,r))}if(0!==this.container.styles.overflowX){var s=Fa(this.curves),i=ka(this.curves);Ha(s,i)?this.effects.push(new _a(s,6)):(this.effects.push(new _a(s,2)),this.effects.push(new _a(i,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),A=this.parent,n=this.effects.slice(0);A;){var r=A.effects.filter(function(e){return!Da(e)});if(t||0!==A.container.styles.position||!A.parent){if(n.unshift.apply(n,r),t=-1===[2,3].indexOf(A.container.styles.position),0!==A.container.styles.overflowX){var s=Fa(A.curves),i=ka(A.curves);Ha(s,i)||n.unshift(new _a(i,6))}}else n.unshift.apply(n,r);A=A.parent}return n.filter(function(t){return rs(t.target,e)})},e}(),Ma=function(e,t,A,n){e.container.elements.forEach(function(r){var s=rs(r.flags,4),i=rs(r.flags,2),o=new Pa(r,e);rs(r.styles.display,2048)&&n.push(o);var a=rs(r.flags,8)?[]:n;if(s||i){var l=s||r.styles.isPositioned()?A:t,c=new Ra(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var u=r.styles.zIndex.order;if(u<0){var d=0;l.negativeZIndex.some(function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0}),l.negativeZIndex.splice(d,0,c)}else if(u>0){var h=0;l.positiveZIndex.some(function(e,t){return u>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0}),l.positiveZIndex.splice(h,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else r.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Ma(o,c,s?c:A,a)}else r.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Ma(o,t,A,a);rs(r.flags,8)&&ja(r,a)})},ja=function(e,t){for(var A=e instanceof ji?e.start:1,n=e instanceof ji&&e.reversed,r=0;r<t.length;r++){var s=t[r];s.container instanceof Mi&&"number"===typeof s.container.value&&0!==s.container.value&&(A=s.container.value),s.listValue=zo(A,s.container.styles.listStyleType,!0),A+=n?-1:1}},Ka=function(e){var t=new Pa(e,null),A=new Ra(t),n=[];return Ma(t,A,A,n),ja(t.container,n),A},Va=function(e,t){switch(t){case 0:return Xa(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Xa(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Xa(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Xa(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Ga=function(e,t){switch(t){case 0:return Xa(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Xa(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Xa(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Xa(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},za=function(e,t){switch(t){case 0:return Xa(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Xa(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Xa(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Xa(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Wa=function(e,t){switch(t){case 0:return qa(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return qa(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return qa(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return qa(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},qa=function(e,t){var A=[];return Ea(e)?A.push(e.subdivide(.5,!1)):A.push(e),Ea(t)?A.push(t.subdivide(.5,!0)):A.push(t),A},Xa=function(e,t,A,n){var r=[];return Ea(e)?r.push(e.subdivide(.5,!1)):r.push(e),Ea(A)?r.push(A.subdivide(.5,!0)):r.push(A),Ea(n)?r.push(n.subdivide(.5,!0).reverse()):r.push(n),Ea(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},Ja=function(e){var t=e.bounds,A=e.styles;return t.add(A.borderLeftWidth,A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth),-(A.borderTopWidth+A.borderBottomWidth))},Ya=function(e){var t=e.styles,A=e.bounds,n=zA(t.paddingLeft,A.width),r=zA(t.paddingRight,A.width),s=zA(t.paddingTop,A.width),i=zA(t.paddingBottom,A.width);return A.add(n+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+r),-(t.borderTopWidth+t.borderBottomWidth+s+i))},Za=function(e,t){return 0===e?t.bounds:2===e?Ya(t):Ja(t)},$a=function(e,t){return 0===e?t.bounds:2===e?Ya(t):Ja(t)},el=function(e,t,A){var n=Za(rl(e.styles.backgroundOrigin,t),e),r=$a(rl(e.styles.backgroundClip,t),e),s=nl(rl(e.styles.backgroundSize,t),A,n),i=s[0],o=s[1],a=GA(rl(e.styles.backgroundPosition,t),n.width-i,n.height-o);return[sl(rl(e.styles.backgroundRepeat,t),a,s,n,r),Math.round(n.left+a[0]),Math.round(n.top+a[1]),i,o]},tl=function(e){return _A(e)&&e.value===Ln.AUTO},Al=function(e){return"number"===typeof e},nl=function(e,t,A){var n=t[0],r=t[1],s=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(PA(i)&&o&&PA(o))return[zA(i,A.width),zA(o,A.height)];var a=Al(s);if(_A(i)&&(i.value===Ln.CONTAIN||i.value===Ln.COVER))return Al(s)?A.width/A.height<s!==(i.value===Ln.COVER)?[A.width,A.width/s]:[A.height*s,A.height]:[A.width,A.height];var l=Al(n),c=Al(r),u=l||c;if(tl(i)&&(!o||tl(o)))return l&&c?[n,r]:a||u?u&&a?[l?n:r*s,c?r:n/s]:[l?n:A.width,c?r:A.height]:[A.width,A.height];if(a){var d=0,h=0;return PA(i)?d=zA(i,A.width):PA(o)&&(h=zA(o,A.height)),tl(i)?d=h*s:o&&!tl(o)||(h=d/s),[d,h]}var f=null,g=null;if(PA(i)?f=zA(i,A.width):o&&PA(o)&&(g=zA(o,A.height)),null===f||o&&!tl(o)||(g=l&&c?f/n*r:A.height),null!==g&&tl(i)&&(f=l&&c?g/r*n:A.width),null!==f&&null!==g)return[f,g];throw new Error("Unable to calculate background-size for element")},rl=function(e,t){var A=e[t];return"undefined"===typeof A?e[0]:A},sl=function(e,t,A,n,r){var s=t[0],i=t[1],o=A[0],a=A[1];switch(e){case 2:return[new ba(Math.round(n.left),Math.round(n.top+i)),new ba(Math.round(n.left+n.width),Math.round(n.top+i)),new ba(Math.round(n.left+n.width),Math.round(a+n.top+i)),new ba(Math.round(n.left),Math.round(a+n.top+i))];case 3:return[new ba(Math.round(n.left+s),Math.round(n.top)),new ba(Math.round(n.left+s+o),Math.round(n.top)),new ba(Math.round(n.left+s+o),Math.round(n.height+n.top)),new ba(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new ba(Math.round(n.left+s),Math.round(n.top+i)),new ba(Math.round(n.left+s+o),Math.round(n.top+i)),new ba(Math.round(n.left+s+o),Math.round(n.top+i+a)),new ba(Math.round(n.left+s),Math.round(n.top+i+a))];default:return[new ba(Math.round(r.left),Math.round(r.top)),new ba(Math.round(r.left+r.width),Math.round(r.top)),new ba(Math.round(r.left+r.width),Math.round(r.height+r.top)),new ba(Math.round(r.left),Math.round(r.height+r.top))]}},il="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ol="Hidden Text",al=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var A=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),s=this._document.body;A.style.visibility="hidden",A.style.fontFamily=e,A.style.fontSize=t,A.style.margin="0",A.style.padding="0",A.style.whiteSpace="nowrap",s.appendChild(A),n.src=il,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(ol)),A.appendChild(r),A.appendChild(n);var i=n.offsetTop-r.offsetTop+2;A.removeChild(r),A.appendChild(this._document.createTextNode(ol)),A.style.lineHeight="normal",n.style.verticalAlign="super";var o=n.offsetTop-A.offsetTop+2;return s.removeChild(A),{baseline:i,middle:o}},e.prototype.getMetrics=function(e,t){var A=e+" "+t;return"undefined"===typeof this._data[A]&&(this._data[A]=this.parseMetrics(e,t)),this._data[A]},e}(),ll=function(){function e(e,t){this.context=e,this.options=t}return e}(),cl=1e4,ul=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n._activeEffects=[],n.canvas=A.canvas?A.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),A.canvas||(n.canvas.width=Math.floor(A.width*A.scale),n.canvas.height=Math.floor(A.height*A.scale),n.canvas.style.width=A.width+"px",n.canvas.style.height=A.height+"px"),n.fontMetrics=new al(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-A.x,-A.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+A.width+"x"+A.height+") with scale "+A.scale),n}return t(A,e),A.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},A.prototype.applyEffect=function(e){this.ctx.save(),La(e)&&(this.ctx.globalAlpha=e.opacity),Na(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Da(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(e){return n(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},A.prototype.renderNode=function(e){return n(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return rs(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},A.prototype.renderTextWithLetterSpacing=function(e,t,A){var n=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+A):Ii(e.text).reduce(function(t,r){return n.ctx.fillText(r,t,e.bounds.top+A),t+n.ctx.measureText(r).width},e.bounds.left)},A.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),A=pl(e.fontFamily).join(", "),n=kA(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,n,A].join(" "),A,n]},A.prototype.renderTextNode=function(e,t){return n(this,void 0,void 0,function(){var A,n,s,i,o,a,l,c,u=this;return r(this,function(r){return A=this.createFontStyle(t),n=A[0],s=A[1],i=A[2],this.ctx.font=n,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(s,i),a=o.baseline,l=o.middle,c=t.paintOrder,e.textBounds.forEach(function(e){c.forEach(function(A){switch(A){case 0:u.ctx.fillStyle=nn(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,a);var n=t.textShadow;n.length&&e.text.trim().length&&(n.slice(0).reverse().forEach(function(A){u.ctx.shadowColor=nn(A.color),u.ctx.shadowOffsetX=A.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=A.offsetY.number*u.options.scale,u.ctx.shadowBlur=A.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,a)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=nn(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+a),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=nn(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+a)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}})}),[2]})})},A.prototype.renderReplacedElement=function(e,t,A){if(A&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var n=Ya(e),r=ka(t);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(A,0,0,e.intrinsicWidth,e.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(e){return n(this,void 0,void 0,function(){var t,n,s,o,a,l,c,u,d,h,f,g,p,m,w,y,B,v;return r(this,function(r){switch(r.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,n=e.curves,s=t.styles,o=0,a=t.textNodes,r.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,s)]):[3,4];case 2:r.sent(),r.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof Oi))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return w=r.sent(),this.renderReplacedElement(t,n,w),[3,8];case 7:return r.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Ri&&this.renderReplacedElement(t,n,t.canvas),!(t instanceof Pi))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return w=r.sent(),this.renderReplacedElement(t,n,w),[3,12];case 11:return r.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof eo&&t.tree?[4,new A(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=r.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),r.label=14;case 14:if(t instanceof Yi&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===Wi?t.checked&&(this.ctx.save(),this.path([new ba(t.bounds.left+.39363*u,t.bounds.top+.79*u),new ba(t.bounds.left+.16*u,t.bounds.top+.5549*u),new ba(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new ba(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new ba(t.bounds.left+.72983*u,t.bounds.top+.23*u),new ba(t.bounds.left+.84*u,t.bounds.top+.34085*u),new ba(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=nn(Ji),this.ctx.fill(),this.ctx.restore()):t.type===qi&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=nn(Ji),this.ctx.fill(),this.ctx.restore())),dl(t)&&t.value.length){switch(d=this.createFontStyle(s),B=d[0],h=d[1],f=this.fontMetrics.getMetrics(B,h).baseline,this.ctx.font=B,this.ctx.fillStyle=nn(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fl(t.styles.textAlign),v=Ya(t),g=0,t.styles.textAlign){case 1:g+=v.width/2;break;case 2:g+=v.width}p=v.add(g,0,0,-v.height/2+1),this.ctx.save(),this.path([new ba(v.left,v.top),new ba(v.left+v.width,v.top),new ba(v.left+v.width,v.top+v.height),new ba(v.left,v.top+v.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ei(t.value,p),s.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!rs(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];w=void 0,y=m.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return w=r.sent(),this.ctx.drawImage(w,t.bounds.left-(w.width+10),t.bounds.top),[3,18];case 17:return r.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(B=this.createFontStyle(s)[0],this.ctx.font=B,this.ctx.fillStyle=nn(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",v=new i(t.bounds.left,t.bounds.top+zA(t.styles.paddingTop,t.bounds.width),t.bounds.width,vr(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ei(e.listValue,v),s.letterSpacing,vr(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}})})},A.prototype.renderStackContent=function(e){return n(this,void 0,void 0,function(){var t,A,n,s,i,o,a,l,c,u,d,h,f,g,p;return r(this,function(r){switch(r.label){case 0:return rs(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:r.sent(),t=0,A=e.negativeZIndex,r.label=2;case 2:return t<A.length?(p=A[t],[4,this.renderStack(p)]):[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:r.sent(),n=0,s=e.nonInlineLevel,r.label=7;case 7:return n<s.length?(p=s[n],[4,this.renderNode(p)]):[3,10];case 8:r.sent(),r.label=9;case 9:return n++,[3,7];case 10:i=0,o=e.nonPositionedFloats,r.label=11;case 11:return i<o.length?(p=o[i],[4,this.renderStack(p)]):[3,14];case 12:r.sent(),r.label=13;case 13:return i++,[3,11];case 14:a=0,l=e.nonPositionedInlineLevel,r.label=15;case 15:return a<l.length?(p=l[a],[4,this.renderStack(p)]):[3,18];case 16:r.sent(),r.label=17;case 17:return a++,[3,15];case 18:c=0,u=e.inlineLevel,r.label=19;case 19:return c<u.length?(p=u[c],[4,this.renderNode(p)]):[3,22];case 20:r.sent(),r.label=21;case 21:return c++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return d<h.length?(p=h[d],[4,this.renderStack(p)]):[3,26];case 24:r.sent(),r.label=25;case 25:return d++,[3,23];case 26:f=0,g=e.positiveZIndex,r.label=27;case 27:return f<g.length?(p=g[f],[4,this.renderStack(p)]):[3,30];case 28:r.sent(),r.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},A.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},A.prototype.formatPath=function(e){var t=this;e.forEach(function(e,A){var n=Ea(e)?e.start:e;0===A?t.ctx.moveTo(n.x,n.y):t.ctx.lineTo(n.x,n.y),Ea(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},A.prototype.renderRepeat=function(e,t,A,n){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(A,n),this.ctx.fill(),this.ctx.translate(-A,-n)},A.prototype.resizeImage=function(e,t,A){var n;if(e.width===t&&e.height===A)return e;var r=(null!==(n=this.canvas.ownerDocument)&&void 0!==n?n:document).createElement("canvas");return r.width=Math.max(1,t),r.height=Math.max(1,A),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,A),r},A.prototype.renderBackgroundImage=function(e){return n(this,void 0,void 0,function(){var t,A,n,s,i,o;return r(this,function(a){switch(a.label){case 0:t=e.styles.backgroundImage.length-1,A=function(A){var s,i,o,a,l,c,u,d,h,f,g,p,m,w,y,B,v,b,C,x,E,U,Q,F,I,k,S,_,T,N,D;return r(this,function(r){switch(r.label){case 0:if(0!==A.type)return[3,5];s=void 0,i=A.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.context.cache.match(i)];case 2:return s=r.sent(),[3,4];case 3:return r.sent(),n.context.logger.error("Error loading background-image "+i),[3,4];case 4:return s&&(o=el(e,t,[s.width,s.height,s.width/s.height]),B=o[0],U=o[1],Q=o[2],C=o[3],x=o[4],w=n.ctx.createPattern(n.resizeImage(s,C,x),"repeat"),n.renderRepeat(B,w,U,Q)),[3,6];case 5:_n(A)?(a=el(e,t,[null,null,null]),B=a[0],U=a[1],Q=a[2],C=a[3],x=a[4],l=wn(A.angle,C,x),c=l[0],u=l[1],d=l[2],h=l[3],f=l[4],(g=document.createElement("canvas")).width=C,g.height=x,p=g.getContext("2d"),m=p.createLinearGradient(u,h,d,f),pn(A.stops,c).forEach(function(e){return m.addColorStop(e.stop,nn(e.color))}),p.fillStyle=m,p.fillRect(0,0,C,x),C>0&&x>0&&(w=n.ctx.createPattern(g,"repeat"),n.renderRepeat(B,w,U,Q))):Tn(A)&&(y=el(e,t,[null,null,null]),B=y[0],v=y[1],b=y[2],C=y[3],x=y[4],E=0===A.position.length?[KA]:A.position,U=zA(E[0],C),Q=zA(E[E.length-1],x),F=vn(A,U,Q,C,x),I=F[0],k=F[1],I>0&&k>0&&(S=n.ctx.createRadialGradient(v+U,b+Q,0,v+U,b+Q,I),pn(A.stops,2*I).forEach(function(e){return S.addColorStop(e.stop,nn(e.color))}),n.path(B),n.ctx.fillStyle=S,I!==k?(_=e.bounds.left+.5*e.bounds.width,T=e.bounds.top+.5*e.bounds.height,D=1/(N=k/I),n.ctx.save(),n.ctx.translate(_,T),n.ctx.transform(1,0,0,N,0,0),n.ctx.translate(-_,-T),n.ctx.fillRect(v,D*(b-T)+T,C,x*D),n.ctx.restore()):n.ctx.fill())),r.label=6;case 6:return t--,[2]}})},n=this,s=0,i=e.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return s<i.length?(o=i[s],[5,A(o)]):[3,4];case 2:a.sent(),a.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},A.prototype.renderSolidBorder=function(e,t,A){return n(this,void 0,void 0,function(){return r(this,function(n){return this.path(Va(A,t)),this.ctx.fillStyle=nn(e),this.ctx.fill(),[2]})})},A.prototype.renderDoubleBorder=function(e,t,A,s){return n(this,void 0,void 0,function(){var n,i;return r(this,function(r){switch(r.label){case 0:return t<3?[4,this.renderSolidBorder(e,A,s)]:[3,2];case 1:return r.sent(),[2];case 2:return n=Ga(s,A),this.path(n),this.ctx.fillStyle=nn(e),this.ctx.fill(),i=za(s,A),this.path(i),this.ctx.fill(),[2]}})})},A.prototype.renderNodeBackgroundAndBorders=function(e){return n(this,void 0,void 0,function(){var t,A,n,s,i,o,a,l,c=this;return r(this,function(r){switch(r.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,A=!An(t.backgroundColor)||t.backgroundImage.length,n=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],s=hl(rl(t.backgroundClip,0),e.curves),A||t.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),An(t.backgroundColor)||(this.ctx.fillStyle=nn(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){c.ctx.save();var A=Fa(e.curves),n=t.inset?0:cl,r=Oa(A,-n+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(A),c.ctx.clip(),c.mask(r)):(c.mask(A),c.ctx.clip(),c.path(r)),c.ctx.shadowOffsetX=t.offsetX.number+n,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=nn(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?nn(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),r.label=2;case 2:i=0,o=0,a=n,r.label=3;case 3:return o<a.length?0!==(l=a[o]).style&&!An(l.color)&&l.width>0?2!==l.style?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,i,e.curves,2)]:[3,11]:[3,13];case 4:return r.sent(),[3,11];case 5:return 3!==l.style?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,i,e.curves,3)];case 6:return r.sent(),[3,11];case 7:return 4!==l.style?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,i,e.curves)];case 8:return r.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,i,e.curves)];case 10:r.sent(),r.label=11;case 11:i++,r.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},A.prototype.renderDashedDottedBorder=function(e,t,A,s,i){return n(this,void 0,void 0,function(){var n,o,a,l,c,u,d,h,f,g,p,m,w,y,B,v;return r(this,function(r){return this.ctx.save(),n=Wa(s,A),o=Va(s,A),2===i&&(this.path(o),this.ctx.clip()),Ea(o[0])?(a=o[0].start.x,l=o[0].start.y):(a=o[0].x,l=o[0].y),Ea(o[1])?(c=o[1].end.x,u=o[1].end.y):(c=o[1].x,u=o[1].y),d=0===A||2===A?Math.abs(a-c):Math.abs(l-u),this.ctx.beginPath(),3===i?this.formatPath(n):this.formatPath(o.slice(0,2)),h=t<3?3*t:2*t,f=t<3?2*t:t,3===i&&(h=t,f=t),g=!0,d<=2*h?g=!1:d<=2*h+f?(h*=p=d/(2*h+f),f*=p):(m=Math.floor((d+f)/(h+f)),w=(d-m*h)/(m-1),f=(y=(d-(m+1)*h)/m)<=0||Math.abs(f-w)<Math.abs(f-y)?w:y),g&&(3===i?this.ctx.setLineDash([0,h+f]):this.ctx.setLineDash([h,f])),3===i?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=nn(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===i&&(Ea(o[0])&&(B=o[3],v=o[0],this.ctx.beginPath(),this.formatPath([new ba(B.end.x,B.end.y),new ba(v.start.x,v.start.y)]),this.ctx.stroke()),Ea(o[1])&&(B=o[1],v=o[2],this.ctx.beginPath(),this.formatPath([new ba(B.end.x,B.end.y),new ba(v.start.x,v.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},A.prototype.render=function(e){return n(this,void 0,void 0,function(){var t;return r(this,function(A){switch(A.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=nn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Ka(e),[4,this.renderStack(t)];case 1:return A.sent(),this.applyEffects([]),[2,this.canvas]}})})},A}(ll),dl=function(e){return e instanceof $i||e instanceof Zi||e instanceof Yi&&e.type!==qi&&e.type!==Wi},hl=function(e,t){switch(e){case 0:return Fa(t);case 2:return Ia(t);default:return ka(t)}},fl=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},gl=["-apple-system","system-ui"],pl=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===gl.indexOf(e)}):e},ml=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n.canvas=A.canvas?A.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=A,n.canvas.width=Math.floor(A.width*A.scale),n.canvas.height=Math.floor(A.height*A.scale),n.canvas.style.width=A.width+"px",n.canvas.style.height=A.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-A.x,-A.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+A.width+"x"+A.height+" at "+A.x+","+A.y+") with scale "+A.scale),n}return t(A,e),A.prototype.render=function(e){return n(this,void 0,void 0,function(){var t,A;return r(this,function(n){switch(n.label){case 0:return t=bi(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,wl(t)];case 1:return A=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=nn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(A,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},A}(ll),wl=function(e){return new Promise(function(t,A){var n=new Image;n.onload=function(){t(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},yl=function(){function e(e){var t=e.id,A=e.enabled;this.id=t,this.enabled=A,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,s([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Bl=function(){function e(t,A){var n;this.windowBounds=A,this.instanceName="#"+e.instanceCount++,this.logger=new yl({id:this.instanceName,enabled:t.logging}),this.cache=null!==(n=t.cache)&&void 0!==n?n:new ha(this,t)}return e.instanceCount=1,e}(),vl=function(e,t){return void 0===t&&(t={}),bl(e,t)};"undefined"!==typeof window&&da.setContext(window);var bl=function(e,t){return n(void 0,void 0,void 0,function(){var n,s,l,c,u,d,h,f,g,p,m,w,y,B,v,b,C,x,E,U,Q,F,I,k,S,_,T,N,D,L,H,O,R,P,M,j,K,V;return r(this,function(r){switch(r.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(n=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=n.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(F=t.allowTaint)&&void 0!==F&&F,imageTimeout:null!==(I=t.imageTimeout)&&void 0!==I?I:15e3,proxy:t.proxy,useCORS:null!==(k=t.useCORS)&&void 0!==k&&k},c=A({logging:null===(S=t.logging)||void 0===S||S,cache:t.cache},l),u={windowWidth:null!==(_=t.windowWidth)&&void 0!==_?_:s.innerWidth,windowHeight:null!==(T=t.windowHeight)&&void 0!==T?T:s.innerHeight,scrollX:null!==(N=t.scrollX)&&void 0!==N?N:s.pageXOffset,scrollY:null!==(D=t.scrollY)&&void 0!==D?D:s.pageYOffset},d=new i(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),h=new Bl(c,d),f=null!==(L=t.foreignObjectRendering)&&void 0!==L&&L,g={allowTaint:null!==(H=t.allowTaint)&&void 0!==H&&H,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),p=new qo(h,e,g),(m=p.clonedReferenceElement)?[4,p.toIFrame(n,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=r.sent(),y=mo(m)||go(m)?a(m.ownerDocument):o(h,m),B=y.width,v=y.height,b=y.left,C=y.top,x=Cl(h,m,t.backgroundColor),E={canvas:t.canvas,backgroundColor:x,scale:null!==(R=null!==(O=t.scale)&&void 0!==O?O:s.devicePixelRatio)&&void 0!==R?R:1,x:(null!==(P=t.x)&&void 0!==P?P:0)+b,y:(null!==(M=t.y)&&void 0!==M?M:0)+C,width:null!==(j=t.width)&&void 0!==j?j:Math.ceil(B),height:null!==(K=t.height)&&void 0!==K?K:Math.ceil(v)},f?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new ml(h,E).render(m)]):[3,3];case 2:return U=r.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+b+","+C+" with size "+B+"x"+v+" using computed rendering"),h.logger.debug("Starting DOM parsing"),Q=ro(h,m),x===Q.styles.backgroundColor&&(Q.styles.backgroundColor=dn.TRANSPARENT),h.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),[4,new ul(h,E).render(Q)];case 4:U=r.sent(),r.label=5;case 5:return(null===(V=t.removeContainer)||void 0===V||V)&&(qo.destroy(w)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,U]}})})},Cl=function(e,t,A){var n=t.ownerDocument,r=n.documentElement?un(e,getComputedStyle(n.documentElement).backgroundColor):dn.TRANSPARENT,s=n.body?un(e,getComputedStyle(n.body).backgroundColor):dn.TRANSPARENT,i="string"===typeof A?un(e,A):null===A?dn.TRANSPARENT:4294967295;return t===n.documentElement?An(r)?An(s)?i:s:r:i};return vl}()},5472:(e,t,A)=>{"use strict";A.d(t,{Dc:()=>q,gS:()=>ta,hq:()=>ia,rJ:()=>Oi,kd:()=>ea,H9:()=>Ri,x7:()=>Xo,GG:()=>Yo,aU:()=>Ki,AB:()=>Do,aQ:()=>Aa,My:()=>To,P:()=>Fo,O5:()=>sa,BN:()=>Zo,HM:()=>Ho,mZ:()=>$o,_M:()=>ko});var n,r,s=A(52),i=A(8812),o=A(443),a=A(7700),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},c={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function A(e,t,A){A||(A=0);var n=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)n[r]=t.charCodeAt(A++)|t.charCodeAt(A++)<<8|t.charCodeAt(A++)<<16|t.charCodeAt(A++)<<24;else for(r=0;16>r;++r)n[r]=t[A++]|t[A++]<<8|t[A++]<<16|t[A++]<<24;t=e.g[0],A=e.g[1],r=e.g[2];var s=e.g[3],i=t+(s^A&(r^s))+n[0]+3614090360&4294967295;i=(A=(r=(s=(t=(A=(r=(s=(t=(A=(r=(s=(t=(A=(r=(s=(t=(A=(r=(s=(t=(A=(r=(s=(t=(A=(r=(s=(t=(A=(r=(s=(t=(A=(r=(s=(t=(A=(r=(s=(t=(A=(r=(s=(t=(A=(r=(s=(t=(A=(r=(s=(t=(A=(r=(s=(t=(A=(r=(s=(t=A+(i<<7&4294967295|i>>>25))+((i=s+(r^t&(A^r))+n[1]+3905402710&4294967295)<<12&4294967295|i>>>20))+((i=r+(A^s&(t^A))+n[2]+606105819&4294967295)<<17&4294967295|i>>>15))+((i=A+(t^r&(s^t))+n[3]+3250441966&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^A&(r^s))+n[4]+4118548399&4294967295)<<7&4294967295|i>>>25))+((i=s+(r^t&(A^r))+n[5]+1200080426&4294967295)<<12&4294967295|i>>>20))+((i=r+(A^s&(t^A))+n[6]+2821735955&4294967295)<<17&4294967295|i>>>15))+((i=A+(t^r&(s^t))+n[7]+4249261313&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^A&(r^s))+n[8]+1770035416&4294967295)<<7&4294967295|i>>>25))+((i=s+(r^t&(A^r))+n[9]+2336552879&4294967295)<<12&4294967295|i>>>20))+((i=r+(A^s&(t^A))+n[10]+4294925233&4294967295)<<17&4294967295|i>>>15))+((i=A+(t^r&(s^t))+n[11]+2304563134&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^A&(r^s))+n[12]+1804603682&4294967295)<<7&4294967295|i>>>25))+((i=s+(r^t&(A^r))+n[13]+4254626195&4294967295)<<12&4294967295|i>>>20))+((i=r+(A^s&(t^A))+n[14]+2792965006&4294967295)<<17&4294967295|i>>>15))+((i=A+(t^r&(s^t))+n[15]+1236535329&4294967295)<<22&4294967295|i>>>10))+((i=t+(r^s&(A^r))+n[1]+4129170786&4294967295)<<5&4294967295|i>>>27))+((i=s+(A^r&(t^A))+n[6]+3225465664&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^A&(s^t))+n[11]+643717713&4294967295)<<14&4294967295|i>>>18))+((i=A+(s^t&(r^s))+n[0]+3921069994&4294967295)<<20&4294967295|i>>>12))+((i=t+(r^s&(A^r))+n[5]+3593408605&4294967295)<<5&4294967295|i>>>27))+((i=s+(A^r&(t^A))+n[10]+38016083&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^A&(s^t))+n[15]+3634488961&4294967295)<<14&4294967295|i>>>18))+((i=A+(s^t&(r^s))+n[4]+3889429448&4294967295)<<20&4294967295|i>>>12))+((i=t+(r^s&(A^r))+n[9]+568446438&4294967295)<<5&4294967295|i>>>27))+((i=s+(A^r&(t^A))+n[14]+3275163606&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^A&(s^t))+n[3]+4107603335&4294967295)<<14&4294967295|i>>>18))+((i=A+(s^t&(r^s))+n[8]+1163531501&4294967295)<<20&4294967295|i>>>12))+((i=t+(r^s&(A^r))+n[13]+2850285829&4294967295)<<5&4294967295|i>>>27))+((i=s+(A^r&(t^A))+n[2]+4243563512&4294967295)<<9&4294967295|i>>>23))+((i=r+(t^A&(s^t))+n[7]+1735328473&4294967295)<<14&4294967295|i>>>18))+((i=A+(s^t&(r^s))+n[12]+2368359562&4294967295)<<20&4294967295|i>>>12))+((i=t+(A^r^s)+n[5]+4294588738&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^A^r)+n[8]+2272392833&4294967295)<<11&4294967295|i>>>21))+((i=r+(s^t^A)+n[11]+1839030562&4294967295)<<16&4294967295|i>>>16))+((i=A+(r^s^t)+n[14]+4259657740&4294967295)<<23&4294967295|i>>>9))+((i=t+(A^r^s)+n[1]+2763975236&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^A^r)+n[4]+1272893353&4294967295)<<11&4294967295|i>>>21))+((i=r+(s^t^A)+n[7]+4139469664&4294967295)<<16&4294967295|i>>>16))+((i=A+(r^s^t)+n[10]+3200236656&4294967295)<<23&4294967295|i>>>9))+((i=t+(A^r^s)+n[13]+681279174&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^A^r)+n[0]+3936430074&4294967295)<<11&4294967295|i>>>21))+((i=r+(s^t^A)+n[3]+3572445317&4294967295)<<16&4294967295|i>>>16))+((i=A+(r^s^t)+n[6]+76029189&4294967295)<<23&4294967295|i>>>9))+((i=t+(A^r^s)+n[9]+3654602809&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^A^r)+n[12]+3873151461&4294967295)<<11&4294967295|i>>>21))+((i=r+(s^t^A)+n[15]+530742520&4294967295)<<16&4294967295|i>>>16))+((i=A+(r^s^t)+n[2]+3299628645&4294967295)<<23&4294967295|i>>>9))+((i=t+(r^(A|~s))+n[0]+4096336452&4294967295)<<6&4294967295|i>>>26))+((i=s+(A^(t|~r))+n[7]+1126891415&4294967295)<<10&4294967295|i>>>22))+((i=r+(t^(s|~A))+n[14]+2878612391&4294967295)<<15&4294967295|i>>>17))+((i=A+(s^(r|~t))+n[5]+4237533241&4294967295)<<21&4294967295|i>>>11))+((i=t+(r^(A|~s))+n[12]+1700485571&4294967295)<<6&4294967295|i>>>26))+((i=s+(A^(t|~r))+n[3]+2399980690&4294967295)<<10&4294967295|i>>>22))+((i=r+(t^(s|~A))+n[10]+4293915773&4294967295)<<15&4294967295|i>>>17))+((i=A+(s^(r|~t))+n[1]+2240044497&4294967295)<<21&4294967295|i>>>11))+((i=t+(r^(A|~s))+n[8]+1873313359&4294967295)<<6&4294967295|i>>>26))+((i=s+(A^(t|~r))+n[15]+4264355552&4294967295)<<10&4294967295|i>>>22))+((i=r+(t^(s|~A))+n[6]+2734768916&4294967295)<<15&4294967295|i>>>17))+((i=A+(s^(r|~t))+n[13]+1309151649&4294967295)<<21&4294967295|i>>>11))+((s=(t=A+((i=t+(r^(A|~s))+n[4]+4149444226&4294967295)<<6&4294967295|i>>>26))+((i=s+(A^(t|~r))+n[11]+3174756917&4294967295)<<10&4294967295|i>>>22))^((r=s+((i=r+(t^(s|~A))+n[2]+718787259&4294967295)<<15&4294967295|i>>>17))|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+s&4294967295}function s(e,t){this.h=t;for(var A=[],n=!0,r=e.length-1;0<=r;r--){var s=0|e[r];n&&s==t||(A[r]=s,n=!1)}this.g=A}!function(e,t){function A(){}A.prototype=t.prototype,e.D=t.prototype,e.prototype=new A,e.prototype.constructor=e,e.C=function(e,A,n){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[A].apply(e,r)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.B,s=this.h,i=0;i<t;){if(0==s)for(;i<=n;)A(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){A(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){A(this,r),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var A=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&A,A/=256;for(this.u(e),e=Array(16),t=A=0;4>t;++t)for(var n=0;32>n;n+=8)e[A++]=this.g[t]>>>n&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var A=i;return Object.prototype.hasOwnProperty.call(A,e)?A[e]:A[e]=t(e)}(e,function(e){return new s([0|e],0>e?-1:0)}):new s([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return l;if(0>e)return g(a(-e));for(var t=[],A=1,n=0;e>=A;n++)t[n]=e/A|0,A*=4294967296;return new s(t,0)}var l=o(0),u=o(1),d=o(16777216);function h(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return-1==e.h}function g(e){for(var t=e.g.length,A=[],n=0;n<t;n++)A[n]=~e.g[n];return new s(A,~e.h).add(u)}function p(e,t){return e.add(g(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function w(e,t){this.g=e,this.h=t}function y(e,t){if(h(t))throw Error("division by zero");if(h(e))return new w(l,l);if(f(e))return t=y(g(e),t),new w(g(t.g),g(t.h));if(f(t))return t=y(e,g(t)),new w(g(t.g),t.h);if(30<e.g.length){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var A=u,n=t;0>=n.l(e);)A=B(A),n=B(n);var r=v(A,1),s=v(n,1);for(n=v(n,2),A=v(A,2);!h(n);){var i=s.add(n);0>=i.l(e)&&(r=r.add(A),s=i),n=v(n,1),A=v(A,1)}return t=p(e,r.j(t)),new w(r,t)}for(r=l;0<=e.l(t);){for(A=Math.max(1,Math.floor(e.m()/t.m())),n=48>=(n=Math.ceil(Math.log(A)/Math.LN2))?1:Math.pow(2,n-48),i=(s=a(A)).j(t);f(i)||0<i.l(e);)i=(s=a(A-=n)).j(t);h(s)&&(s=u),r=r.add(s),e=p(e,i)}return new w(r,e)}function B(e){for(var t=e.g.length+1,A=[],n=0;n<t;n++)A[n]=e.i(n)<<1|e.i(n-1)>>>31;return new s(A,e.h)}function v(e,t){var A=t>>5;t%=32;for(var n=e.g.length-A,r=[],i=0;i<n;i++)r[i]=0<t?e.i(i+A)>>>t|e.i(i+A+1)<<32-t:e.i(i+A);return new s(r,e.h)}(e=s.prototype).m=function(){if(f(this))return-g(this).m();for(var e=0,t=1,A=0;A<this.g.length;A++){var n=this.i(A);e+=(0<=n?n:4294967296+n)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(h(this))return"0";if(f(this))return"-"+g(this).toString(e);for(var t=a(Math.pow(e,6)),A=this,n="";;){var r=y(A,t).g,s=((0<(A=p(A,r.j(t))).g.length?A.g[0]:A.h)>>>0).toString(e);if(h(A=r))return s+n;for(;6>s.length;)s="0"+s;n=s+n}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return f(e=p(this,e))?-1:h(e)?0:1},e.abs=function(){return f(this)?g(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),A=[],n=0,r=0;r<=t;r++){var i=n+(65535&this.i(r))+(65535&e.i(r)),o=(i>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);n=o>>>16,i&=65535,o&=65535,A[r]=o<<16|i}return new s(A,-2147483648&A[A.length-1]?-1:0)},e.j=function(e){if(h(this)||h(e))return l;if(f(this))return f(e)?g(this).j(g(e)):g(g(this).j(e));if(f(e))return g(this.j(g(e)));if(0>this.l(d)&&0>e.l(d))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,A=[],n=0;n<2*t;n++)A[n]=0;for(n=0;n<this.g.length;n++)for(var r=0;r<e.g.length;r++){var i=this.i(n)>>>16,o=65535&this.i(n),c=e.i(r)>>>16,u=65535&e.i(r);A[2*n+2*r]+=o*u,m(A,2*n+2*r),A[2*n+2*r+1]+=i*u,m(A,2*n+2*r+1),A[2*n+2*r+1]+=o*c,m(A,2*n+2*r+1),A[2*n+2*r+2]+=i*c,m(A,2*n+2*r+2)}for(n=0;n<t;n++)A[n]=A[2*n+1]<<16|A[2*n];for(n=t;n<2*t;n++)A[n]=0;return new s(A,0)},e.A=function(e){return y(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),A=[],n=0;n<t;n++)A[n]=this.i(n)&e.i(n);return new s(A,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),A=[],n=0;n<t;n++)A[n]=this.i(n)|e.i(n);return new s(A,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),A=[],n=0;n<t;n++)A[n]=this.i(n)^e.i(n);return new s(A,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,r=c.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=a,s.fromString=function e(t,A){if(0==t.length)throw Error("number format error: empty string");if(2>(A=A||10)||36<A)throw Error("radix out of range: "+A);if("-"==t.charAt(0))return g(e(t.substring(1),A));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=a(Math.pow(A,8)),r=l,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),A);8>i?(i=a(Math.pow(A,i)),r=r.j(i).add(a(o))):r=(r=r.j(n)).add(a(o))}return r},n=c.Integer=s}).apply("undefined"!==typeof l?l:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var u,d,h,f,g,p,m,w,y="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},B={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,A){return e==Array.prototype||e==Object.prototype||(e[t]=A.value),e};var A=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof y&&y];for(var t=0;t<e.length;++t){var A=e[t];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}(this);!function(e,n){if(n)e:{var r=A;e=e.split(".");for(var s=0;s<e.length-1;s++){var i=e[s];if(!(i in r))break e;r=r[i]}(n=n(s=r[e=e[e.length-1]]))!=s&&null!=n&&t(r,e,{configurable:!0,writable:!0,value:n})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var A=0,n=!1,r={next:function(){if(!n&&A<e.length){var r=A++;return{value:t(r,e[r]),done:!1}}return n=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,function(e,t){return t})}});var n=n||{},r=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function i(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,A){return e.call.apply(e.bind,arguments)}function a(e,t,A){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,n),e.apply(t,A)}}return function(){return e.apply(t,arguments)}}function l(e,t,A){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:a).apply(null,arguments)}function c(e,t){var A=Array.prototype.slice.call(arguments,1);return function(){var t=A.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function b(e,t){function A(){}A.prototype=t.prototype,e.aa=t.prototype,e.prototype=new A,e.prototype.constructor=e,e.Qb=function(e,A,n){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[A].apply(e,r)}}function C(e){const t=e.length;if(0<t){const A=Array(t);for(let n=0;n<t;n++)A[n]=e[n];return A}return[]}function E(e,t){for(let A=1;A<arguments.length;A++){const t=arguments[A];if(s(t)){const A=e.length||0,n=t.length||0;e.length=A+n;for(let r=0;r<n;r++)e[A+r]=t[r]}else e.push(t)}}function U(e){return/^[\s\xa0]*$/.test(e)}function Q(){var e=r.navigator;return e&&(e=e.userAgent)?e:""}function F(e){return F[" "](e),e}F[" "]=function(){};var I=-1!=Q().indexOf("Gecko")&&!(-1!=Q().toLowerCase().indexOf("webkit")&&-1==Q().indexOf("Edge"))&&!(-1!=Q().indexOf("Trident")||-1!=Q().indexOf("MSIE"))&&-1==Q().indexOf("Edge");function k(e,t,A){for(const n in e)t.call(A,e[n],n,e)}function S(e){const t={};for(const A in e)t[A]=e[A];return t}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(e,t){let A,n;for(let r=1;r<arguments.length;r++){for(A in n=arguments[r],n)e[A]=n[A];for(let t=0;t<_.length;t++)A=_[t],Object.prototype.hasOwnProperty.call(n,A)&&(e[A]=n[A])}}function N(e){var t=1;e=e.split(":");const A=[];for(;0<t&&e.length;)A.push(e.shift()),t--;return e.length&&A.push(e.join(":")),A}function D(e){r.setTimeout(()=>{throw e},0)}function L(){var e=M;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var H=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new O,e=>e.reset());class O{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let R,P=!1,M=new class{constructor(){this.h=this.g=null}add(e,t){const A=H.get();A.set(e,t),this.h?this.h.next=A:this.g=A,this.h=A}},j=()=>{const e=r.Promise.resolve(void 0);R=()=>{e.then(K)}};var K=()=>{for(var e;e=L();){try{e.h.call(e.g)}catch(A){D(A)}var t=H;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}P=!1};function V(){this.s=this.s,this.C=this.C}function G(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},G.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};r.addEventListener("test",e,t),r.removeEventListener("test",e,t)}catch(A){}return e}();function W(e,t){if(G.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var A=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(I){e:{try{F(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==A?t=e.fromElement:"mouseout"==A&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&W.aa.h.call(this)}}b(W,G);var q={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),J=0;function Y(e,t,A,n,r){this.listener=e,this.proxy=null,this.src=t,this.type=A,this.capture=!!n,this.ha=r,this.key=++J,this.da=this.fa=!1}function Z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function ee(e,t){var A=t.type;if(A in e.g){var n,r=e.g[A],s=Array.prototype.indexOf.call(r,t,void 0);(n=0<=s)&&Array.prototype.splice.call(r,s,1),n&&(Z(t),0==e.g[A].length&&(delete e.g[A],e.h--))}}function te(e,t,A,n){for(var r=0;r<e.length;++r){var s=e[r];if(!s.da&&s.listener==t&&s.capture==!!A&&s.ha==n)return r}return-1}$.prototype.add=function(e,t,A,n,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var i=te(e,t,n,r);return-1<i?(t=e[i],A||(t.fa=!1)):((t=new Y(t,this.src,s,!!n,r)).fa=A,e.push(t)),t};var Ae="closure_lm_"+(1e6*Math.random()|0),ne={};function re(e,t,A,n,r){if(n&&n.once)return ie(e,t,A,n,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)re(e,t[s],A,n,r);return null}return A=he(A),e&&e[X]?e.K(t,A,i(n)?!!n.capture:!!n,r):se(e,t,A,!1,n,r)}function se(e,t,A,n,r,s){if(!t)throw Error("Invalid event type");var o=i(r)?!!r.capture:!!r,a=ue(e);if(a||(e[Ae]=a=new $(e)),(A=a.add(t,A,n,o,s)).proxy)return A;if(n=function(){function e(A){return t.call(e.src,e.listener,A)}const t=ce;return e}(),A.proxy=n,n.src=e,n.listener=A,e.addEventListener)z||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),n,r);else if(e.attachEvent)e.attachEvent(le(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}return A}function ie(e,t,A,n,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ie(e,t[s],A,n,r);return null}return A=he(A),e&&e[X]?e.L(t,A,i(n)?!!n.capture:!!n,r):se(e,t,A,!0,n,r)}function oe(e,t,A,n,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)oe(e,t[s],A,n,r);else n=i(n)?!!n.capture:!!n,A=he(A),e&&e[X]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(A=te(s=e.g[t],A,n,r))&&(Z(s[A]),Array.prototype.splice.call(s,A,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ue(e))&&(t=e.g[t.toString()],e=-1,t&&(e=te(t,A,n,r)),(A=-1<e?t[e]:null)&&ae(A))}function ae(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[X])ee(t.i,e);else{var A=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(A,n,e.capture):t.detachEvent?t.detachEvent(le(A),n):t.addListener&&t.removeListener&&t.removeListener(n),(A=ue(t))?(ee(A,e),0==A.h&&(A.src=null,t[Ae]=null)):Z(e)}}}function le(e){return e in ne?ne[e]:ne[e]="on"+e}function ce(e,t){if(e.da)e=!0;else{t=new W(t,this);var A=e.listener,n=e.ha||e.src;e.fa&&ae(e),e=A.call(n,t)}return e}function ue(e){return(e=e[Ae])instanceof $?e:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(e){return"function"===typeof e?e:(e[de]||(e[de]=function(t){return e.handleEvent(t)}),e[de])}function fe(){V.call(this),this.i=new $(this),this.M=this,this.F=null}function ge(e,t){var A,n=e.F;if(n)for(A=[];n;n=n.F)A.push(n);if(e=e.M,n=t.type||t,"string"===typeof t)t=new G(t,e);else if(t instanceof G)t.target=t.target||e;else{var r=t;T(t=new G(n,e),r)}if(r=!0,A)for(var s=A.length-1;0<=s;s--){var i=t.g=A[s];r=pe(i,n,!0,t)&&r}if(r=pe(i=t.g=e,n,!0,t)&&r,r=pe(i,n,!1,t)&&r,A)for(s=0;s<A.length;s++)r=pe(i=t.g=A[s],n,!1,t)&&r}function pe(e,t,A,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var i=t[s];if(i&&!i.da&&i.capture==A){var o=i.listener,a=i.ha||i.src;i.fa&&ee(e.i,i),r=!1!==o.call(a,n)&&r}}return r&&!n.defaultPrevented}function me(e,t,A){if("function"===typeof e)A&&(e=l(e,A));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)}function we(e){e.g=me(()=>{e.g=null,e.i&&(e.i=!1,we(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}b(fe,V),fe.prototype[X]=!0,fe.prototype.removeEventListener=function(e,t,A,n){oe(this,e,t,A,n)},fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var A=t.g[e],n=0;n<A.length;n++)Z(A[n]);delete t.g[e],t.h--}}this.F=null},fe.prototype.K=function(e,t,A,n){return this.i.add(String(e),t,!1,A,n)},fe.prototype.L=function(e,t,A,n){return this.i.add(String(e),t,!0,A,n)};class ye extends V{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:we(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(e){V.call(this),this.h=e,this.g={}}b(Be,V);var ve=[];function be(e){k(e.g,function(e,t){this.g.hasOwnProperty(t)&&ae(e)},e),e.g={}}Be.prototype.N=function(){Be.aa.N.call(this),be(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=r.JSON.stringify,xe=r.JSON.parse,Ee=class{stringify(e){return r.JSON.stringify(e,void 0)}parse(e){return r.JSON.parse(e,void 0)}};function Ue(){}function Qe(e){return e.h||(e.h=e.i())}function Fe(){}Ue.prototype.h=null;var Ie={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ke(){G.call(this,"d")}function Se(){G.call(this,"c")}b(ke,G),b(Se,G);var _e={},Te=null;function Ne(){return Te=Te||new fe}function De(e){G.call(this,_e.La,e)}function Le(e){const t=Ne();ge(t,new De(t))}function He(e,t){G.call(this,_e.STAT_EVENT,e),this.stat=t}function Oe(e){const t=Ne();ge(t,new He(t,e))}function Re(e,t){G.call(this,_e.Ma,e),this.size=t}function Pe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return r.setTimeout(function(){e()},t)}function Me(){this.g=!0}function je(e,t,A,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var A=JSON.parse(t);if(A)for(e=0;e<A.length;e++)if(Array.isArray(A[e])){var n=A[e];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var i=1;i<r.length;i++)r[i]=""}}}return Ce(A)}catch(o){return t}}(e,A)+(n?" "+n:"")})}_e.La="serverreachability",b(De,G),_e.STAT_EVENT="statevent",b(He,G),_e.Ma="timingevent",b(Re,G),Me.prototype.xa=function(){this.g=!1},Me.prototype.info=function(){};var Ke,Ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ze(){}function We(e,t,A,n){this.j=e,this.i=t,this.l=A,this.R=n||1,this.U=new Be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}b(ze,Ue),ze.prototype.g=function(){return new XMLHttpRequest},ze.prototype.i=function(){return{}},Ke=new ze;var Xe={},Je={};function Ye(e,t,A){e.L=1,e.v=Ct(wt(t)),e.m=A,e.P=!0,Ze(e,null)}function Ze(e,t){e.F=Date.now(),tt(e),e.A=wt(e.v);var A=e.A,n=e.R;Array.isArray(n)||(n=[String(n)]),Ht(A.i,"t",n),e.C=0,A=e.j.J,e.h=new qe,e.g=xA(e.j,A?t:null,!e.m),0<e.O&&(e.M=new ye(l(e.Y,e,e.g),e.O)),t=e.U,A=e.g,n=e.ca;var r="readystatechange";Array.isArray(r)||(r&&(ve[0]=r.toString()),r=ve);for(var s=0;s<r.length;s++){var i=re(A,r[s],n||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}t=e.H?S(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Le(),function(e,t,A,n,r,s){e.info(function(){if(e.g)if(s)for(var i="",o=s.split("&"),a=0;a<o.length;a++){var l=o[a].split("=");if(1<l.length){var c=l[0];l=l[1];var u=c.split("_");i=2<=u.length&&"type"==u[1]?i+(c+"=")+l+"&":i+(c+"=redacted&")}}else i=null;else i=s;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+t+"\n"+A+"\n"+i})}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function et(e,t){var A=e.C,n=t.indexOf("\n",A);return-1==n?Je:(A=Number(t.substring(A,n)),isNaN(A)?Xe:(n+=1)+A>t.length?Je:(t=t.slice(n,n+A),e.C=n+A,t))}function tt(e){e.S=Date.now()+e.I,At(e,e.I)}function At(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Pe(l(e.ba,e),t)}function nt(e){e.B&&(r.clearTimeout(e.B),e.B=null)}function rt(e){0==e.j.G||e.J||yA(e.j,e)}function st(e){nt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,be(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var A=e.j;if(0!=A.G&&(A.g==e||ut(A.h,e)))if(!e.K&&ut(A.h,e)&&3==A.G){try{var n=A.Da.g.parse(t)}catch(c){n=null}if(Array.isArray(n)&&3==n.length){var r=n;if(0==r[0]){e:if(!A.u){if(A.g){if(!(A.g.F+3e3<e.F))break e;wA(A),aA(A)}gA(A),Oe(18)}}else A.za=r[1],0<A.za-A.T&&37500>r[2]&&A.F&&0==A.v&&!A.C&&(A.C=Pe(l(A.Za,A),6e3));if(1>=ct(A.h)&&A.ca){try{A.ca()}catch(c){}A.ca=void 0}}else vA(A,11)}else if((e.K||A.g==e)&&wA(A),!U(t))for(r=A.Da.g.parse(t),t=0;t<r.length;t++){let l=r[t];if(A.T=l[0],l=l[1],2==A.G)if("c"==l[0]){A.K=l[1],A.ia=l[2];const t=l[3];null!=t&&(A.la=t,A.j.info("VER="+A.la));const r=l[4];null!=r&&(A.Aa=r,A.j.info("SVER="+A.Aa));const c=l[5];null!=c&&"number"===typeof c&&0<c&&(n=1.5*c,A.L=n,A.j.info("backChannelRequestTimeoutMs_="+n)),n=A;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=n.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(dt(s,s.h),s.h=null))}if(n.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.ya=e,bt(n.I,n.D,e))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-e.F,A.j.info("Handshake RTT: "+A.R+"ms"));var i=e;if((n=A).qa=CA(n,n.J?n.ia:null,n.W),i.K){ht(n.h,i);var o=i,a=n.L;a&&(o.I=a),o.B&&(nt(o),tt(o)),n.g=i}else fA(n);0<A.i.length&&cA(A)}else"stop"!=l[0]&&"close"!=l[0]||vA(A,7);else 3==A.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?vA(A,7):oA(A):"noop"!=l[0]&&A.l&&A.l.ta(l),A.v=0)}Le()}catch(c){}}We.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==nA(e)?t.j():this.Y(e)},We.prototype.Y=function(e){try{if(e==this.g)e:{const d=nA(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||rA(this.g)))){this.J||4!=d||7==t||Le(),nt(this);var A=this.g.Z();this.X=A;t:if($e(this)){var n=rA(this.g);e="";var s=n.length,i=4==nA(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){st(this),rt(this);var o="";break t}this.h.i=new r.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:!(i&&t==s-1)});n.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==A,function(e,t,A,n,r,s,i){e.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+t+"\n"+A+"\n"+s+" "+i})}(this.i,this.u,this.A,this.l,this.R,d,A),this.o){if(this.T&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(a)){var c=a;break t}}c=null}if(!(A=c)){this.o=!1,this.s=3,Oe(12),st(this),rt(this);break e}je(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,A)}if(this.P){let e;for(A=!0;!this.J&&this.C<o.length;){if(e=et(this,o),e==Je){4==d&&(this.s=4,Oe(14),A=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Xe){this.s=4,Oe(15),je(this.i,this.l,o,"[Invalid Chunk]"),A=!1;break}je(this.i,this.l,e,null),it(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,Oe(16),A=!1),this.o=this.o&&A,A){if(0<o.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),pA(u),u.M=!0,Oe(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),st(this),rt(this)}else je(this.i,this.l,o,null),it(this,o);4==d&&st(this),this.o&&!this.J&&(4==d?yA(this.j,this):(this.o=!1,tt(this)))}else(function(e){const t={};e=(e.g&&2<=nA(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(U(e[n]))continue;var A=N(e[n]);const r=A[0];if("string"!==typeof(A=A[1]))continue;A=A.trim();const s=t[r]||[];t[r]=s,s.push(A)}!function(e,t){for(const A in e)t.call(void 0,e[A],A,e)}(t,function(e){return e.join(", ")})})(this.g),400==A&&0<o.indexOf("Unknown SID")?(this.s=3,Oe(12)):(this.s=0,Oe(13)),st(this),rt(this)}}}catch(v){}},We.prototype.cancel=function(){this.J=!0,st(this)},We.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Le(),Oe(17)),st(this),this.s=2,rt(this)):At(this,this.S-e)};var ot=class{constructor(e,t){this.g=e,this.map=t}};function at(e){this.l=e||10,r.PerformanceNavigationTiming?e=0<(e=r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ct(e){return e.h?1:e.g?e.g.size:0}function ut(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dt(e,t){e.g?e.g.add(t):e.h=t}function ht(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ft(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const A of e.g.values())t=t.concat(A.D);return t}return C(e.i)}function gt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var A=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var A=0;A<e;A++)t.push(A);return t}t=[],A=0;for(const n in e)t[A++]=n;return t}}}(e),n=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],A=e.length,n=0;n<A;n++)t.push(e[n]);return t}for(n in t=[],A=0,e)t[A++]=e[n];return t}(e),r=n.length,i=0;i<r;i++)t.call(void 0,n[i],A&&A[i],e)}at.prototype.cancel=function(){if(this.i=ft(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof mt){this.h=e.h,yt(this,e.j),this.o=e.o,this.g=e.g,Bt(this,e.s),this.l=e.l;var t=e.i,A=new Tt;A.i=t.i,t.g&&(A.g=new Map(t.g),A.h=t.h),vt(this,A),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,yt(this,t[1]||"",!0),this.o=xt(t[2]||""),this.g=xt(t[3]||"",!0),Bt(this,t[4]),this.l=xt(t[5]||"",!0),vt(this,t[6]||"",!0),this.m=xt(t[7]||"")):(this.h=!1,this.i=new Tt(null,this.h))}function wt(e){return new mt(e)}function yt(e,t,A){e.j=A?xt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function vt(e,t,A){t instanceof Tt?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach(function(e,t){var A=t.toLowerCase();t!=A&&(Dt(this,t),Ht(this,A,e))},e)),e.j=t}(e.i,e.h)):(A||(t=Et(t,St)),e.i=new Tt(t,e.h))}function bt(e,t,A){e.i.set(t,A)}function Ct(e){return bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Et(e,t,A){return"string"===typeof e?(e=encodeURI(e).replace(t,Ut),A&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ut(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Et(t,Ft,!0),":");var A=this.g;return(A||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(Et(t,Ft,!0),"@"),e.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(A=this.s)&&e.push(":",String(A))),(A=this.l)&&(this.g&&"/"!=A.charAt(0)&&e.push("/"),e.push(Et(A,"/"==A.charAt(0)?kt:It,!0))),(A=this.i.toString())&&e.push("?",A),(A=this.m)&&e.push("#",Et(A,_t)),e.join("")};var Qt,Ft=/[#\/\?@]/g,It=/[#\?:]/g,kt=/[#\?]/g,St=/[#\?@]/g,_t=/#/g;function Tt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var A=0;A<e.length;A++){var n=e[A].indexOf("="),r=null;if(0<=n){var s=e[A].substring(0,n);r=e[A].substring(n+1)}else s=e[A];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,function(t,A){e.add(decodeURIComponent(t.replace(/\+/g," ")),A)}))}function Dt(e,t){Nt(e),t=Ot(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Lt(e,t){return Nt(e),t=Ot(e,t),e.g.has(t)}function Ht(e,t,A){Dt(e,t),0<A.length&&(e.i=null,e.g.set(Ot(e,t),C(A)),e.h+=A.length)}function Ot(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Rt(e,t,A,n,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),n(A)}catch(s){}}function Pt(){this.g=new Ee}function Mt(e,t,A){const n=A||"";try{gt(e,function(e,A){let r=e;i(e)&&(r=Ce(e)),t.push(n+A+"="+encodeURIComponent(r))})}catch(r){throw t.push(n+"type="+encodeURIComponent("_badmap")),r}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Kt(e,t){fe.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Vt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Gt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,zt(e)}function zt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Wt(e){let t="";return k(e,function(e,A){t+=A,t+=":",t+=e,t+="\r\n"}),t}function qt(e,t,A){e:{for(n in A){var n=!1;break e}n=!0}n||(A=Wt(A),"string"===typeof e?null!=A&&encodeURIComponent(String(A)):bt(e,t,A))}function Xt(e){fe.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Tt.prototype).add=function(e,t){Nt(this),this.i=null,e=Ot(this,e);var A=this.g.get(e);return A||this.g.set(e,A=[]),A.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach(function(A,n){A.forEach(function(A){e.call(t,A,n,this)},this)},this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),A=[];for(let n=0;n<t.length;n++){const r=e[n];for(let e=0;e<r.length;e++)A.push(t[n])}return A},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)Lt(this,e)&&(t=t.concat(this.g.get(Ot(this,e))));else{e=Array.from(this.g.values());for(let A=0;A<e.length;A++)t=t.concat(e[A])}return t},e.set=function(e,t){return Nt(this),this.i=null,Lt(this,e=Ot(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var A=0;A<t.length;A++){var n=t[A];const s=encodeURIComponent(String(n)),i=this.V(n);for(n=0;n<i.length;n++){var r=s;""!==i[n]&&(r+="="+encodeURIComponent(String(i[n]))),e.push(r)}}return this.i=e.join("&")},b(jt,Ue),jt.prototype.g=function(){return new Kt(this.l,this.j)},jt.prototype.i=(Qt={},function(){return Qt}),b(Kt,fe),(e=Kt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,zt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||r).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zt(this)),this.g&&(this.readyState=3,zt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Gt(this):zt(this),3==this.readyState&&Vt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Gt(this))},e.Qa=function(e){this.g&&(this.response=e,Gt(this))},e.ga=function(){this.g&&Gt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var A=t.next();!A.done;)A=A.value,e.push(A[0]+": "+A[1]),A=t.next();return e.join("\r\n")},Object.defineProperty(Kt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),b(Xt,fe);var Jt=/^https?$/i,Yt=["POST","PUT"];function Zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),tA(e)}function $t(e){e.A||(e.A=!0,ge(e,"complete"),ge(e,"error"))}function eA(e){if(e.h&&"undefined"!=typeof n&&(!e.v[1]||4!=nA(e)||2!=e.Z()))if(e.u&&4==nA(e))me(e.Ea,0,e);else if(ge(e,"readystatechange"),4==nA(e)){e.h=!1;try{const n=e.Z();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var A;if(!(A=t)){var s;if(s=0===n){var i=String(e.D).match(pt)[1]||null;!i&&r.self&&r.self.location&&(i=r.self.location.protocol.slice(0,-1)),s=!Jt.test(i?i.toLowerCase():"")}A=s}if(A)ge(e,"complete"),ge(e,"success");else{e.m=6;try{var o=2<nA(e)?e.g.statusText:""}catch(a){o=""}e.l=o+" ["+e.Z()+"]",$t(e)}}finally{tA(e)}}}function tA(e,t){if(e.g){AA(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ge(e,"ready");try{n.onreadystatechange=r}catch(A){}}}function AA(e){e.I&&(r.clearTimeout(e.I),e.I=null)}function nA(e){return e.g?e.g.readyState:0}function rA(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(x){return null}}function sA(e,t,A){return A&&A.internalChannelParams&&A.internalChannelParams[e]||t}function iA(e){this.Aa=0,this.i=[],this.j=new Me,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sA("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sA("baseRetryDelayMs",5e3,e),this.cb=sA("retryDelaySeedMs",1e4,e),this.Wa=sA("forwardChannelMaxRetries",2,e),this.wa=sA("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new at(e&&e.concurrentRequestLimit),this.Da=new Pt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function oA(e){if(lA(e),3==e.G){var t=e.U++,A=wt(e.I);if(bt(A,"SID",e.K),bt(A,"RID",t),bt(A,"TYPE","terminate"),dA(e,A),(t=new We(e,e.j,t)).L=2,t.v=Ct(wt(A)),A=!1,r.navigator&&r.navigator.sendBeacon)try{A=r.navigator.sendBeacon(t.v.toString(),"")}catch(n){}!A&&r.Image&&((new Image).src=t.v,A=!0),A||(t.g=xA(t.j,null),t.g.ea(t.v)),t.F=Date.now(),tt(t)}bA(e)}function aA(e){e.g&&(pA(e),e.g.cancel(),e.g=null)}function lA(e){aA(e),e.u&&(r.clearTimeout(e.u),e.u=null),wA(e),e.h.cancel(),e.s&&("number"===typeof e.s&&r.clearTimeout(e.s),e.s=null)}function cA(e){if(!lt(e.h)&&!e.s){e.s=!0;var t=e.Ga;R||j(),P||(R(),P=!0),M.add(t,e),e.B=0}}function uA(e,t){var A;A=t?t.l:e.U++;const n=wt(e.I);bt(n,"SID",e.K),bt(n,"RID",A),bt(n,"AID",e.T),dA(e,n),e.m&&e.o&&qt(n,e.m,e.o),A=new We(e,e.j,A,e.B+1),null===e.m&&(A.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hA(e,A,1e3),A.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),dt(e.h,A),Ye(A,n,t)}function dA(e,t){e.H&&k(e.H,function(e,A){bt(t,A,e)}),e.l&&gt({},function(e,A){bt(t,A,e)})}function hA(e,t,A){A=Math.min(e.i.length,A);var n=e.l?l(e.l.Na,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+A];-1==t?0<A?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let i=0;i<A;i++){let A=r[i].g;const o=r[i].map;if(A-=t,0>A)t=Math.max(0,r[i].g-100),s=!1;else try{Mt(o,e,"req"+A+"_")}catch(v){n&&n(o)}}if(s){n=e.join("&");break e}}}return e=e.i.splice(0,A),t.D=e,n}function fA(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;R||j(),P||(R(),P=!0),M.add(t,e),e.v=0}}function gA(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Pe(l(e.Fa,e),BA(e,e.v)),e.v++,!0)}function pA(e){null!=e.A&&(r.clearTimeout(e.A),e.A=null)}function mA(e){e.g=new We(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=wt(e.qa);bt(t,"RID","rpc"),bt(t,"SID",e.K),bt(t,"AID",e.T),bt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&bt(t,"TO",e.ja),bt(t,"TYPE","xmlhttp"),dA(e,t),e.m&&e.o&&qt(t,e.m,e.o),e.L&&(e.g.I=e.L);var A=e.g;e=e.ia,A.L=1,A.v=Ct(wt(t)),A.m=null,A.P=!0,Ze(A,e)}function wA(e){null!=e.C&&(r.clearTimeout(e.C),e.C=null)}function yA(e,t){var A=null;if(e.g==t){wA(e),pA(e),e.g=null;var n=2}else{if(!ut(e.h,t))return;A=t.D,ht(e.h,t),n=1}if(0!=e.G)if(t.o)if(1==n){A=t.m?t.m.length:0,t=Date.now()-t.F;var r=e.B;ge(n=Ne(),new Re(n,A)),cA(e)}else fA(e);else if(3==(r=t.s)||0==r&&0<t.X||!(1==n&&function(e,t){return!(ct(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Pe(l(e.Ga,e,t),BA(e,e.B)),e.B++,!0))}(e,t)||2==n&&gA(e)))switch(A&&0<A.length&&(t=e.h,t.i=t.i.concat(A)),r){case 1:vA(e,5);break;case 4:vA(e,10);break;case 3:vA(e,6);break;default:vA(e,2)}}function BA(e,t){let A=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(A*=2),A*t}function vA(e,t){if(e.j.info("Error code "+t),2==t){var A=l(e.fb,e),n=e.Xa;const t=!n;n=new mt(n||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||yt(n,"https"),Ct(n),t?function(e,t){const A=new Me;if(r.Image){const n=new Image;n.onload=c(Rt,A,"TestLoadImage: loaded",!0,t,n),n.onerror=c(Rt,A,"TestLoadImage: error",!1,t,n),n.onabort=c(Rt,A,"TestLoadImage: abort",!1,t,n),n.ontimeout=c(Rt,A,"TestLoadImage: timeout",!1,t,n),r.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}(n.toString(),A):function(e,t){new Me;const A=new AbortController,n=setTimeout(()=>{A.abort(),Rt(0,0,!1,t)},1e4);fetch(e,{signal:A.signal}).then(e=>{clearTimeout(n),e.ok?Rt(0,0,!0,t):Rt(0,0,!1,t)}).catch(()=>{clearTimeout(n),Rt(0,0,!1,t)})}(n.toString(),A)}else Oe(2);e.G=0,e.l&&e.l.sa(t),bA(e),lA(e)}function bA(e){if(e.G=0,e.ka=[],e.l){const t=ft(e.h);0==t.length&&0==e.i.length||(E(e.ka,t),E(e.ka,e.i),e.h.i.length=0,C(e.i),e.i.length=0),e.l.ra()}}function CA(e,t,A){var n=A instanceof mt?wt(A):new mt(A);if(""!=n.g)t&&(n.g=t+"."+n.g),Bt(n,n.s);else{var s=r.location;n=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new mt(null);n&&yt(i,n),t&&(i.g=t),s&&Bt(i,s),A&&(i.l=A),n=i}return A=e.D,t=e.ya,A&&t&&bt(n,A,t),bt(n,"VER",e.la),dA(e,n),n}function xA(e,t,A){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Xt(new jt({eb:A})):new Xt(e.pa)).Ha(e.J),t}function EA(){}function UA(){}function QA(e,t){fe.call(this),this.g=new iA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!U(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!U(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new kA(this)}function FA(e){ke.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const A in t){e=A;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function IA(){Se.call(this),this.status=1}function kA(e){this.g=e}(e=Xt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,A,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ke.g(),this.v=this.o?Qe(this.o):Qe(Ke),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(i){return void Zt(this,i)}if(e=A||"",A=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var s in n)A.set(s,n[s]);else{if("function"!==typeof n.keys||"function"!==typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const e of n.keys())A.set(e,n.get(e))}n=Array.from(A.keys()).find(e=>"content-type"==e.toLowerCase()),s=r.FormData&&e instanceof r.FormData,!(0<=Array.prototype.indexOf.call(Yt,t,void 0))||n||s||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of A)this.g.setRequestHeader(r,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{AA(this),this.u=!0,this.g.send(e),this.u=!1}catch(i){Zt(this,i)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ge(this,"complete"),ge(this,"abort"),tA(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tA(this,!0)),Xt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?eA(this):this.bb())},e.bb=function(){eA(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<nA(this)?this.g.status:-1}catch(Qt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Qt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xe(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=iA.prototype).la=8,e.G=1,e.connect=function(e,t,A,n){Oe(0),this.W=e,this.H=t||{},A&&void 0!==n&&(this.H.OSID=A,this.H.OAID=n),this.F=this.X,this.I=CA(this,null,this.W),cA(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new We(this,this.j,e);let s=this.o;if(this.S&&(s?(s=S(s),T(s,this.S)):s=this.S),null!==this.m||this.O||(r.H=s,s=null),this.P)e:{for(var t=0,A=0;A<this.i.length;A++){var n=this.i[A];if(void 0===(n="__data__"in n.map&&"string"===typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=A;break e}if(4096===t||A===this.i.length-1){t=A+1;break e}}t=1e3}else t=1e3;t=hA(this,r,t),bt(A=wt(this.I),"RID",e),bt(A,"CVER",22),this.D&&bt(A,"X-HTTP-Session-Id",this.D),dA(this,A),s&&(this.O?t="headers="+encodeURIComponent(String(Wt(s)))+"&"+t:this.m&&qt(A,this.m,s)),dt(this.h,r),this.Ua&&bt(A,"TYPE","init"),this.P?(bt(A,"$req",t),bt(A,"SID","null"),r.T=!0,Ye(r,A,null)):Ye(r,A,t),this.G=2}}else 3==this.G&&(e?uA(this,e):0==this.i.length||lt(this.h)||uA(this))},e.Fa=function(){if(this.u=null,mA(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Pe(l(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Oe(10),aA(this),mA(this))},e.Za=function(){null!=this.C&&(this.C=null,aA(this),gA(this),Oe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=EA.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},UA.prototype.g=function(e,t){return new QA(e,t)},b(QA,fe),QA.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},QA.prototype.close=function(){oA(this.g)},QA.prototype.o=function(e){var t=this.g;if("string"===typeof e){var A={};A.__data__=e,e=A}else this.u&&((A={}).__data__=Ce(e),e=A);t.i.push(new ot(t.Ya++,e)),3==t.G&&cA(t)},QA.prototype.N=function(){this.g.l=null,delete this.j,oA(this.g),delete this.g,QA.aa.N.call(this)},b(FA,ke),b(IA,Se),b(kA,EA),kA.prototype.ua=function(){ge(this.g,"a")},kA.prototype.ta=function(e){ge(this.g,new FA(e))},kA.prototype.sa=function(e){ge(this.g,new IA)},kA.prototype.ra=function(){ge(this.g,"b")},UA.prototype.createWebChannel=UA.prototype.g,QA.prototype.send=QA.prototype.o,QA.prototype.open=QA.prototype.m,QA.prototype.close=QA.prototype.close,w=B.createWebChannelTransport=function(){return new UA},m=B.getStatEventTarget=function(){return Ne()},p=B.Event=_e,g=B.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ve.NO_ERROR=0,Ve.TIMEOUT=8,Ve.HTTP_ERROR=6,f=B.ErrorCode=Ve,Ge.COMPLETE="complete",h=B.EventType=Ge,Fe.EventType=Ie,Ie.OPEN="a",Ie.CLOSE="b",Ie.ERROR="c",Ie.MESSAGE="d",fe.prototype.listen=fe.prototype.K,d=B.WebChannel=Fe,B.FetchXmlHttpFactory=jt,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,u=B.XhrIo=Xt}).apply("undefined"!==typeof y?y:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const v="@firebase/firestore";class b{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}b.UNAUTHENTICATED=new b(null),b.GOOGLE_CREDENTIALS=new b("google-credentials-uid"),b.FIRST_PARTY=new b("first-party-uid"),b.MOCK_USER=new b("mock-user");let C="10.14.0";const x=new o.Vy("@firebase/firestore");function E(){return x.logLevel}function U(e){if(x.logLevel<=o.$b.DEBUG){for(var t=arguments.length,A=new Array(t>1?t-1:0),n=1;n<t;n++)A[n-1]=arguments[n];const r=A.map(I);x.debug("Firestore (".concat(C,"): ").concat(e),...r)}}function Q(e){if(x.logLevel<=o.$b.ERROR){for(var t=arguments.length,A=new Array(t>1?t-1:0),n=1;n<t;n++)A[n-1]=arguments[n];const r=A.map(I);x.error("Firestore (".concat(C,"): ").concat(e),...r)}}function F(e){if(x.logLevel<=o.$b.WARN){for(var t=arguments.length,A=new Array(t>1?t-1:0),n=1;n<t;n++)A[n-1]=arguments[n];const r=A.map(I);x.warn("Firestore (".concat(C,"): ").concat(e),...r)}}function I(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(C,") INTERNAL ASSERTION FAILED: ")+e;throw Q(t),new Error(t)}function S(e,t){e||k()}function _(e,t){return e}const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class N extends a.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class D{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class L{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class H{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(b.UNAUTHENTICATED))}shutdown(){}}class O{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class R{constructor(e){this.t=e,this.currentUser=b.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){S(void 0===this.o);let A=this.i;const n=e=>this.i!==A?(A=this.i,t(e)):Promise.resolve();let r=new D;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new D,e.enqueueRetryable(()=>n(this.currentUser))};const s=()=>{const t=r;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},i=e=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>i(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new D)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(S("string"==typeof t.accessToken),new L(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return S(null===e||"string"==typeof e),new b(e)}}class P{constructor(e,t,A){this.l=e,this.h=t,this.P=A,this.type="FirstParty",this.user=b.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class M{constructor(e,t,A){this.l=e,this.h=t,this.P=A}getToken(){return Promise.resolve(new P(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(b.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){S(void 0===this.o);const A=e=>{null!=e.error&&U("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const A=e.token!==this.R;return this.R=e.token,U("FirebaseAppCheckTokenProvider","Received ".concat(A?"new":"existing"," token.")),A?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>A(t))};const n=e=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?n(e):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(S("string"==typeof e.token),this.R=e.token,new j(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function V(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),A=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(A);else for(let n=0;n<e;n++)A[n]=Math.floor(256*Math.random());return A}class G{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let A="";for(;A.length<20;){const n=V(40);for(let r=0;r<n.length;++r)A.length<20&&n[r]<t&&(A+=e.charAt(n[r]%62))}return A}}function z(e,t){return e<t?-1:e>t?1:0}function W(e,t,A){return e.length===t.length&&e.every((e,n)=>A(e,t[n]))}class q{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new N(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new N(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new N(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new N(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return q.fromMillis(Date.now())}static fromDate(e){return q.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),A=Math.floor(1e6*(e-1e3*t));return new q(t,A)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?z(this.nanoseconds,e.nanoseconds):z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new q(0,0))}static max(){return new X(new q(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class J{constructor(e,t,A){void 0===t?t=0:t>e.length&&k(),void 0===A?A=e.length-t:A>e.length-t&&k(),this.segments=e,this.offset=t,this.len=A}get length(){return this.len}isEqual(e){return 0===J.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof J?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,A=this.limit();t<A;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const A=Math.min(e.length,t.length);for(let n=0;n<A;n++){const A=e.get(n),r=t.get(n);if(A<r)return-1;if(A>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Y extends J{construct(e,t,A){return new Y(e,t,A)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,A=new Array(t),n=0;n<t;n++)A[n]=arguments[n];for(const r of A){if(r.indexOf("//")>=0)throw new N(T.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter(e=>e.length>0))}return new Y(e)}static emptyPath(){return new Y([])}}const Z=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $ extends J{construct(e,t,A){return new $(e,t,A)}static isValidIdentifier(e){return Z.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $(["__name__"])}static fromServerFormat(e){const t=[];let A="",n=0;const r=()=>{if(0===A.length)throw new N(T.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(A),A=""};let s=!1;for(;n<e.length;){const t=e[n];if("\\"===t){if(n+1===e.length)throw new N(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new N(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);A+=t,n+=2}else"`"===t?(s=!s,n++):"."!==t||s?(A+=t,n++):(r(),n++)}if(r(),s)throw new N(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $(t)}static emptyPath(){return new $([])}}class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Y.fromString(e))}static fromName(e){return new ee(Y.fromString(e).popFirst(5))}static empty(){return new ee(Y.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Y.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Y.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Y(e.slice()))}}class te{constructor(e,t,A,n){this.indexId=e,this.collectionGroup=t,this.fields=A,this.indexState=n}}te.UNKNOWN_ID=-1;function Ae(e,t){const A=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=X.fromTimestamp(1e9===n?new q(A+1,0):new q(A,n));return new re(r,ee.empty(),t)}function ne(e){return new re(e.readTime,e.key,-1)}class re{constructor(e,t,A){this.readTime=e,this.documentKey=t,this.largestBatchId=A}static min(){return new re(X.min(),ee.empty(),-1)}static max(){return new re(X.max(),ee.empty(),-1)}}function se(e,t){let A=e.readTime.compareTo(t.readTime);return 0!==A?A:(A=ee.comparator(e.documentKey,t.documentKey),0!==A?A:z(e.largestBatchId,t.largestBatchId))}const ie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ae(e){if(e.code!==T.FAILED_PRECONDITION||e.message!==ie)throw e;U("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((A,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(A,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(A,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(e){return le.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,A)=>{t(e)})}static reject(e){return new le((t,A)=>{A(e)})}static waitFor(e){return new le((t,A)=>{let n=0,r=0,s=!1;e.forEach(e=>{++n,e.next(()=>{++r,s&&r===n&&t()},e=>A(e))}),s=!0,r===n&&t()})}static or(e){let t=le.resolve(!1);for(const A of e)t=t.next(e=>e?le.resolve(e):A());return t}static forEach(e,t){const A=[];return e.forEach((e,n)=>{A.push(t.call(this,e,n))}),this.waitFor(A)}static mapArray(e,t){return new le((A,n)=>{const r=e.length,s=new Array(r);let i=0;for(let o=0;o<r;o++){const a=o;t(e[a]).next(e=>{s[a]=e,++i,i===r&&A(s)},e=>n(e))}})}static doWhile(e,t){return new le((A,n)=>{const r=()=>{!0===e()?t().next(()=>{r()},n):A()};r()})}}function ce(e){const t=e.match(/Android ([\d.]+)/i),A=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(A)}function ue(e){return"IndexedDbTransactionError"===e.name}class de{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function he(e){return null==e}function fe(e){return 0===e&&1/e==-1/0}function ge(e){return"number"==typeof e&&Number.isInteger(e)&&!fe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}de.oe=-1;const pe=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],me=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],we=me,ye=[...we,"indexConfiguration","indexState","indexEntries"];function Be(e){let t=0;for(const A in e)Object.prototype.hasOwnProperty.call(e,A)&&t++;return t}function ve(e,t){for(const A in e)Object.prototype.hasOwnProperty.call(e,A)&&t(A,e[A])}function be(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ce{constructor(e,t){this.comparator=e,this.root=t||Ee.EMPTY}insert(e,t){return new Ce(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ee.BLACK,null,null))}remove(e){return new Ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ee.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const A=this.comparator(e,t.key);if(0===A)return t.value;A<0?t=t.left:A>0&&(t=t.right)}return null}indexOf(e){let t=0,A=this.root;for(;!A.isEmpty();){const n=this.comparator(e,A.key);if(0===n)return t+A.left.size;n<0?A=A.left:(t+=A.left.size+1,A=A.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,A)=>(e(t,A),!1))}toString(){const e=[];return this.inorderTraversal((t,A)=>(e.push("".concat(t,":").concat(A)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xe(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xe(this.root,e,this.comparator,!1)}getReverseIterator(){return new xe(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xe(this.root,e,this.comparator,!0)}}class xe{constructor(e,t,A,n){this.isReverse=n,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?A(e.key,t):1,t&&n&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ee{constructor(e,t,A,n,r){this.key=e,this.value=t,this.color=null!=A?A:Ee.RED,this.left=null!=n?n:Ee.EMPTY,this.right=null!=r?r:Ee.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,A,n,r){return new Ee(null!=e?e:this.key,null!=t?t:this.value,null!=A?A:this.color,null!=n?n:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,A){let n=this;const r=A(e,n.key);return n=r<0?n.copy(null,null,null,n.left.insert(e,t,A),null):0===r?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,A)),n.fixUp()}removeMin(){if(this.left.isEmpty())return Ee.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let A,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return Ee.EMPTY;A=n.right.min(),n=n.copy(A.key,A.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ee.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ee.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw k();if(this.right.isRed())throw k();const e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}}Ee.EMPTY=null,Ee.RED=!0,Ee.BLACK=!1,Ee.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(e,t,A,n,r){return this}insert(e,t,A){return new Ee(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,A)=>(e(t),!1))}forEachInRange(e,t){const A=this.data.getIteratorFrom(e[0]);for(;A.hasNext();){const n=A.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let A;for(A=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();A.hasNext();)if(!e(A.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qe(this.data.getIterator())}getIteratorFrom(e){return new Qe(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ue))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),A=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=A.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ue(this.comparator);return t.data=e,t}}class Qe{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fe{constructor(e){this.fields=e,e.sort($.comparator)}static empty(){return new Fe([])}unionWith(e){let t=new Ue($.comparator);for(const A of this.fields)t=t.add(A);for(const A of e)t=t.add(A);return new Fe(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return W(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ie extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ie("Invalid base64 string: "+e):e}}(e);return new ke(t)}static fromUint8Array(e){const t=function(e){let t="";for(let A=0;A<e.length;++A)t+=String.fromCharCode(e[A]);return t}(e);return new ke(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let A=0;A<e.length;A++)t[A]=e.charCodeAt(A);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const Se=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _e(e){if(S(!!e),"string"==typeof e){let t=0;const A=Se.exec(e);if(S(!!A),A[1]){let e=A[1];e=(e+"000000000").substr(0,9),t=Number(e)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Te(e.seconds),nanos:Te(e.nanos)}}function Te(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ne(e){return"string"==typeof e?ke.fromBase64String(e):ke.fromUint8Array(e)}function De(e){var t,A;return"server_timestamp"===(null===(A=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===A?void 0:A.stringValue)}function Le(e){const t=e.mapValue.fields.__previous_value__;return De(t)?Le(t):t}function He(e){const t=_e(e.mapValue.fields.__local_write_time__.timestampValue);return new q(t.seconds,t.nanos)}class Oe{constructor(e,t,A,n,r,s,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=A,this.host=n,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=i,this.longPollingOptions=o,this.useFetchStreams=a}}class Re{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Re("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Re&&e.projectId===this.projectId&&e.database===this.database}}const Pe={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Me(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?De(e)?4:nt(e)?9007199254740991:tt(e)?10:11:k()}function je(e,t){if(e===t)return!0;const A=Me(e);if(A!==Me(t))return!1;switch(A){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return He(e).isEqual(He(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const A=_e(e.timestampValue),n=_e(t.timestampValue);return A.seconds===n.seconds&&A.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ne(e.bytesValue).isEqual(Ne(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Te(e.geoPointValue.latitude)===Te(t.geoPointValue.latitude)&&Te(e.geoPointValue.longitude)===Te(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Te(e.integerValue)===Te(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const A=Te(e.doubleValue),n=Te(t.doubleValue);return A===n?fe(A)===fe(n):isNaN(A)&&isNaN(n)}return!1}(e,t);case 9:return W(e.arrayValue.values||[],t.arrayValue.values||[],je);case 10:case 11:return function(e,t){const A=e.mapValue.fields||{},n=t.mapValue.fields||{};if(Be(A)!==Be(n))return!1;for(const r in A)if(A.hasOwnProperty(r)&&(void 0===n[r]||!je(A[r],n[r])))return!1;return!0}(e,t);default:return k()}}function Ke(e,t){return void 0!==(e.values||[]).find(e=>je(e,t))}function Ve(e,t){if(e===t)return 0;const A=Me(e),n=Me(t);if(A!==n)return z(A,n);switch(A){case 0:case 9007199254740991:return 0;case 1:return z(e.booleanValue,t.booleanValue);case 2:return function(e,t){const A=Te(e.integerValue||e.doubleValue),n=Te(t.integerValue||t.doubleValue);return A<n?-1:A>n?1:A===n?0:isNaN(A)?isNaN(n)?0:-1:1}(e,t);case 3:return Ge(e.timestampValue,t.timestampValue);case 4:return Ge(He(e),He(t));case 5:return z(e.stringValue,t.stringValue);case 6:return function(e,t){const A=Ne(e),n=Ne(t);return A.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const A=e.split("/"),n=t.split("/");for(let r=0;r<A.length&&r<n.length;r++){const e=z(A[r],n[r]);if(0!==e)return e}return z(A.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const A=z(Te(e.latitude),Te(t.latitude));return 0!==A?A:z(Te(e.longitude),Te(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ze(e.arrayValue,t.arrayValue);case 10:return function(e,t){var A,n,r,s;const i=e.fields||{},o=t.fields||{},a=null===(A=i.value)||void 0===A?void 0:A.arrayValue,l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=z((null===(r=null==a?void 0:a.values)||void 0===r?void 0:r.length)||0,(null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:ze(a,l)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Pe.mapValue&&t===Pe.mapValue)return 0;if(e===Pe.mapValue)return 1;if(t===Pe.mapValue)return-1;const A=e.fields||{},n=Object.keys(A),r=t.fields||{},s=Object.keys(r);n.sort(),s.sort();for(let i=0;i<n.length&&i<s.length;++i){const e=z(n[i],s[i]);if(0!==e)return e;const t=Ve(A[n[i]],r[s[i]]);if(0!==t)return t}return z(n.length,s.length)}(e.mapValue,t.mapValue);default:throw k()}}function Ge(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return z(e,t);const A=_e(e),n=_e(t),r=z(A.seconds,n.seconds);return 0!==r?r:z(A.nanos,n.nanos)}function ze(e,t){const A=e.values||[],n=t.values||[];for(let r=0;r<A.length&&r<n.length;++r){const e=Ve(A[r],n[r]);if(e)return e}return z(A.length,n.length)}function We(e){return qe(e)}function qe(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=_e(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ne(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ee.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",A=!0;for(const n of e.values||[])A?A=!1:t+=",",t+=qe(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let A="{",n=!0;for(const r of t)n?n=!1:A+=",",A+="".concat(r,":").concat(qe(e.fields[r]));return A+"}"}(e.mapValue):k()}function Xe(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Je(e){return!!e&&"integerValue"in e}function Ye(e){return!!e&&"arrayValue"in e}function Ze(e){return!!e&&"nullValue"in e}function $e(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function et(e){return!!e&&"mapValue"in e}function tt(e){var t,A;return"__vector__"===(null===(A=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===A?void 0:A.stringValue)}function At(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ve(e.mapValue.fields,(e,A)=>t.mapValue.fields[e]=At(A)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let A=0;A<(e.arrayValue.values||[]).length;++A)t.arrayValue.values[A]=At(e.arrayValue.values[A]);return t}return Object.assign({},e)}function nt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class rt{constructor(e){this.value=e}static empty(){return new rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let A=0;A<e.length-1;++A)if(t=(t.mapValue.fields||{})[e.get(A)],!et(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=At(t)}setAll(e){let t=$.emptyPath(),A={},n=[];e.forEach((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,A,n),A={},n=[],t=r.popLast()}e?A[r.lastSegment()]=At(e):n.push(r.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,A,n)}delete(e){const t=this.field(e.popLast());et(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return je(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let A=0;A<e.length;++A){let n=t.mapValue.fields[e.get(A)];et(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(A)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,A){ve(t,(t,A)=>e[t]=A);for(const n of A)delete e[n]}clone(){return new rt(At(this.value))}}function st(e){const t=[];return ve(e.fields,(e,A)=>{const n=new $([e]);if(et(A)){const e=st(A.mapValue).fields;if(0===e.length)t.push(n);else for(const A of e)t.push(n.child(A))}else t.push(n)}),new Fe(t)}class it{constructor(e,t,A,n,r,s,i){this.key=e,this.documentType=t,this.version=A,this.readTime=n,this.createTime=r,this.data=s,this.documentState=i}static newInvalidDocument(e){return new it(e,0,X.min(),X.min(),X.min(),rt.empty(),0)}static newFoundDocument(e,t,A,n){return new it(e,1,t,X.min(),A,n,0)}static newNoDocument(e,t){return new it(e,2,t,X.min(),X.min(),rt.empty(),0)}static newUnknownDocument(e,t){return new it(e,3,t,X.min(),X.min(),rt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(X.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ot{constructor(e,t){this.position=e,this.inclusive=t}}function at(e,t,A){let n=0;for(let r=0;r<e.position.length;r++){const s=t[r],i=e.position[r];if(n=s.field.isKeyField()?ee.comparator(ee.fromName(i.referenceValue),A.key):Ve(i,A.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function lt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let A=0;A<e.position.length;A++)if(!je(e.position[A],t.position[A]))return!1;return!0}class ct{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ut(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class dt{}class ht extends dt{constructor(e,t,A){super(),this.field=e,this.op=t,this.value=A}static create(e,t,A){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,A):new vt(e,t,A):"array-contains"===t?new Et(e,A):"in"===t?new Ut(e,A):"not-in"===t?new Qt(e,A):"array-contains-any"===t?new Ft(e,A):new ht(e,t,A)}static createKeyFieldInFilter(e,t,A){return"in"===t?new bt(e,A):new Ct(e,A)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ve(t,this.value)):null!==t&&Me(this.value)===Me(t)&&this.matchesComparison(Ve(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ft extends dt{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ft(e,t)}matches(e){return gt(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gt(e){return"and"===e.op}function pt(e){return mt(e)&&gt(e)}function mt(e){for(const t of e.filters)if(t instanceof ft)return!1;return!0}function wt(e){if(e instanceof ht)return e.field.canonicalString()+e.op.toString()+We(e.value);if(pt(e))return e.filters.map(e=>wt(e)).join(",");{const t=e.filters.map(e=>wt(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function yt(e,t){return e instanceof ht?function(e,t){return t instanceof ht&&e.op===t.op&&e.field.isEqual(t.field)&&je(e.value,t.value)}(e,t):e instanceof ft?function(e,t){return t instanceof ft&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,A,n)=>e&&yt(A,t.filters[n]),!0)}(e,t):void k()}function Bt(e){return e instanceof ht?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(We(e.value))}(e):e instanceof ft?function(e){return e.op.toString()+" {"+e.getFilters().map(Bt).join(" ,")+"}"}(e):"Filter"}class vt extends ht{constructor(e,t,A){super(e,t,A),this.key=ee.fromName(A.referenceValue)}matches(e){const t=ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class bt extends ht{constructor(e,t){super(e,"in",t),this.keys=xt("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ct extends ht{constructor(e,t){super(e,"not-in",t),this.keys=xt("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xt(e,t){var A;return((null===(A=t.arrayValue)||void 0===A?void 0:A.values)||[]).map(e=>ee.fromName(e.referenceValue))}class Et extends ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ye(t)&&Ke(t.arrayValue,this.value)}}class Ut extends ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ke(this.value.arrayValue,t)}}class Qt extends ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ke(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ke(this.value.arrayValue,t)}}class Ft extends ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ye(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ke(this.value.arrayValue,e))}}class It{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=A,this.filters=n,this.limit=r,this.startAt=s,this.endAt=i,this.ue=null}}function kt(e){return new It(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function St(e){const t=_(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>wt(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),he(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>We(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>We(e)).join(",")),t.ue=e}return t.ue}function _t(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let A=0;A<e.orderBy.length;A++)if(!ut(e.orderBy[A],t.orderBy[A]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let A=0;A<e.filters.length;A++)if(!yt(e.filters[A],t.filters[A]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lt(e.startAt,t.startAt)&&lt(e.endAt,t.endAt)}function Tt(e){return ee.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Nt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=A,this.filters=n,this.limit=r,this.limitType=s,this.startAt=i,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Dt(e,t,A,n,r,s,i,o){return new Nt(e,t,A,n,r,s,i,o)}function Lt(e){return new Nt(e)}function Ht(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ot(e){return null!==e.collectionGroup}function Rt(e){const t=_(e);if(null===t.ce){t.ce=[];const e=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),e.add(r.field.canonicalString());const A=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",n=function(e){let t=new Ue($.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);n.forEach(n=>{e.has(n.canonicalString())||n.isKeyField()||t.ce.push(new ct(n,A))}),e.has($.keyField().canonicalString())||t.ce.push(new ct($.keyField(),A))}return t.ce}function Pt(e){const t=_(e);return t.le||(t.le=Mt(t,Rt(e))),t.le}function Mt(e,t){if("F"===e.limitType)return kt(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new ct(e.field,t)});const A=e.endAt?new ot(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new ot(e.startAt.position,e.startAt.inclusive):null;return kt(e.path,e.collectionGroup,t,e.filters,e.limit,A,n)}}function jt(e,t){const A=e.filters.concat([t]);return new Nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),A,e.limit,e.limitType,e.startAt,e.endAt)}function Kt(e,t,A){return new Nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,A,e.startAt,e.endAt)}function Vt(e,t){return _t(Pt(e),Pt(t))&&e.limitType===t.limitType}function Gt(e){return"".concat(St(Pt(e)),"|lt:").concat(e.limitType)}function zt(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Bt(e)).join(", "),"]")),he(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>We(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>We(e)).join(",")),"Target(".concat(t,")")}(Pt(e)),"; limitType=").concat(e.limitType,")")}function Wt(e,t){return t.isFoundDocument()&&function(e,t){const A=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(A):ee.isDocumentKey(e.path)?e.path.isEqual(A):e.path.isImmediateParentOf(A)}(e,t)&&function(e,t){for(const A of Rt(e))if(!A.field.isKeyField()&&null===t.data.field(A.field))return!1;return!0}(e,t)&&function(e,t){for(const A of e.filters)if(!A.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,A){const n=at(e,t,A);return e.inclusive?n<=0:n<0}(e.startAt,Rt(e),t))&&!(e.endAt&&!function(e,t,A){const n=at(e,t,A);return e.inclusive?n>=0:n>0}(e.endAt,Rt(e),t))}(e,t)}function qt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xt(e){return(t,A)=>{let n=!1;for(const r of Rt(e)){const e=Jt(r,t,A);if(0!==e)return e;n=n||r.field.isKeyField()}return 0}}function Jt(e,t,A){const n=e.field.isKeyField()?ee.comparator(t.key,A.key):function(e,t,A){const n=t.data.field(e),r=A.data.field(e);return null!==n&&null!==r?Ve(n,r):k()}(e.field,t,A);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return k()}}class Yt{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),A=this.inner[t];if(void 0!==A)for(const[n,r]of A)if(this.equalsFn(n,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const A=this.mapKeyFn(e),n=this.inner[A];if(void 0===n)return this.inner[A]=[[e,t]],void this.innerSize++;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return void(n[r]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),A=this.inner[t];if(void 0===A)return!1;for(let n=0;n<A.length;n++)if(this.equalsFn(A[n][0],e))return 1===A.length?delete this.inner[t]:A.splice(n,1),this.innerSize--,!0;return!1}forEach(e){ve(this.inner,(t,A)=>{for(const[n,r]of A)e(n,r)})}isEmpty(){return be(this.inner)}size(){return this.innerSize}}const Zt=new Ce(ee.comparator);function $t(){return Zt}const eA=new Ce(ee.comparator);function tA(){let e=eA;for(var t=arguments.length,A=new Array(t),n=0;n<t;n++)A[n]=arguments[n];for(const r of A)e=e.insert(r.key,r);return e}function AA(e){let t=eA;return e.forEach((e,A)=>t=t.insert(e,A.overlayedDocument)),t}function nA(){return sA()}function rA(){return sA()}function sA(){return new Yt(e=>e.toString(),(e,t)=>e.isEqual(t))}const iA=new Ce(ee.comparator),oA=new Ue(ee.comparator);function aA(){let e=oA;for(var t=arguments.length,A=new Array(t),n=0;n<t;n++)A[n]=arguments[n];for(const r of A)e=e.add(r);return e}const lA=new Ue(z);function cA(){return lA}function uA(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fe(t)?"-0":t}}function dA(e){return{integerValue:""+e}}function hA(e,t){return ge(t)?dA(t):uA(e,t)}class fA{constructor(){this._=void 0}}function gA(e,t,A){return e instanceof wA?function(e,t){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&De(t)&&(t=Le(t)),t&&(A.fields.__previous_value__=t),{mapValue:A}}(A,t):e instanceof yA?BA(e,t):e instanceof vA?bA(e,t):function(e,t){const A=mA(e,t),n=xA(A)+xA(e.Pe);return Je(A)&&Je(e.Pe)?dA(n):uA(e.serializer,n)}(e,t)}function pA(e,t,A){return e instanceof yA?BA(e,t):e instanceof vA?bA(e,t):A}function mA(e,t){return e instanceof CA?function(e){return Je(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class wA extends fA{}class yA extends fA{constructor(e){super(),this.elements=e}}function BA(e,t){const A=EA(t);for(const n of e.elements)A.some(e=>je(e,n))||A.push(n);return{arrayValue:{values:A}}}class vA extends fA{constructor(e){super(),this.elements=e}}function bA(e,t){let A=EA(t);for(const n of e.elements)A=A.filter(e=>!je(e,n));return{arrayValue:{values:A}}}class CA extends fA{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function xA(e){return Te(e.integerValue||e.doubleValue)}function EA(e){return Ye(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class UA{constructor(e,t){this.field=e,this.transform=t}}class QA{constructor(e,t){this.version=e,this.transformResults=t}}class FA{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new FA}static exists(e){return new FA(void 0,e)}static updateTime(e){return new FA(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function IA(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class kA{}function SA(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new MA(e.key,FA.none()):new LA(e.key,e.data,FA.none());{const A=e.data,n=rt.empty();let r=new Ue($.comparator);for(let e of t.fields)if(!r.has(e)){let t=A.field(e);null===t&&e.length>1&&(e=e.popLast(),t=A.field(e)),null===t?n.delete(e):n.set(e,t),r=r.add(e)}return new HA(e.key,n,new Fe(r.toArray()),FA.none())}}function _A(e,t,A){e instanceof LA?function(e,t,A){const n=e.value.clone(),r=RA(e.fieldTransforms,t,A.transformResults);n.setAll(r),t.convertToFoundDocument(A.version,n).setHasCommittedMutations()}(e,t,A):e instanceof HA?function(e,t,A){if(!IA(e.precondition,t))return void t.convertToUnknownDocument(A.version);const n=RA(e.fieldTransforms,t,A.transformResults),r=t.data;r.setAll(OA(e)),r.setAll(n),t.convertToFoundDocument(A.version,r).setHasCommittedMutations()}(e,t,A):function(e,t,A){t.convertToNoDocument(A.version).setHasCommittedMutations()}(0,t,A)}function TA(e,t,A,n){return e instanceof LA?function(e,t,A,n){if(!IA(e.precondition,t))return A;const r=e.value.clone(),s=PA(e.fieldTransforms,n,t);return r.setAll(s),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,A,n):e instanceof HA?function(e,t,A,n){if(!IA(e.precondition,t))return A;const r=PA(e.fieldTransforms,n,t),s=t.data;return s.setAll(OA(e)),s.setAll(r),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===A?null:A.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,A,n):function(e,t,A){return IA(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):A}(e,t,A)}function NA(e,t){let A=null;for(const n of e.fieldTransforms){const e=t.data.field(n.field),r=mA(n.transform,e||null);null!=r&&(null===A&&(A=rt.empty()),A.set(n.field,r))}return A||null}function DA(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&W(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yA&&t instanceof yA||e instanceof vA&&t instanceof vA?W(e.elements,t.elements,je):e instanceof CA&&t instanceof CA?je(e.Pe,t.Pe):e instanceof wA&&t instanceof wA}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class LA extends kA{constructor(e,t,A){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=A,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class HA extends kA{constructor(e,t,A,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=A,this.precondition=n,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function OA(e){const t=new Map;return e.fieldMask.fields.forEach(A=>{if(!A.isEmpty()){const n=e.data.field(A);t.set(A,n)}}),t}function RA(e,t,A){const n=new Map;S(e.length===A.length);for(let r=0;r<A.length;r++){const s=e[r],i=s.transform,o=t.data.field(s.field);n.set(s.field,pA(i,o,A[r]))}return n}function PA(e,t,A){const n=new Map;for(const r of e){const e=r.transform,s=A.data.field(r.field);n.set(r.field,gA(e,s,t))}return n}class MA extends kA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jA extends kA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KA{constructor(e,t,A,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=A,this.mutations=n}applyToRemoteDocument(e,t){const A=t.mutationResults;for(let n=0;n<this.mutations.length;n++){const t=this.mutations[n];t.key.isEqual(e.key)&&_A(t,e,A[n])}}applyToLocalView(e,t){for(const A of this.baseMutations)A.key.isEqual(e.key)&&(t=TA(A,e,t,this.localWriteTime));for(const A of this.mutations)A.key.isEqual(e.key)&&(t=TA(A,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const A=rA();return this.mutations.forEach(n=>{const r=e.get(n.key),s=r.overlayedDocument;let i=this.applyToLocalView(s,r.mutatedFields);i=t.has(n.key)?null:i;const o=SA(s,i);null!==o&&A.set(n.key,o),s.isValidDocument()||s.convertToNoDocument(X.min())}),A}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),aA())}isEqual(e){return this.batchId===e.batchId&&W(this.mutations,e.mutations,(e,t)=>DA(e,t))&&W(this.baseMutations,e.baseMutations,(e,t)=>DA(e,t))}}class VA{constructor(e,t,A,n){this.batch=e,this.commitVersion=t,this.mutationResults=A,this.docVersions=n}static from(e,t,A){S(e.mutations.length===A.length);let n=iA;const r=e.mutations;for(let s=0;s<r.length;s++)n=n.insert(r[s].key,A[s].version);return new VA(e,t,A,n)}}class GA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class zA{constructor(e,t){this.count=e,this.unchangedNames=t}}var WA,qA;function XA(e){switch(e){default:return k();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function JA(e){if(void 0===e)return Q("GRPC error has no .code"),T.UNKNOWN;switch(e){case WA.OK:return T.OK;case WA.CANCELLED:return T.CANCELLED;case WA.UNKNOWN:return T.UNKNOWN;case WA.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case WA.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case WA.INTERNAL:return T.INTERNAL;case WA.UNAVAILABLE:return T.UNAVAILABLE;case WA.UNAUTHENTICATED:return T.UNAUTHENTICATED;case WA.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case WA.NOT_FOUND:return T.NOT_FOUND;case WA.ALREADY_EXISTS:return T.ALREADY_EXISTS;case WA.PERMISSION_DENIED:return T.PERMISSION_DENIED;case WA.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case WA.ABORTED:return T.ABORTED;case WA.OUT_OF_RANGE:return T.OUT_OF_RANGE;case WA.UNIMPLEMENTED:return T.UNIMPLEMENTED;case WA.DATA_LOSS:return T.DATA_LOSS;default:return k()}}(qA=WA||(WA={}))[qA.OK=0]="OK",qA[qA.CANCELLED=1]="CANCELLED",qA[qA.UNKNOWN=2]="UNKNOWN",qA[qA.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qA[qA.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qA[qA.NOT_FOUND=5]="NOT_FOUND",qA[qA.ALREADY_EXISTS=6]="ALREADY_EXISTS",qA[qA.PERMISSION_DENIED=7]="PERMISSION_DENIED",qA[qA.UNAUTHENTICATED=16]="UNAUTHENTICATED",qA[qA.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qA[qA.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qA[qA.ABORTED=10]="ABORTED",qA[qA.OUT_OF_RANGE=11]="OUT_OF_RANGE",qA[qA.UNIMPLEMENTED=12]="UNIMPLEMENTED",qA[qA.INTERNAL=13]="INTERNAL",qA[qA.UNAVAILABLE=14]="UNAVAILABLE",qA[qA.DATA_LOSS=15]="DATA_LOSS";let YA=null;function ZA(){return new TextEncoder}const $A=new n([4294967295,4294967295],0);function en(e){const t=ZA().encode(e),A=new r;return A.update(t),new Uint8Array(A.digest())}function tn(e){const t=new DataView(e.buffer),A=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new n([A,r],0),new n([s,i],0)]}class An{constructor(e,t,A){if(this.bitmap=e,this.padding=t,this.hashCount=A,t<0||t>=8)throw new nn("Invalid padding: ".concat(t));if(A<0)throw new nn("Invalid hash count: ".concat(A));if(e.length>0&&0===this.hashCount)throw new nn("Invalid hash count: ".concat(A));if(0===e.length&&0!==t)throw new nn("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=n.fromNumber(this.Ie)}Ee(e,t,A){let r=e.add(t.multiply(n.fromNumber(A)));return 1===r.compare($A)&&(r=new n([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=en(e),[A,n]=tn(t);for(let r=0;r<this.hashCount;r++){const e=this.Ee(A,n,r);if(!this.de(e))return!1}return!0}static create(e,t,A){const n=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),s=new An(r,n,t);return A.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=en(e),[A,n]=tn(t);for(let r=0;r<this.hashCount;r++){const e=this.Ee(A,n,r);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),A=e%8;this.bitmap[t]|=1<<A}}class nn extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rn{constructor(e,t,A,n,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=A,this.documentUpdates=n,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,A){const n=new Map;return n.set(e,sn.createSynthesizedTargetChangeForCurrentChange(e,t,A)),new rn(X.min(),n,new Ce(z),$t(),aA())}}class sn{constructor(e,t,A,n,r){this.resumeToken=e,this.current=t,this.addedDocuments=A,this.modifiedDocuments=n,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,A){return new sn(A,t,aA(),aA(),aA())}}class on{constructor(e,t,A,n){this.Re=e,this.removedTargetIds=t,this.key=A,this.Ve=n}}class an{constructor(e,t){this.targetId=e,this.me=t}}class ln{constructor(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ke.EMPTY_BYTE_STRING,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=A,this.cause=n}}class cn{constructor(){this.fe=0,this.ge=hn(),this.pe=ke.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=aA(),t=aA(),A=aA();return this.ge.forEach((n,r)=>{switch(r){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:A=A.add(n);break;default:k()}}),new sn(this.pe,this.ye,e,t,A)}Ce(){this.we=!1,this.ge=hn()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,S(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class un{constructor(e){this.Le=e,this.Be=new Map,this.ke=$t(),this.qe=dn(),this.Qe=new Ce(z)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const A=this.Ge(t);switch(e.state){case 0:this.ze(t)&&A.De(e.resumeToken);break;case 1:A.Oe(),A.Se||A.Ce(),A.De(e.resumeToken);break;case 2:A.Oe(),A.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(A.Ne(),A.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),A.De(e.resumeToken));break;default:k()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,A)=>{this.ze(A)&&t(A)})}He(e){const t=e.targetId,A=e.me.count,n=this.Je(t);if(n){const r=n.target;if(Tt(r))if(0===A){const e=new ee(r.path);this.Ue(t,e,it.newNoDocument(e,X.min()))}else S(1===A);else{const n=this.Ye(t);if(n!==A){const A=this.Ze(e),r=A?this.Xe(A,e,n):1;if(0!==r){this.je(t);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==YA||YA.et(function(e,t,A,n,r){var s,i,o,a,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:A.database,projectId:A.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===r,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(a=null===(o=null===(i=null==d?void 0:d.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(c=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==n?void 0:n.mightContain(e))&&void 0!==t&&t}}),u}(n,e.me,this.Le.tt(),A,r))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:A="",padding:n=0},hashCount:r=0}=t;let s,i;try{s=Ne(A).toUint8Array()}catch(e){if(e instanceof Ie)return F("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{i=new An(s,n,r)}catch(e){return F(e instanceof nn?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===i.Ie?null:i}Xe(e,t,A){return t.me.count===A-this.nt(e,t.targetId)?0:2}nt(e,t){const A=this.Le.getRemoteKeysForTarget(t);let n=0;return A.forEach(A=>{const r=this.Le.tt(),s="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(A.path.canonicalString());e.mightContain(s)||(this.Ue(t,A,null),n++)}),n}rt(e){const t=new Map;this.Be.forEach((A,n)=>{const r=this.Je(n);if(r){if(A.current&&Tt(r.target)){const t=new ee(r.target.path);null!==this.ke.get(t)||this.it(n,t)||this.Ue(n,t,it.newNoDocument(t,e))}A.be&&(t.set(n,A.ve()),A.Ce())}});let A=aA();this.qe.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)}),n&&(A=A.add(e))}),this.ke.forEach((t,A)=>A.setReadTime(e));const n=new rn(e,t,this.Qe,this.ke,A);return this.ke=$t(),this.qe=dn(),this.Qe=new Ce(z),n}$e(e,t){if(!this.ze(e))return;const A=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,A),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,A){if(!this.ze(e))return;const n=this.Ge(e);this.it(e,t)?n.Fe(t,1):n.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),A&&(this.ke=this.ke.insert(t,A))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new cn,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ue(z),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||U("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cn),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function dn(){return new Ce(ee.comparator)}function hn(){return new Ce(ee.comparator)}const fn={asc:"ASCENDING",desc:"DESCENDING"},gn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pn={and:"AND",or:"OR"};class mn{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wn(e,t){return e.useProto3Json||he(t)?t:{value:t}}function yn(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bn(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vn(e,t){return yn(e,t.toTimestamp())}function bn(e){return S(!!e),X.fromTimestamp(function(e){const t=_e(e);return new q(t.seconds,t.nanos)}(e))}function Cn(e,t){return xn(e,t).canonicalString()}function xn(e,t){const A=function(e){return new Y(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?A:A.child(t)}function En(e){const t=Y.fromString(e);return S(Gn(t)),t}function Un(e,t){return Cn(e.databaseId,t.path)}function Qn(e,t){const A=En(t);if(A.get(1)!==e.databaseId.projectId)throw new N(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+A.get(1)+" vs "+e.databaseId.projectId);if(A.get(3)!==e.databaseId.database)throw new N(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+A.get(3)+" vs "+e.databaseId.database);return new ee(Sn(A))}function Fn(e,t){return Cn(e.databaseId,t)}function In(e){const t=En(e);return 4===t.length?Y.emptyPath():Sn(t)}function kn(e){return new Y(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sn(e){return S(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _n(e,t,A){return{name:Un(e,t),fields:A.value.mapValue.fields}}function Tn(e,t){let A;if(t instanceof LA)A={update:_n(e,t.key,t.value)};else if(t instanceof MA)A={delete:Un(e,t.key)};else if(t instanceof HA)A={update:_n(e,t.key,t.data),updateMask:Vn(t.fieldMask)};else{if(!(t instanceof jA))return k();A={verify:Un(e,t.key)}}return t.fieldTransforms.length>0&&(A.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const A=t.transform;if(A instanceof wA)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof yA)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof vA)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof CA)return{fieldPath:t.field.canonicalString(),increment:A.Pe};throw k()}(0,e))),t.precondition.isNone||(A.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vn(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:k()}(e,t.precondition)),A}function Nn(e,t){return{documents:[Fn(e,t.path)]}}function Dn(e,t){const A={structuredQuery:{}},n=t.path;let r;null!==t.collectionGroup?(r=n,A.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=n.popLast(),A.structuredQuery.from=[{collectionId:n.lastSegment()}]),A.parent=Fn(e,r);const s=function(e){if(0!==e.length)return Kn(ft.create(e,"and"))}(t.filters);s&&(A.structuredQuery.where=s);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Mn(e.field),direction:On(e.dir)}}(e))}(t.orderBy);i&&(A.structuredQuery.orderBy=i);const o=wn(e,t.limit);return null!==o&&(A.structuredQuery.limit=o),t.startAt&&(A.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(A.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:A,parent:r}}function Ln(e){let t=In(e.parent);const A=e.structuredQuery,n=A.from?A.from.length:0;let r=null;if(n>0){S(1===n);const e=A.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];A.where&&(s=function(e){const t=Hn(e);return t instanceof ft&&pt(t)?t.getFilters():[t]}(A.where));let i=[];A.orderBy&&(i=function(e){return e.map(e=>function(e){return new ct(jn(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(A.orderBy));let o=null;A.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,he(t)?null:t}(A.limit));let a=null;A.startAt&&(a=function(e){const t=!!e.before,A=e.values||[];return new ot(A,t)}(A.startAt));let l=null;return A.endAt&&(l=function(e){const t=!e.before,A=e.values||[];return new ot(A,t)}(A.endAt)),Dt(t,r,i,s,o,"F",a,l)}function Hn(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=jn(e.unaryFilter.field);return ht.create(t,"==",{doubleValue:NaN});case"IS_NULL":const A=jn(e.unaryFilter.field);return ht.create(A,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=jn(e.unaryFilter.field);return ht.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=jn(e.unaryFilter.field);return ht.create(r,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(e):void 0!==e.fieldFilter?function(e){return ht.create(jn(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ft.create(e.compositeFilter.filters.map(e=>Hn(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return k()}}(e.compositeFilter.op))}(e):k()}function On(e){return fn[e]}function Rn(e){return gn[e]}function Pn(e){return pn[e]}function Mn(e){return{fieldPath:e.canonicalString()}}function jn(e){return $.fromServerFormat(e.fieldPath)}function Kn(e){return e instanceof ht?function(e){if("=="===e.op){if($e(e.value))return{unaryFilter:{field:Mn(e.field),op:"IS_NAN"}};if(Ze(e.value))return{unaryFilter:{field:Mn(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($e(e.value))return{unaryFilter:{field:Mn(e.field),op:"IS_NOT_NAN"}};if(Ze(e.value))return{unaryFilter:{field:Mn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mn(e.field),op:Rn(e.op),value:e.value}}}(e):e instanceof ft?function(e){const t=e.getFilters().map(e=>Kn(e));return 1===t.length?t[0]:{compositeFilter:{op:Pn(e.op),filters:t}}}(e):k()}function Vn(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Gn(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class zn{constructor(e,t,A,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:X.min(),i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ke.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=A,this.sequenceNumber=n,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=i,this.expectedCount=o}withSequenceNumber(e){return new zn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zn(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Wn{constructor(e){this.ct=e}}function qn(e){const t=Ln({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Kt(t,t.limit,"L"):t}class Xn{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Te(e.integerValue));else if("doubleValue"in e){const A=Te(e.doubleValue);isNaN(A)?this.dt(t,13):(this.dt(t,15),fe(A)?t.At(0):t.At(A))}else if("timestampValue"in e){let A=e.timestampValue;this.dt(t,20),"string"==typeof A&&(A=_e(A)),t.Rt("".concat(A.seconds||"")),t.At(A.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ne(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const A=e.geoPointValue;this.dt(t,45),t.At(A.latitude||0),t.At(A.longitude||0)}else"mapValue"in e?nt(e)?this.dt(t,Number.MAX_SAFE_INTEGER):tt(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):k()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const A=e.fields||{};this.dt(t,55);for(const n of Object.keys(A))this.Vt(n,t),this.Tt(A[n],t)}wt(e,t){var A,n;const r=e.fields||{};this.dt(t,53);const s="value",i=(null===(n=null===(A=r[s].arrayValue)||void 0===A?void 0:A.values)||void 0===n?void 0:n.length)||0;this.dt(t,15),t.At(Te(i)),this.Vt(s,t),this.Tt(r[s],t)}bt(e,t){const A=e.values||[];this.dt(t,50);for(const n of A)this.Tt(n,t)}yt(e,t){this.dt(t,37),ee.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}Xn.vt=new Xn;class Jn{constructor(){this.un=new Yn}addToCollectionParentIndex(e,t){return this.un.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(re.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(re.min())}updateCollectionGroup(e,t,A){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class Yn{constructor(){this.index={}}add(e){const t=e.lastSegment(),A=e.popLast(),n=this.index[t]||new Ue(Y.comparator),r=!n.has(A);return this.index[t]=n.add(A),r}has(e){const t=e.lastSegment(),A=e.popLast(),n=this.index[t];return n&&n.has(A)}getEntries(e){return(this.index[e]||new Ue(Y.comparator)).toArray()}}new Uint8Array(0);class Zn{constructor(e,t,A){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=A}static withCacheSize(e){return new Zn(e,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(41943040,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);class $n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $n(0)}static kn(){return new $n(-1)}}class er{constructor(){this.changes=new Yt(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const A=this.changes.get(t);return void 0!==A?le.resolve(A):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tr{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ar{constructor(e,t,A,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=A,this.indexManager=n}getDocument(e,t){let A=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(A=n,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==A&&TA(A.mutation,e,Fe.empty(),q.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,aA()).next(()=>t))}getLocalViewOfDocuments(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aA();const n=nA();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,A).next(e=>{let t=tA();return e.forEach((e,A)=>{t=t.insert(e,A.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const A=nA();return this.populateOverlays(e,A,t).next(()=>this.computeViews(e,t,A,aA()))}populateOverlays(e,t,A){const n=[];return A.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,A)=>{t.set(e,A)})})}computeViews(e,t,A,n){let r=$t();const s=sA(),i=sA();return t.forEach((e,t)=>{const i=A.get(t.key);n.has(t.key)&&(void 0===i||i.mutation instanceof HA)?r=r.insert(t.key,t):void 0!==i?(s.set(t.key,i.mutation.getFieldMask()),TA(i.mutation,t,i.mutation.getFieldMask(),q.now())):s.set(t.key,Fe.empty())}),this.recalculateAndSaveOverlays(e,r).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var A;return i.set(e,new tr(t,null!==(A=s.get(e))&&void 0!==A?A:null))}),i))}recalculateAndSaveOverlays(e,t){const A=sA();let n=new Ce((e,t)=>e-t),r=aA();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const r of e)r.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let i=A.get(e)||Fe.empty();i=r.applyToLocalView(s,i),A.set(e,i);const o=(n.get(r.batchId)||aA()).add(e);n=n.insert(r.batchId,o)})}).next(()=>{const s=[],i=n.getReverseIterator();for(;i.hasNext();){const n=i.getNext(),o=n.key,a=n.value,l=rA();a.forEach(e=>{if(!r.has(e)){const n=SA(t.get(e),A.get(e));null!==n&&l.set(e,n),r=r.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,l))}return le.waitFor(s)}).next(()=>A)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,A,n){return function(e){return ee.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ot(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,A,n):this.getDocumentsMatchingCollectionQuery(e,t,A,n)}getNextDocuments(e,t,A,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,A,n).next(r=>{const s=n-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,A.largestBatchId,n-r.size):le.resolve(nA());let i=-1,o=r;return s.next(t=>le.forEach(t,(t,A)=>(i<A.largestBatchId&&(i=A.largestBatchId),r.get(t)?le.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,r)).next(()=>this.computeViews(e,o,t,aA())).next(e=>({batchId:i,changes:AA(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ee(t)).next(e=>{let t=tA();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,A,n){const r=t.collectionGroup;let s=tA();return this.indexManager.getCollectionParents(e,r).next(i=>le.forEach(i,i=>{const o=function(e,t){return new Nt(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,A,n).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,A,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,A.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,A,r,n))).next(e=>{r.forEach((t,A)=>{const n=A.getKey();null===e.get(n)&&(e=e.insert(n,it.newInvalidDocument(n)))});let A=tA();return e.forEach((e,n)=>{const s=r.get(e);void 0!==s&&TA(s.mutation,n,Fe.empty(),q.now()),Wt(t,n)&&(A=A.insert(e,n))}),A})}}class nr{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return le.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:bn(e.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:qn(e.bundledQuery),readTime:bn(e.readTime)}}(t)),le.resolve()}}class rr{constructor(){this.overlays=new Ce(ee.comparator),this.Ir=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const A=nA();return le.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&A.set(t,e)})).next(()=>A)}saveOverlays(e,t,A){return A.forEach((A,n)=>{this.ht(e,t,n)}),le.resolve()}removeOverlaysForBatchId(e,t,A){const n=this.Ir.get(A);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(A)),le.resolve()}getOverlaysForCollection(e,t,A){const n=nA(),r=t.length+1,s=new ee(t.child("")),i=this.overlays.getIteratorFrom(s);for(;i.hasNext();){const e=i.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>A&&n.set(e.getKey(),e)}return le.resolve(n)}getOverlaysForCollectionGroup(e,t,A,n){let r=new Ce((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>A){let t=r.get(e.largestBatchId);null===t&&(t=nA(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=nA(),o=r.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>i.set(e,t)),!(i.size()>=n)););return le.resolve(i)}ht(e,t,A){const n=this.overlays.get(A.key);if(null!==n){const e=this.Ir.get(n.largestBatchId).delete(A.key);this.Ir.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(A.key,new GA(t,A));let r=this.Ir.get(t);void 0===r&&(r=aA(),this.Ir.set(t,r)),this.Ir.set(t,r.add(A.key))}}class sr{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}class ir{constructor(){this.Tr=new Ue(or.Er),this.dr=new Ue(or.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const A=new or(e,t);this.Tr=this.Tr.add(A),this.dr=this.dr.add(A)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new or(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new ee(new Y([])),A=new or(t,e),n=new or(t,e+1),r=[];return this.dr.forEachInRange([A,n],e=>{this.Vr(e),r.push(e.key)}),r}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ee(new Y([])),A=new or(t,e),n=new or(t,e+1);let r=aA();return this.dr.forEachInRange([A,n],e=>{r=r.add(e.key)}),r}containsKey(e){const t=new or(e,0),A=this.Tr.firstAfterOrEqual(t);return null!==A&&e.isEqual(A.key)}}class or{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ee.comparator(e.key,t.key)||z(e.wr,t.wr)}static Ar(e,t){return z(e.wr,t.wr)||ee.comparator(e.key,t.key)}}class ar{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ue(or.Er)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,A,n){const r=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new KA(r,t,A,n);this.mutationQueue.push(s);for(const i of n)this.br=this.br.add(new or(i.key,r)),this.indexManager.addToCollectionParentIndex(e,i.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,t){return le.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const A=t+1,n=this.vr(A),r=n<0?0:n;return le.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const A=new or(t,0),n=new or(t,Number.POSITIVE_INFINITY),r=[];return this.br.forEachInRange([A,n],e=>{const t=this.Dr(e.wr);r.push(t)}),le.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let A=new Ue(z);return t.forEach(e=>{const t=new or(e,0),n=new or(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,n],e=>{A=A.add(e.wr)})}),le.resolve(this.Cr(A))}getAllMutationBatchesAffectingQuery(e,t){const A=t.path,n=A.length+1;let r=A;ee.isDocumentKey(r)||(r=r.child(""));const s=new or(new ee(r),0);let i=new Ue(z);return this.br.forEachWhile(e=>{const t=e.key.path;return!!A.isPrefixOf(t)&&(t.length===n&&(i=i.add(e.wr)),!0)},s),le.resolve(this.Cr(i))}Cr(e){const t=[];return e.forEach(e=>{const A=this.Dr(e);null!==A&&t.push(A)}),t}removeMutationBatch(e,t){S(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let A=this.br;return le.forEach(t.mutations,n=>{const r=new or(n.key,t.batchId);return A=A.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.br=A})}On(e){}containsKey(e,t){const A=new or(t,0),n=this.br.firstAfterOrEqual(A);return le.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lr{constructor(e){this.Mr=e,this.docs=new Ce(ee.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const A=t.key,n=this.docs.get(A),r=n?n.size:0,s=this.Mr(t);return this.docs=this.docs.insert(A,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,A.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const A=this.docs.get(t);return le.resolve(A?A.document.mutableCopy():it.newInvalidDocument(t))}getEntries(e,t){let A=$t();return t.forEach(e=>{const t=this.docs.get(e);A=A.insert(e,t?t.document.mutableCopy():it.newInvalidDocument(e))}),le.resolve(A)}getDocumentsMatchingQuery(e,t,A,n){let r=$t();const s=t.path,i=new ee(s.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||se(ne(i),A)<=0||(n.has(i.key)||Wt(t,i))&&(r=r.insert(i.key,i.mutableCopy()))}return le.resolve(r)}getAllFromCollectionGroup(e,t,A,n){k()}Or(e,t){return le.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new cr(this)}getSize(e){return le.resolve(this.size)}}class cr extends er{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((A,n)=>{n.isValidDocument()?t.push(this.cr.addEntry(e,n)):this.cr.removeEntry(A)}),le.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class ur{constructor(e){this.persistence=e,this.Nr=new Yt(e=>St(e),_t),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ir,this.targetCount=0,this.kr=$n.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,A)=>t(A)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,A){return A&&(this.lastRemoteSnapshotVersion=A),t>this.Lr&&(this.Lr=t),le.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new $n(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Kn(t),le.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,A){let n=0;const r=[];return this.Nr.forEach((s,i)=>{i.sequenceNumber<=t&&null===A.get(i.targetId)&&(this.Nr.delete(s),r.push(this.removeMatchingKeysForTargetId(e,i.targetId)),n++)}),le.waitFor(r).next(()=>n)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const A=this.Nr.get(t)||null;return le.resolve(A)}addMatchingKeys(e,t,A){return this.Br.Rr(t,A),le.resolve()}removeMatchingKeys(e,t,A){this.Br.mr(t,A);const n=this.persistence.referenceDelegate,r=[];return n&&t.forEach(t=>{r.push(n.markPotentiallyOrphaned(e,t))}),le.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const A=this.Br.yr(t);return le.resolve(A)}containsKey(e,t){return le.resolve(this.Br.containsKey(t))}}class dr{constructor(e,t){this.qr={},this.overlays={},this.Qr=new de(0),this.Kr=!1,this.Kr=!0,this.$r=new sr,this.referenceDelegate=e(this),this.Ur=new ur(this),this.indexManager=new Jn,this.remoteDocumentCache=function(e){return new lr(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new Wn(t),this.Gr=new nr(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rr,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let A=this.qr[e.toKey()];return A||(A=new ar(t,this.referenceDelegate),this.qr[e.toKey()]=A),A}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,A){U("MemoryPersistence","Starting transaction:",e);const n=new hr(this.Qr.next());return this.referenceDelegate.zr(),A(n).next(e=>this.referenceDelegate.jr(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}Hr(e,t){return le.or(Object.values(this.qr).map(A=>()=>A.containsKey(e,t)))}}class hr extends oe{constructor(e){super(),this.currentSequenceNumber=e}}class fr{constructor(e){this.persistence=e,this.Jr=new ir,this.Yr=null}static Zr(e){return new fr(e)}get Xr(){if(this.Yr)return this.Yr;throw k()}addReference(e,t,A){return this.Jr.addReference(A,t),this.Xr.delete(A.toString()),le.resolve()}removeReference(e,t,A){return this.Jr.removeReference(A,t),this.Xr.add(A.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),le.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const A=this.persistence.getTargetCache();return A.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>A.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,A=>{const n=ee.fromPath(A);return this.ei(e,n).next(e=>{e||t.removeEntry(n,X.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return le.or([()=>le.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class gr{constructor(e,t,A,n){this.targetId=e,this.fromCache=t,this.$i=A,this.Ui=n}static Wi(e,t){let A=aA(),n=aA();for(const r of t.docChanges)switch(r.type){case 0:A=A.add(r.doc.key);break;case 1:n=n.add(r.doc.key)}return new gr(e,t.fromCache,A,n)}}class pr{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mr{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,a.nr)()?8:ce((0,a.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,A,n){const r={result:null};return this.Yi(e,t).next(e=>{r.result=e}).next(()=>{if(!r.result)return this.Zi(e,t,n,A).next(e=>{r.result=e})}).next(()=>{if(r.result)return;const A=new pr;return this.Xi(e,t,A).next(n=>{if(r.result=n,this.zi)return this.es(e,t,A,n.size)})}).next(()=>r.result)}es(e,t,A,n){return A.documentReadCount<this.ji?(E()<=o.$b.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",zt(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(E()<=o.$b.DEBUG&&U("QueryEngine","Query:",zt(t),"scans",A.documentReadCount,"local documents and returns",n,"documents as results."),A.documentReadCount>this.Hi*n?(E()<=o.$b.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",zt(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pt(t))):le.resolve())}Yi(e,t){if(Ht(t))return le.resolve(null);let A=Pt(t);return this.indexManager.getIndexType(e,A).next(n=>0===n?null:(null!==t.limit&&1===n&&(t=Kt(t,null,"F"),A=Pt(t)),this.indexManager.getDocumentsMatchingTarget(e,A).next(n=>{const r=aA(...n);return this.Ji.getDocuments(e,r).next(n=>this.indexManager.getMinOffset(e,A).next(A=>{const s=this.ts(t,n);return this.ns(t,s,r,A.readTime)?this.Yi(e,Kt(t,null,"F")):this.rs(e,s,t,A)}))})))}Zi(e,t,A,n){return Ht(t)||n.isEqual(X.min())?le.resolve(null):this.Ji.getDocuments(e,A).next(r=>{const s=this.ts(t,r);return this.ns(t,s,A,n)?le.resolve(null):(E()<=o.$b.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),zt(t)),this.rs(e,s,t,Ae(n,-1)).next(e=>e))})}ts(e,t){let A=new Ue(Xt(e));return t.forEach((t,n)=>{Wt(e,n)&&(A=A.add(n))}),A}ns(e,t,A,n){if(null===e.limit)return!1;if(A.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(n)>0)}Xi(e,t,A){return E()<=o.$b.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",zt(t)),this.Ji.getDocumentsMatchingQuery(e,t,re.min(),A)}rs(e,t,A,n){return this.Ji.getDocumentsMatchingQuery(e,A,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class wr{constructor(e,t,A,n){this.persistence=e,this.ss=t,this.serializer=n,this.os=new Ce(z),this._s=new Yt(e=>St(e),_t),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(A)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ar(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function yr(e,t,A,n){return new wr(e,t,A,n)}async function Br(e,t){const A=_(e);return await A.persistence.runTransaction("Handle user change","readonly",e=>{let n;return A.mutationQueue.getAllMutationBatches(e).next(r=>(n=r,A.ls(t),A.mutationQueue.getAllMutationBatches(e))).next(t=>{const r=[],s=[];let i=aA();for(const e of n){r.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return A.localDocuments.getDocuments(e,i).next(e=>({hs:e,removedBatchIds:r,addedBatchIds:s}))})})}function vr(e){const t=_(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function br(e,t,A){let n=aA(),r=aA();return A.forEach(e=>n=n.add(e)),t.getEntries(e,n).next(e=>{let n=$t();return A.forEach((A,s)=>{const i=e.get(A);s.isFoundDocument()!==i.isFoundDocument()&&(r=r.add(A)),s.isNoDocument()&&s.version.isEqual(X.min())?(t.removeEntry(A,s.readTime),n=n.insert(A,s)):!i.isValidDocument()||s.version.compareTo(i.version)>0||0===s.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(s),n=n.insert(A,s)):U("LocalStore","Ignoring outdated watch update for ",A,". Current version:",i.version," Watch version:",s.version)}),{Ps:n,Is:r}})}function Cr(e,t){const A=_(e);return A.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),A.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function xr(e,t){const A=_(e);return A.persistence.runTransaction("Allocate target","readwrite",e=>{let n;return A.Ur.getTargetData(e,t).next(r=>r?(n=r,le.resolve(n)):A.Ur.allocateTargetId(e).next(r=>(n=new zn(t,r,"TargetPurposeListen",e.currentSequenceNumber),A.Ur.addTargetData(e,n).next(()=>n))))}).then(e=>{const n=A.os.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(A.os=A.os.insert(e.targetId,e),A._s.set(t,e.targetId)),e})}async function Er(e,t,A){const n=_(e),r=n.os.get(t),s=A?"readwrite":"readwrite-primary";try{A||await n.persistence.runTransaction("Release target",s,e=>n.persistence.referenceDelegate.removeTarget(e,r))}catch(e){if(!ue(e))throw e;U("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}n.os=n.os.remove(t),n._s.delete(r.target)}function Ur(e,t,A){const n=_(e);let r=X.min(),s=aA();return n.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,A){const n=_(e),r=n._s.get(A);return void 0!==r?le.resolve(n.os.get(r)):n.Ur.getTargetData(t,A)}(n,e,Pt(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>n.ss.getDocumentsMatchingQuery(e,t,A?r:X.min(),A?s:aA())).next(e=>(Qr(n,qt(t),e),{documents:e,Ts:s})))}function Qr(e,t,A){let n=e.us.get(t)||X.min();A.forEach((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)}),e.us.set(t,n)}class Fr{constructor(){this.activeTargetIds=cA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ir{constructor(){this.so=new Fr,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,A){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,A){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Fr,Promise.resolve()}handleUserChange(e,t,A){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kr{_o(e){}shutdown(){}}class Sr{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _r=null;function Tr(){return null===_r?_r=268435456+Math.round(2147483648*Math.random()):_r++,"0x"+_r.toString(16)}const Nr={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dr{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Lr="WebChannelConnection";class Hr extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",A=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(A,"/databases/").concat(n),this.Co="(default)"===this.databaseId.database?"project_id=".concat(A):"project_id=".concat(A,"&database_id=").concat(n)}get Fo(){return!1}Mo(e,t,A,n,r){const s=Tr(),i=this.xo(e,t.toUriEncodedString());U("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),i,A);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,n,r),this.No(e,i,o,A).then(t=>(U("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw F("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",i,"request:",A),t})}Lo(e,t,A,n,r,s){return this.Mo(e,t,A,n,r)}Oo(e,t,A){e["X-Goog-Api-Client"]="gl-js/ fire/"+C,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,A)=>e[A]=t),A&&A.headers.forEach((t,A)=>e[A]=t)}xo(e,t){const A=Nr[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(A)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,A,n){const r=Tr();return new Promise((s,i)=>{const o=new u;o.setWithCredentials(!0),o.listenOnce(h.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case f.NO_ERROR:const t=o.getResponseJson();U(Lr,"XHR for RPC '".concat(e,"' ").concat(r," received:"),JSON.stringify(t)),s(t);break;case f.TIMEOUT:U(Lr,"RPC '".concat(e,"' ").concat(r," timed out")),i(new N(T.DEADLINE_EXCEEDED,"Request time out"));break;case f.HTTP_ERROR:const A=o.getStatus();if(U(Lr,"RPC '".concat(e,"' ").concat(r," failed with status:"),A,"response text:",o.getResponseText()),A>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(t)>=0?t:T.UNKNOWN}(t.status);i(new N(e,t.message))}else i(new N(T.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new N(T.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{U(Lr,"RPC '".concat(e,"' ").concat(r," completed."))}});const a=JSON.stringify(n);U(Lr,"RPC '".concat(e,"' ").concat(r," sending request:"),n),o.send(t,"POST",a,A,15)})}Bo(e,t,A){const n=Tr(),r=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=w(),i=m(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},a=this.longPollingOptions.timeoutSeconds;void 0!==a&&(o.longPollingTimeout=Math.round(1e3*a)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,A),o.encodeInitMessageHeaders=!0;const l=r.join("");U(Lr,"Creating RPC '".concat(e,"' stream ").concat(n,": ").concat(l),o);const c=s.createWebChannel(l,o);let u=!1,h=!1;const f=new Dr({Io:t=>{h?U(Lr,"Not sending because RPC '".concat(e,"' stream ").concat(n," is closed:"),t):(u||(U(Lr,"Opening RPC '".concat(e,"' stream ").concat(n," transport.")),c.open(),u=!0),U(Lr,"RPC '".concat(e,"' stream ").concat(n," sending:"),t),c.send(t))},To:()=>c.close()}),y=(e,t,A)=>{e.listen(t,e=>{try{A(e)}catch(e){setTimeout(()=>{throw e},0)}})};return y(c,d.EventType.OPEN,()=>{h||(U(Lr,"RPC '".concat(e,"' stream ").concat(n," transport opened.")),f.yo())}),y(c,d.EventType.CLOSE,()=>{h||(h=!0,U(Lr,"RPC '".concat(e,"' stream ").concat(n," transport closed")),f.So())}),y(c,d.EventType.ERROR,t=>{h||(h=!0,F(Lr,"RPC '".concat(e,"' stream ").concat(n," transport errored:"),t),f.So(new N(T.UNAVAILABLE,"The operation could not be completed")))}),y(c,d.EventType.MESSAGE,t=>{var A;if(!h){const r=t.data[0];S(!!r);const s=r,i=s.error||(null===(A=s[0])||void 0===A?void 0:A.error);if(i){U(Lr,"RPC '".concat(e,"' stream ").concat(n," received error:"),i);const t=i.status;let A=function(e){const t=WA[e];if(void 0!==t)return JA(t)}(t),r=i.message;void 0===A&&(A=T.INTERNAL,r="Unknown error status: "+t+" with message "+i.message),h=!0,f.So(new N(A,r)),c.close()}else U(Lr,"RPC '".concat(e,"' stream ").concat(n," received:"),r),f.bo(r)}}),y(i,p.STAT_EVENT,t=>{t.stat===g.PROXY?U(Lr,"RPC '".concat(e,"' stream ").concat(n," detected buffering proxy")):t.stat===g.NOPROXY&&U(Lr,"RPC '".concat(e,"' stream ").concat(n," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function Or(){return"undefined"!=typeof document?document:null}function Rr(e){return new mn(e,!0)}class Pr{constructor(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=A,this.qo=n,this.Qo=r,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),A=Math.max(0,Date.now()-this.Uo),n=Math.max(0,t-A);n>0&&U("ExponentialBackoff","Backing off for ".concat(n," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(A," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,n,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Mr{constructor(e,t,A,n,r,s,i,o){this.ui=e,this.Ho=A,this.Jo=n,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=i,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Pr(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===T.RESOURCE_EXHAUSTED?(Q(t.toString()),Q("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===T.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[A,n]=e;this.Yo===t&&this.P_(A,n)},t=>{e(()=>{const e=new N(T.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const A=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{A(()=>this.listener.Eo())}),this.stream.Ro(()=>{A(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{A(()=>this.I_(e))}),this.stream.onMessage(e=>{A(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return U("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jr extends Mr{constructor(e,t,A,n,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,A,n,s),this.serializer=r}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let A;if("targetChange"in t){t.targetChange;const n=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:k()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(S(void 0===t||"string"==typeof t),ke.fromBase64String(t||"")):(S(void 0===t||t instanceof Buffer||t instanceof Uint8Array),ke.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,o=i&&function(e){const t=void 0===e.code?T.UNKNOWN:JA(e.code);return new N(t,e.message||"")}(i);A=new ln(n,r,s,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const r=Qn(e,n.document.name),s=bn(n.document.updateTime),i=n.document.createTime?bn(n.document.createTime):X.min(),o=new rt({mapValue:{fields:n.document.fields}}),a=it.newFoundDocument(r,s,i,o),l=n.targetIds||[],c=n.removedTargetIds||[];A=new on(l,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const r=Qn(e,n.document),s=n.readTime?bn(n.readTime):X.min(),i=it.newNoDocument(r,s),o=n.removedTargetIds||[];A=new on([],o,i.key,i)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const r=Qn(e,n.document),s=n.removedTargetIds||[];A=new on([],s,r,null)}else{if(!("filter"in t))return k();{t.filter;const e=t.filter;e.targetId;const{count:n=0,unchangedNames:r}=e,s=new zA(n,r),i=e.targetId;A=new an(i,s)}}return A}(this.serializer,e),A=function(e){if(!("targetChange"in e))return X.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?X.min():t.readTime?bn(t.readTime):X.min()}(e);return this.listener.d_(t,A)}A_(e){const t={};t.database=kn(this.serializer),t.addTarget=function(e,t){let A;const n=t.target;if(A=Tt(n)?{documents:Nn(e,n)}:{query:Dn(e,n)._t},A.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){A.resumeToken=Bn(e,t.resumeToken);const n=wn(e,t.expectedCount);null!==n&&(A.expectedCount=n)}else if(t.snapshotVersion.compareTo(X.min())>0){A.readTime=yn(e,t.snapshotVersion.toTimestamp());const n=wn(e,t.expectedCount);null!==n&&(A.expectedCount=n)}return A}(this.serializer,e);const A=function(e,t){const A=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(t.purpose);return null==A?null:{"goog-listen-tags":A}}(this.serializer,e);A&&(t.labels=A),this.a_(t)}R_(e){const t={};t.database=kn(this.serializer),t.removeTarget=e,this.a_(t)}}class Kr extends Mr{constructor(e,t,A,n,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,A,n,s),this.serializer=r}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return S(!!e.streamToken),this.lastStreamToken=e.streamToken,S(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){S(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(S(void 0!==t),e.map(e=>function(e,t){let A=e.updateTime?bn(e.updateTime):bn(t);return A.isEqual(X.min())&&(A=bn(t)),new QA(A,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),A=bn(e.commitTime);return this.listener.g_(A,t)}p_(){const e={};e.database=kn(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Tn(this.serializer,e))};this.a_(t)}}class Vr extends class{}{constructor(e,t,A,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=A,this.serializer=n,this.y_=!1}w_(){if(this.y_)throw new N(T.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,A,n){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[s,i]=r;return this.connection.Mo(e,xn(t,A),n,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new N(T.UNKNOWN,e.toString())})}Lo(e,t,A,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,o]=s;return this.connection.Lo(e,xn(t,A),n,i,o,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new N(T.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Gr{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(Q(t),this.D_=!1):U("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class zr{constructor(e,t,A,n,r){this.localStore=e,this.datastore=t,this.asyncQueue=A,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=r,this.k_._o(e=>{A.enqueueAndForget(async()=>{ts(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=_(e);t.L_.add(4),await qr(t),t.q_.set("Unknown"),t.L_.delete(4),await Wr(t)}(this))})}),this.q_=new Gr(A,n)}}async function Wr(e){if(ts(e))for(const t of e.B_)await t(!0)}async function qr(e){for(const t of e.B_)await t(!1)}function Xr(e,t){const A=_(e);A.N_.has(t.targetId)||(A.N_.set(t.targetId,t),es(A)?$r(A):Bs(A).r_()&&Yr(A,t))}function Jr(e,t){const A=_(e),n=Bs(A);A.N_.delete(t),n.r_()&&Zr(A,t),0===A.N_.size&&(n.r_()?n.o_():ts(A)&&A.q_.set("Unknown"))}function Yr(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(X.min())>0){const A=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(A)}Bs(e).A_(t)}function Zr(e,t){e.Q_.xe(t),Bs(e).R_(t)}function $r(e){e.Q_=new un({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Bs(e).start(),e.q_.v_()}function es(e){return ts(e)&&!Bs(e).n_()&&e.N_.size>0}function ts(e){return 0===_(e).L_.size}function As(e){e.Q_=void 0}async function ns(e){e.q_.set("Online")}async function rs(e){e.N_.forEach((t,A)=>{Yr(e,t)})}async function ss(e,t){As(e),es(e)?(e.q_.M_(t),$r(e)):e.q_.set("Unknown")}async function is(e,t,A){if(e.q_.set("Online"),t instanceof ln&&2===t.state&&t.cause)try{await async function(e,t){const A=t.cause;for(const n of t.targetIds)e.N_.has(n)&&(await e.remoteSyncer.rejectListen(n,A),e.N_.delete(n),e.Q_.removeTarget(n))}(e,t)}catch(A){U("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),A),await os(e,A)}else if(t instanceof on?e.Q_.Ke(t):t instanceof an?e.Q_.He(t):e.Q_.We(t),!A.isEqual(X.min()))try{const t=await vr(e.localStore);A.compareTo(t)>=0&&await function(e,t){const A=e.Q_.rt(t);return A.targetChanges.forEach((A,n)=>{if(A.resumeToken.approximateByteSize()>0){const r=e.N_.get(n);r&&e.N_.set(n,r.withResumeToken(A.resumeToken,t))}}),A.targetMismatches.forEach((t,A)=>{const n=e.N_.get(t);if(!n)return;e.N_.set(t,n.withResumeToken(ke.EMPTY_BYTE_STRING,n.snapshotVersion)),Zr(e,t);const r=new zn(n.target,t,A,n.sequenceNumber);Yr(e,r)}),e.remoteSyncer.applyRemoteEvent(A)}(e,A)}catch(t){U("RemoteStore","Failed to raise snapshot:",t),await os(e,t)}}async function os(e,t,A){if(!ue(t))throw t;e.L_.add(1),await qr(e),e.q_.set("Offline"),A||(A=()=>vr(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await A(),e.L_.delete(1),await Wr(e)})}function as(e,t){return t().catch(A=>os(e,A,t))}async function ls(e){const t=_(e),A=vs(t);let n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;cs(t);)try{const e=await Cr(t.localStore,n);if(null===e){0===t.O_.length&&A.o_();break}n=e.batchId,us(t,e)}catch(e){await os(t,e)}ds(t)&&hs(t)}function cs(e){return ts(e)&&e.O_.length<10}function us(e,t){e.O_.push(t);const A=vs(e);A.r_()&&A.V_&&A.m_(t.mutations)}function ds(e){return ts(e)&&!vs(e).n_()&&e.O_.length>0}function hs(e){vs(e).start()}async function fs(e){vs(e).p_()}async function gs(e){const t=vs(e);for(const A of e.O_)t.m_(A.mutations)}async function ps(e,t,A){const n=e.O_.shift(),r=VA.from(n,t,A);await as(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await ls(e)}async function ms(e,t){t&&vs(e).V_&&await async function(e,t){if(function(e){return XA(e)&&e!==T.ABORTED}(t.code)){const A=e.O_.shift();vs(e).s_(),await as(e,()=>e.remoteSyncer.rejectFailedWrite(A.batchId,t)),await ls(e)}}(e,t),ds(e)&&hs(e)}async function ws(e,t){const A=_(e);A.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const n=ts(A);A.L_.add(3),await qr(A),n&&A.q_.set("Unknown"),await A.remoteSyncer.handleCredentialChange(t),A.L_.delete(3),await Wr(A)}async function ys(e,t){const A=_(e);t?(A.L_.delete(2),await Wr(A)):t||(A.L_.add(2),await qr(A),A.q_.set("Unknown"))}function Bs(e){return e.K_||(e.K_=function(e,t,A){const n=_(e);return n.w_(),new jr(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,A)}(e.datastore,e.asyncQueue,{Eo:ns.bind(null,e),Ro:rs.bind(null,e),mo:ss.bind(null,e),d_:is.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),es(e)?$r(e):e.q_.set("Unknown")):(await e.K_.stop(),As(e))})),e.K_}function vs(e){return e.U_||(e.U_=function(e,t,A){const n=_(e);return n.w_(),new Kr(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,A)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fs.bind(null,e),mo:ms.bind(null,e),f_:gs.bind(null,e),g_:ps.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await ls(e)):(await e.U_.stop(),e.O_.length>0&&(U("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class bs{constructor(e,t,A,n,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=A,this.op=n,this.removalCallback=r,this.deferred=new D,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,A,n,r){const s=Date.now()+A,i=new bs(e,t,s,n,r);return i.start(A),i}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new N(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cs(e,t){if(Q("AsyncQueue","".concat(t,": ").concat(e)),ue(e))return new N(T.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class xs{constructor(e){this.comparator=e?(t,A)=>e(t,A)||ee.comparator(t.key,A.key):(e,t)=>ee.comparator(e.key,t.key),this.keyedMap=tA(),this.sortedSet=new Ce(this.comparator)}static emptySet(e){return new xs(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,A)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xs))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),A=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=A.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const A=new xs;return A.comparator=this.comparator,A.keyedMap=e,A.sortedSet=t,A}}class Es{constructor(){this.W_=new Ce(ee.comparator)}track(e){const t=e.doc.key,A=this.W_.get(t);A?0!==e.type&&3===A.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==A.type?this.W_=this.W_.insert(t,{type:A.type,doc:e.doc}):2===e.type&&2===A.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===A.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===A.type?this.W_=this.W_.remove(t):1===e.type&&2===A.type?this.W_=this.W_.insert(t,{type:1,doc:A.doc}):0===e.type&&1===A.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):k():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,A)=>{e.push(A)}),e}}class Us{constructor(e,t,A,n,r,s,i,o,a){this.query=e,this.docs=t,this.oldDocs=A,this.docChanges=n,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=i,this.excludesMetadataChanges=o,this.hasCachedResults=a}static fromInitialDocuments(e,t,A,n,r){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Us(e,t,xs.emptySet(t),s,A,n,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,A=e.docChanges;if(t.length!==A.length)return!1;for(let n=0;n<t.length;n++)if(t[n].type!==A[n].type||!t[n].doc.isEqual(A[n].doc))return!1;return!0}}class Qs{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Fs{constructor(){this.queries=Is(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const A=_(e),n=A.queries;A.queries=Is(),n.forEach((e,A)=>{for(const n of A.j_)n.onError(t)})}(this,new N(T.ABORTED,"Firestore shutting down"))}}function Is(){return new Yt(e=>Gt(e),Vt)}async function ks(e,t){const A=_(e);let n=3;const r=t.query;let s=A.queries.get(r);s?!s.H_()&&t.J_()&&(n=2):(s=new Qs,n=t.J_()?0:1);try{switch(n){case 0:s.z_=await A.onListen(r,!0);break;case 1:s.z_=await A.onListen(r,!1);break;case 2:await A.onFirstRemoteStoreListen(r)}}catch(e){const A=Cs(e,"Initialization of query '".concat(zt(t.query),"' failed"));return void t.onError(A)}A.queries.set(r,s),s.j_.push(t),t.Z_(A.onlineState),s.z_&&t.X_(s.z_)&&Ns(A)}async function Ss(e,t){const A=_(e),n=t.query;let r=3;const s=A.queries.get(n);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?r=t.J_()?0:1:!s.H_()&&t.J_()&&(r=2))}switch(r){case 0:return A.queries.delete(n),A.onUnlisten(n,!0);case 1:return A.queries.delete(n),A.onUnlisten(n,!1);case 2:return A.onLastRemoteStoreUnlisten(n);default:return}}function _s(e,t){const A=_(e);let n=!1;for(const r of t){const e=r.query,t=A.queries.get(e);if(t){for(const e of t.j_)e.X_(r)&&(n=!0);t.z_=r}}n&&Ns(A)}function Ts(e,t,A){const n=_(e),r=n.queries.get(t);if(r)for(const s of r.j_)s.onError(A);n.queries.delete(t)}function Ns(e){e.Y_.forEach(e=>{e.next()})}var Ds,Ls;(Ls=Ds||(Ds={})).ea="default",Ls.Cache="cache";class Hs{constructor(e,t,A){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=A||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const A of e.docChanges)3!==A.type&&t.push(A);e=new Us(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const A="Offline"!==t;return(!this.options._a||!A)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ds.Cache}}class Os{constructor(e){this.key=e}}class Rs{constructor(e){this.key=e}}class Ps{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=aA(),this.mutatedKeys=aA(),this.Aa=Xt(e),this.Ra=new xs(this.Aa)}get Va(){return this.Ta}ma(e,t){const A=t?t.fa:new Es,n=t?t.Ra:this.Ra;let r=t?t.mutatedKeys:this.mutatedKeys,s=n,i=!1;const o="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,a="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((e,t)=>{const l=n.get(e),c=Wt(this.query,t)?t:null,u=!!l&&this.mutatedKeys.has(l.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let h=!1;l&&c?l.data.isEqual(c.data)?u!==d&&(A.track({type:3,doc:c}),h=!0):this.ga(l,c)||(A.track({type:2,doc:c}),h=!0,(o&&this.Aa(c,o)>0||a&&this.Aa(c,a)<0)&&(i=!0)):!l&&c?(A.track({type:0,doc:c}),h=!0):l&&!c&&(A.track({type:1,doc:l}),h=!0,(o||a)&&(i=!0)),h&&(c?(s=s.add(c),r=d?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),A.track({type:1,doc:e})}return{Ra:s,fa:A,ns:i,mutatedKeys:r}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,A,n){const r=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const A=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return A(e)-A(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(A),n=null!=n&&n;const i=t&&!n?this.ya():[],o=0===this.da.size&&this.current&&!n?1:0,a=o!==this.Ea;return this.Ea=o,0!==s.length||a?{snapshot:new Us(this.query,e.Ra,r,s,e.mutatedKeys,0===o,a,!1,!!A&&A.resumeToken.approximateByteSize()>0),wa:i}:{wa:i}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Es,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=aA(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new Rs(e))}),this.da.forEach(A=>{e.has(A)||t.push(new Os(A))}),t}ba(e){this.Ta=e.Ts,this.da=aA();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Us.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Ms{constructor(e,t,A){this.query=e,this.targetId=t,this.view=A}}class js{constructor(e){this.key=e,this.va=!1}}class Ks{constructor(e,t,A,n,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=A,this.sharedClientState=n,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Yt(e=>Gt(e),Vt),this.Ma=new Map,this.xa=new Set,this.Oa=new Ce(ee.comparator),this.Na=new Map,this.La=new ir,this.Ba={},this.ka=new Map,this.qa=$n.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Vs(e,t){let A=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=ui(e);let r;const s=n.Fa.get(t);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await zs(n,t,A,!0),r}async function Gs(e,t){const A=ui(e);await zs(A,t,!0,!1)}async function zs(e,t,A,n){const r=await xr(e.localStore,Pt(t)),s=r.targetId,i=e.sharedClientState.addLocalQueryTarget(s,A);let o;return n&&(o=await Ws(e,t,s,"current"===i,r.resumeToken)),e.isPrimaryClient&&A&&Xr(e.remoteStore,r),o}async function Ws(e,t,A,n,r){e.Ka=(t,A,n)=>async function(e,t,A,n){let r=t.view.ma(A);r.ns&&(r=await Ur(e.localStore,t.query,!1).then(e=>{let{documents:A}=e;return t.view.ma(A,r)}));const s=n&&n.targetChanges.get(t.targetId),i=n&&null!=n.targetMismatches.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,s,i);return si(e,t.targetId,o.wa),o.snapshot}(e,t,A,n);const s=await Ur(e.localStore,t,!0),i=new Ps(t,s.Ts),o=i.ma(s.documents),a=sn.createSynthesizedTargetChangeForCurrentChange(A,n&&"Offline"!==e.onlineState,r),l=i.applyChanges(o,e.isPrimaryClient,a);si(e,A,l.wa);const c=new Ms(t,A,i);return e.Fa.set(t,c),e.Ma.has(A)?e.Ma.get(A).push(t):e.Ma.set(A,[t]),l.snapshot}async function qs(e,t,A){const n=_(e),r=n.Fa.get(t),s=n.Ma.get(r.targetId);if(s.length>1)return n.Ma.set(r.targetId,s.filter(e=>!Vt(e,t))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Er(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),A&&Jr(n.remoteStore,r.targetId),ni(n,r.targetId)}).catch(ae)):(ni(n,r.targetId),await Er(n.localStore,r.targetId,!0))}async function Xs(e,t){const A=_(e),n=A.Fa.get(t),r=A.Ma.get(n.targetId);A.isPrimaryClient&&1===r.length&&(A.sharedClientState.removeLocalQueryTarget(n.targetId),Jr(A.remoteStore,n.targetId))}async function Js(e,t){const A=_(e);try{const e=await function(e,t){const A=_(e),n=t.snapshotVersion;let r=A.os;return A.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=A.cs.newChangeBuffer({trackRemovals:!0});r=A.os;const i=[];t.targetChanges.forEach((s,o)=>{const a=r.get(o);if(!a)return;i.push(A.Ur.removeMatchingKeys(e,s.removedDocuments,o).next(()=>A.Ur.addMatchingKeys(e,s.addedDocuments,o)));let l=a.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?l=l.withResumeToken(ke.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,n)),r=r.insert(o,l),function(e,t,A){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(a,l,s)&&i.push(A.Ur.updateTargetData(e,l))});let o=$t(),a=aA();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&i.push(A.persistence.referenceDelegate.updateLimboDocument(e,n))}),i.push(br(e,s,t.documentUpdates).next(e=>{o=e.Ps,a=e.Is})),!n.isEqual(X.min())){const t=A.Ur.getLastRemoteSnapshotVersion(e).next(t=>A.Ur.setTargetsMetadata(e,e.currentSequenceNumber,n));i.push(t)}return le.waitFor(i).next(()=>s.apply(e)).next(()=>A.localDocuments.getLocalViewOfDocuments(e,o,a)).next(()=>o)}).then(e=>(A.os=r,e))}(A.localStore,t);t.targetChanges.forEach((e,t)=>{const n=A.Na.get(t);n&&(S(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.va=!0:e.modifiedDocuments.size>0?S(n.va):e.removedDocuments.size>0&&(S(n.va),n.va=!1))}),await ai(A,e,t)}catch(e){await ae(e)}}function Ys(e,t,A){const n=_(e);if(n.isPrimaryClient&&0===A||!n.isPrimaryClient&&1===A){const e=[];n.Fa.forEach((A,n)=>{const r=n.view.Z_(t);r.snapshot&&e.push(r.snapshot)}),function(e,t){const A=_(e);A.onlineState=t;let n=!1;A.queries.forEach((e,A)=>{for(const r of A.j_)r.Z_(t)&&(n=!0)}),n&&Ns(A)}(n.eventManager,t),e.length&&n.Ca.d_(e),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function Zs(e,t,A){const n=_(e);n.sharedClientState.updateQueryState(t,"rejected",A);const r=n.Na.get(t),s=r&&r.key;if(s){let e=new Ce(ee.comparator);e=e.insert(s,it.newNoDocument(s,X.min()));const A=aA().add(s),r=new rn(X.min(),new Map,new Ce(z),e,A);await Js(n,r),n.Oa=n.Oa.remove(s),n.Na.delete(t),oi(n)}else await Er(n.localStore,t,!1).then(()=>ni(n,t,A)).catch(ae)}async function $s(e,t){const A=_(e),n=t.batch.batchId;try{const e=await function(e,t){const A=_(e);return A.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const n=t.batch.keys(),r=A.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,A,n){const r=A.batch,s=r.keys();let i=le.resolve();return s.forEach(e=>{i=i.next(()=>n.getEntry(t,e)).next(t=>{const s=A.docVersions.get(e);S(null!==s),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,A),t.isValidDocument()&&(t.setReadTime(A.commitVersion),n.addEntry(t)))})}),i.next(()=>e.mutationQueue.removeMutationBatch(t,r))}(A,e,t,r).next(()=>r.apply(e)).next(()=>A.mutationQueue.performConsistencyCheck(e)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=aA();for(let A=0;A<e.mutationResults.length;++A)e.mutationResults[A].transformResults.length>0&&(t=t.add(e.batch.mutations[A].key));return t}(t))).next(()=>A.localDocuments.getDocuments(e,n))})}(A.localStore,t);Ai(A,n,null),ti(A,n),A.sharedClientState.updateMutationState(n,"acknowledged"),await ai(A,e)}catch(e){await ae(e)}}async function ei(e,t,A){const n=_(e);try{const e=await function(e,t){const A=_(e);return A.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return A.mutationQueue.lookupMutationBatch(e,t).next(t=>(S(null!==t),n=t.keys(),A.mutationQueue.removeMutationBatch(e,t))).next(()=>A.mutationQueue.performConsistencyCheck(e)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>A.localDocuments.getDocuments(e,n))})}(n.localStore,t);Ai(n,t,A),ti(n,t),n.sharedClientState.updateMutationState(t,"rejected",A),await ai(n,e)}catch(A){await ae(A)}}function ti(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function Ai(e,t,A){const n=_(e);let r=n.Ba[n.currentUser.toKey()];if(r){const e=r.get(t);e&&(A?e.reject(A):e.resolve(),r=r.remove(t)),n.Ba[n.currentUser.toKey()]=r}}function ni(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Ma.get(t))e.Fa.delete(n),A&&e.Ca.$a(n,A);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||ri(e,t)})}function ri(e,t){e.xa.delete(t.path.canonicalString());const A=e.Oa.get(t);null!==A&&(Jr(e.remoteStore,A),e.Oa=e.Oa.remove(t),e.Na.delete(A),oi(e))}function si(e,t,A){for(const n of A)n instanceof Os?(e.La.addReference(n.key,t),ii(e,n)):n instanceof Rs?(U("SyncEngine","Document no longer in limbo: "+n.key),e.La.removeReference(n.key,t),e.La.containsKey(n.key)||ri(e,n.key)):k()}function ii(e,t){const A=t.key,n=A.path.canonicalString();e.Oa.get(A)||e.xa.has(n)||(U("SyncEngine","New document in limbo: "+A),e.xa.add(n),oi(e))}function oi(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const A=new ee(Y.fromString(t)),n=e.qa.next();e.Na.set(n,new js(A)),e.Oa=e.Oa.insert(A,n),Xr(e.remoteStore,new zn(Pt(Lt(A.path)),n,"TargetPurposeLimboResolution",de.oe))}}async function ai(e,t,A){const n=_(e),r=[],s=[],i=[];n.Fa.isEmpty()||(n.Fa.forEach((e,o)=>{i.push(n.Ka(o,t,A).then(e=>{var t;if((e||A)&&n.isPrimaryClient){const r=e?!e.fromCache:null===(t=null==A?void 0:A.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;n.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(e){r.push(e);const t=gr.Wi(o.targetId,e);s.push(t)}}))}),await Promise.all(i),n.Ca.d_(r),await async function(e,t){const A=_(e);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>le.forEach(t,t=>le.forEach(t.$i,n=>A.persistence.referenceDelegate.addReference(e,t.targetId,n)).next(()=>le.forEach(t.Ui,n=>A.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))}catch(e){if(!ue(e))throw e;U("LocalStore","Failed to update sequence numbers: "+e)}for(const n of t){const e=n.targetId;if(!n.fromCache){const t=A.os.get(e),n=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(n);A.os=A.os.insert(e,r)}}}(n.localStore,s))}async function li(e,t){const A=_(e);if(!A.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());const e=await Br(A.localStore,t);A.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new N(T.CANCELLED,t))})}),e.ka.clear()}(A,"'waitForPendingWrites' promise is rejected due to a user change."),A.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ai(A,e.hs)}}function ci(e,t){const A=_(e),n=A.Na.get(t);if(n&&n.va)return aA().add(n.key);{let e=aA();const n=A.Ma.get(t);if(!n)return e;for(const t of n){const n=A.Fa.get(t);e=e.unionWith(n.view.Va)}return e}}function ui(e){const t=_(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Js.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ci.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zs.bind(null,t),t.Ca.d_=_s.bind(null,t.eventManager),t.Ca.$a=Ts.bind(null,t.eventManager),t}function di(e){const t=_(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$s.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ei.bind(null,t),t}class hi{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rr(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return yr(this.persistence,new mr,e.initialUser,this.serializer)}Ga(e){return new dr(fr.Zr,this.serializer)}Wa(e){return new Ir}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hi.provider={build:()=>new hi};class fi{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ys(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=li.bind(null,this.syncEngine),await ys(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Fs}createDatastore(e){const t=Rr(e.databaseInfo.databaseId),A=function(e){return new Hr(e)}(e.databaseInfo);return function(e,t,A,n){return new Vr(e,t,A,n)}(e.authCredentials,e.appCheckCredentials,A,t)}createRemoteStore(e){return function(e,t,A,n,r){return new zr(e,t,A,n,r)}(this.localStore,this.datastore,e.asyncQueue,e=>Ys(this.syncEngine,e,0),Sr.D()?new Sr:new kr)}createSyncEngine(e,t){return function(e,t,A,n,r,s,i){const o=new Ks(e,t,A,n,r,s);return i&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=_(e);U("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await qr(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}fi.provider={build:()=>new fi};class gi{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Q("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class pi{constructor(e,t,A,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=A,this.databaseInfo=n,this.user=b.UNAUTHENTICATED,this.clientId=G.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(A,async e=>{U("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(A,e=>(U("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new D;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const A=Cs(t,"Failed to shutdown persistence");e.reject(A)}}),e.promise}}async function mi(e,t){e.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const A=e.configuration;await t.initialize(A);let n=A.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await Br(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function wi(e,t){e.asyncQueue.verifyOperationInProgress();const A=await yi(e);U("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(A,e.configuration),e.setCredentialChangeListener(e=>ws(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,A)=>ws(t.remoteStore,A)),e._onlineComponents=t}async function yi(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await mi(e,e._uninitializedComponentsProvider._offline)}catch(t){const A=t;if(!function(e){return"FirebaseError"===e.name?e.code===T.FAILED_PRECONDITION||e.code===T.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(A))throw A;F("Error using user provided cache. Falling back to memory cache: "+A),await mi(e,new hi)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await mi(e,new hi);return e._offlineComponents}async function Bi(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await wi(e,e._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await wi(e,new fi))),e._onlineComponents}function vi(e){return Bi(e).then(e=>e.syncEngine)}async function bi(e){const t=await Bi(e),A=t.eventManager;return A.onListen=Vs.bind(null,t.syncEngine),A.onUnlisten=qs.bind(null,t.syncEngine),A.onFirstRemoteStoreListen=Gs.bind(null,t.syncEngine),A.onLastRemoteStoreUnlisten=Xs.bind(null,t.syncEngine),A}function Ci(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=new D;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,A,n,r){const s=new gi({next:o=>{s.Za(),t.enqueueAndForget(()=>Ss(e,i));const a=o.docs.has(A);!a&&o.fromCache?r.reject(new N(T.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&n&&"server"===n.source?r.reject(new N(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:e=>r.reject(e)}),i=new Hs(Lt(A.path),s,{includeMetadataChanges:!0,_a:!0});return ks(e,i)}(await bi(e),e.asyncQueue,t,A,n)),n.promise}function xi(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=new D;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,A,n,r){const s=new gi({next:A=>{s.Za(),t.enqueueAndForget(()=>Ss(e,i)),A.fromCache&&"server"===n.source?r.reject(new N(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(A)},error:e=>r.reject(e)}),i=new Hs(A,s,{includeMetadataChanges:!0,_a:!0});return ks(e,i)}(await bi(e),e.asyncQueue,t,A,n)),n.promise}function Ei(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ui=new Map;function Qi(e,t,A){if(!A)throw new N(T.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Fi(e){if(!ee.isDocumentKey(e))throw new N(T.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ii(e){if(ee.isDocumentKey(e))throw new N(T.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ki(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":k()}function Si(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new N(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const A=ki(e);throw new N(T.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(A))}}return e}function _i(e,t){if(t<=0)throw new N(T.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Ti{constructor(e){var t,A;if(void 0===e.host){if(void 0!==e.ssl)throw new N(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new N(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,A,n){if(!0===t&&!0===n)throw new N(T.INVALID_ARGUMENT,"".concat(e," and ").concat(A," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ei(null!==(A=e.experimentalLongPollingOptions)&&void 0!==A?A:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new N(T.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new N(T.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new N(T.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ni{constructor(e,t,A,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=A,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ti({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new N(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new N(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ti(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new H;switch(e.type){case"firstParty":return new M(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new N(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ui.get(e);t&&(U("ComponentProvider","Removing Datastore"),Ui.delete(e),t.terminate())}(this),Promise.resolve()}}class Di{constructor(e,t,A){this.converter=t,this._query=A,this.type="query",this.firestore=e}withConverter(e){return new Di(this.firestore,e,this._query)}}class Li{constructor(e,t,A){this.converter=t,this._key=A,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Li(this.firestore,e,this._key)}}class Hi extends Di{constructor(e,t,A){super(e,t,Lt(A)),this._path=A,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Li(this.firestore,null,new ee(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function Oi(e,t){for(var A=arguments.length,n=new Array(A>2?A-2:0),r=2;r<A;r++)n[r-2]=arguments[r];if(e=(0,a.Ku)(e),Qi("collection","path",t),e instanceof Ni){const A=Y.fromString(t,...n);return Ii(A),new Hi(e,null,A)}{if(!(e instanceof Li||e instanceof Hi))throw new N(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const A=e._path.child(Y.fromString(t,...n));return Ii(A),new Hi(e.firestore,null,A)}}function Ri(e,t){for(var A=arguments.length,n=new Array(A>2?A-2:0),r=2;r<A;r++)n[r-2]=arguments[r];if(e=(0,a.Ku)(e),1===arguments.length&&(t=G.newId()),Qi("doc","path",t),e instanceof Ni){const A=Y.fromString(t,...n);return Fi(A),new Li(e,null,new ee(A))}{if(!(e instanceof Li||e instanceof Hi))throw new N(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const A=e._path.child(Y.fromString(t,...n));return Fi(A),new Li(e.firestore,e instanceof Hi?e.converter:null,new ee(A))}}class Pi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Pr(this,"async_queue_retry"),this.Vu=()=>{const e=Or();e&&U("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Or();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Or();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new D;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ue(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Q("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,A){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const n=bs.createAndSchedule(this,e,t,A,e=>this.yu(e));return this.Tu.push(n),n}fu(){this.Eu&&k()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Mi(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const A=e;for(const n of t)if(n in A&&"function"==typeof A[n])return!0;return!1}(e,["next","error","complete"])}class ji extends Ni{constructor(e,t,A,n){super(e,t,A,n),this.type="firestore",this._queue=new Pi,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pi(e),this._firestoreClient=void 0,await e}}}function Ki(e,t){const A="object"==typeof e?e:(0,s.Sx)(),n="string"==typeof e?e:t||"(default)",r=(0,s.j6)(A,"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(0,a.yU)("firestore");e&&function(e,t,A){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const s=(e=Si(e,Ni))._getSettings(),i="".concat(t,":").concat(A);if("firestore.googleapis.com"!==s.host&&s.host!==i&&F("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:i,ssl:!1})),n.mockUserToken){let t,A;if("string"==typeof n.mockUserToken)t=n.mockUserToken,A=b.MOCK_USER;else{t=(0,a.Fy)(n.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const s=n.mockUserToken.sub||n.mockUserToken.user_id;if(!s)throw new N(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new b(s)}e._authCredentials=new O(new L(t,A))}}(r,...e)}return r}function Vi(e){if(e._terminated)throw new N(T.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Gi(e),e._firestoreClient}function Gi(e){var t,A,n;const r=e._freezeSettings(),s=function(e,t,A,n){return new Oe(e,t,A,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,Ei(n.experimentalLongPollingOptions),n.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||(null===(A=r.localCache)||void 0===A?void 0:A._offlineComponentProvider)&&(null===(n=r.localCache)||void 0===n?void 0:n._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new pi(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zi(ke.fromBase64String(e))}catch(e){throw new N(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new zi(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wi{constructor(){for(var e=arguments.length,t=new Array(e),A=0;A<e;A++)t[A]=arguments[A];for(let n=0;n<t.length;++n)if(0===t[n].length)throw new N(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qi{constructor(e){this._methodName=e}}class Xi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new N(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new N(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return z(this._lat,e._lat)||z(this._long,e._long)}}class Ji{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let A=0;A<e.length;++A)if(e[A]!==t[A])return!1;return!0}(this._values,e._values)}}const Yi=/^__.*__$/;class Zi{constructor(e,t,A){this.data=e,this.fieldMask=t,this.fieldTransforms=A}toMutation(e,t){return null!==this.fieldMask?new HA(e,this.data,this.fieldMask,t,this.fieldTransforms):new LA(e,this.data,t,this.fieldTransforms)}}class $i{constructor(e,t,A){this.data=e,this.fieldMask=t,this.fieldTransforms=A}toMutation(e,t){return new HA(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eo(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}class to{constructor(e,t,A,n,r,s){this.settings=e,this.databaseId=t,this.serializer=A,this.ignoreUndefinedProperties=n,void 0===r&&this.vu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new to(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const A=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.Fu({path:A,xu:!1});return n.Ou(e),n}Nu(e){var t;const A=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.Fu({path:A,xu:!1});return n.vu(),n}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Bo(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(eo(this.Cu)&&Yi.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ao{constructor(e,t,A){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=A||Rr(e)}Qu(e,t,A){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new to({Cu:e,methodName:t,qu:A,path:$.emptyPath(),xu:!1,ku:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function no(e){const t=e._freezeSettings(),A=Rr(e._databaseId);return new Ao(e._databaseId,!!t.ignoreUndefinedProperties,A)}function ro(e,t,A,n,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=e.Qu(s.merge||s.mergeFields?2:0,t,A,r);po("Data must be an object, but it was:",i,n);const o=fo(n,i);let a,l;if(s.merge)a=new Fe(i.fieldMask),l=i.fieldTransforms;else if(s.mergeFields){const e=[];for(const n of s.mergeFields){const r=mo(t,n,A);if(!i.contains(r))throw new N(T.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));vo(e,r)||e.push(r)}a=new Fe(e),l=i.fieldTransforms.filter(e=>a.covers(e.field))}else a=null,l=i.fieldTransforms;return new Zi(new rt(o),a,l)}class so extends qi{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof so}}function io(e,t,A){return new to({Cu:3,qu:t.settings.qu,methodName:e._methodName,xu:A},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class oo extends qi{_toFieldTransform(e){return new UA(e.path,new wA)}isEqual(e){return e instanceof oo}}class ao extends qi{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=io(this,e,!0),A=this.Ku.map(e=>ho(e,t)),n=new yA(A);return new UA(e.path,n)}isEqual(e){return e instanceof ao&&(0,a.bD)(this.Ku,e.Ku)}}function lo(e,t,A,n){const r=e.Qu(1,t,A);po("Data must be an object, but it was:",r,n);const s=[],i=rt.empty();ve(n,(e,n)=>{const o=yo(t,e,A);n=(0,a.Ku)(n);const l=r.Nu(o);if(n instanceof so)s.push(o);else{const e=ho(n,l);null!=e&&(s.push(o),i.set(o,e))}});const o=new Fe(s);return new $i(i,o,r.fieldTransforms)}function co(e,t,A,n,r,s){const i=e.Qu(1,t,A),o=[mo(t,n,A)],l=[r];if(s.length%2!=0)throw new N(T.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let a=0;a<s.length;a+=2)o.push(mo(t,s[a])),l.push(s[a+1]);const c=[],u=rt.empty();for(let h=o.length-1;h>=0;--h)if(!vo(c,o[h])){const e=o[h];let t=l[h];t=(0,a.Ku)(t);const A=i.Nu(e);if(t instanceof so)c.push(e);else{const n=ho(t,A);null!=n&&(c.push(e),u.set(e,n))}}const d=new Fe(c);return new $i(u,d,i.fieldTransforms)}function uo(e,t,A){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ho(A,e.Qu(n?4:3,t))}function ho(e,t){if(go(e=(0,a.Ku)(e)))return po("Unsupported field value:",t,e),fo(e,t);if(e instanceof qi)return function(e,t){if(!eo(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const A=e._toFieldTransform(t);A&&t.fieldTransforms.push(A)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const A=[];let n=0;for(const r of e){let e=ho(r,t.Lu(n));null==e&&(e={nullValue:"NULL_VALUE"}),A.push(e),n++}return{arrayValue:{values:A}}}(e,t)}return function(e,t){if(null===(e=(0,a.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hA(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const A=q.fromDate(e);return{timestampValue:yn(t.serializer,A)}}if(e instanceof q){const A=new q(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yn(t.serializer,A)}}if(e instanceof Xi)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zi)return{bytesValue:Bn(t.serializer,e._byteString)};if(e instanceof Li){const A=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(A))throw t.Bu("Document reference is for database ".concat(n.projectId,"/").concat(n.database," but should be for database ").concat(A.projectId,"/").concat(A.database));return{referenceValue:Cn(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Ji)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return uA(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(ki(e)))}(e,t)}function fo(e,t){const A={};return be(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ve(e,(e,n)=>{const r=ho(n,t.Mu(e));null!=r&&(A[e]=r)}),{mapValue:{fields:A}}}function go(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof q||e instanceof Xi||e instanceof zi||e instanceof Li||e instanceof qi||e instanceof Ji)}function po(e,t,A){if(!go(A)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(A)){const n=ki(A);throw"an object"===n?t.Bu(e+" a custom object"):t.Bu(e+" "+n)}}function mo(e,t,A){if((t=(0,a.Ku)(t))instanceof Wi)return t._internalPath;if("string"==typeof t)return yo(e,t);throw Bo("Field path arguments must be of type string or ",e,!1,void 0,A)}const wo=new RegExp("[~\\*/\\[\\]]");function yo(e,t,A){if(t.search(wo)>=0)throw Bo("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,A);try{return new Wi(...t.split("."))._internalPath}catch(n){throw Bo("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,A)}}function Bo(e,t,A,n,r){const s=n&&!n.isEmpty(),i=void 0!==r;let o="Function ".concat(t,"() called with invalid data");A&&(o+=" (via `toFirestore()`)"),o+=". ";let a="";return(s||i)&&(a+=" (found",s&&(a+=" in field ".concat(n)),i&&(a+=" in document ".concat(r)),a+=")"),new N(T.INVALID_ARGUMENT,o+e+a)}function vo(e,t){return e.some(e=>e.isEqual(t))}class bo{constructor(e,t,A,n,r){this._firestore=e,this._userDataWriter=t,this._key=A,this._document=n,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Co(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xo("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Co extends bo{data(){return super.data()}}function xo(e,t){return"string"==typeof t?yo(e,t):t instanceof Wi?t._internalPath:t._delegate._internalPath}function Eo(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new N(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uo{}class Qo extends Uo{}function Fo(e,t){let A=[];for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];t instanceof Uo&&A.push(t),A=A.concat(r),function(e){const t=e.filter(e=>e instanceof So).length,A=e.filter(e=>e instanceof Io).length;if(t>1||t>0&&A>0)throw new N(T.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(A);for(const i of A)e=i._apply(e);return e}class Io extends Qo{constructor(e,t,A){super(),this._field=e,this._op=t,this._value=A,this.type="where"}static _create(e,t,A){return new Io(e,t,A)}_apply(e){const t=this._parse(e);return Mo(e._query,t),new Di(e.firestore,e.converter,jt(e._query,t))}_parse(e){const t=no(e.firestore),A=function(e,t,A,n,r,s,i){let o;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new N(T.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Po(i,s);const t=[];for(const A of i)t.push(Ro(n,e,A));o={arrayValue:{values:t}}}else o=Ro(n,e,i)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Po(i,s),o=uo(A,t,i,"in"===s||"not-in"===s);return ht.create(r,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return A}}function ko(e,t,A){const n=t,r=xo("where",e);return Io._create(r,n,A)}class So extends Uo{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new So(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:ft.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let A=e;const n=t.getFlattenedFilters();for(const r of n)Mo(A,r),A=jt(A,r)}(e._query,t),new Di(e.firestore,e.converter,jt(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _o extends Qo{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _o(e,t)}_apply(e){const t=function(e,t,A){if(null!==e.startAt)throw new N(T.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new N(T.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ct(t,A)}(e._query,this._field,this._direction);return new Di(e.firestore,e.converter,function(e,t){const A=e.explicitOrderBy.concat([t]);return new Nt(e.path,e.collectionGroup,A,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function To(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",A=xo("orderBy",e);return _o._create(A,t)}class No extends Qo{constructor(e,t,A){super(),this.type=e,this._limit=t,this._limitType=A}static _create(e,t,A){return new No(e,t,A)}_apply(e){return new Di(e.firestore,e.converter,Kt(e._query,this._limit,this._limitType))}}function Do(e){return _i("limit",e),No._create("limit",e,"F")}class Lo extends Qo{constructor(e,t,A){super(),this.type=e,this._docOrFields=t,this._inclusive=A}static _create(e,t,A){return new Lo(e,t,A)}_apply(e){const t=Oo(e,this.type,this._docOrFields,this._inclusive);return new Di(e.firestore,e.converter,function(e,t){return new Nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Ho(){for(var e=arguments.length,t=new Array(e),A=0;A<e;A++)t[A]=arguments[A];return Lo._create("startAfter",t,!1)}function Oo(e,t,A,n){if(A[0]=(0,a.Ku)(A[0]),A[0]instanceof bo)return function(e,t,A,n,r){if(!n)throw new N(T.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(A,"()."));const s=[];for(const i of Rt(e))if(i.field.isKeyField())s.push(Xe(t,n.key));else{const e=n.data.field(i.field);if(De(e))throw new N(T.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+i.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=i.field.canonicalString();throw new N(T.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new ot(s,r)}(e._query,e.firestore._databaseId,t,A[0]._document,n);{const r=no(e.firestore);return function(e,t,A,n,r,s){const i=e.explicitOrderBy;if(r.length>i.length)throw new N(T.INVALID_ARGUMENT,"Too many arguments provided to ".concat(n,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let a=0;a<r.length;a++){const s=r[a];if(i[a].field.isKeyField()){if("string"!=typeof s)throw new N(T.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(n,"(), but got a ").concat(typeof s));if(!Ot(e)&&-1!==s.indexOf("/"))throw new N(T.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(n,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const A=e.path.child(Y.fromString(s));if(!ee.isDocumentKey(A))throw new N(T.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(n,"() must result in a valid document path, but '").concat(A,"' is not because it contains an odd number of segments."));const r=new ee(A);o.push(Xe(t,r))}else{const e=uo(A,n,s);o.push(e)}}return new ot(o,s)}(e._query,e.firestore._databaseId,r,t,A,n)}}function Ro(e,t,A){if("string"==typeof(A=(0,a.Ku)(A))){if(""===A)throw new N(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ot(t)&&-1!==A.indexOf("/"))throw new N(T.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(A,"' contains a '/' character."));const n=t.path.child(Y.fromString(A));if(!ee.isDocumentKey(n))throw new N(T.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(n,"' is not because it has an odd number of segments (").concat(n.length,")."));return Xe(e,new ee(n))}if(A instanceof Li)return Xe(e,A._key);throw new N(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ki(A),"."))}function Po(e,t){if(!Array.isArray(e)||0===e.length)throw new N(T.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Mo(e,t){const A=function(e,t){for(const A of e)for(const e of A.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==A)throw A===t.op?new N(T.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new N(T.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(A.toString(),"' filters."))}class jo{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Me(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Te(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ne(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw k()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const A={};return ve(e,(e,n)=>{A[e]=this.convertValue(n,t)}),A}convertVectorValue(e){var t,A,n;const r=null===(n=null===(A=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===A?void 0:A.values)||void 0===n?void 0:n.map(e=>Te(e.doubleValue));return new Ji(r)}convertGeoPoint(e){return new Xi(Te(e.latitude),Te(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const A=Le(e);return null==A?null:this.convertValue(A,t);case"estimate":return this.convertTimestamp(He(e));default:return null}}convertTimestamp(e){const t=_e(e);return new q(t.seconds,t.nanos)}convertDocumentKey(e,t){const A=Y.fromString(e);S(Gn(A));const n=new Re(A.get(1),A.get(3)),r=new ee(A.popFirst(5));return n.isEqual(t)||Q("Document ".concat(r," contains a document reference within a different database (").concat(n.projectId,"/").concat(n.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),r}}function Ko(e,t,A){let n;return n=e?A&&(A.merge||A.mergeFields)?e.toFirestore(t,A):e.toFirestore(t):t,n}class Vo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Go extends bo{constructor(e,t,A,n,r,s){super(e,t,A,n,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const A=this._document.data.field(xo("DocumentSnapshot.get",e));if(null!==A)return this._userDataWriter.convertValue(A,t.serverTimestamps)}}}class zo extends Go{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Wo{constructor(e,t,A,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new Vo(n.hasPendingWrites,n.fromCache),this.query=A}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(A=>{e.call(t,new zo(this._firestore,this._userDataWriter,A.key,A,new Vo(this._snapshot.mutatedKeys.has(A.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new N(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(A=>{const n=new zo(e._firestore,e._userDataWriter,A.doc.key,A.doc,new Vo(e._snapshot.mutatedKeys.has(A.doc.key),e._snapshot.fromCache),e.query.converter);return A.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}})}{let A=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const n=new zo(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Vo(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=A.indexOf(t.doc.key),A=A.delete(t.doc.key)),1!==t.type&&(A=A.add(t.doc),s=A.indexOf(t.doc.key)),{type:qo(t.type),doc:n,oldIndex:r,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function qo(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}function Xo(e){e=Si(e,Li);const t=Si(e.firestore,ji);return Ci(Vi(t),e._key).then(A=>ra(t,e,A))}class Jo extends jo{constructor(e){super(),this.firestore=e}convertBytes(e){return new zi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,t)}}function Yo(e){e=Si(e,Di);const t=Si(e.firestore,ji),A=Vi(t),n=new Jo(t);return Eo(e._query),xi(A,e._query).then(A=>new Wo(t,n,e,A))}function Zo(e,t,A){e=Si(e,Li);const n=Si(e.firestore,ji),r=Ko(e.converter,t,A);return na(n,[ro(no(n),"setDoc",e._key,r,null!==e.converter,A).toMutation(e._key,FA.none())])}function $o(e,t,A){e=Si(e,Li);const n=Si(e.firestore,ji),r=no(n);let s;for(var i=arguments.length,o=new Array(i>3?i-3:0),l=3;l<i;l++)o[l-3]=arguments[l];return s="string"==typeof(t=(0,a.Ku)(t))||t instanceof Wi?co(r,"updateDoc",e._key,t,A,o):lo(r,"updateDoc",e._key,t),na(n,[s.toMutation(e._key,FA.exists(!0))])}function ea(e){return na(Si(e.firestore,ji),[new MA(e._key,FA.none())])}function ta(e,t){const A=Si(e.firestore,ji),n=Ri(e),r=Ko(e.converter,t);return na(A,[ro(no(e.firestore),"addDoc",n._key,r,null!==e.converter,{}).toMutation(n._key,FA.exists(!1))]).then(()=>n)}function Aa(e){for(var t=arguments.length,A=new Array(t>1?t-1:0),n=1;n<t;n++)A[n-1]=arguments[n];var r,s,i;e=(0,a.Ku)(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof A[l]||Mi(A[l])||(o=A[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Mi(A[l])){const e=A[l];A[l]=null===(r=e.next)||void 0===r?void 0:r.bind(e),A[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),A[l+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,d,h;if(e instanceof Li)d=Si(e.firestore,ji),h=Lt(e._key.path),u={next:t=>{A[l]&&A[l](ra(d,e,t))},error:A[l+1],complete:A[l+2]};else{const t=Si(e,Di);d=Si(t.firestore,ji),h=t._query;const n=new Jo(d);u={next:e=>{A[l]&&A[l](new Wo(d,n,t,e))},error:A[l+1],complete:A[l+2]},Eo(e._query)}return function(e,t,A,n){const r=new gi(n),s=new Hs(t,r,A);return e.asyncQueue.enqueueAndForget(async()=>ks(await bi(e),s)),()=>{r.Za(),e.asyncQueue.enqueueAndForget(async()=>Ss(await bi(e),s))}}(Vi(d),h,c,u)}function na(e,t){return function(e,t){const A=new D;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,A){const n=di(e);try{const e=await function(e,t){const A=_(e),n=q.now(),r=t.reduce((e,t)=>e.add(t.key),aA());let s,i;return A.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=$t(),a=aA();return A.cs.getEntries(e,r).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(a=a.add(e))})}).next(()=>A.localDocuments.getOverlayedDocuments(e,o)).next(r=>{s=r;const i=[];for(const e of t){const t=NA(e,s.get(e.key).overlayedDocument);null!=t&&i.push(new HA(e.key,t,st(t.value.mapValue),FA.exists(!0)))}return A.mutationQueue.addMutationBatch(e,n,i,t)}).next(t=>{i=t;const n=t.applyToLocalDocumentSet(s,a);return A.documentOverlayCache.saveOverlays(e,t.batchId,n)})}).then(()=>({batchId:i.batchId,changes:AA(s)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(e.batchId),function(e,t,A){let n=e.Ba[e.currentUser.toKey()];n||(n=new Ce(z)),n=n.insert(t,A),e.Ba[e.currentUser.toKey()]=n}(n,e.batchId,A),await ai(n,e.changes),await ls(n.remoteStore)}catch(e){const t=Cs(e,"Failed to persist write");A.reject(t)}}(await vi(e),t,A)),A.promise}(Vi(e),t)}function ra(e,t,A){const n=A.docs.get(t._key),r=new Jo(e);return new Go(e,r,t._key,n,new Vo(A.hasPendingWrites,A.fromCache),t.converter)}function sa(){return new oo("serverTimestamp")}function ia(){for(var e=arguments.length,t=new Array(e),A=0;A<e;A++)t[A]=arguments[A];return new ao("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){C=e}(s.MF),(0,s.om)(new i.uA("firestore",(e,A)=>{let{instanceIdentifier:n,options:r}=A;const s=e.getProvider("app").getImmediate(),i=new ji(new R(e.getProvider("auth-internal")),new K(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new N(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Re(e.options.projectId,t)}(s,n),s);return r=Object.assign({useFetchStreams:t},r),i._setSettings(r),i},"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(v,"4.7.3",e),(0,s.KO)(v,"4.7.3","esm2017")}()},5475:(e,t,A)=>{"use strict";var n,r;A.d(t,{Kd:()=>h,N_:()=>p});var s=A(5043),i=A(7950),o=A(3216),a=A(1387);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var A=arguments[t];for(var n in A)Object.prototype.hasOwnProperty.call(A,n)&&(e[n]=A[n])}return e},l.apply(this,arguments)}function c(e,t){if(null==e)return{};var A,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)A=s[n],t.indexOf(A)>=0||(r[A]=e[A]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const u=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(y){}new Map;const d=(n||(n=A.t(s,2))).startTransition;(r||(r=A.t(i,2))).flushSync,(n||(n=A.t(s,2))).useId;function h(e){let{basename:t,children:A,future:n,window:r}=e,i=s.useRef();null==i.current&&(i.current=(0,a.zR)({window:r,v5Compat:!0}));let l=i.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:h}=n||{},f=s.useCallback(e=>{h&&d?d(()=>u(e)):u(e)},[u,h]);return s.useLayoutEffect(()=>l.listen(f),[l,f]),s.useEffect(()=>(0,o.V8)(n),[n]),s.createElement(o.Ix,{basename:t,children:A,location:c.location,navigationType:c.action,navigator:l,future:n})}const f="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p=s.forwardRef(function(e,t){let A,{onClick:n,relative:r,reloadDocument:i,replace:d,state:h,target:p,to:m,preventScrollReset:w,viewTransition:B}=e,v=c(e,u),{basename:b}=s.useContext(o.jb),C=!1;if("string"===typeof m&&g.test(m)&&(A=m,f))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),A=(0,a.pb)(t.pathname,b);t.origin===e.origin&&null!=A?m=A+t.search+t.hash:C=!0}catch(y){}let x=(0,o.$P)(m,{relative:r}),E=function(e,t){let{target:A,replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:c}=void 0===t?{}:t,u=(0,o.Zp)(),d=(0,o.zy)(),h=(0,o.x$)(e,{relative:l});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,A)){t.preventDefault();let A=void 0!==n?n:(0,a.AO)(d)===(0,a.AO)(h);u(e,{replace:A,state:r,preventScrollReset:i,relative:l,viewTransition:c})}},[d,u,h,n,r,A,e,i,l,c])}(m,{replace:d,state:h,target:p,preventScrollReset:w,relative:r,viewTransition:B});return s.createElement("a",l({},v,{href:A||x,onClick:C||i?n:function(e){n&&n(e),e.defaultPrevented||E(e)},ref:t,target:p}))});var m,w;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(m||(m={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(w||(w={}))},6815:(e,t,A)=>{"use strict";A.d(t,{F6:()=>i,Nw:()=>s,my:()=>n,w4:()=>r});Math.pow(10,8);const n=6048e5,r=864e5,s=43200,i=1440},6823:(e,t,A)=>{"use strict";A.d(t,{l:()=>i});var n=A(2555),r=A(7400),s=A(5472);const i=new class{async createNotification(e,t,A,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};try{await(0,s.gS)((0,s.rJ)(r.db,"notifications"),(0,n.A)({userId:e,type:t,title:A,message:i,read:!1,createdAt:(0,s.O5)()},o))}catch(a){throw console.error("Error creating notification:",a),a}}async notifyBestieRequest(e,t){return this.createNotification(e,"bestie_request","New Bestie Request","".concat(t," wants to be your bestie!"),{requesterName:t})}async notifyCheckInAlert(e,t,A){return this.createNotification(e,"check_in_alert","Check-in Alert","".concat(t," hasn't checked in yet. They might need help."),{bestieName:t,checkInId:A})}async notifyMissedCheckIn(e,t){return this.createNotification(e,"missed_check_in","Missed Check-in","You missed your check-in. Your besties were notified.",{checkInId:t})}async notifyRequestAttention(e,t,A){return this.createNotification(e,"request_attention","Someone Needs You","".concat(t," is requesting your attention"),{bestieName:t,bestieId:A})}async notifyBadgeEarned(e,t,A){return this.createNotification(e,"badge_earned","New Badge Unlocked!",'You earned the "'.concat(t,'" badge! ').concat(A),{badgeName:t,badgeDescription:A})}async notifySystem(e,t,A){return this.createNotification(e,"system",t,A)}async notifyWelcome(e,t){return this.createNotification(e,"system","Welcome to Besties, ".concat(t,"!"),"Start by adding your first bestie and creating a check-in. We've got your back!")}async notifyBestieAccepted(e,t){return this.createNotification(e,"bestie_request","Bestie Request Accepted!","".concat(t," accepted your bestie request. Stay safe together!"),{bestieName:t})}async notifyCheckInComplete(e,t){return this.createNotification(e,"check_in_alert","Check-in Complete",'Great job! You completed "'.concat(t,'" safely.'),{checkInName:t})}}},7234:(e,t)=>{"use strict";function A(e,t){var A=e.length;e.push(t);e:for(;0<A;){var n=A-1>>>1,r=e[n];if(!(0<s(r,t)))break e;e[n]=t,e[A]=r,A=n}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],A=e.pop();if(A!==t){e[0]=A;e:for(var n=0,r=e.length,i=r>>>1;n<i;){var o=2*(n+1)-1,a=e[o],l=o+1,c=e[l];if(0>s(a,A))l<r&&0>s(c,a)?(e[n]=c,e[l]=A,n=l):(e[n]=a,e[o]=A,n=o);else{if(!(l<r&&0>s(c,A)))break e;e[n]=c,e[l]=A,n=l}}}return t}function s(e,t){var A=e.sortIndex-t.sortIndex;return 0!==A?A:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,p=!1,m="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function B(e){for(var t=n(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,A(l,t)}t=n(c)}}function v(e){if(p=!1,B(e),!g)if(null!==n(l))g=!0,T(b);else{var t=n(c);null!==t&&N(v,t.startTime-e)}}function b(e,A){g=!1,p&&(p=!1,w(U),U=-1),f=!0;var s=h;try{for(B(A),d=n(l);null!==d&&(!(d.expirationTime>A)||e&&!I());){var i=d.callback;if("function"===typeof i){d.callback=null,h=d.priorityLevel;var o=i(d.expirationTime<=A);A=t.unstable_now(),"function"===typeof o?d.callback=o:d===n(l)&&r(l),B(A)}else r(l);d=n(l)}if(null!==d)var a=!0;else{var u=n(c);null!==u&&N(v,u.startTime-A),a=!1}return a}finally{d=null,h=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,x=!1,E=null,U=-1,Q=5,F=-1;function I(){return!(t.unstable_now()-F<Q)}function k(){if(null!==E){var e=t.unstable_now();F=e;var A=!0;try{A=E(!0,e)}finally{A?C():(x=!1,E=null)}}else x=!1}if("function"===typeof y)C=function(){y(k)};else if("undefined"!==typeof MessageChannel){var S=new MessageChannel,_=S.port2;S.port1.onmessage=k,C=function(){_.postMessage(null)}}else C=function(){m(k,0)};function T(e){E=e,x||(x=!0,C())}function N(e,A){U=m(function(){e(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,T(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var A=h;h=t;try{return e()}finally{h=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var A=h;h=e;try{return t()}finally{h=A}},t.unstable_scheduleCallback=function(e,r,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,A(c,e),null===n(l)&&e===n(c)&&(p?(w(U),U=-1):p=!0,N(v,s-i))):(e.sortIndex=o,A(l,e),g||f||(g=!0,T(b))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var A=h;h=t;try{return e.apply(this,arguments)}finally{h=A}}}},7400:(e,t,A)=>{"use strict";A.d(t,{j2:()=>gr,y1:()=>br,db:()=>pr,Cn:()=>wr,gf:()=>ur,BV:()=>yr,xD:()=>dr,IG:()=>mr});A(2555);var n=A(52);(0,n.KO)("firebase","10.14.1","app");var r=A(7700),s=A(443);function i(e,t){var A={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(A[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(A[n[r]]=e[n[r]])}return A}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var o=A(8812);function a(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l=a,c=new r.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),u=new s.Vy("@firebase/auth");function d(e){if(u.logLevel<=s.$b.ERROR){for(var t=arguments.length,A=new Array(t>1?t-1:0),r=1;r<t;r++)A[r-1]=arguments[r];u.error("Auth (".concat(n.MF,"): ").concat(e),...A)}}function h(e){for(var t=arguments.length,A=new Array(t>1?t-1:0),n=1;n<t;n++)A[n-1]=arguments[n];throw w(e,...A)}function f(e){for(var t=arguments.length,A=new Array(t>1?t-1:0),n=1;n<t;n++)A[n-1]=arguments[n];return w(e,...A)}function g(e,t,A){const n=Object.assign(Object.assign({},l()),{[t]:A});return new r.FA("auth","Firebase",n).create(t,{appName:e.name})}function p(e){return g(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m(e,t,A){if(!(t instanceof A))throw A.name!==t.constructor.name&&h(e,"argument-error"),g(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function w(e){for(var t=arguments.length,A=new Array(t>1?t-1:0),n=1;n<t;n++)A[n-1]=arguments[n];if("string"!==typeof e){const t=A[0],n=[...A.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(t,...n)}return c.create(e,...A)}function y(e,t){if(!e){for(var A=arguments.length,n=new Array(A>2?A-2:0),r=2;r<A;r++)n[r-2]=arguments[r];throw w(t,...n)}}function B(e){const t="INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function v(e,t){e||B(t)}function b(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function C(){return"http:"===x()||"https:"===x()}function x(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class E{constructor(e,t){this.shortDelay=e,this.longDelay=t,v(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.jZ)()||(0,r.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(C()||(0,r.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function U(e,t){v(e.emulator,"Emulator should always be set here");const{url:A}=e.emulator;return t?"".concat(A).concat(t.startsWith("/")?t.slice(1):t):A}class Q{static initialize(e,t,A){this.fetchImpl=e,t&&(this.headersImpl=t),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void B("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void B("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void B("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const F={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},I=new E(3e4,6e4);function k(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function S(e,t,A,n){return _(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},i={};n&&("GET"===t?i=n:s={body:JSON.stringify(n)});const o=(0,r.Am)(Object.assign({key:e.config.apiKey},i)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},s);return(0,r.c1)()||(l.referrerPolicy="no-referrer"),Q.fetch()(N(e,e.config.apiHost,A,o),l)})}async function _(e,t,A){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},F),t);try{const t=new L(e),r=await Promise.race([A(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw H(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[A,i]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===A)throw H(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===A)throw H(e,"email-already-in-use",s);if("USER_DISABLED"===A)throw H(e,"user-disabled",s);const o=n[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw g(e,o,i);h(e,o)}}catch(s){if(s instanceof r.g)throw s;h(e,"network-request-failed",{message:String(s)})}}async function T(e,t,A,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await S(e,t,A,n,r);return"mfaPendingCredential"in s&&h(e,"multi-factor-auth-required",{_serverResponse:s}),s}function N(e,t,A,n){const r="".concat(t).concat(A,"?").concat(n);return e.config.emulator?U(e.config,r):"".concat(e.config.apiScheme,"://").concat(r)}function D(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(f(this.auth,"network-request-failed")),I.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function H(e,t,A){const n={appName:e.name};A.email&&(n.email=A.email),A.phoneNumber&&(n.phoneNumber=A.phoneNumber);const r=f(e,t,n);return r.customData._tokenResponse=A,r}function O(e){return void 0!==e&&void 0!==e.getResponse}function R(e){return void 0!==e&&void 0!==e.enterprise}class P{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return D(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function M(e,t){return S(e,"GET","/v2/recaptchaConfig",k(e,t))}async function j(e,t){return S(e,"POST","/v1/accounts:lookup",t)}function K(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function V(e){return 1e3*Number(e)}function G(e){const[t,A,n]=e.split(".");if(void 0===t||void 0===A||void 0===n)return d("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.u)(A);return e?JSON.parse(e):(d("Failed to decode base64 JWT payload"),null)}catch(s){return d("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function z(e){const t=G(e);return y(t,"internal-error"),y("undefined"!==typeof t.exp,"internal-error"),y("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function W(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(A){throw A instanceof r.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(A)&&e.auth.currentUser===e&&await e.auth.signOut(),A}}class q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class X{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=K(this.lastLoginAt),this.creationTime=K(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function J(e){var t;const A=e.auth,n=await e.getIdToken(),r=await W(e,j(A,{idToken:n}));y(null===r||void 0===r?void 0:r.users.length,A,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const i=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Y(s.providerUserInfo):[],o=(a=e.providerData,l=i,[...a.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var a,l;const c=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!c&&u,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new X(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,h)}function Y(e){return e.map(e=>{var{providerId:t}=e,A=i(e,["providerId"]);return{providerId:t,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y("undefined"!==typeof e.idToken,"internal-error"),y("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):z(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){y(0!==e.length,"internal-error");const t=z(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:A,refreshToken:n,expiresIn:s}=await async function(e,t){const A=await _(e,{},async()=>{const A=(0,r.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:s}=e.config,i=N(e,n,"/v1/token","key=".concat(s)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Q.fetch()(i,{method:"POST",headers:o,body:A})});return{accessToken:A.access_token,expiresIn:A.expires_in,refreshToken:A.refresh_token}}(e,t);this.updateTokensAndExpiration(A,n,Number(s))}updateTokensAndExpiration(e,t,A){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(e,t){const{refreshToken:A,accessToken:n,expirationTime:r}=t,s=new Z;return A&&(y("string"===typeof A,"internal-error",{appName:e}),s.refreshToken=A),n&&(y("string"===typeof n,"internal-error",{appName:e}),s.accessToken=n),r&&(y("number"===typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return B("not implemented")}}function $(e,t){y("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ee{constructor(e){var{uid:t,auth:A,stsTokenManager:n}=e,r=i(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=A,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new X(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await W(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const A=(0,r.Ku)(e),n=await A.getIdToken(t),s=G(n);y(s&&s.exp&&s.auth_time&&s.iat,A.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,o=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:K(V(s.auth_time)),issuedAtTime:K(V(s.iat)),expirationTime:K(V(s.exp)),signInProvider:o||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,r.Ku)(e);await J(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ee(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],A=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),A=!0),t&&await J(this),await this.auth._persistUserIfCurrent(this),A&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,n.xZ)(this.auth.app))return Promise.reject(p(this.auth));const e=await this.getIdToken();return await W(this,async function(e,t){return S(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var A,n,r,s,i,o,a,l;const c=null!==(A=t.displayName)&&void 0!==A?A:void 0,u=null!==(n=t.email)&&void 0!==n?n:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,h=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(i=t.tenantId)&&void 0!==i?i:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,p=null!==(a=t.createdAt)&&void 0!==a?a:void 0,m=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:B,isAnonymous:v,providerData:b,stsTokenManager:C}=t;y(w&&C,e,"internal-error");const x=Z.fromJSON(this.name,C);y("string"===typeof w,e,"internal-error"),$(c,e.name),$(u,e.name),y("boolean"===typeof B,e,"internal-error"),y("boolean"===typeof v,e,"internal-error"),$(d,e.name),$(h,e.name),$(f,e.name),$(g,e.name),$(p,e.name),$(m,e.name);const E=new ee({uid:w,auth:e,email:u,emailVerified:B,displayName:c,isAnonymous:v,photoURL:h,phoneNumber:d,tenantId:f,stsTokenManager:x,createdAt:p,lastLoginAt:m});return b&&Array.isArray(b)&&(E.providerData=b.map(e=>Object.assign({},e))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=new Z;n.updateFromServerResponse(t);const r=new ee({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:A});return await J(r),r}static async _fromGetAccountInfoResponse(e,t,A){const n=t.users[0];y(void 0!==n.localId,"internal-error");const r=void 0!==n.providerUserInfo?Y(n.providerUserInfo):[],s=!(n.email&&n.passwordHash)&&!(null===r||void 0===r?void 0:r.length),i=new Z;i.updateFromIdToken(A);const o=new ee({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s}),a={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:r,metadata:new X(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!(null===r||void 0===r?void 0:r.length)};return Object.assign(o,a),o}}const te=new Map;function Ae(e){v(e instanceof Function,"Expected a class definition");let t=te.get(e);return t?(v(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,te.set(e,t),t)}class ne{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ne.type="NONE";const re=ne;function se(e,t,A){return"firebase".concat(":",e,":").concat(t,":").concat(A)}class ie{constructor(e,t,A){this.persistence=e,this.auth=t,this.userKey=A;const{config:n,name:r}=this.auth;this.fullUserKey=se(this.userKey,n.apiKey,r),this.fullPersistenceKey=se("persistence",n.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ee._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ie(Ae(re),e,A);const n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let r=n[0]||Ae(re);const s=se(A,e.config.apiKey,e.name);let i=null;for(const l of t)try{const t=await l._get(s);if(t){const A=ee._fromJSON(e,t);l!==r&&(i=A),r=l;break}}catch(a){}const o=n.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&o.length?(r=o[0],i&&await r._set(s,i.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(s)}catch(a){}})),new ie(r,e,A)):new ie(r,e,A)}}function oe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ue(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(he(t))return"Blackberry";if(fe(t))return"Webos";if(le(t))return"Safari";if((t.includes("chrome/")||ce(t))&&!t.includes("edge/"))return"Chrome";if(de(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,A=e.match(t);if(2===(null===A||void 0===A?void 0:A.length))return A[1]}return"Other"}function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/firefox\//i.test(e)}function le(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/crios\//i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/iemobile/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/android/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/blackberry/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/webos/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return ge(e)||de(e)||fe(e)||he(e)||/windows phone/i.test(e)||ue(e)}function me(e){let t,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oe((0,r.ZQ)());break;case"Worker":t="".concat(oe((0,r.ZQ)()),"-").concat(e);break;default:t=e}const s=A.length?A.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(n.MF,"/").concat(s)}class we{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const A=t=>new Promise((A,n)=>{try{A(e(t))}catch(r){n(r)}});A.onAbort=t,this.queue.push(A);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const A of this.queue)await A(e),A.onAbort&&t.push(A.onAbort)}catch(A){t.reverse();for(const e of t)try{e()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===A||void 0===A?void 0:A.message})}}}class ye{constructor(e){var t,A,n,r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(A=e.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,A,n,r,s,i;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(A=o.meetsMaxPasswordLength)||void 0===A||A),o.isValid&&(o.isValid=null===(n=o.containsLowercaseLetter)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsUppercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNonAlphanumericCharacter)||void 0===i||i),o}validatePasswordLengthOptions(e,t){const A=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;A&&(t.meetsMinPasswordLength=e.length>=A),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let A;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)A=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(e,t,A,n,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class Be{constructor(e,t,A,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=A,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new be(this),this.idTokenSubscription=new be(this),this.beforeStateQueue=new we(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ae(t)),this._initializationPromise=this.queue(async()=>{var A,n;if(!this._deleted&&(this.persistenceManager=await ie.create(this,e),!this._deleted)){if(null===(A=this._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await j(this,{idToken:e}),A=await ee._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(A)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,n.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const A=await this.assertedPersistence.getCurrentUser();let r=A,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,n=null===r||void 0===r?void 0:r._redirectEventId,i=await this.tryRedirectSignIn(e);A&&A!==n||!(null===i||void 0===i?void 0:i.user)||(r=i.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=A,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(A){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await J(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,n.xZ)(this.app))return Promise.reject(p(this));const t=e?(0,r.Ku)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,n.xZ)(this.app)?Promise.reject(p(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,n.xZ)(this.app)?Promise.reject(p(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ae(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return S(e,"GET","/v2/passwordPolicy",k(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ye(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.FA("auth","Firebase",e())}onAuthStateChanged(e,t,A){return this.registerStateListener(this.authStateSubscription,e,t,A)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,A){return this.registerStateListener(this.idTokenSubscription,e,t,A)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const A=this.onAuthStateChanged(()=>{A(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return S(e,"POST","/v2/accounts:revokeToken",k(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const A=await this.getOrInitRedirectPersistenceManager(t);return null===e?A.removeCurrentUser():A.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ae(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await ie.create(this,[Ae(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,A;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(A=this.redirectUser)||void 0===A?void 0:A._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,A,n){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t);let s=!1;const i=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(i,this,"internal-error"),i.then(()=>{s||r(this.currentUser)}),"function"===typeof t){const r=e.addObserver(t,A,n);return()=>{s=!0,r()}}{const A=e.addObserver(t);return()=>{s=!0,A()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const A=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());A&&(t["X-Firebase-Client"]=A);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(u.logLevel<=s.$b.WARN){for(var t=arguments.length,A=new Array(t>1?t-1:0),r=1;r<t;r++)A[r-1]=arguments[r];u.warn("Auth (".concat(n.MF,"): ").concat(e),...A)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ve(e){return(0,r.Ku)(e)}class be{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.tD)(e=>this.observer=e)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ce={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xe(e){return Ce.loadJS(e)}function Ee(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ue{constructor(e){this.type="recaptcha-enterprise",this.auth=ve(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function A(t,A,n){const r=window.grecaptcha;R(r)?r.enterprise.ready(()=>{r.enterprise.execute(t,{action:e}).then(e=>{A(e)}).catch(()=>{A("NO_RECAPTCHA")})}):n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,n)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,A)=>{M(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(n=>{if(void 0!==n.recaptchaKey){const A=new P(n);return null==e.tenantId?e._agentRecaptchaConfig=A:e._tenantRecaptchaConfigs[e.tenantId]=A,t(A.siteKey)}A(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{A(e)})})})(this.auth).then(r=>{if(!t&&R(window.grecaptcha))A(r,e,n);else{if("undefined"===typeof window)return void n(new Error("RecaptchaVerifier is only supported in browser"));let t=Ce.recaptchaEnterpriseScript;0!==t.length&&(t+=r),xe(t).then(()=>{A(r,e,n)}).catch(e=>{n(e)})}}).catch(e=>{n(e)})})}}async function Qe(e,t,A){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new Ue(e);let s;try{s=await r.verify(A)}catch(o){s=await r.verify(A,!0)}const i=Object.assign({},t);return n?Object.assign(i,{captchaResp:s}):Object.assign(i,{captchaResponse:s}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}async function Fe(e,t,A,n){var r;if(null===(r=e._getRecaptchaConfig())||void 0===r?void 0:r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Qe(e,t,A,"getOobCode"===A);return n(e,r)}return n(e,t).catch(async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(A," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await Qe(e,t,A,"getOobCode"===A);return n(e,r)}return Promise.reject(r)})}function Ie(e,t,A){const n=ve(e);y(n._canInitEmulator,n,"emulator-config-failed"),y(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const r=!!(null===A||void 0===A?void 0:A.disableWarnings),s=ke(t),{host:i,port:o}=function(e){const t=ke(e),A=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!A)return{host:"",port:null};const n=A[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const e=r[1];return{host:e,port:Se(n.substr(e.length+1))}}{const[e,t]=n.split(":");return{host:e,port:Se(t)}}}(t),a=null===o?"":":".concat(o);n.config.emulator={url:"".concat(s,"//").concat(i).concat(a,"/")},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:i,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ke(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Se(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class _e{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return B("not implemented")}_getIdTokenResponse(e){return B("not implemented")}_linkToIdToken(e,t){return B("not implemented")}_getReauthenticationResolver(e){return B("not implemented")}}async function Te(e,t){return S(e,"POST","/v1/accounts:signUp",t)}async function Ne(e,t){return T(e,"POST","/v1/accounts:signInWithPassword",k(e,t))}class De extends _e{constructor(e,t,A){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",A),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new De(e,t,"password")}static _fromEmailAndCode(e,t){return new De(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Fe(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ne);case"emailLink":return async function(e,t){return T(e,"POST","/v1/accounts:signInWithEmailLink",k(e,t))}(e,{email:this._email,oobCode:this._password});default:h(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Fe(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Te);case"emailLink":return async function(e,t){return T(e,"POST","/v1/accounts:signInWithEmailLink",k(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:h(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Le(e,t){return T(e,"POST","/v1/accounts:signInWithIdp",k(e,t))}class He extends _e{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new He(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):h("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:A,signInMethod:n}=t,r=i(t,["providerId","signInMethod"]);if(!A||!n)return null;const s=new He(A,n);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return Le(e,this.buildRequest())}_linkToIdToken(e,t){const A=this.buildRequest();return A.idToken=t,Le(e,A)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Le(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,r.Am)(t)}return e}}const Oe={USER_NOT_FOUND:"user-not-found"};class Re extends _e{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Re({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Re({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return T(e,"POST","/v1/accounts:signInWithPhoneNumber",k(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const A=await T(e,"POST","/v1/accounts:signInWithPhoneNumber",k(e,t));if(A.temporaryProof)throw H(e,"account-exists-with-different-credential",A);return A}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return T(e,"POST","/v1/accounts:signInWithPhoneNumber",k(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Oe)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:A,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:A,code:n}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:A,phoneNumber:n,temporaryProof:r}=e;return A||t||n||r?new Re({verificationId:t,verificationCode:A,phoneNumber:n,temporaryProof:r}):null}}class Pe{constructor(e){var t,A,n,s,i,o;const a=(0,r.I9)((0,r.hp)(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(A=a.oobCode)&&void 0!==A?A:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=a.mode)&&void 0!==n?n:null);y(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=a.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=a.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,r.I9)((0,r.hp)(e)).link,A=t?(0,r.I9)((0,r.hp)(t)).deep_link_id:null,n=(0,r.I9)((0,r.hp)(e)).deep_link_id;return(n?(0,r.I9)((0,r.hp)(n)).link:null)||n||A||t||e}(e);try{return new Pe(t)}catch(A){return null}}}class Me{constructor(){this.providerId=Me.PROVIDER_ID}static credential(e,t){return De._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const A=Pe.parseLink(t);return y(A,"argument-error"),De._fromEmailAndCode(e,A.code,A.tenantId)}}Me.PROVIDER_ID="password",Me.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Me.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class je{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ke extends je{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ve extends Ke{constructor(){super("facebook.com")}static credential(e){return He._fromParams({providerId:Ve.PROVIDER_ID,signInMethod:Ve.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ve.credentialFromTaggedObject(e)}static credentialFromError(e){return Ve.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ve.credential(t.oauthAccessToken)}catch(A){return null}}}Ve.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ve.PROVIDER_ID="facebook.com";class Ge extends Ke{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return He._fromParams({providerId:Ge.PROVIDER_ID,signInMethod:Ge.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ge.credentialFromTaggedObject(e)}static credentialFromError(e){return Ge.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:A,oauthAccessToken:n}=t;if(!A&&!n)return null;try{return Ge.credential(A,n)}catch(r){return null}}}Ge.GOOGLE_SIGN_IN_METHOD="google.com",Ge.PROVIDER_ID="google.com";class ze extends Ke{constructor(){super("github.com")}static credential(e){return He._fromParams({providerId:ze.PROVIDER_ID,signInMethod:ze.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ze.credentialFromTaggedObject(e)}static credentialFromError(e){return ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ze.credential(t.oauthAccessToken)}catch(A){return null}}}ze.GITHUB_SIGN_IN_METHOD="github.com",ze.PROVIDER_ID="github.com";class We extends Ke{constructor(){super("twitter.com")}static credential(e,t){return He._fromParams({providerId:We.PROVIDER_ID,signInMethod:We.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return We.credentialFromTaggedObject(e)}static credentialFromError(e){return We.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:A,oauthTokenSecret:n}=t;if(!A||!n)return null;try{return We.credential(A,n)}catch(r){return null}}}async function qe(e,t){return T(e,"POST","/v1/accounts:signUp",k(e,t))}We.TWITTER_SIGN_IN_METHOD="twitter.com",We.PROVIDER_ID="twitter.com";class Xe{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,A){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await ee._fromIdTokenResponse(e,A,n),s=Je(A);return new Xe({user:r,providerId:s,_tokenResponse:A,operationType:t})}static async _forOperation(e,t,A){await e._updateTokensIfNecessary(A,!0);const n=Je(A);return new Xe({user:e,providerId:n,_tokenResponse:A,operationType:t})}}function Je(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ye extends r.g{constructor(e,t,A,n){var r;super(t.code,t.message),this.operationType=A,this.user=n,Object.setPrototypeOf(this,Ye.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(e,t,A,n){return new Ye(e,t,A,n)}}function Ze(e,t,A,n){return("reauthenticate"===t?A._getReauthenticationResolver(e):A._getIdTokenResponse(e)).catch(A=>{if(A.code==="auth/".concat("multi-factor-auth-required"))throw Ye._fromErrorAndOperation(e,A,t,n);throw A})}async function $e(e,t){let A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=await W(e,t._linkToIdToken(e.auth,await e.getIdToken()),A);return Xe._forOperation(e,"link",n)}async function et(e,t){let A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,n.xZ)(r.app))return Promise.reject(p(r));const s="reauthenticate";try{const n=await W(e,Ze(r,s,t,e),A);y(n.idToken,r,"internal-error");const i=G(n.idToken);y(i,r,"internal-error");const{sub:o}=i;return y(e.uid===o,r,"user-mismatch"),Xe._forOperation(e,s,n)}catch(i){throw(null===i||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&h(r,"user-mismatch"),i}}async function tt(e,t){let A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,n.xZ)(e.app))return Promise.reject(p(e));const r="signIn",s=await Ze(e,r,t),i=await Xe._fromIdTokenResponse(e,r,s);return A||await e._updateCurrentUser(i.user),i}async function At(e,t){return tt(ve(e),t)}async function nt(e){const t=ve(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rt(e,t){let{displayName:A,photoURL:n}=t;if(void 0===A&&void 0===n)return;const s=(0,r.Ku)(e),i={idToken:await s.getIdToken(),displayName:A,photoUrl:n,returnSecureToken:!0},o=await W(s,async function(e,t){return S(e,"POST","/v1/accounts:update",t)}(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(e=>{let{providerId:t}=e;return"password"===t});a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}new WeakMap;const st="__sak";class it{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(st,"1"),this.storage.removeItem(st),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ot extends it{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const A=this.storage.getItem(t),n=this.localCache[t];A!==n&&e(t,n,A)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,A)=>{this.notifyListeners(e,A)});const A=e.key;t?this.detachListener():this.stopPolling();const n=()=>{const e=this.storage.getItem(A);(t||this.localCache[A]!==e)&&this.notifyListeners(A,e)},s=this.storage.getItem(A);(0,r.lT)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;const A=this.listeners[e];if(A)for(const n of Array.from(A))n(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ot.type="LOCAL";const at=ot;class lt extends it{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lt.type="SESSION";const ct=lt;class ut{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const A=new ut(e);return this.receivers.push(A),A}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:A,eventType:n,data:r}=t.data,s=this.handlersMap[n];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:A,eventType:n});const i=Array.from(s).map(async e=>e(t.origin,r)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(i);t.ports[0].postMessage({status:"done",eventId:A,eventType:n,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function dt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,A="";for(let n=0;n<t;n++)A+=Math.floor(10*Math.random());return e+A}ut.receivers=[];class ht{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const n="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let r,s;return new Promise((i,o)=>{const a=dt("",20);n.port1.start();const l=setTimeout(()=>{o(new Error("unsupported_event"))},A);s={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===a)switch(t.data.status){case"ack":clearTimeout(l),r=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),i(t.data.response);break;default:clearTimeout(l),clearTimeout(r),o(new Error("invalid_response"))}}},this.handlers.add(s),n.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:a,data:t},[n.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function ft(){return window}function gt(){return"undefined"!==typeof ft().WorkerGlobalScope&&"function"===typeof ft().importScripts}const pt="firebaseLocalStorageDb",mt="firebaseLocalStorage",wt="fbase_key";class yt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bt(e,t){return e.transaction([mt],t?"readwrite":"readonly").objectStore(mt)}function vt(){const e=indexedDB.open(pt,1);return new Promise((t,A)=>{e.addEventListener("error",()=>{A(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(mt,{keyPath:wt})}catch(n){A(n)}}),e.addEventListener("success",async()=>{const A=e.result;A.objectStoreNames.contains(mt)?t(A):(A.close(),await function(){const e=indexedDB.deleteDatabase(pt);return new yt(e).toPromise()}(),t(await vt()))})})}async function bt(e,t,A){const n=Bt(e,!0).put({[wt]:t,value:A});return new yt(n).toPromise()}function Ct(e,t){const A=Bt(e,!0).delete(t);return new yt(A).toPromise()}class xt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await vt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(A){if(t++>3)throw A;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ut._getInstance(gt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ht(this.activeServiceWorker);const A=await this.sender._send("ping",{},800);A&&(null===(e=A[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=A[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vt();return await bt(e,st,"1"),await Ct(e,st),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(A=>bt(A,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const A=Bt(e,!1).get(t),n=await new yt(A).toPromise();return void 0===n?null:n.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ct(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Bt(e,!1).getAll();return new yt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],A=new Set;if(0!==e.length)for(const{fbase_key:n,value:r}of e)A.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(r)&&(this.notifyListeners(n,r),t.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!A.has(n)&&(this.notifyListeners(n,null),t.push(n));return t}notifyListeners(e,t){this.localCache[e]=t;const A=this.listeners[e];if(A)for(const n of Array.from(A))n(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xt.type="LOCAL";const Et=xt;const Ut=1e12;class Qt{constructor(e){this.auth=e,this.counter=Ut,this._widgets=new Map}render(e,t){const A=this.counter;return this._widgets.set(A,new Ft(e,this.auth.name,t||{})),this.counter++,A}reset(e){var t;const A=e||Ut;null===(t=this._widgets.get(A))||void 0===t||t.delete(),this._widgets.delete(A)}getResponse(e){var t;const A=e||Ut;return(null===(t=this._widgets.get(A))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const A=e||Ut;return null===(t=this._widgets.get(A))||void 0===t||t.execute(),""}}class Ft{constructor(e,t,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const n="string"===typeof e?document.getElementById(e):e;y(n,"argument-error",{appName:t}),this.container=n,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],A="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<e;n++)t.push(A.charAt(Math.floor(Math.random()*A.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const It=Ee("rcb"),kt=new E(3e4,6e4);class St{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ft().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return y(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&O(ft().grecaptcha)?Promise.resolve(ft().grecaptcha):new Promise((A,n)=>{const s=ft().setTimeout(()=>{n(f(e,"network-request-failed"))},kt.get());ft()[It]=()=>{ft().clearTimeout(s),delete ft()[It];const r=ft().grecaptcha;if(!r||!O(r))return void n(f(e,"internal-error"));const i=r.render;r.render=(e,t)=>{const A=i(e,t);return this.counter++,A},this.hostLanguage=t,A(r)};xe("".concat(Ce.recaptchaV2Script,"?").concat((0,r.Am)({onload:It,render:"explicit",hl:t}))).catch(()=>{clearTimeout(s),n(f(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ft().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _t{async load(e){return new Qt(e)}clearedOneInstance(){}}const Tt="recaptcha",Nt={theme:"light",type:"image"};class Dt{constructor(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Nt);this.parameters=A,this.type=Tt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ve(e),this.isInvisible="invisible"===this.parameters.size,y("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const n="string"===typeof t?document.getElementById(t):t;y(n,this.auth,"argument-error"),this.container=n,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _t:new St,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),A=t.getResponse(e);return A||new Promise(A=>{const n=e=>{e&&(this.tokenChangeListeners.delete(n),A(e))};this.tokenChangeListeners.add(n),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){y(!this.parameters.sitekey,this.auth,"argument-error"),y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),y("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"===typeof e)e(t);else if("string"===typeof e){const A=ft()[e];"function"===typeof A&&A(t)}}}assertNotDestroyed(){y(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){y(C()&&!gt(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await S(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);y(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Lt{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Re._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Ht(e,t,A){var n;const r=await A.verify();try{let s;if(y("string"===typeof r,e,"argument-error"),y(A.type===Tt,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){y("enroll"===t.type,e,"internal-error");const A=await function(e,t){return S(e,"POST","/v2/accounts/mfaEnrollment:start",k(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return A.phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");const A=(null===(n=s.multiFactorHint)||void 0===n?void 0:n.uid)||s.multiFactorUid;y(A,e,"missing-multi-factor-info");const i=await function(e,t){return S(e,"POST","/v2/accounts/mfaSignIn:start",k(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:A,phoneSignInInfo:{recaptchaToken:r}});return i.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return S(e,"POST","/v1/accounts:sendVerificationCode",k(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{A._reset()}}class Ot{constructor(e){this.providerId=Ot.PROVIDER_ID,this.auth=ve(e)}verifyPhoneNumber(e,t){return Ht(this.auth,e,(0,r.Ku)(t))}static credential(e,t){return Re._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ot.credentialFromTaggedObject(t)}static credentialFromError(e){return Ot.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:A,temporaryProof:n}=t;return A&&n?Re._fromTokenResponse(A,n):null}}function Rt(e,t){return t?Ae(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ot.PROVIDER_ID="phone",Ot.PHONE_SIGN_IN_METHOD="phone";class Pt extends _e{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Le(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Le(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Le(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mt(e){return tt(e.auth,new Pt(e),e.bypassAuthState)}function jt(e){const{auth:t,user:A}=e;return y(A,t,"internal-error"),et(A,new Pt(e),e.bypassAuthState)}async function Kt(e){const{auth:t,user:A}=e;return y(A,t,"internal-error"),$e(A,new Pt(e),e.bypassAuthState)}class Vt{constructor(e,t,A,n){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=A,this.user=n,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(A){this.reject(A)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:A,postBody:n,tenantId:r,error:s,type:i}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:A,tenantId:r||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(o))}catch(a){this.reject(a)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mt;case"linkViaPopup":case"linkViaRedirect":return Kt;case"reauthViaPopup":case"reauthViaRedirect":return jt;default:h(this.auth,"internal-error")}}resolve(e){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gt=new E(2e3,1e4);class zt extends Vt{constructor(e,t,A,n,r){super(e,t,n,r),this.provider=A,this.authWindow=null,this.pollId=null,zt.currentPopupAction&&zt.currentPopupAction.cancel(),zt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){v(1===this.filter.length,"Popup operations only handle one event");const e=dt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(f(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(f(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,A;(null===(A=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===A?void 0:A.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(f(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Gt.get())};e()}}zt.currentPopupAction=null;const Wt=new Map;class qt extends Vt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Wt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const A=Yt(t),n=Jt(e);if(!await n._isAvailable())return!1;const r="true"===await n._get(A);return await n._remove(A),r}(this.resolver,this.auth),A=t?await super.execute():null;e=()=>Promise.resolve(A)}catch(t){e=()=>Promise.reject(t)}Wt.set(this.auth._key(),e)}return this.bypassAuthState||Wt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Xt(e,t){Wt.set(e._key(),t)}function Jt(e){return Ae(e._redirectPersistence)}function Yt(e){return se("pendingRedirect",e.config.apiKey,e.name)}async function Zt(e,t){let A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,n.xZ)(e.app))return Promise.reject(p(e));const r=ve(e),s=Rt(r,t),i=new qt(r,s,A),o=await i.execute();return o&&!A&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class $t{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(e,A)&&(t=!0,this.sendToConsumer(e,A),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tA(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var A;if(e.error&&!tA(e)){const n=(null===(A=e.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";t.onError(f(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const A=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&A}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eA(e))}saveEventToCache(e){this.cachedEventUids.add(eA(e)),this.lastProcessedEventTime=Date.now()}}function eA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tA(e){let{type:t,error:A}=e;return"unknown"===t&&(null===A||void 0===A?void 0:A.code)==="auth/".concat("no-auth-event")}const AA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nA=/^https?/;async function rA(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return S(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(sA(n))return}catch(A){}h(e,"unauthorized-domain")}function sA(e){const t=b(),{protocol:A,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===n?"chrome-extension:"===A&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===A&&r.hostname===n}if(!nA.test(A))return!1;if(AA.test(e))return n===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}const iA=new E(3e4,6e4);function oA(){const e=ft().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let A=0;A<e.CP.length;A++)e.CP[A]=null}function aA(e){return new Promise((t,A)=>{var n,r,s;function i(){oA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oA(),A(f(e,"network-request-failed"))},timeout:iA.get()})}if(null===(r=null===(n=ft().gapi)||void 0===n?void 0:n.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ft().gapi)||void 0===s?void 0:s.load)){const t=Ee("iframefcb");return ft()[t]=()=>{gapi.load?i():A(f(e,"network-request-failed"))},xe("".concat(Ce.gapiScript,"?onload=").concat(t)).catch(e=>A(e))}i()}}).catch(e=>{throw lA=null,e})}let lA=null;const cA=new E(5e3,15e3),uA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hA(e){const t=e.config;y(t.authDomain,e,"auth-domain-config-required");const A=t.emulator?U(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),s={apiKey:t.apiKey,appName:e.name,v:n.MF},i=dA.get(e.config.apiHost);i&&(s.eid=i);const o=e._getFrameworks();return o.length&&(s.fw=o.join(",")),"".concat(A,"?").concat((0,r.Am)(s).slice(1))}async function fA(e){const t=await function(e){return lA=lA||aA(e),lA}(e),A=ft().gapi;return y(A,e,"internal-error"),t.open({where:document.body,url:hA(e),messageHandlersFilter:A.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uA,dontclear:!0},t=>new Promise(async(A,n)=>{await t.restyle({setHideOnLeave:!1});const r=f(e,"network-request-failed"),s=ft().setTimeout(()=>{n(r)},cA.get());function i(){ft().clearTimeout(s),A(t)}t.ping(i).then(i,()=>{n(r)})}))}const gA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function mA(e,t,A){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l=Object.assign(Object.assign({},gA),{width:n.toString(),height:s.toString(),top:i,left:o}),c=(0,r.ZQ)().toLowerCase();A&&(a=ce(c)?"_blank":A),ae(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[A,n]=t;return"".concat(e).concat(A,"=").concat(n,",")},"");if(function(){var e;return ge(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const A=document.createElement("a");A.href=e,A.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),A.dispatchEvent(n)}(t||"",a),new pA(null);const d=window.open(t||"",a,u);y(d,e,"popup-blocked");try{d.focus()}catch(h){}return new pA(d)}const wA="__/auth/handler",yA="emulator/auth/handler",BA=encodeURIComponent("fac");async function vA(e,t,A,s,i,o){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:A,redirectUrl:s,v:n.MF,eventId:i};if(t instanceof je){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",(0,r.Im)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof Ke){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const n of Object.keys(l))void 0===l[n]&&delete l[n];const c=await e._getAppCheckToken(),u=c?"#".concat(BA,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(wA);return U(t,yA)}(e),"?").concat((0,r.Am)(l).slice(1)).concat(u)}const bA="webStorageSupport";const CA=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ct,this._completeRedirectFn=Zt,this._overrideRedirectResult=Xt}async _openPopup(e,t,A,n){var r;v(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return mA(e,await vA(e,t,A,b(),n),dt())}async _openRedirect(e,t,A,n){await this._originValidation(e);return function(e){ft().location.href=e}(await vA(e,t,A,b(),n)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:A}=this.eventManagers[t];return e?Promise.resolve(e):(v(A,"If manager is not set, promise should be"),A)}const A=this.initAndGetManager(e);return this.eventManagers[t]={promise:A},A.catch(()=>{delete this.eventManagers[t]}),A}async initAndGetManager(e){const t=await fA(e),A=new $t(e);return t.register("authEvent",t=>{y(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:A.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:A},this.iframes[e._key()]=t,A}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bA,{type:bA},A=>{var n;const r=null===(n=null===A||void 0===A?void 0:A[0])||void 0===n?void 0:n[bA];void 0!==r&&t(!!r),h(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pe()||le()||ge()}};var xA="@firebase/auth",EA="1.7.9";class UA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const QA=(0,r.XA)("authIdTokenMaxAge")||300;let FA=null;var IA;Ce={loadJS:e=>new Promise((t,A)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=e=>{const t=f("internal-error");t.customData=e,A(t)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(n)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},IA="Browser",(0,n.om)(new o.uA("auth",(e,t)=>{let{options:A}=t;const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=n.options;y(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:i,authDomain:o,clientPlatform:IA,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:me(IA)},l=new Be(n,r,s,a);return function(e,t){const A=(null===t||void 0===t?void 0:t.persistence)||[],n=(Array.isArray(A)?A:[A]).map(Ae);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,A),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,A)=>{e.getProvider("auth-internal").initialize()})),(0,n.om)(new o.uA("auth-internal",e=>(e=>new UA(e))(ve(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,n.KO)(xA,EA,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(IA)),(0,n.KO)(xA,EA,"esm2017");var kA=A(5472),SA=A(8147),_A=A(626),TA=A(2799);const NA="@firebase/installations",DA="0.6.9",LA=1e4,HA="w:".concat(DA),OA="FIS_v2",RA=36e5,PA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},MA=new r.FA("installations","Installations",PA);function jA(e){return e instanceof r.g&&e.code.includes("request-failed")}function KA(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function VA(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function GA(e,t){const A=(await t.json()).error;return MA.create("request-failed",{requestName:e,serverCode:A.code,serverMessage:A.message,serverStatus:A.status})}function zA(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function WA(e,t){let{refreshToken:A}=t;const n=zA(e);return n.append("Authorization",function(e){return"".concat(OA," ").concat(e)}(A)),n}async function qA(e){const t=await e();return t.status>=500&&t.status<600?e():t}function XA(e){return new Promise(t=>{setTimeout(t,e)})}const JA=/^[cdef][\w-]{21}$/;function YA(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(A=e,btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_"));var A;return t.substr(0,22)}(e);return JA.test(t)?t:""}catch(e){return""}}function ZA(e){return"".concat(e.appName,"!").concat(e.appId)}const $A=new Map;function en(e,t){const A=ZA(e);tn(A,t),function(e,t){const A=nn();A&&A.postMessage({key:e,fid:t});rn()}(A,t)}function tn(e,t){const A=$A.get(e);if(A)for(const n of A)n(t)}let An=null;function nn(){return!An&&"BroadcastChannel"in self&&(An=new BroadcastChannel("[Firebase] FID Change"),An.onmessage=e=>{tn(e.data.key,e.data.fid)}),An}function rn(){0===$A.size&&An&&(An.close(),An=null)}const sn="firebase-installations-store";let on=null;function an(){return on||(on=(0,TA.P2)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(sn)}})),on}async function ln(e,t){const A=ZA(e),n=(await an()).transaction(sn,"readwrite"),r=n.objectStore(sn),s=await r.get(A);return await r.put(t,A),await n.done,s&&s.fid===t.fid||en(e,t.fid),t}async function cn(e){const t=ZA(e),A=(await an()).transaction(sn,"readwrite");await A.objectStore(sn).delete(t),await A.done}async function un(e,t){const A=ZA(e),n=(await an()).transaction(sn,"readwrite"),r=n.objectStore(sn),s=await r.get(A),i=t(s);return void 0===i?await r.delete(A):await r.put(i,A),await n.done,!i||s&&s.fid===i.fid||en(e,i.fid),i}async function dn(e){let t;const A=await un(e.appConfig,A=>{const n=function(e){const t=e||{fid:YA(),registrationStatus:0};return gn(t)}(A),r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(MA.create("app-offline"))}}const A={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=async function(e,t){try{const A=await async function(e,t){let{appConfig:A,heartbeatServiceProvider:n}=e,{fid:r}=t;const s=KA(A),i=zA(A),o=n.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={fid:r,authVersion:OA,appId:A.appId,sdkVersion:HA},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await qA(()=>fetch(s,l));if(c.ok){const e=await c.json();return{fid:e.fid||r,registrationStatus:2,refreshToken:e.refreshToken,authToken:VA(e.authToken)}}throw await GA("Create Installation",c)}(e,t);return ln(e.appConfig,A)}catch(A){throw jA(A)&&409===A.customData.serverCode?await cn(e.appConfig):await ln(e.appConfig,{fid:t.fid,registrationStatus:0}),A}}(e,A);return{installationEntry:A,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:hn(e)}:{installationEntry:t}}(e,n);return t=r.registrationPromise,r.installationEntry});return""===A.fid?{installationEntry:await t}:{installationEntry:A,registrationPromise:t}}async function hn(e){let t=await fn(e.appConfig);for(;1===t.registrationStatus;)await XA(100),t=await fn(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:A}=await dn(e);return A||t}return t}function fn(e){return un(e,e=>{if(!e)throw MA.create("installation-not-found");return gn(e)})}function gn(e){return 1===(t=e).registrationStatus&&t.registrationTime+LA<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function pn(e,t){let{appConfig:A,heartbeatServiceProvider:n}=e;const r=function(e,t){let{fid:A}=t;return"".concat(KA(e),"/").concat(A,"/authTokens:generate")}(A,t),s=WA(A,t),i=n.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:HA,appId:A.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await qA(()=>fetch(r,a));if(l.ok){return VA(await l.json())}throw await GA("Generate Auth Token",l)}async function mn(e){let t,A=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=await un(e.appConfig,n=>{if(!yn(n))throw MA.create("not-registered");const r=n.authToken;if(!A&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+RA}(e)}(r))return n;if(1===r.requestStatus)return t=async function(e,t){let A=await wn(e.appConfig);for(;1===A.authToken.requestStatus;)await XA(100),A=await wn(e.appConfig);const n=A.authToken;return 0===n.requestStatus?mn(e,t):n}(e,A),n;{if(!navigator.onLine)throw MA.create("app-offline");const A=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(n);return t=async function(e,t){try{const A=await pn(e,t),n=Object.assign(Object.assign({},t),{authToken:A});return await ln(e.appConfig,n),A}catch(A){if(!jA(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const A=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ln(e.appConfig,A)}else await cn(e.appConfig);throw A}}(e,A),A}});return t?await t:n.authToken}function wn(e){return un(e,e=>{if(!yn(e))throw MA.create("not-registered");const t=e.authToken;return 1===(A=t).requestStatus&&A.requestTime+LA<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var A})}function yn(e){return void 0!==e&&2===e.registrationStatus}async function Bn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const A=e;await async function(e){const{registrationPromise:t}=await dn(e);t&&await t}(A);return(await mn(A,t)).token}function vn(e){return MA.create("missing-app-config-values",{valueName:e})}const bn="installations",Cn=e=>{const t=e.getProvider("app").getImmediate(),A=function(e){if(!e||!e.options)throw vn("App Configuration");if(!e.name)throw vn("App Name");const t=["projectId","apiKey","appId"];for(const A of t)if(!e.options[A])throw vn(A);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:A,heartbeatServiceProvider:(0,n.j6)(t,"heartbeat"),_delete:()=>Promise.resolve()}},xn=e=>{const t=e.getProvider("app").getImmediate(),A=(0,n.j6)(t,bn).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:A,registrationPromise:n}=await dn(t);return n?n.catch(console.error):mn(t).catch(console.error),A.fid}(A),getToken:e=>Bn(A,e)}};(0,n.om)(new o.uA(bn,Cn,"PUBLIC")),(0,n.om)(new o.uA("installations-internal",xn,"PRIVATE")),(0,n.KO)(NA,DA),(0,n.KO)(NA,DA,"esm2017");const En="/firebase-messaging-sw.js",Un="/firebase-cloud-messaging-push-scope",Qn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fn="https://fcmregistrations.googleapis.com/v1",In="google.c.a.c_id";var kn,Sn;function _n(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Tn(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),A=atob(t),n=new Uint8Array(A.length);for(let r=0;r<A.length;++r)n[r]=A.charCodeAt(r);return n}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(kn||(kn={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Sn||(Sn={}));const Nn="fcm_token_details_db",Dn=5,Ln="fcm_token_object_Store";const Hn="firebase-messaging-database",On=1,Rn="firebase-messaging-store";let Pn=null;function Mn(){return Pn||(Pn=(0,TA.P2)(Hn,On,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Rn)}})),Pn}async function jn(e){const t=Vn(e),A=await Mn(),n=await A.transaction(Rn).objectStore(Rn).get(t);if(n)return n;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(Nn))return null}let t=null;return(await(0,TA.P2)(Nn,Dn,{upgrade:async(A,n,r,s)=>{var i;if(n<2)return;if(!A.objectStoreNames.contains(Ln))return;const o=s.objectStore(Ln),a=await o.index("fcmSenderId").get(e);if(await o.clear(),a)if(2===n){const e=a;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(i=e.createTime)&&void 0!==i?i:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:_n(e.vapidKey)}}}else if(3===n){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:_n(e.auth),p256dh:_n(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:_n(e.vapidKey)}}}else if(4===n){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:_n(e.auth),p256dh:_n(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:_n(e.vapidKey)}}}}})).close(),await(0,TA.MR)(Nn),await(0,TA.MR)("fcm_vapid_details_db"),await(0,TA.MR)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await Kn(e,t),t}}async function Kn(e,t){const A=Vn(e),n=(await Mn()).transaction(Rn,"readwrite");return await n.objectStore(Rn).put(t,A),await n.done,t}function Vn(e){let{appConfig:t}=e;return t.appId}const Gn={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},zn=new r.FA("messaging","Messaging",Gn);async function Wn(e,t){const A={method:"DELETE",headers:await Xn(e)};try{const n=await fetch("".concat(qn(e.appConfig),"/").concat(t),A),r=await n.json();if(r.error){const e=r.error.message;throw zn.create("token-unsubscribe-failed",{errorInfo:e})}}catch(n){throw zn.create("token-unsubscribe-failed",{errorInfo:null===n||void 0===n?void 0:n.toString()})}}function qn(e){let{projectId:t}=e;return"".concat(Fn,"/projects/").concat(t,"/registrations")}async function Xn(e){let{appConfig:t,installations:A}=e;const n=await A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(n)})}function Jn(e){let{p256dh:t,auth:A,endpoint:n,vapidKey:r}=e;const s={web:{endpoint:n,auth:A,p256dh:t}};return r!==Qn&&(s.web.applicationPubKey=r),s}const Yn=6048e5;async function Zn(e){const t=await async function(e,t){const A=await e.pushManager.getSubscription();if(A)return A;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tn(t)})}(e.swRegistration,e.vapidKey),A={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:_n(t.getKey("auth")),p256dh:_n(t.getKey("p256dh"))},n=await jn(e.firebaseDependencies);if(n){if(function(e,t){const A=t.vapidKey===e.vapidKey,n=t.endpoint===e.endpoint,r=t.auth===e.auth,s=t.p256dh===e.p256dh;return A&&n&&r&&s}(n.subscriptionOptions,A))return Date.now()>=n.createTime+Yn?async function(e,t){try{const A=await async function(e,t){const A=await Xn(e),n=Jn(t.subscriptionOptions),r={method:"PATCH",headers:A,body:JSON.stringify(n)};let s;try{const A=await fetch("".concat(qn(e.appConfig),"/").concat(t.token),r);s=await A.json()}catch(i){throw zn.create("token-update-failed",{errorInfo:null===i||void 0===i?void 0:i.toString()})}if(s.error){const e=s.error.message;throw zn.create("token-update-failed",{errorInfo:e})}if(!s.token)throw zn.create("token-update-no-token");return s.token}(e.firebaseDependencies,t),n=Object.assign(Object.assign({},t),{token:A,createTime:Date.now()});return await Kn(e.firebaseDependencies,n),A}catch(A){throw A}}(e,{token:n.token,createTime:Date.now(),subscriptionOptions:A}):n.token;try{await Wn(e.firebaseDependencies,n.token)}catch(r){console.warn(r)}return $n(e.firebaseDependencies,A)}return $n(e.firebaseDependencies,A)}async function $n(e,t){const A=await async function(e,t){const A=await Xn(e),n=Jn(t),r={method:"POST",headers:A,body:JSON.stringify(n)};let s;try{const t=await fetch(qn(e.appConfig),r);s=await t.json()}catch(i){throw zn.create("token-subscribe-failed",{errorInfo:null===i||void 0===i?void 0:i.toString()})}if(s.error){const e=s.error.message;throw zn.create("token-subscribe-failed",{errorInfo:e})}if(!s.token)throw zn.create("token-subscribe-no-token");return s.token}(e,t),n={token:A,createTime:Date.now(),subscriptionOptions:t};return await Kn(e,n),n.token}function er(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const A=t.notification.title;A&&(e.notification.title=A);const n=t.notification.body;n&&(e.notification.body=n);const r=t.notification.image;r&&(e.notification.image=r);const s=t.notification.icon;s&&(e.notification.icon=s)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var A,n,r,s,i;if(!t.fcmOptions&&!(null===(A=t.notification)||void 0===A?void 0:A.click_action))return;e.fcmOptions={};const o=null!==(r=null===(n=t.fcmOptions)||void 0===n?void 0:n.link)&&void 0!==r?r:null===(s=t.notification)||void 0===s?void 0:s.click_action;o&&(e.fcmOptions.link=o);const a=null===(i=t.fcmOptions)||void 0===i?void 0:i.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}(t,e),t}function tr(e){return zn.create("missing-app-config-values",{valueName:e})}!function(e,t){const A=[];for(let n=0;n<e.length;n++)A.push(e.charAt(n)),n<t.length&&A.push(t.charAt(n));A.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ar{constructor(e,t,A){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=function(e){if(!e||!e.options)throw tr("App Configuration Object");if(!e.name)throw tr("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:A}=e;for(const n of t)if(!A[n])throw tr(n);return{appName:e.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:n,installations:t,analyticsProvider:A}}_delete(){return Promise.resolve()}}async function nr(e){try{e.swRegistration=await navigator.serviceWorker.register(En,{scope:Un}),e.swRegistration.update().catch(()=>{})}catch(t){throw zn.create("failed-service-worker-registration",{browserErrorMessage:null===t||void 0===t?void 0:t.message})}}async function rr(e,t){if(!navigator)throw zn.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw zn.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Qn)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await nr(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw zn.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),Zn(e)}async function sr(e,t,A){const n=function(e){switch(e){case Sn.NOTIFICATION_CLICKED:return"notification_open";case Sn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:A[In],message_name:A["google.c.a.c_l"],message_time:A["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function ir(e,t){const A=t.data;if(!A.isFirebaseMessaging)return;e.onMessageHandler&&A.messageType===Sn.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(er(A)):e.onMessageHandler.next(er(A)));const n=A.data;var r;"object"===typeof(r=n)&&r&&In in r&&"1"===n["google.c.a.e"]&&await sr(e,A.messageType,n)}const or="@firebase/messaging",ar="0.12.12",lr=e=>{const t=new Ar(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>ir(t,e)),t},cr=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>rr(t,e)}};async function ur(e,t){return rr(e=(0,r.Ku)(e),t)}function dr(e,t){return function(e,t){if(!navigator)throw zn.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=(0,r.Ku)(e),t)}(0,n.om)(new o.uA("messaging",lr,"PUBLIC")),(0,n.om)(new o.uA("messaging-internal",cr,"PRIVATE")),(0,n.KO)(or,ar),(0,n.KO)(or,ar,"esm2017");const hr={apiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_API_KEY,authDomain:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_APP_ID},fr=(0,n.Wp)(hr),gr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.Sx)();const t=(0,n.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const A=function(e,t){const A=(0,n.j6)(e,"auth");if(A.isInitialized()){const e=A.getImmediate(),n=A.getOptions();if((0,r.bD)(n,null!==t&&void 0!==t?t:{}))return e;h(e,"already-initialized")}return A.initialize({options:t})}(e,{popupRedirectResolver:CA,persistence:[Et,at,ct]}),s=(0,r.XA)("authTokenSyncURL");if(s&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(s,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),A=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(A&&A>QA)return;const n=null===t||void 0===t?void 0:t.token;FA!==n&&(FA=n,await fetch(i,{method:n?"POST":"DELETE",headers:n?{Authorization:"Bearer ".concat(n)}:{}}))});!function(e,t,A){(0,r.Ku)(e).beforeAuthStateChanged(t,A)}(A,t,()=>t(A.currentUser)),function(e,t,A,n){(0,r.Ku)(e).onIdTokenChanged(t,A,n)}(A,e=>t(e))}}var i;const o=(0,r.Tj)("auth");return o&&Ie(A,"http://".concat(o)),A}(fr),pr=(0,kA.aU)(fr),mr=(0,SA.c7)(fr),wr=(0,_A.Uz)(fr),yr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.Sx)();return async function(){try{await(0,r.eX)()}catch(e){return!1}return"undefined"!==typeof window&&(0,r.zW)()&&(0,r.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then(e=>{if(!e)throw zn.create("unsupported-browser")},e=>{throw zn.create("indexed-db-unsupported")}),(0,n.j6)((0,r.Ku)(e),"messaging").getImmediate()}(fr),Br=new Ge,vr=e=>{switch(e.code){case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/user-not-found":return"No account found with this email.";case"auth/email-already-in-use":return"This email is already registered.";case"auth/weak-password":return"Password should be at least 6 characters.";case"auth/invalid-email":return"Invalid email address.";case"auth/user-disabled":return"This account has been disabled.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/network-request-failed":return"Network error. Please check your connection.";case"auth/popup-closed-by-user":return"Sign-in popup was closed.";case"auth/cancelled-popup-request":return"Sign-in was cancelled.";case"auth/invalid-credential":return"Invalid credentials. Please check your email and password.";default:return e.message.replace("Firebase: ","").replace(/\(auth\/[\w-]+\)\.?/,"").trim()}},br={signInWithGoogle:async()=>{try{const e=await async function(e,t,A){if((0,n.xZ)(e.app))return Promise.reject(f(e,"operation-not-supported-in-this-environment"));const r=ve(e);m(e,t,je);const s=Rt(r,A);return new zt(r,"signInViaPopup",t,s).executeNotNull()}(gr,Br);return{success:!0,user:e.user}}catch(e){return console.error("Google sign in error:",e),{success:!1,error:vr(e)}}},signInWithEmail:async(e,t)=>{try{const A=await function(e,t,A){return(0,n.xZ)(e.app)?Promise.reject(p(e)):At((0,r.Ku)(e),Me.credential(t,A)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&nt(e),t})}(gr,e,t);return{success:!0,user:A.user}}catch(A){return console.error("Email sign in error:",A),{success:!1,error:vr(A)}}},signUpWithEmail:async(e,t,A)=>{try{const r=await async function(e,t,A){if((0,n.xZ)(e.app))return Promise.reject(p(e));const r=ve(e),s=Fe(r,{returnSecureToken:!0,email:t,password:A,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qe),i=await s.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&nt(e),t}),o=await Xe._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}(gr,e,t);return await rt(r.user,{displayName:A||"New User"}),{success:!0,user:r.user}}catch(r){return console.error("Email sign up error:",r),{success:!1,error:vr(r)}}},setupRecaptcha:e=>{try{return window.recaptchaVerifier||(window.recaptchaVerifier=new Dt(gr,e,{size:"invisible",callback:()=>{}})),{success:!0,verifier:window.recaptchaVerifier}}catch(t){return console.error("reCAPTCHA setup error:",t),{success:!1,error:t.message}}},sendPhoneVerification:async(e,t)=>{try{const A=await async function(e,t,A){if((0,n.xZ)(e.app))return Promise.reject(p(e));const s=ve(e),i=await Ht(s,t,(0,r.Ku)(A));return new Lt(i,e=>At(s,e))}(gr,e,t);return{success:!0,confirmationResult:A}}catch(A){return console.error("Phone verification error:",A),window.recaptchaVerifier&&(window.recaptchaVerifier.clear(),window.recaptchaVerifier=null),{success:!1,error:A.message}}},verifyPhoneCode:async(e,t)=>{try{return{success:!0,user:(await e.confirm(t)).user}}catch(A){return console.error("Code verification error:",A),{success:!1,error:A.message}}},signOut:async()=>{try{return await function(e){return(0,r.Ku)(e).signOut()}(gr),{success:!0}}catch(e){return console.error("Sign out error:",e),{success:!1,error:e.message}}},getCurrentUser:()=>gr.currentUser,getToken:async()=>{const e=gr.currentUser;return e?await e.getIdToken():null}}},7688:(e,t,A)=>{"use strict";A.d(t,{Ay:()=>s});var n=A(5043),r=A(2339);const s=()=>{const[e,t]=(0,n.useState)(!1),A=(0,n.useRef)(null),s=(0,n.useCallback)(async n=>{let{optimisticUpdate:s,serverUpdate:i,onSuccess:o,onError:a,rollback:l,successMessage:c,errorMessage:u="Something went wrong. Please try again.",showLoadingToast:d=!1,loadingMessage:h="Processing...",skipSuccessToast:f=!1}=n;if(e)return console.warn("Request already in progress"),{success:!1,error:"Request in progress"};t(!0);let g=null;A.current=new AbortController;try{s&&s(),d&&(g=r.Ay.loading(h));const e=await i();return o&&o(e),c&&!f?g?r.Ay.success(c,{id:g}):r.Ay.success(c):g&&r.Ay.dismiss(g),t(!1),{success:!0,data:e}}catch(p){console.error("Optimistic update failed:",p),l&&l(),a&&a(p);const e=p.message||u;return g?r.Ay.error(e,{id:g}):r.Ay.error(e),t(!1),{success:!1,error:e}}},[e]),i=(0,n.useCallback)(()=>{A.current&&A.current.abort(),t(!1)},[]);return{executeOptimistic:s,isProcessing:e,cancel:i}}},7700:(e,t,A)=>{"use strict";A.d(t,{Am:()=>_,FA:()=>Q,Fy:()=>g,I9:()=>T,Im:()=>I,Ku:()=>O,T9:()=>d,Tj:()=>c,Uj:()=>i,XA:()=>h,ZQ:()=>p,bD:()=>k,c1:()=>w,cY:()=>f,dM:()=>E,eX:()=>x,g:()=>U,hp:()=>N,jZ:()=>m,lT:()=>v,lV:()=>B,nr:()=>b,sr:()=>y,tD:()=>D,u:()=>o,yU:()=>u,zW:()=>C});const n=function(e){const t=[];let A=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t[A++]=r:r<2048?(t[A++]=r>>6|192,t[A++]=63&r|128):55296===(64512&r)&&n+1<e.length&&56320===(64512&e.charCodeAt(n+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n)),t[A++]=r>>18|240,t[A++]=r>>12&63|128,t[A++]=r>>6&63|128,t[A++]=63&r|128):(t[A++]=r>>12|224,t[A++]=r>>6&63|128,t[A++]=63&r|128)}return t},r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const A=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,i=s?e[r+1]:0,o=r+2<e.length,a=o?e[r+2]:0,l=t>>2,c=(3&t)<<4|i>>4;let u=(15&i)<<2|a>>6,d=63&a;o||(d=64,s||(u=64)),n.push(A[l],A[c],A[u],A[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(n(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let A=0,n=0;for(;A<e.length;){const r=e[A++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[A++];t[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[A++])<<12|(63&e[A++])<<6|63&e[A++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else{const s=e[A++],i=e[A++];t[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const A=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<e.length;){const t=A[e.charAt(r++)],i=r<e.length?A[e.charAt(r)]:0;++r;const o=r<e.length?A[e.charAt(r)]:64;++r;const a=r<e.length?A[e.charAt(r)]:64;if(++r,null==t||null==i||null==o||null==a)throw new s;const l=t<<2|i>>4;if(n.push(l),64!==o){const e=i<<4&240|o>>2;if(n.push(e),64!==a){const e=o<<6&192|a;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(e){return function(e){const t=n(e);return r.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return r.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const a=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof A.g)return A.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,l=()=>{try{return a()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(A){return}const t=e&&o(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},c=e=>{var t,A;return null===(A=null===(t=l())||void 0===t?void 0:t.emulatorHosts)||void 0===A?void 0:A[e]},u=e=>{const t=c(e);if(!t)return;const A=t.lastIndexOf(":");if(A<=0||A+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const n=parseInt(t.substring(A+1),10);return"["===t[0]?[t.substring(1,A-1),n]:[t.substring(0,A),n]},d=()=>{var e;return null===(e=l())||void 0===e?void 0:e.config},h=e=>{var t;return null===(t=l())||void 0===t?void 0:t["_".concat(e)]};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,A)=>{t?this.reject(t):this.resolve(A),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,A))}}}function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const A=t||"demo-project",n=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(A),aud:A,iat:n,exp:n+3600,auth_time:n,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[i(JSON.stringify({alg:"none",type:"JWT"})),i(JSON.stringify(s)),""].join(".")}function p(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function w(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function y(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function B(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function v(){const e=p();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function b(){return!function(){var e;const t=null===(e=l())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(A.g.process)}catch(n){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C(){try{return"object"===typeof indexedDB}catch(e){return!1}}function x(){return new Promise((e,t)=>{try{let A=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),A||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{A=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(A){t(A)}})}function E(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class U extends Error{constructor(e,t,A){super(t),this.code=e,this.customData=A,this.name="FirebaseError",Object.setPrototypeOf(this,U.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor(e,t,A){this.service=e,this.serviceName=t,this.errors=A}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},A="".concat(this.service,"/").concat(e),n=this.errors[e],r=n?function(e,t){return e.replace(F,(e,A)=>{const n=t[A];return null!=n?String(n):"<".concat(A,"?>")})}(n,t):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(A,").");return new U(A,s,t)}}const F=/\{\$([^}]+)}/g;function I(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function k(e,t){if(e===t)return!0;const A=Object.keys(e),n=Object.keys(t);for(const r of A){if(!n.includes(r))return!1;const A=e[r],s=t[r];if(S(A)&&S(s)){if(!k(A,s))return!1}else if(A!==s)return!1}for(const r of n)if(!A.includes(r))return!1;return!0}function S(e){return null!==e&&"object"===typeof e}function _(e){const t=[];for(const[A,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(A)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(A)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function T(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[A,n]=e.split("=");t[decodeURIComponent(A)]=decodeURIComponent(n)}}),t}function N(e){const t=e.indexOf("?");if(!t)return"";const A=e.indexOf("#",t);return e.substring(t,A>0?A:void 0)}function D(e,t){const A=new L(e,t);return A.subscribe.bind(A)}class L{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,A){let n;if(void 0===e&&void 0===t&&void 0===A)throw new Error("Missing Observer.");n=function(e,t){if("object"!==typeof e||null===e)return!1;for(const A of t)if(A in e&&"function"===typeof e[A])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:A},void 0===n.next&&(n.next=H),void 0===n.error&&(n.error=H),void 0===n.complete&&(n.complete=H);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(A){"undefined"!==typeof console&&console.error&&console.error(A)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H(){}function O(e){return e&&e._delegate?e._delegate:e}},7766:(e,t,A)=>{"use strict";A.d(t,{A:()=>r});A(5043);var n=A(579);const r=e=>{var t;let{photoURL:A,name:r,requestAttention:s,size:i="md",className:o="",showBubble:a=!0}=e;const l={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"},c={sm:"text-xs px-2 py-1",md:"text-xs px-2 py-1",lg:"text-sm px-3 py-1",xl:"text-sm px-3 py-2"},u=l[i]||l.md,d=c[i]||c.md,h=a&&(null===s||void 0===s?void 0:s.active)&&(null===s||void 0===s?void 0:s.tag);return(0,n.jsxs)("div",{className:"relative inline-block ".concat(o),children:[A?(0,n.jsx)("img",{src:A,alt:r,className:"".concat(u," rounded-full object-cover ring-2 ring-white shadow-md"),onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,n.jsx)("div",{className:"".concat(u," bg-gradient-primary rounded-full flex items-center justify-center text-white font-display ring-2 ring-white shadow-md"),style:{display:A?"none":"flex"},children:(null===r||void 0===r||null===(t=r[0])||void 0===t?void 0:t.toUpperCase())||"?"}),h&&(0,n.jsx)("div",{className:"absolute -top-2 -right-2 z-10 animate-bounce-slow",children:(0,n.jsxs)("div",{className:"bg-purple-500 text-white rounded-full ".concat(d," font-semibold whitespace-nowrap shadow-lg relative"),children:[s.tag,(0,n.jsx)("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-l-transparent border-r-4 border-r-transparent border-t-4 border-t-purple-500"})]})})]})}},7950:(e,t,A)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=A(2730)},8147:(e,t,A)=>{"use strict";A.d(t,{XR:()=>Ee,qk:()=>xe,c7:()=>Qe,KR:()=>Ue,D:()=>Ce});var n=A(52),r=A(7700),s=A(8812);const i="firebasestorage.googleapis.com",o="storageBucket";class a extends r.g{constructor(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(u(e),"Firebase Storage: ".concat(t," (").concat(u(e),")")),this.status_=A,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,a.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return u(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var l,c;function u(e){return"storage/"+e}function d(){return new a(l.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function h(){return new a(l.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f(){return new a(l.CANCELED,"User canceled the upload/download.")}function g(){return new a(l.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function p(e){return new a(l.INVALID_ARGUMENT,e)}function m(){return new a(l.APP_DELETED,"The Firebase app was deleted.")}function w(e,t){return new a(l.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function y(e){throw new a(l.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(l||(l={}));class B{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let A;try{A=B.makeFromUrl(e,t)}catch(r){return new B(e,"")}if(""===A.path)return A;throw n=e,new a(l.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.");var n}static makeFromUrl(e,t){let A=null;const n="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+n+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),c=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(n,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===i?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(n,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let i=0;i<c.length;i++){const t=c[i],n=t.regex.exec(e);if(n){const e=n[t.indices.bucket];let r=n[t.indices.path];r||(r=""),A=new B(e,r),t.postModify(A);break}}if(null==A)throw function(e){return new a(l.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return A}}class v{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function b(e){return"string"===typeof e||e instanceof String}function C(e){return x()&&e instanceof Blob}function x(){return"undefined"!==typeof Blob}function E(e,t,A,n){if(n<t)throw p("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(n>A)throw p("Invalid value for '".concat(e,"'. Expected ").concat(A," or less."))}function U(e,t,A){let n=t;return null==A&&(n="https://".concat(t)),"".concat(A,"://").concat(n,"/v0").concat(e)}function Q(e){const t=encodeURIComponent;let A="?";for(const n in e)if(e.hasOwnProperty(n)){A=A+(t(n)+"="+t(e[n]))+"&"}return A=A.slice(0,-1),A}function F(e,t){const A=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==t.indexOf(e);return A||n||r}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(c||(c={}));class I{constructor(e,t,A,n,r,s,i,o,a,l,c){let u=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=A,this.body_=n,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=i,this.errorCallback_=o,this.timeout_=a,this.progressCallback_=l,this.connectionFactory_=c,this.retry=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new k(!1,null,!0));const A=this.connectionFactory_();this.pendingConnection_=A;const n=e=>{const t=e.loaded,A=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,A)};null!==this.progressCallback_&&A.addUploadProgressListener(n),A.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&A.removeUploadProgressListener(n),this.pendingConnection_=null;const t=A.getErrorCode()===c.NO_ERROR,r=A.getStatus();if(!t||F(r,this.additionalRetryCodes_)&&this.retry){const t=A.getErrorCode()===c.ABORT;return void e(!1,new k(!1,null,t))}const s=-1!==this.successCodes_.indexOf(r);e(!0,new k(s,A))})},t=(e,t)=>{const A=this.resolve_,n=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());void 0!==e?A(e):A()}catch(s){n(s)}else if(null!==r){const e=d();e.serverResponse=r.getErrorText(),this.errorCallback_?n(this.errorCallback_(r,e)):n(e)}else if(t.canceled){n(this.appDelete_?m():f())}else{n(h())}};this.canceled_?t(0,new k(!1,null,!0)):this.backoffId_=function(e,t,A){let n=1,r=null,s=null,i=!1,o=0;function a(){return 2===o}let l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,A=new Array(e),n=0;n<e;n++)A[n]=arguments[n];t.apply(null,A)}}function u(t){r=setTimeout(()=>{r=null,e(h,a())},t)}function d(){s&&clearTimeout(s)}function h(e){if(l)return void d();for(var t=arguments.length,A=new Array(t>1?t-1:0),r=1;r<t;r++)A[r-1]=arguments[r];if(e)return d(),void c.call(null,e,...A);if(a()||i)return d(),void c.call(null,e,...A);let s;n<64&&(n*=2),1===o?(o=2,s=0):s=1e3*(n+Math.random()),u(s)}let f=!1;function g(e){f||(f=!0,d(),l||(null!==r?(e||(o=2),clearTimeout(r),u(0)):e||(o=1)))}return u(0),s=setTimeout(()=>{i=!0,g(!0)},A),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class k{constructor(e,t,A){this.wasSuccessCode=e,this.connection=t,this.canceled=!!A}}function S(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function _(){const e=S();for(var t=arguments.length,A=new Array(t),n=0;n<t;n++)A[n]=arguments[n];if(void 0!==e){const t=new e;for(let e=0;e<A.length;e++)t.append(A[e]);return t.getBlob()}if(x())return new Blob(A);throw new a(l.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function T(e){if("undefined"===typeof atob)throw t="base-64",new a(l.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const N="raw",D="base64",L="base64url",H="data_url";class O{constructor(e,t){this.data=e,this.contentType=t||null}}function R(e,t){switch(e){case N:return new O(P(t));case D:case L:return new O(M(e,t));case H:return new O(function(e){const t=new j(e);return t.base64?M(D,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(A){throw w(H,"Malformed data URL.")}return P(t)}(t.rest)}(t),new j(t).contentType)}throw d()}function P(e){const t=[];for(let A=0;A<e.length;A++){let n=e.charCodeAt(A);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|63&n);else if(55296===(64512&n)){if(A<e.length-1&&56320===(64512&e.charCodeAt(A+1))){n=65536|(1023&n)<<10|1023&e.charCodeAt(++A),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n)}else t.push(239,191,189)}else 56320===(64512&n)?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(t)}function M(e,t){switch(e){case D:{const A=-1!==t.indexOf("-"),n=-1!==t.indexOf("_");if(A||n){throw w(e,"Invalid character '"+(A?"-":"_")+"' found: is it base64url encoded?")}break}case L:{const A=-1!==t.indexOf("+"),n=-1!==t.indexOf("/");if(A||n){throw w(e,"Invalid character '"+(A?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let A;try{A=T(t)}catch(r){if(r.message.includes("polyfill"))throw r;throw w(e,"Invalid character found")}const n=new Uint8Array(A.length);for(let s=0;s<A.length;s++)n[s]=A.charCodeAt(s);return n}class j{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw w(H,"Must be formatted 'data:[<mediatype>][;base64],<data>");const A=t[1]||null;null!=A&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(A,";base64"),this.contentType=this.base64?A.substring(0,A.length-7):A),this.rest=e.substring(e.indexOf(",")+1)}}class K{constructor(e,t){let A=0,n="";C(e)?(this.data_=e,A=e.size,n=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),A=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),A=e.length),this.size_=A,this.type_=n}size(){return this.size_}type(){return this.type_}slice(e,t){if(C(this.data_)){const A=function(e,t,A){return e.webkitSlice?e.webkitSlice(t,A):e.mozSlice?e.mozSlice(t,A):e.slice?e.slice(t,A):null}(this.data_,e,t);return null===A?null:new K(A)}{const A=new Uint8Array(this.data_.buffer,e,t-e);return new K(A,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),A=0;A<e;A++)t[A]=arguments[A];if(x()){const e=t.map(e=>e instanceof K?e.data_:e);return new K(_.apply(null,e))}{const e=t.map(e=>b(e)?R(N,e).data:e.data_);let A=0;e.forEach(e=>{A+=e.byteLength});const n=new Uint8Array(A);let r=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)n[r++]=e[t]}),new K(n,!0)}}uploadData(){return this.data_}}function V(e){let t;try{t=JSON.parse(e)}catch(n){return null}return"object"!==typeof(A=t)||Array.isArray(A)?null:t;var A}function G(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function z(e,t){return t}class W{constructor(e,t,A,n){this.server=e,this.local=t||e,this.writable=!!A,this.xform=n||z}}let q=null;function X(){if(q)return q;const e=[];e.push(new W("bucket")),e.push(new W("generation")),e.push(new W("metageneration")),e.push(new W("name","fullPath",!0));const t=new W("name");t.xform=function(e,t){return function(e){return!b(e)||e.length<2?e:G(e)}(t)},e.push(t);const A=new W("size");return A.xform=function(e,t){return void 0!==t?Number(t):t},e.push(A),e.push(new W("timeCreated")),e.push(new W("updated")),e.push(new W("md5Hash",null,!0)),e.push(new W("cacheControl",null,!0)),e.push(new W("contentDisposition",null,!0)),e.push(new W("contentEncoding",null,!0)),e.push(new W("contentLanguage",null,!0)),e.push(new W("contentType",null,!0)),e.push(new W("metadata","customMetadata",!0)),q=e,q}function J(e,t,A){const n={type:"file"},r=A.length;for(let s=0;s<r;s++){const e=A[s];n[e.local]=e.xform(n,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const A=e.bucket,n=e.fullPath,r=new B(A,n);return t._makeStorageReference(r)}})}(n,e),n}function Y(e,t,A){const n=V(t);if(null===n)return null;return J(e,n,A)}function Z(e,t){const A={},n=t.length;for(let r=0;r<n;r++){const n=t[r];n.writable&&(A[n.server]=e[n.local])}return JSON.stringify(A)}class ${constructor(e,t,A,n){this.url=e,this.method=t,this.handler=A,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ee(e){if(!e)throw d()}function te(e,t){return function(A,n){const r=Y(e,n,t);return ee(null!==r),r}}function Ae(e,t){return function(A,n){const r=Y(e,n,t);return ee(null!==r),function(e,t,A,n){const r=V(t);if(null===r)return null;if(!b(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const i=encodeURIComponent;return s.split(",").map(t=>{const r=e.bucket,s=e.fullPath;return U("/b/"+i(r)+"/o/"+i(s),A,n)+Q({alt:"media",token:t})})[0]}(r,n,e.host,e._protocol)}}function ne(e){return function(t,A){let n;var r,s;return 401===t.getStatus()?n=t.getErrorText().includes("Firebase App Check token is invalid")?new a(l.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new a(l.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,n=new a(l.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(r=e.path,n=new a(l.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):n=A,n.status=t.getStatus(),n.serverResponse=A.serverResponse,n}}function re(e){const t=ne(e);return function(A,n){let r=t(A,n);var s;return 404===A.getStatus()&&(s=e.path,r=new a(l.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),r.serverResponse=n.serverResponse,r}}function se(e,t,A){const n=Object.assign({},A);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),n}function ie(e,t,A,n,r){const s=t.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();i["Content-Type"]="multipart/related; boundary="+o;const a=se(t,n,r),l="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Z(a,A)+"\r\n--"+o+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",c="\r\n--"+o+"--",u=K.getBlob(l,n,c);if(null===u)throw g();const d={name:a.fullPath},h=U(s,e.host,e._protocol),f=e.maxUploadRetryTime,p=new $(h,"POST",te(e,A),f);return p.urlParams=d,p.headers=i,p.body=u.uploadData(),p.errorHandler=ne(t),p}let oe=null;class ae{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=c.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=c.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=c.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,A,n){if(this.sent_)throw y("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==n)for(const r in n)n.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,n[r].toString());return void 0!==A?this.xhr_.send(A):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw y("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw y("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw y("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw y("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class le extends ae{initXhr(){this.xhr_.responseType="text"}}function ce(){return oe?oe():new le}class ue{constructor(e,t){this._service=e,this._location=t instanceof B?t:B.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ue(e,t)}get root(){const e=new B(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new B(this._location.bucket,e);return new ue(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new a(l.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function de(e,t,A){e._throwIfRoot("uploadBytes");const n=ie(e.storage,e._location,X(),new K(t,!0),A);return e.storage.makeRequestWithTokens(n,ce).then(t=>({metadata:t,ref:e}))}function he(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,A){const n=U(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,s=new $(n,"GET",Ae(e,A),r);return s.errorHandler=re(t),s}(e.storage,e._location,X());return e.storage.makeRequestWithTokens(t,ce).then(e=>{if(null===e)throw new a(l.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function fe(e){e._throwIfRoot("deleteObject");const t=function(e,t){const A=U(t.fullServerUrl(),e.host,e._protocol),n=e.maxOperationRetryTime,r=new $(A,"DELETE",function(e,t){},n);return r.successCodes=[200,204],r.errorHandler=re(t),r}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ce)}function ge(e,t){const A=function(e,t){const A=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?A:e+"/"+A}(e._location.path,t),n=new B(e._location.bucket,A);return new ue(e.storage,n)}function pe(e,t){if(e instanceof ye){const A=e;if(null==A._bucket)throw new a(l.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+o+"' property when initializing the app?");const n=new ue(A,A._bucket);return null!=t?pe(n,t):n}return void 0!==t?ge(e,t):e}function me(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ye)return new ue(e,t);throw p("To use ref(service, url), the first argument must be a Storage instance.")}return pe(e,t)}function we(e,t){const A=null===t||void 0===t?void 0:t[o];return null==A?null:B.makeFromBucketSpec(A,e)}class ye{constructor(e,t,A,n,r){this.app=e,this._authProvider=t,this._appCheckProvider=A,this._url=n,this._firebaseVersion=r,this._bucket=null,this._host=i,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=n?B.makeFromBucketSpec(n,this._host):we(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=B.makeFromBucketSpec(this._url,e):this._bucket=we(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ue(this,e)}_makeRequest(e,t,A,n){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new v(m());{const s=function(e,t,A,n,r,s){let i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Q(e.urlParams),a=e.url+o,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,A),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,n),new I(a,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,i)}(e,this._appId,A,n,t,this._firebaseVersion,r);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[A,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,A,n).getPromise()}}const Be="@firebase/storage",ve="0.13.2",be="storage";function Ce(e,t,A){return de(e=(0,r.Ku)(e),t,A)}function xe(e){return he(e=(0,r.Ku)(e))}function Ee(e){return fe(e=(0,r.Ku)(e))}function Ue(e,t){return me(e=(0,r.Ku)(e),t)}function Qe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,r.Ku)(e);const A=(0,n.j6)(e,be).getImmediate({identifier:t}),s=(0,r.yU)("storage");return s&&function(e,t,A){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,A){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(A),e._protocol="http";const{mockUserToken:s}=n;s&&(e._overrideAuthToken="string"===typeof s?s:(0,r.Fy)(s,e.app.options.projectId))}(e,t,A,n)}(A,...s),A}function Fe(e,t){let{instanceIdentifier:A}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new ye(r,s,i,A,n.MF)}(0,n.om)(new s.uA(be,Fe,"PUBLIC").setMultipleInstances(!0)),(0,n.KO)(Be,ve,""),(0,n.KO)(Be,ve,"esm2017")},8176:(e,t,A)=>{"use strict";A.d(t,{q:()=>r});let n={};function r(){return n}},8812:(e,t,A)=>{"use strict";A.d(t,{h1:()=>o,uA:()=>r});var n=A(7700);class r{constructor(e,t,A){this.name=e,this.instanceFactory=t,this.type=A,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class i{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new n.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const A=this.getOrInitializeService({instanceIdentifier:t});A&&e.resolve(A)}catch(A){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const A=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),n=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(A)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:A})}catch(r){if(n)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,A]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});A.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,A=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(A))throw Error("".concat(this.name,"(").concat(A,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const n=this.getOrInitializeService({instanceIdentifier:A,options:t});for(const[r,s]of this.instancesDeferred.entries()){A===this.normalizeInstanceIdentifier(r)&&s.resolve(n)}return n}onInit(e,t){var A;const n=this.normalizeInstanceIdentifier(t),r=null!==(A=this.onInitCallbacks.get(n))&&void 0!==A?A:new Set;r.add(e),this.onInitCallbacks.set(n,r);const s=this.instances.get(n);return s&&e(s,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const A=this.onInitCallbacks.get(t);if(A)for(const r of A)try{r(e,t)}catch(n){}}getOrInitializeService(e){let{instanceIdentifier:t,options:A={}}=e,n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===s?void 0:r),options:A}),this.instances.set(t,n),this.instancesOptions.set(t,A),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new i(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},8853:(e,t,A)=>{"use strict";e.exports=A(7234)},9119:(e,t,A)=>{"use strict";function n(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}A.d(t,{a:()=>n})}},t={};function A(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,A),s.exports}A.m=e,A.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return A.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;A.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var s=Object.create(null);A.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,A.d(s,i),s}})(),A.d=(e,t)=>{for(var n in t)A.o(t,n)&&!A.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},A.f={},A.e=e=>Promise.all(Object.keys(A.f).reduce((t,n)=>(A.f[n](e,t),t),[])),A.u=e=>"static/js/"+e+"."+{43:"20df1c86",69:"6bfc4d7c",88:"e8608ba1",143:"9e810a24",206:"8bda7b8f",211:"cc6ee161",225:"d20b2347",237:"b701b57a",298:"978c0eee",299:"ffd17ce8",317:"5f1ee003",321:"9fe2f866",338:"4b792df7",385:"a1fc317a",475:"db488b31",492:"5646663f",495:"16e52cdd",619:"b66c1b81",639:"0fc60e55",655:"808ec356",683:"d78df1c5",738:"02a60ba7",759:"9cfe5578",768:"25676a22",774:"c2540ddf",838:"56c42a53",978:"e188a1ea"}[e]+".chunk.js",A.miniCssF=e=>"static/css/"+e+"."+{43:"e40f33df",978:"83b67a30"}[e]+".chunk.css",A.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),A.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="besties-frontend:";A.l=(n,r,s,i)=>{if(e[n])e[n].push(r);else{var o,a;if(void 0!==s)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",A.nc&&o.setAttribute("nonce",A.nc),o.setAttribute("data-webpack",t+s),o.src=n),e[n]=[r];var d=(t,A)=>{o.onerror=o.onload=null,clearTimeout(h);var r=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(e=>e(A)),t)return t(A)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),a&&document.head.appendChild(o)}}})(),A.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.p="/",(()=>{if("undefined"!==typeof document){var e=e=>new Promise((t,n)=>{var r=A.miniCssF(e),s=A.p+r;if(((e,t)=>{for(var A=document.getElementsByTagName("link"),n=0;n<A.length;n++){var r=(i=A[n]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){var i;if((r=(i=s[n]).getAttribute("data-href"))===e||r===t)return i}})(r,s))return t();((e,t,n,r,s)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",A.nc&&(i.nonce=A.nc),i.onerror=i.onload=A=>{if(i.onerror=i.onload=null,"load"===A.type)r();else{var n=A&&A.type,o=A&&A.target&&A.target.href||t,a=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+o+")");a.name="ChunkLoadError",a.code="CSS_CHUNK_LOAD_FAILED",a.type=n,a.request=o,i.parentNode&&i.parentNode.removeChild(i),s(a)}},i.href=t,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i)})(e,s,null,t,n)}),t={792:0};A.f.miniCss=(A,n)=>{t[A]?n.push(t[A]):0!==t[A]&&{43:1,978:1}[A]&&n.push(t[A]=e(A).then(()=>{t[A]=0},e=>{throw delete t[A],e}))}}})(),(()=>{var e={792:0};A.f.j=(t,n)=>{var r=A.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise((A,n)=>r=e[t]=[A,n]);n.push(r[2]=s);var i=A.p+A.u(t),o=new Error;A.l(i,n=>{if(A.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,r[1](o)}},"chunk-"+t,t)}};var t=(t,n)=>{var r,s,[i,o,a]=n,l=0;if(i.some(t=>0!==e[t])){for(r in o)A.o(o,r)&&(A.m[r]=o[r]);if(a)a(A)}for(t&&t(n);l<i.length;l++)s=i[l],A.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkbesties_frontend=self.webpackChunkbesties_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=A(5043),t=A(4391),n=A(3216),r=A(5475),s=A(2339),i=A(7400),o=A(4528),a=A(3889),l=A(1182),c=A(579);class u extends e.Component{constructor(e){super(e),this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){l.A.logError({type:"react_error",message:e.message,stack:e.stack,componentStack:t.componentStack}),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,c.jsx)("div",{className:"min-h-screen bg-pattern flex items-center justify-center p-4",children:(0,c.jsxs)("div",{className:"card max-w-2xl w-full p-8 text-center",children:[(0,c.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\ude14"}),(0,c.jsx)("h1",{className:"text-3xl font-display text-text-primary mb-4",children:"Oops! Something went wrong"}),(0,c.jsx)("p",{className:"text-text-secondary mb-6",children:"We're sorry for the inconvenience. The error has been logged and we'll fix it soon."}),!1,(0,c.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,c.jsx)("button",{onClick:this.handleReload,className:"btn btn-primary",children:"Reload Page"}),(0,c.jsx)("button",{onClick:()=>window.location.href="/",className:"btn btn-secondary",children:"Go Home"})]})]})}):this.props.children}}const d=u,h=t=>{let{children:A}=t;const{currentUser:r,userData:s,loading:i}=(0,o.As)();return(0,e.useEffect)(()=>{console.group("\ud83d\udd12 AdminRoute Debug"),console.log("loading:",i),console.log("currentUser:",r),console.log("currentUser.uid:",null===r||void 0===r?void 0:r.uid),console.log("userData:",s),console.log("userData?.isAdmin:",null===s||void 0===s?void 0:s.isAdmin),console.log("Will redirect:",!(null!==s&&void 0!==s&&s.isAdmin)),console.groupEnd()},[i,r,s]),i?(console.log("\u23f3 AdminRoute: Still loading..."),(0,c.jsx)("div",{className:"min-h-screen bg-pattern flex items-center justify-center",children:(0,c.jsx)("div",{className:"spinner"})})):null!==s&&void 0!==s&&s.isAdmin?(console.log("\u2705 AdminRoute: Access granted"),A):(console.error("\u274c AdminRoute: Access denied. userData?.isAdmin =",null===s||void 0===s?void 0:s.isAdmin),(0,c.jsx)(n.C5,{to:"/",replace:!0}))},f=()=>{const{pathname:t}=(0,n.zy)();return(0,e.useEffect)(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[t]),null};var g=A(2555),p=A(5472);const m=()=>{const[t,A]=(0,e.useState)(null),[n,r]=(0,e.useState)(!1);(0,e.useEffect)(()=>{s()},[]);const s=async()=>{const e=i.j2.currentUser;if(e)try{const t=(0,p.P)((0,p.rJ)(i.db,"circle_milestones"),(0,p._M)("userId","==",e.uid),(0,p._M)("celebrated","==",!1)),n=await(0,p.GG)(t);if(!n.empty){const e=n.docs[0],t=(0,g.A)({id:e.id},e.data());A(t),r(!0),setTimeout(async()=>{await(0,p.mZ)((0,p.H9)(i.db,"circle_milestones",e.id),{celebrated:!0})},5e3)}}catch(t){console.error("Error checking for milestones:",t)}},o=()=>{r(!1),setTimeout(()=>A(null),300)};if(!t||!n)return null;const a=(()=>{switch(t.type){case"days_in_circle":return{icon:"\ud83c\udf89",title:"".concat(t.value," Days Together!"),message:"You and ".concat(t.bestie||"your bestie"," have been in each other's circles for ").concat(t.value," days. That's real commitment!"),color:"from-purple-500 to-pink-500"};case"check_ins_together":return{icon:"\u2705",title:"".concat(t.value," Check-Ins Together!"),message:"You've done ".concat(t.value," check-ins with ").concat(t.bestie||"your bestie",". You're building serious trust!"),color:"from-blue-500 to-cyan-500"};case"alerts_responded":return{icon:"\ud83d\udea8",title:"".concat(t.value," Alerts Answered!"),message:"You've responded to ".concat(t.value," alerts. You're a real hero to your circle!"),color:"from-orange-500 to-red-500"};case"streak":return{icon:"\ud83d\udd25",title:"".concat(t.value," Day Streak!"),message:"You've checked your circle for ".concat(t.value," days in a row. Keep that energy going!"),color:"from-green-500 to-emerald-500"};default:return{icon:"\u2b50",title:"Milestone Achieved!",message:"You hit an important milestone in your circle!",color:"from-purple-500 to-pink-500"}}})();return(0,c.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4 backdrop-blur-sm transition-opacity duration-300 ".concat(n?"opacity-100":"opacity-0"),onClick:o,children:(0,c.jsxs)("div",{className:"bg-gradient-to-br ".concat(a.color," p-8 rounded-2xl max-w-md w-full shadow-2xl transform transition-all duration-300 ").concat(n?"scale-100":"scale-95"),onClick:e=>e.stopPropagation(),children:[(0,c.jsx)("div",{className:"absolute inset-0 overflow-hidden rounded-2xl pointer-events-none",children:Array.from({length:30}).map((e,t)=>(0,c.jsx)("div",{className:"absolute w-2 h-2 bg-white rounded-full animate-confetti",style:{left:"".concat(100*Math.random(),"%"),top:"-10%",animationDelay:"".concat(2*Math.random(),"s"),animationDuration:"".concat(2+2*Math.random(),"s")}},t))}),(0,c.jsxs)("div",{className:"relative z-10 text-center text-white",children:[(0,c.jsx)("div",{className:"text-7xl mb-4 animate-bounce",children:a.icon}),(0,c.jsx)("h2",{className:"text-3xl font-display font-bold mb-3 drop-shadow-lg",children:a.title}),(0,c.jsx)("p",{className:"text-lg mb-6 drop-shadow opacity-95",children:a.message}),(0,c.jsx)("button",{onClick:o,className:"bg-white text-gray-800 px-6 py-3 rounded-full font-semibold hover:bg-gray-100 transition-all shadow-lg transform hover:scale-105",children:"Awesome! \ud83c\udf89"})]}),(0,c.jsx)("style",{children:"\n          @keyframes confetti {\n            0% {\n              transform: translateY(0) rotate(0deg);\n              opacity: 1;\n            }\n            100% {\n              transform: translateY(500px) rotate(720deg);\n              opacity: 0;\n            }\n          }\n          .animate-confetti {\n            animation: confetti linear forwards;\n          }\n        "})]})})},w=(t,A)=>{const[n,r]=(0,e.useState)(t),[s,i]=(0,e.useState)({}),[o,a]=(0,e.useState)({}),l=(e,t)=>{const n=A[e];if(!n)return"";if(n.required&&!t)return n.requiredMessage||"".concat(e," is required \ud83d\udc9c");if(n.minLength&&t.length<n.minLength)return n.minLengthMessage||"Must be at least ".concat(n.minLength," characters \ud83d\udccf");if(n.maxLength&&t.length>n.maxLength)return n.maxLengthMessage||"Must be less than ".concat(n.maxLength," characters \u2702\ufe0f");if(n.email){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return n.emailMessage||"Please enter a valid email \ud83d\udce7"}if(n.phone){if(!/^[\d\s+\-()]+$/.test(t))return n.phoneMessage||"Please enter a valid phone number \ud83d\udcf1"}if(n.url)try{new URL(t)}catch(r){return n.urlMessage||"Please enter a valid URL \ud83d\udd17"}return n.custom&&!n.custom(t)?n.customMessage||"Invalid value":n.pattern&&!n.pattern.test(t)?n.patternMessage||"Invalid format":""};return{values:n,errors:s,touched:o,handleChange:(e,t)=>{if(r(A=>(0,g.A)((0,g.A)({},A),{},{[e]:t})),o[e]){const A=l(e,t);i(t=>(0,g.A)((0,g.A)({},t),{},{[e]:A}))}},handleBlur:e=>{a(t=>(0,g.A)((0,g.A)({},t),{},{[e]:!0}));const t=l(e,n[e]);i(A=>(0,g.A)((0,g.A)({},A),{},{[e]:t}))},validateAll:()=>{const e={};return Object.keys(A).forEach(t=>{const A=l(t,n[t]);A&&(e[t]=A)}),i(e),0===Object.keys(e).length},reset:()=>{r(t),i({}),a({})},isValid:0===Object.keys(s).length}},y=()=>{const[t,A]=(0,e.useState)(!1),[r,o]=(0,e.useState)(!1),{values:a,errors:u,handleChange:d,handleBlur:h,validateAll:f}=w({email:"",password:"",displayName:""},{email:{required:!0,email:!0,requiredMessage:"Email is required \ud83d\udce7",emailMessage:"Please enter a valid email address \ud83d\udc9c"},password:{required:!0,minLength:6,requiredMessage:"Password is required \ud83d\udd12",minLengthMessage:"Password must be at least 6 characters \ud83d\udd10"},displayName:{required:t,minLength:2,requiredMessage:"Name is required \u2728",minLengthMessage:"Name must be at least 2 characters \ud83d\udc9c"}}),[g,p]=(0,e.useState)("+61"),[m,y]=(0,e.useState)(""),[B,v]=(0,e.useState)(""),[b,C]=(0,e.useState)(null),[x,E]=(0,e.useState)(!1),[U,Q]=(0,e.useState)(!1),[F,I]=(0,e.useState)(""),k=(0,n.Zp)();(0,e.useEffect)(()=>{l.A.trackFunnelStep("signup","view_login_page")},[]),(0,e.useEffect)(()=>{if(x&&!U){setTimeout(async()=>{try{I("Setting up verification...");i.y1.setupRecaptcha("recaptcha-container").success?(Q(!0),I("")):(I(""),s.Ay.error("Verification setup failed. Please refresh the page."))}catch(e){I(""),console.error("reCAPTCHA setup error:",e)}},100)}},[x,U]);const S=async()=>{o(!0),I("Opening Google sign-in..."),l.A.trackFunnelStep("signup","click_google_signin");try{const e=await i.y1.signInWithGoogle();o(!1),I(""),e.success?(l.A.trackFunnelStep("signup","complete_google_signin"),s.Ay.success("Welcome to Besties!"),k("/")):(l.A.logCustomError("Google sign-in failed",{error:e.error}),s.Ay.error(e.error||"Sign in failed"))}catch(e){o(!1),I(""),s.Ay.error("Sign in failed. Please try again.")}};return(0,c.jsx)("div",{className:"min-h-screen bg-pattern flex items-center justify-center p-4",children:(0,c.jsxs)("div",{className:"w-full max-w-md",children:[(0,c.jsxs)("div",{className:"text-center mb-8 animate-fade-in",children:[(0,c.jsx)("h1",{className:"font-display text-6xl text-gradient mb-2",children:"Besties"}),(0,c.jsx)("p",{className:"text-xl text-text-secondary font-semibold",children:"Your besties have your back \ud83d\udc9c"})]}),(0,c.jsxs)("div",{className:"card p-8 animate-slide-up",children:[F&&(0,c.jsx)("div",{className:"mb-4 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg text-center",children:(0,c.jsxs)("p",{className:"text-sm font-semibold text-primary flex items-center justify-center gap-2",children:[(0,c.jsx)("span",{className:"inline-block w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),F]})}),(0,c.jsxs)("button",{onClick:S,disabled:r,className:"w-full btn btn-primary mb-3",children:[(0,c.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,c.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,c.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,c.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,c.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),(0,c.jsxs)("button",{onClick:()=>E(!x),className:"w-full btn btn-secondary mb-3",children:[(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Continue with Phone"]}),x&&(0,c.jsx)("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:b?(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0),I("Verifying code..."),l.A.trackFunnelStep("signup","click_phone_verify_code");try{const e=await i.y1.verifyPhoneCode(b,B);o(!1),I(""),e.success?(l.A.trackFunnelStep("signup","complete_phone_signin"),s.Ay.success("Welcome to Besties!"),k("/")):(l.A.logCustomError("Phone code verification failed",{error:e.error}),s.Ay.error(e.error||"Invalid code"))}catch(t){o(!1),I(""),s.Ay.error("Verification failed. Please try again.")}},className:"space-y-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Verification Code"}),(0,c.jsx)("input",{type:"text",inputMode:"numeric",value:B,onChange:e=>v(e.target.value),className:"input",placeholder:"123456",required:!0,maxLength:6,autoComplete:"one-time-code"})]}),(0,c.jsx)("button",{type:"submit",disabled:r,className:"w-full btn btn-primary",children:r?"Verifying...":"Verify Code"}),(0,c.jsx)("button",{type:"button",onClick:()=>{C(null),v("")},className:"w-full btn btn-secondary",children:"Back"})]}):(0,c.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),U){o(!0),I("Sending verification code..."),l.A.trackFunnelStep("signup","click_phone_send_code");try{const e=m.startsWith("+")?m:"".concat(g).concat(m.replace(/\s/g,"")),t=i.y1.setupRecaptcha("recaptcha-container");if(!t.success)return s.Ay.error("Verification not ready. Please try again."),o(!1),void I("");const A=await i.y1.sendPhoneVerification(e,t.verifier);o(!1),I(""),A.success?(C(A.confirmationResult),s.Ay.success("Verification code sent!"),l.A.trackFunnelStep("signup","phone_code_sent")):(l.A.logCustomError("Phone verification failed",{error:A.error}),s.Ay.error(A.error||"Failed to send code"))}catch(t){o(!1),I(""),l.A.logCustomError("Phone send code error",{error:t.message}),s.Ay.error("Failed to send code. Please try again.")}}else s.Ay.error("Please wait for verification to be ready...")},className:"space-y-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Phone Number"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsxs)("select",{value:g,onChange:e=>p(e.target.value),className:"input w-20",children:[(0,c.jsx)("option",{value:"+1",children:"+1"}),(0,c.jsx)("option",{value:"+44",children:"+44"}),(0,c.jsx)("option",{value:"+61",children:"+61"}),(0,c.jsx)("option",{value:"+91",children:"+91"})]}),(0,c.jsx)("input",{type:"tel",value:m,onChange:e=>{const t=e.target.value.replace(/\s/g,"");let A=t;"+61"===g&&t.length>3?(A=t.slice(0,3),t.length>3&&(A+=" "+t.slice(3,6)),t.length>6&&(A+=" "+t.slice(6,9))):"+1"===g&&t.length>3?(A=t.slice(0,3),t.length>3&&(A+=" "+t.slice(3,6)),t.length>6&&(A+=" "+t.slice(6,10))):"+44"===g&&t.length>4?(A=t.slice(0,4),t.length>4&&(A+=" "+t.slice(4,10))):"+91"===g&&t.length>5&&(A=t.slice(0,5),t.length>5&&(A+=" "+t.slice(5,10))),y(A)},className:"input flex-1",placeholder:"435123456",required:!0})]})]}),!U&&(0,c.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs text-text-secondary",children:[(0,c.jsx)("div",{className:"w-3 h-3 border-2 border-primary border-t-transparent rounded-full animate-spin"}),(0,c.jsx)("span",{children:"Preparing verification..."})]}),(0,c.jsxs)("button",{type:"submit",disabled:r||!U,className:"w-full btn btn-primary flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r&&(0,c.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r?"Sending Code...":"Send Verification Code"]}),(0,c.jsx)("div",{id:"recaptcha-container"})]})}),(0,c.jsxs)("button",{onClick:S,disabled:!0,className:"w-full btn bg-[#1877F2] text-white hover:bg-[#166FE5] mb-6 opacity-50 cursor-not-allowed",title:"Facebook login coming soon",children:[(0,c.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continue with Facebook (Coming Soon)"]}),(0,c.jsxs)("div",{className:"relative mb-6",children:[(0,c.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,c.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),(0,c.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,c.jsx)("span",{className:"px-2 bg-white dark:bg-gray-800 text-text-secondary",children:"Or"})})]}),(0,c.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!f())return void s.Ay.error("Please fix the errors before continuing \ud83d\udc9c");let A;o(!0),l.A.trackFunnelStep("signup",t?"click_email_signup":"click_email_signin"),A=t?await i.y1.signUpWithEmail(a.email,a.password,a.displayName):await i.y1.signInWithEmail(a.email,a.password),o(!1),A.success?(l.A.trackFunnelStep("signup",t?"complete_email_signup":"complete_email_signin"),s.Ay.success(t?"Account created!":"Welcome back!"),k("/")):(l.A.logCustomError("Email auth failed",{error:A.error,isSignUp:t}),s.Ay.error(A.error||"Authentication failed"))},className:"space-y-4",children:[t&&(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Display Name"}),(0,c.jsx)("input",{type:"text",value:a.displayName,onChange:e=>d("displayName",e.target.value),onBlur:()=>h("displayName"),className:"input ".concat(u.displayName?"border-red-500 dark:border-red-400":""),placeholder:"Your name"}),u.displayName&&(0,c.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:u.displayName})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Email"}),(0,c.jsx)("input",{type:"email",value:a.email,onChange:e=>d("email",e.target.value),onBlur:()=>h("email"),className:"input ".concat(u.email?"border-red-500 dark:border-red-400":""),placeholder:"you@example.com"}),u.email&&(0,c.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:u.email})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Password"}),(0,c.jsx)("input",{type:"password",value:a.password,onChange:e=>d("password",e.target.value),onBlur:()=>h("password"),className:"input ".concat(u.password?"border-red-500 dark:border-red-400":""),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),u.password&&(0,c.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:u.password})]}),(0,c.jsx)("button",{type:"submit",disabled:r,className:"w-full btn btn-secondary",children:r?"Please wait...":t?"Sign Up":"Sign In"})]}),(0,c.jsx)("div",{className:"mt-6 text-center",children:(0,c.jsx)("button",{onClick:()=>A(!t),className:"text-primary font-semibold hover:underline",children:t?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]}),(0,c.jsx)("div",{className:"text-center mt-6 text-sm text-text-secondary",children:(0,c.jsxs)("p",{children:["By continuing, you agree to our"," ",(0,c.jsx)("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",(0,c.jsx)("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Privacy Policy"})]})})]})})};const B=new class{constructor(){this.isSupported="vibrate"in navigator}light(){this.isSupported&&navigator.vibrate(10)}medium(){this.isSupported&&navigator.vibrate(30)}heavy(){this.isSupported&&navigator.vibrate(50)}success(){this.isSupported&&navigator.vibrate([50,30,50])}warning(){this.isSupported&&navigator.vibrate([30,20,30,20,30])}error(){this.isSupported&&navigator.vibrate([100,50,100])}emergency(){this.isSupported&&navigator.vibrate([100,50,100,50,100])}selection(){this.isSupported&&navigator.vibrate(5)}};var v=A(559),b=A(3007),C=A(8147),x=A(4505),E=A(7688);const U=()=>{const t=(0,n.Zp)(),A=[{text:"Welcome home, beautiful! \ud83d\udc96",subtext:"We're so relieved you're safe"},{text:"You made it safely! \u2728",subtext:"Your besties can rest easy now"},{text:"Safe and sound! \ud83c\udf38",subtext:"Taking care of yourself like a queen"},{text:"You're home safe! \ud83d\udc95",subtext:"That's all that matters"}],[r]=(0,e.useState)(()=>A[Math.floor(Math.random()*A.length)]);return(0,e.useEffect)(()=>{const e=setTimeout(()=>{t("/")},2e3);return()=>clearTimeout(e)},[t]),(0,c.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 via-teal-50 to-cyan-50 flex items-center justify-center p-4 relative overflow-hidden",children:[(0,c.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(25)].map((e,t)=>(0,c.jsx)("div",{className:"absolute animate-celebration-float",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(2*Math.random(),"s"),animationDuration:"".concat(3+3*Math.random(),"s"),opacity:.4+.4*Math.random()},children:(0,c.jsx)("span",{className:"text-3xl",children:["\ud83c\udf89","\u2728","\ud83d\udc9a","\ud83c\udf1f","\ud83d\udcab","\ud83c\udf8a","\ud83e\udd8b","\ud83c\udf38"][Math.floor(8*Math.random())]})},t))}),(0,c.jsx)("div",{className:"w-full max-w-lg text-center relative z-10",children:(0,c.jsxs)("div",{className:"relative bg-white/95 backdrop-blur-xl rounded-[2rem] p-10 shadow-[0_20px_60px_rgba(16,185,129,0.3)] border border-emerald-200/50",children:[(0,c.jsx)("div",{className:"absolute top-4 left-4 w-8 h-8 border-t-2 border-l-2 border-emerald-300/50 rounded-tl-xl"}),(0,c.jsx)("div",{className:"absolute top-4 right-4 w-8 h-8 border-t-2 border-r-2 border-green-300/50 rounded-tr-xl"}),(0,c.jsx)("div",{className:"absolute bottom-4 left-4 w-8 h-8 border-b-2 border-l-2 border-green-300/50 rounded-bl-xl"}),(0,c.jsx)("div",{className:"absolute bottom-4 right-4 w-8 h-8 border-b-2 border-r-2 border-emerald-300/50 rounded-br-xl"}),(0,c.jsxs)("div",{className:"relative w-32 h-32 mx-auto mb-8",children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-300 via-green-300 to-teal-300 rounded-full animate-pulse-slow opacity-40 blur-xl"}),(0,c.jsx)("div",{className:"relative w-32 h-32 flex items-center justify-center",children:(0,c.jsxs)("svg",{viewBox:"0 0 100 100",className:"w-28 h-28",children:[(0,c.jsxs)("defs",{children:[(0,c.jsxs)("linearGradient",{id:"successGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,c.jsx)("stop",{offset:"0%",stopColor:"#10b981"}),(0,c.jsx)("stop",{offset:"50%",stopColor:"#34d399"}),(0,c.jsx)("stop",{offset:"100%",stopColor:"#6ee7b7"})]}),(0,c.jsxs)("filter",{id:"successGlow",children:[(0,c.jsx)("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),(0,c.jsxs)("feMerge",{children:[(0,c.jsx)("feMergeNode",{in:"coloredBlur"}),(0,c.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,c.jsx)("circle",{cx:"50",cy:"50",r:"35",fill:"url(#successGradient)",filter:"url(#successGlow)",className:"animate-scale-bounce"}),(0,c.jsx)("path",{d:"M30,50 L42,62 L70,34",fill:"none",stroke:"white",strokeWidth:"6",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-draw-success"})]})})]}),(0,c.jsx)("h2",{className:"font-display text-3xl md:text-4xl bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 bg-clip-text text-transparent mb-3 leading-tight",children:r.text}),(0,c.jsx)("p",{className:"text-xl text-text-secondary font-semibold mb-8 animate-fade-in",children:r.subtext}),(0,c.jsxs)("div",{className:"flex justify-center items-center gap-3 mb-6",children:[(0,c.jsx)("span",{className:"text-3xl animate-bounce-gentle",children:"\ud83c\udf89"}),(0,c.jsx)("span",{className:"text-3xl animate-bounce-gentle",style:{animationDelay:"0.2s"},children:"\ud83d\udc9a"}),(0,c.jsx)("span",{className:"text-3xl animate-bounce-gentle",style:{animationDelay:"0.4s"},children:"\u2728"})]}),(0,c.jsx)("p",{className:"text-xs text-gray-400 italic",children:"Until next time, stay safe bestie! \ud83d\udc95"})]})}),(0,c.jsx)("style",{children:"\n        @keyframes celebration-float {\n          0% {\n            transform: translateY(100vh) rotate(0deg);\n            opacity: 0;\n          }\n          10% {\n            opacity: 1;\n          }\n          90% {\n            opacity: 1;\n          }\n          100% {\n            transform: translateY(-100vh) rotate(360deg);\n            opacity: 0;\n          }\n        }\n        @keyframes pulse-slow {\n          0%, 100% { transform: scale(1); opacity: 0.4; }\n          50% { transform: scale(1.3); opacity: 0.2; }\n        }\n        @keyframes scale-bounce {\n          0% { transform: scale(0); }\n          50% { transform: scale(1.1); }\n          100% { transform: scale(1); }\n        }\n        @keyframes draw-success {\n          0% { stroke-dasharray: 0, 100; }\n          100% { stroke-dasharray: 100, 0; }\n        }\n        @keyframes bounce-gentle {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-10px); }\n        }\n        .animate-celebration-float {\n          animation: celebration-float 5s ease-in-out infinite;\n        }\n        .animate-pulse-slow {\n          animation: pulse-slow 3s ease-in-out infinite;\n        }\n        .animate-scale-bounce {\n          animation: scale-bounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n        }\n        .animate-draw-success {\n          animation: draw-success 0.8s ease-in-out 0.3s forwards;\n          stroke-dasharray: 100;\n          stroke-dashoffset: 100;\n        }\n        .animate-bounce-gentle {\n          animation: bounce-gentle 1s ease-in-out infinite;\n        }\n      "})]})},Q=t=>{var A;let{checkIn:r}=t;const{userData:l}=(0,o.As)(),{isDark:u}=(0,a.D)(),d=(0,n.Zp)(),[h,f]=(0,e.useState)(0),[g,m]=(0,e.useState)(!1),[w,y]=(0,e.useState)(!1),[v,Q]=(0,e.useState)(null),[F,I]=(0,e.useState)(!1),[k,S]=(0,e.useState)(r.notes||""),[_,T]=(0,e.useState)(r.photoURLs||r.photoURL?[r.photoURL]:[]),[N,D]=(0,e.useState)(!1),[L,H]=(0,e.useState)(null),{executeOptimistic:O}=(0,E.Ay)(),[R,P]=(0,e.useState)(!1),[M,j]=(0,e.useState)(r.location||""),[K,V]=(0,e.useState)(!1),[G,z]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=()=>{const e=(L||r.alertTime.toDate())-new Date;f(Math.max(0,e))};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[r.alertTime,L]);const W=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!==l&&void 0!==l&&null!==(e=l.security)&&void 0!==e&&e.safetyPasscode?V(!0):(t||B.success(),await X())},q=async()=>{var e,t;const A=null===l||void 0===l||null===(e=l.security)||void 0===e?void 0:e.safetyPasscode,n=null===l||void 0===l||null===(t=l.security)||void 0===t?void 0:t.duressCode;if(G){if(n&&G===n)return V(!1),z(""),void await J();if(G===A)return B.success(),V(!1),z(""),void await X();s.Ay.error("Incorrect passcode"),z("")}else s.Ay.error("Please enter your passcode")},X=async()=>{y(!0);try{var e;m(!0);const A=await x.Ay.completeCheckIn({checkInId:r.id});var t;if(null===(e=A.data)||void 0===e||!e.success)throw new Error((null===(t=A.error)||void 0===t?void 0:t.message)||"Failed to complete check-in");const n=(0,p.H9)(i.db,"checkins",r.id),o=await(0,p.x7)(n);if(!o.exists()||"completed"!==o.data().status)throw new Error("Check-in status verification failed");setTimeout(()=>{d("/"),s.Ay.success("You're safe! Welcome home \ud83d\udc9c",{duration:4e3,icon:"\u2705"})},2e3)}catch(A){console.error("Error completing check-in:",A),y(!1),s.Ay.error("Failed to complete check-in. Please try again.")}finally{m(!1)}},J=async()=>{y(!0);try{await x.Ay.completeCheckIn({checkInId:r.id});const e={userId:r.userId,checkInId:r.id,type:"alert",_internal_duress:!0,message:"\ud83d\udea8 DURESS CODE USED - ".concat((null===l||void 0===l?void 0:l.displayName)||"User"," may be in danger!"),location:r.location,timestamp:p.Dc.now(),priority:"critical"};await(0,p.gS)((0,p.rJ)(i.db,"alerts"),e),setTimeout(()=>{d("/"),s.Ay.success("You're safe! Welcome home \ud83d\udc9c",{duration:4e3,icon:"\u2705"})},2e3)}catch(e){console.error("Error handling duress code:",e),setTimeout(()=>{d("/"),s.Ay.success("You're safe! Welcome home \ud83d\udc9c",{duration:4e3,icon:"\u2705"})},2e3)}},Y=async e=>{B.light();const t=L||r.alertTime.toDate(),A=new Date(t.getTime()+60*e*1e3);H(A),Q(e),s.Ay.success("Extended by ".concat(e," minutes!"),{duration:2e3});try{var n;const t=await x.Ay.extendCheckIn({checkInId:r.id,additionalMinutes:e});var o;if(null===(n=t.data)||void 0===n||!n.success)throw new Error((null===(o=t.error)||void 0===o?void 0:o.message)||"Failed to extend check-in");{const e=(0,p.H9)(i.db,"checkins",r.id),t=await(0,p.x7)(e);if(!t.exists())throw new Error("Unable to verify extension");H(t.data().alertTime.toDate())}}catch(a){console.error("Error extending check-in:",a),H(null),"unavailable"===a.code?s.Ay.error("Cannot reach server. Extension cancelled.",{duration:4e3}):s.Ay.error(a.message||"Failed to extend check-in. Extension cancelled.",{duration:4e3})}finally{Q(null)}},Z="alerted"===r.status;return w?(0,c.jsx)(U,{}):(0,c.jsxs)("div",{className:"card p-6 ".concat(Z?"border-2 border-danger":""),children:[(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,c.jsx)("span",{className:"text-base font-semibold text-text-secondary",children:"Time remaining:"}),(0,c.jsx)("span",{className:"font-display text-3xl ".concat(0===h?"text-danger":"text-primary"),children:0===h?"EXPIRED":(e=>{const t=Math.floor(e/1e3),A=Math.floor(t/3600),n=Math.floor(t%3600/60),r=t%60;return A>0?"".concat(A,"h ").concat(n,"m ").concat(r,"s"):"".concat(n,"m ").concat(r,"s")})(h)})]}),(0,c.jsx)("div",{className:"progress-bar h-3",children:(0,c.jsx)("div",{className:"progress-fill",style:{width:"".concat((()=>{const e=60*r.duration*1e3,t=e-h;return Math.min(100,Math.max(0,t/e*100))})(),"%")}})}),!Z&&(0,c.jsxs)("div",{className:"grid grid-cols-4 gap-2 mt-3",children:[(0,c.jsx)("button",{onClick:()=>Y(10),disabled:null!==v,className:"btn btn-secondary text-sm py-2 active:scale-95",children:"+10m"}),(0,c.jsx)("button",{onClick:()=>Y(15),disabled:null!==v,className:"btn btn-secondary text-sm py-2 active:scale-95",children:"+15m"}),(0,c.jsx)("button",{onClick:()=>Y(30),disabled:null!==v,className:"btn btn-secondary text-sm py-2 active:scale-95",children:"+30m"}),(0,c.jsx)("button",{onClick:()=>Y(45),disabled:null!==v,className:"btn btn-secondary text-sm py-2 active:scale-95",children:"+45m"})]})]}),!Z&&(0,c.jsx)("button",{onClick:W,disabled:g,className:"w-full btn btn-success text-lg mb-6",children:"\u2705 I'm Safe!"}),Z&&(0,c.jsxs)("div",{className:"bg-danger/10 border border-danger rounded-xl p-4 text-center mb-6",children:[(0,c.jsx)("p",{className:"font-semibold text-danger mb-2",children:"\ud83d\udea8 Your besties have been alerted!"}),(0,c.jsx)("p",{className:"text-sm text-text-secondary mb-4",children:"They know you haven't checked in"}),(0,c.jsx)("button",{onClick:()=>{B.warning(),W(!0)},disabled:g,className:"btn btn-success w-full",children:"\u2705 I'm Safe! (False Alarm)"})]}),(0,c.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,c.jsx)("div",{className:"flex-1",children:(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,c.jsx)("h3",{className:"font-display text-lg text-text-primary",children:M||"No location set"}),Z&&(0,c.jsx)("span",{className:"badge badge-warning text-xs",children:"ALERTED"})]})})}),(_.length>0||!Z)&&(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("div",{className:"text-sm font-semibold text-text-secondary mb-2",children:["Photos (",_.length,"/5)"]}),0===_.length&&(0,c.jsxs)("div",{className:"mb-3 p-8 rounded-xl ".concat(u?"bg-gray-800":"bg-gray-100"," flex flex-col items-center justify-center border-2 border-dashed ").concat(u?"border-gray-600":"border-gray-300"),children:[(0,c.jsx)("div",{className:"text-6xl mb-2 opacity-50",children:"\ud83d\uddbc\ufe0f"}),(0,c.jsx)("div",{className:"text-sm font-semibold ".concat(u?"text-gray-400":"text-gray-500"),children:"No photos yet"})]}),_.length>0&&(0,c.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3",children:_.map((e,t)=>(0,c.jsxs)("div",{className:"relative aspect-square",children:[(0,c.jsx)("img",{src:e,alt:"Check-in ".concat(t+1),className:"w-full h-full object-cover rounded-xl"}),!Z&&(0,c.jsx)("button",{onClick:()=>(async e=>{B.light();const t=[..._],A=_.filter((t,A)=>A!==e).filter(e=>void 0!==e&&null!==e);await O({optimisticUpdate:()=>{T(A)},serverUpdate:async()=>{await(0,p.mZ)((0,p.H9)(i.db,"checkins",r.id),{photoURLs:A})},rollback:()=>{T(t)},successMessage:"Photo removed",errorMessage:"Failed to remove photo"})})(t),className:"absolute top-1 right-1 bg-red-500 text-white w-6 h-6 rounded-full text-sm font-bold hover:bg-red-600 flex items-center justify-center",children:"\u2715"})]},t))}),!Z&&_.length<5&&(0,c.jsxs)("label",{className:"border-2 border-dashed ".concat(u?"border-gray-600 hover:bg-primary/10":"border-gray-300 hover:bg-primary/5"," rounded-xl p-6 flex flex-col items-center justify-center cursor-pointer hover:border-primary transition-all"),children:[(0,c.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcf7"}),(0,c.jsx)("div",{className:"text-sm font-semibold ".concat(u?"text-gray-300":"text-gray-600"),children:N?"Uploading...":_.length>0?"Add More Photos":"Add Photos"}),(0,c.jsx)("div",{className:"text-xs ".concat(u?"text-gray-400":"text-gray-500"," mt-1"),children:"Click to upload (up to 5, max 5MB each)"}),(0,c.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:async e=>{B.medium();const t=Array.from(e.target.files);if(0===t.length)return;if(_.length+t.length>5)return void s.Ay.error("You can only have up to 5 photos per check-in");for(const r of t)if(r.size>5242880)return void s.Ay.error("".concat(r.name," is too large. Photos must be less than 5MB"));D(!0);const A=t.map(e=>URL.createObjectURL(e)),n=[..._];await O({optimisticUpdate:()=>{T([..._,...A])},serverUpdate:async()=>{try{const o=[];for(let A=0;A<t.length;A++){const n=t[A];try{const e=(0,C.KR)(i.IG,"checkin-photos/".concat(r.userId,"/").concat(Date.now(),"_").concat(A,"_").concat(n.name));await(0,C.D)(e,n);const t=await(0,C.qk)(e);t?o.push(t):console.warn("Failed to get download URL for photo ".concat(A))}catch(e){console.error("Error uploading photo ".concat(A,":"),e),s.Ay.error("Failed to upload ".concat(n.name))}}const a=[...n,...o].filter(e=>void 0!==e&&null!==e);return await(0,p.mZ)((0,p.H9)(i.db,"checkins",r.id),{photoURLs:a}),T(a),A.forEach(e=>URL.revokeObjectURL(e)),a}finally{D(!1)}},rollback:()=>{T(n),A.forEach(e=>URL.revokeObjectURL(e)),D(!1)},successMessage:"".concat(t.length," photo").concat(t.length>1?"s":""," uploaded!"),errorMessage:"Failed to upload photos"})},className:"hidden",disabled:N})]})]}),(0,c.jsx)("div",{className:"mb-4",children:F?(0,c.jsxs)("div",{children:[(0,c.jsx)("textarea",{value:k,onChange:e=>S(e.target.value),className:"w-full p-3 border-2 ".concat(u?"border-gray-600 bg-gray-800 text-gray-100":"border-gray-300 bg-white text-gray-900"," rounded-xl focus:border-primary focus:outline-none resize-none"),rows:"3",placeholder:"Add notes about your check-in..."}),(0,c.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,c.jsx)("button",{onClick:async()=>{const e=r.notes||"";await O({optimisticUpdate:()=>{I(!1)},serverUpdate:async()=>{await(0,p.mZ)((0,p.H9)(i.db,"checkins",r.id),{notes:k})},rollback:()=>{S(e),I(!0)},successMessage:"Notes updated!",errorMessage:"Failed to save notes"})},className:"btn btn-primary text-sm flex-1",children:"\ud83d\udcbe Save Notes"}),(0,c.jsx)("button",{onClick:()=>{I(!1),S(r.notes||"")},className:"btn btn-secondary text-sm flex-1",children:"Cancel"})]})]}):(0,c.jsx)("div",{children:k?(0,c.jsxs)("div",{className:"".concat(u?"bg-gray-800":"bg-gray-50"," p-3 rounded-xl"),children:[(0,c.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,c.jsx)("div",{className:"text-xs font-semibold ".concat(u?"text-gray-400":"text-gray-500"),children:"NOTES:"}),!Z&&(0,c.jsx)("button",{onClick:()=>{B.light(),I(!0)},className:"text-xs text-primary font-semibold hover:underline",children:"Edit"})]}),(0,c.jsx)("p",{className:"text-sm text-text-secondary",children:k})]}):!Z&&(0,c.jsx)("button",{onClick:()=>{B.light(),I(!0)},className:"w-full border-2 border-dashed ".concat(u?"border-gray-600 text-gray-300 hover:bg-primary/10":"border-gray-300 text-gray-600 hover:bg-primary/5"," rounded-xl p-3 text-sm font-semibold hover:border-primary transition-all"),children:"\ud83d\udcdd Add Notes"})})}),!Z&&(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsxs)("button",{onClick:async()=>{if(navigator.geolocation){P(!0),B.medium();try{const e=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!1,timeout:5e3,maximumAge:1e4})}),{latitude:t,longitude:A,accuracy:n}=e.coords;console.log("Fast location: ".concat(n," meters accuracy"));const o=await fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(t,",").concat(A,"&key=").concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_MAPS_API_KEY)),a=await o.json();let l="GPS: ".concat(t.toFixed(6),", ").concat(A.toFixed(6));a.results&&a.results.length>0&&(l=a.results[0].formatted_address),await(0,p.mZ)((0,p.H9)(i.db,"checkins",r.id),{location:l,gpsCoords:{lat:t,lng:A},locationAccuracy:n,locationUpdatedAt:p.Dc.now()}),j(l),s.Ay.success("Location updated!"),P(!1),console.log("Getting accurate GPS location in background..."),navigator.geolocation.getCurrentPosition(async e=>{const{latitude:t,longitude:A,accuracy:s}=e.coords;if(console.log("Accurate location: ".concat(s," meters accuracy (improved from ").concat(n,"m)")),n-s>50){const e=await fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(t,",").concat(A,"&key=").concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_MAPS_API_KEY)),n=await e.json();let o="GPS: ".concat(t.toFixed(6),", ").concat(A.toFixed(6));n.results&&n.results.length>0&&(o=n.results[0].formatted_address),await(0,p.mZ)((0,p.H9)(i.db,"checkins",r.id),{location:o,gpsCoords:{lat:t,lng:A},locationAccuracy:s,locationUpdatedAt:p.Dc.now()}),j(o),console.log("Location silently updated with accurate GPS")}else console.log("Accurate location not significantly better, keeping fast location")},e=>{console.log("Background accurate GPS failed (not critical):",e)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})}catch(e){console.error("Error updating location:",e),1===e.code?s.Ay.error("Location permission denied. Please enable location access.",{duration:4e3}):3===e.code?s.Ay.error("Location timeout. Please try again.",{duration:3e3}):s.Ay.error("Failed to update location"),P(!1)}}else s.Ay.error("Geolocation is not supported by your browser")},disabled:R,className:"w-full border-2 border-dashed ".concat(u?"border-gray-600 text-gray-300 hover:bg-primary/10":"border-gray-300 text-gray-600 hover:bg-primary/5"," rounded-xl p-3 text-sm font-semibold hover:border-primary transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"),children:["\ud83d\udccd ",R?"Updating Location...":"Note Current Location"]})}),(r.meetingWith||r.socialMediaLinks)&&(0,c.jsxs)("div",{className:"mb-4",children:[r.meetingWith&&(0,c.jsxs)("div",{className:"".concat(u?"bg-gray-800":"bg-gray-50"," p-3 rounded-xl mb-2"),children:[(0,c.jsx)("div",{className:"text-xs font-semibold ".concat(u?"text-gray-400":"text-gray-500"," mb-1"),children:"MEETING WITH:"}),(0,c.jsx)("p",{className:"text-sm text-text-primary font-semibold",children:r.meetingWith})]}),r.socialMediaLinks&&(0,c.jsxs)("div",{className:"".concat(u?"bg-purple-900/30":"bg-purple-50"," p-3 rounded-xl border-2 ").concat(u?"border-purple-800":"border-purple-200"),children:[(0,c.jsx)("div",{className:"text-xs font-semibold ".concat(u?"text-purple-300":"text-purple-700"," mb-1"),children:"THEIR SOCIAL MEDIA:"}),(0,c.jsx)("p",{className:"text-sm text-text-primary",children:r.socialMediaLinks})]})]}),(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsxs)("div",{className:"text-sm text-text-secondary mb-2",children:["Watching over you: ",(null===(A=r.bestieIds)||void 0===A?void 0:A.length)||0," besties"]})}),(0,c.jsxs)("div",{className:"mt-4 text-xs text-text-secondary text-center",children:["Started ",(0,b.m)(r.createdAt.toDate(),{addSuffix:!0})]}),K&&(0,c.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,c.jsxs)("div",{className:"".concat(u?"bg-gray-800":"bg-white"," rounded-2xl max-w-md w-full p-6"),children:[(0,c.jsx)("h2",{className:"text-2xl font-display ".concat(u?"text-gray-100":"text-text-primary"," mb-2"),children:"\ud83d\udd12 Enter Passcode"}),(0,c.jsx)("p",{className:"text-text-secondary mb-4",children:"Enter your safety passcode to mark yourself safe"}),(0,c.jsx)("div",{className:"mb-6",children:(0,c.jsx)("input",{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:G,onChange:e=>z(e.target.value.replace(/\D/g,"")),onKeyPress:e=>{"Enter"===e.key&&q()},className:"w-full px-3 py-3 border-2 ".concat(u?"border-gray-600 bg-gray-700 text-gray-100":"border-gray-300 bg-white text-gray-900"," rounded-lg focus:border-primary focus:outline-none text-center text-3xl tracking-widest"),placeholder:"\u2022\u2022\u2022\u2022",maxLength:6,autoFocus:!0})}),(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsx)("button",{onClick:()=>{V(!1),z("")},className:"flex-1 btn btn-secondary",children:"Cancel"}),(0,c.jsx)("button",{onClick:q,disabled:!G,className:"flex-1 btn btn-success",children:"Confirm"})]}),(0,c.jsx)("p",{className:"text-xs text-text-secondary text-center mt-4",children:"Forgot your passcode? Update it in Settings"})]})})]})},F=t=>{let{onClose:A}=t;const r=(0,n.Zp)(),[s,i]=(0,e.useState)(""),[o,a]=(0,e.useState)(30);return(0,c.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:A,children:(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6",onClick:e=>e.stopPropagation(),children:[(0,c.jsxs)("h2",{className:"text-2xl font-display text-text-primary mb-4 flex items-center gap-2",children:[(0,c.jsx)("span",{children:"\ud83d\ude97"})," Rideshare Check-In"]}),(0,c.jsx)("p",{className:"text-sm text-text-secondary mb-6",children:"Enter your vehicle registration and select duration"}),(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Registration / License Plate"}),(0,c.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value.toUpperCase()),placeholder:"ABC123",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-primary focus:outline-none text-lg font-semibold text-center",autoFocus:!0})]}),(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsxs)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:["Duration: ",o," minutes"]}),(0,c.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[10,15,30,45].map(e=>(0,c.jsxs)("button",{type:"button",onClick:()=>a(e),className:"py-2 px-3 rounded-lg text-sm font-semibold transition-colors ".concat(o===e?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e,"m"]},e))}),(0,c.jsx)("input",{type:"range",min:"10",max:"90",step:"5",value:o,onChange:e=>a(parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),(0,c.jsxs)("div",{className:"flex justify-between text-xs text-text-secondary mt-1",children:[(0,c.jsx)("span",{children:"10 min"}),(0,c.jsx)("span",{children:"90 min"})]})]}),(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsx)("button",{onClick:A,className:"flex-1 btn btn-secondary",children:"Cancel"}),(0,c.jsx)("button",{onClick:()=>{s.trim()&&(B.light(),r("/create",{state:{quickType:"rideshare",rego:s.trim(),duration:o,skipLocation:!0,activity:{name:"\ud83d\ude97 Rideshare",emoji:"\ud83d\ude97"}}}))},disabled:!s.trim(),className:"flex-1 btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Check-In"})]})]})})},I=t=>{let{onClose:A}=t;const r=(0,n.Zp)(),[s,i]=(0,e.useState)(15);return(0,c.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:A,children:(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6",onClick:e=>e.stopPropagation(),children:[(0,c.jsxs)("h2",{className:"text-2xl font-display text-text-primary mb-4 flex items-center gap-2",children:[(0,c.jsx)("span",{children:"\ud83d\udeb6\u200d\u2640\ufe0f"})," Walking Alone"]}),(0,c.jsx)("p",{className:"text-sm text-text-secondary mb-6",children:"Select duration and start your check-in. You can add location details during your walk."}),(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsxs)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:["Duration: ",s," minutes"]}),(0,c.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[10,15,30,45].map(e=>(0,c.jsxs)("button",{type:"button",onClick:()=>i(e),className:"py-2 px-3 rounded-lg text-sm font-semibold transition-colors ".concat(s===e?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e,"m"]},e))}),(0,c.jsx)("input",{type:"range",min:"10",max:"90",step:"5",value:s,onChange:e=>i(parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),(0,c.jsxs)("div",{className:"flex justify-between text-xs text-text-secondary mt-1",children:[(0,c.jsx)("span",{children:"10 min"}),(0,c.jsx)("span",{children:"90 min"})]})]}),(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsx)("button",{onClick:A,className:"flex-1 btn btn-secondary",children:"Cancel"}),(0,c.jsx)("button",{onClick:()=>{B.light(),r("/create",{state:{quickType:"walking",duration:s,skipLocation:!0,activity:{name:"\ud83d\udeb6\u200d\u2640\ufe0f Walking Alone",emoji:"\ud83d\udeb6\u200d\u2640\ufe0f"}}})},className:"flex-1 btn btn-primary",children:"Start Check-In"})]})]})})},k=t=>{let{onClose:A}=t;const r=(0,n.Zp)(),[s,i]=(0,e.useState)(""),[o,a]=(0,e.useState)(30);return(0,c.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:A,children:(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6",onClick:e=>e.stopPropagation(),children:[(0,c.jsxs)("h2",{className:"text-2xl font-display text-text-primary mb-4 flex items-center gap-2",children:[(0,c.jsx)("span",{children:"\ud83d\udc64"})," Quick Meet"]}),(0,c.jsx)("p",{className:"text-sm text-text-secondary mb-6",children:"Enter who you're meeting and select duration"}),(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"Who are you meeting?"}),(0,c.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"e.g., Sarah from Marketplace",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-primary focus:outline-none",autoFocus:!0})]}),(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsxs)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:["Duration: ",o," minutes"]}),(0,c.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[10,15,30,45].map(e=>(0,c.jsxs)("button",{type:"button",onClick:()=>a(e),className:"py-2 px-3 rounded-lg text-sm font-semibold transition-colors ".concat(o===e?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e,"m"]},e))}),(0,c.jsx)("input",{type:"range",min:"10",max:"90",step:"5",value:o,onChange:e=>a(parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),(0,c.jsxs)("div",{className:"flex justify-between text-xs text-text-secondary mt-1",children:[(0,c.jsx)("span",{children:"10 min"}),(0,c.jsx)("span",{children:"90 min"})]})]}),(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsx)("button",{onClick:A,className:"flex-1 btn btn-secondary",children:"Cancel"}),(0,c.jsx)("button",{onClick:()=>{s.trim()&&(B.light(),r("/create",{state:{quickType:"quickmeet",meetingWith:s.trim(),duration:o,skipLocation:!0,activity:{name:"\ud83d\udc64 Meeting Someone",emoji:"\ud83d\udc64"}}}))},disabled:!s.trim(),className:"flex-1 btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Check-In"})]})]})})},S=()=>{const t=(0,n.Zp)(),[A,r]=(0,e.useState)(!1),[s,i]=(0,e.useState)(!1),[o,a]=(0,e.useState)(!1);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("h2",{className:"text-xl font-display text-text-primary mb-4",children:"Quick Check-In"}),(0,c.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[(0,c.jsxs)("button",{onClick:()=>{B.light(),r(!0)},className:"card p-4 hover:shadow-card-hover transition-all hover:scale-105 active:scale-95 bg-gradient-to-br from-amber-400 to-orange-500 text-white",children:[(0,c.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\ude97"}),(0,c.jsx)("div",{className:"font-display text-sm",children:"Rideshare"})]}),(0,c.jsxs)("button",{onClick:()=>{B.light(),i(!0)},className:"card p-4 hover:shadow-card-hover transition-all hover:scale-105 active:scale-95 bg-gradient-to-br from-blue-400 to-cyan-500 text-white",children:[(0,c.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udeb6\u200d\u2640\ufe0f"}),(0,c.jsx)("div",{className:"font-display text-sm",children:"Walking"})]}),(0,c.jsxs)("button",{onClick:()=>{B.light(),a(!0)},className:"card p-4 hover:shadow-card-hover transition-all hover:scale-105 active:scale-95 bg-gradient-to-br from-purple-400 to-indigo-500 text-white",children:[(0,c.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udc64"}),(0,c.jsx)("div",{className:"font-display text-sm",children:"Quick Meet"})]})]}),(0,c.jsxs)("button",{onClick:()=>{B.light(),t("/create")},className:"w-full card p-4 hover:shadow-card-hover transition-all hover:scale-105 active:scale-95 bg-gradient-to-br from-rose-400 to-pink-500 text-white",children:[(0,c.jsx)("div",{className:"text-3xl mb-2",children:"\u2728"}),(0,c.jsx)("div",{className:"font-display text-lg",children:"Create Custom Check-In"})]})]}),A&&(0,c.jsx)(F,{onClose:()=>r(!1)}),s&&(0,c.jsx)(I,{onClose:()=>i(!1)}),o&&(0,c.jsx)(k,{onClose:()=>a(!1)})]})},_=t=>{let{userId:A}=t;const r=(0,n.Zp)(),[s,o]=(0,e.useState)([]),[a,l]=(0,e.useState)(!0);(0,e.useEffect)(()=>{u()},[A]);const u=async()=>{if(A)try{const t=await(0,p.x7)((0,p.H9)(i.db,"users",A)),n=t.exists()&&t.data().featuredCircle||[];if(0===n.length)return o([]),void l(!1);const r=[];for(const s of n){var e;const t=await(0,p.x7)((0,p.H9)(i.db,"users",s));if(!t.exists())continue;const n=t.data();let o=!1;const a=(null===(e=n.privacySettings)||void 0===e?void 0:e.checkInVisibility)||"all_besties";if("all_besties"===a){const e=(0,p.P)((0,p.rJ)(i.db,"checkins"),(0,p._M)("userId","==",s),(0,p._M)("status","in",["active","alerted"]));o=!(await(0,p.GG)(e)).empty}else if("circle"===a){if((n.featuredCircle||[]).includes(A)){const e=(0,p.P)((0,p.rJ)(i.db,"checkins"),(0,p._M)("userId","==",s),(0,p._M)("status","in",["active","alerted"]));o=!(await(0,p.GG)(e)).empty}}r.push({id:s,name:n.displayName||"Bestie",photoURL:n.photoURL||null,requestAttention:n.requestAttention||null,hasActiveCheckIn:o})}o(r),l(!1)}catch(t){console.error("Error loading bestie circle:",t),l(!1)}};if(a)return(0,c.jsx)("div",{className:"card p-6 mb-6",children:(0,c.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,c.jsx)("div",{className:"spinner"})})});if(0===s.length)return(0,c.jsx)("div",{className:"card p-6 mb-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 border-2 border-purple-100 dark:border-purple-700",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udc65"}),(0,c.jsx)("h3",{className:"font-display text-xl text-gradient mb-2",children:"Build Your Safety Circle"}),(0,c.jsx)("p",{className:"text-text-secondary mb-4",children:"Add up to 5 besties to your featured circle to see their status at a glance"}),(0,c.jsx)("button",{onClick:()=>r("/besties"),className:"btn btn-primary",children:"Add Besties"})]})});return(0,c.jsxs)("div",{className:"card p-6 mb-6 bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 dark:from-purple-900/30 dark:via-pink-900/30 dark:to-orange-900/30 border-2 border-purple-100 dark:border-purple-700",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("h3",{className:"font-display text-xl text-gradient",children:"Your Bestie Circle"}),(0,c.jsx)("button",{onClick:()=>r("/besties"),className:"text-primary font-semibold hover:underline text-sm",children:"Manage \u2192"})]}),(0,c.jsxs)("div",{className:"grid grid-cols-5 gap-3",children:[s.map((e,t)=>{var A;const n=(e=>{var t;return null!==(t=e.requestAttention)&&void 0!==t&&t.active?{color:"bg-purple-500",icon:"\ud83d\udc9c",label:"Needs support",ringColor:"ring-purple-400"}:e.hasActiveCheckIn?{color:"bg-yellow-500",icon:"\ud83d\udfe1",label:"Active check-in",ringColor:"ring-yellow-400"}:{color:"bg-green-500",icon:"\ud83d\udfe2",label:"Safe",ringColor:"ring-green-400"}})(e);return(0,c.jsxs)("button",{onClick:()=>r("/user/".concat(e.id)),className:"flex flex-col items-center gap-2 group",children:[(0,c.jsxs)("div",{className:"relative w-14 h-14 rounded-full ".concat(n.ringColor," ring-4 ring-opacity-50 transition-all group-hover:ring-opacity-100 group-hover:scale-105"),children:[e.photoURL?(0,c.jsx)("img",{src:e.photoURL,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(0,c.jsx)("div",{className:"w-full h-full bg-gradient-primary rounded-full flex items-center justify-center text-white font-display text-lg",children:(null===(A=e.name[0])||void 0===A?void 0:A.toUpperCase())||"?"}),(0,c.jsxs)("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 ".concat(n.color," rounded-full border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs"),children:["\ud83d\udc9c"===n.icon&&(0,c.jsx)("span",{className:"text-xs",children:"\ud83d\udc9c"}),"\ud83d\udfe1"===n.icon&&(0,c.jsx)("span",{className:"text-xs",children:"\u26a0"})]})]}),(0,c.jsx)("div",{className:"text-xs font-semibold text-text-primary text-center truncate w-full",children:e.name.split(" ")[0]})]},e.id)}),Array.from({length:Math.max(0,5-s.length)}).map((e,t)=>(0,c.jsxs)("button",{onClick:()=>r("/besties"),className:"flex flex-col items-center gap-2 opacity-40 hover:opacity-60 transition-opacity",children:[(0,c.jsx)("div",{className:"w-14 h-14 rounded-full border-4 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center text-2xl text-gray-400",children:"+"}),(0,c.jsx)("div",{className:"text-xs font-semibold text-gray-400",children:"Add"})]},"empty-".concat(t)))]}),(0,c.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 flex justify-center gap-4 text-xs",children:[(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,c.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Safe"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,c.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Active"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),(0,c.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Support"})]})]})]})},T=()=>{const{isDark:t}=(0,a.D)(),[A,r]=(0,e.useState)(!1),i=(0,n.Zp)(),o=async e=>{r(!0);try{const t=await x.Ay.createCheckoutSession({amount:e,type:"donation"});t.data&&t.data.url?window.location.href=t.data.url:s.Ay.error("Failed to start donation")}catch(t){console.error("Donation error:",t),s.Ay.error("Failed to start donation")}finally{r(!1)}};return(0,c.jsxs)("div",{className:"card p-6 ".concat(t?"bg-gradient-to-br from-primary/10 to-secondary/10 border-2 border-primary/30":"bg-gradient-to-br from-primary/5 to-secondary/5 border-2 border-primary/20"),children:[(0,c.jsxs)("div",{className:"text-center mb-4",children:[(0,c.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udc9c"}),(0,c.jsx)("h3",{className:"font-display text-xl ".concat(t?"text-gray-100":"text-text-primary"," mb-2"),children:"Keep Besties Free"}),(0,c.jsx)("p",{className:"text-sm ".concat(t?"text-gray-300":"text-text-secondary"),children:"Our goal is to keep it free for everyone, but we rely on donations to make it happen"})]}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,c.jsx)("button",{onClick:()=>o(1),disabled:A,className:"btn btn-secondary text-sm",children:"$1/mo"}),(0,c.jsx)("button",{onClick:()=>o(5),disabled:A,className:"btn btn-primary text-sm",children:"$5/mo"}),(0,c.jsx)("button",{onClick:()=>o(10),disabled:A,className:"btn btn-secondary text-sm",children:"$10/mo"})]}),(0,c.jsx)("button",{onClick:()=>i("/about"),className:"w-full font-semibold text-sm underline transition-colors ".concat(t?"text-primary-light hover:text-primary":"text-primary hover:text-primary-dark"),children:"Learn more about Besties \u2192"}),(0,c.jsx)("div",{className:"text-xs text-center ".concat(t?"text-gray-400":"text-text-secondary"),children:"Every donation helps keep Besties free \ud83d\udc9c"})]})]})},N=[{country:"Australia",code:"AU",police:"000",ambulance:"000",fire:"000",flag:"\ud83c\udde6\ud83c\uddfa",timezones:["Australia/"]},{country:"USA",code:"US",police:"911",ambulance:"911",fire:"911",flag:"\ud83c\uddfa\ud83c\uddf8",timezones:["America/New_York","America/Chicago","America/Denver","America/Los_Angeles"]},{country:"UK",code:"GB",police:"999",ambulance:"999",fire:"999",flag:"\ud83c\uddec\ud83c\udde7",timezones:["Europe/London"]},{country:"Canada",code:"CA",police:"911",ambulance:"911",fire:"911",flag:"\ud83c\udde8\ud83c\udde6",timezones:["America/Toronto","America/Vancouver"]},{country:"NZ",code:"NZ",police:"111",ambulance:"111",fire:"111",flag:"\ud83c\uddf3\ud83c\uddff",timezones:["Pacific/Auckland"]},{country:"Europe (EU)",code:"EU",police:"112",ambulance:"112",fire:"112",flag:"\ud83c\uddea\ud83c\uddfa",timezones:["Europe/"]}],D=()=>{const{currentUser:t,userData:A}=(0,o.As)(),[n,r]=(0,e.useState)(!1),[a,l]=(0,e.useState)(null),[u,d]=(0,e.useState)(!1),[h,f]=(0,e.useState)(0),[g,m]=(0,e.useState)(!1),w=(0,e.useRef)(null),y=(0,e.useRef)(null),v=(0,e.useRef)(null),{executeOptimistic:b}=(0,E.Ay)(),C=(e=>{if(e){const t=e.replace(/[\s\-()]/g,"");if(t.startsWith("+61")||t.startsWith("61"))return N.find(e=>"AU"===e.code);if(t.startsWith("+1")||t.startsWith("1"))return N.find(e=>"US"===e.code);if(t.startsWith("+44")||t.startsWith("44"))return N.find(e=>"GB"===e.code);if(t.startsWith("+64")||t.startsWith("64"))return N.find(e=>"NZ"===e.code)}const t=Intl.DateTimeFormat().resolvedOptions().timeZone;for(const A of N)for(const e of A.timezones)if(t.includes(e))return A;return null})(null===A||void 0===A?void 0:A.phoneNumber);(0,e.useEffect)(()=>{if(!u)return;const e=e=>(e.preventDefault(),e.returnValue="Emergency alert is active! Hold the cancel button for 10 seconds to dismiss.",e.returnValue);return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[u]);const x=()=>{w.current&&(clearInterval(w.current),w.current=null),r(!1),l(null),(0,s.Ay)("SOS cancelled")},U=async()=>{await b({optimisticUpdate:()=>{r(!1),d(!0)},serverUpdate:async()=>{let e="Location unavailable";if(navigator.geolocation)try{const t=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,{timeout:3e3})});e="GPS: ".concat(t.coords.latitude.toFixed(4),", ").concat(t.coords.longitude.toFixed(4))}catch(n){console.error("Location error:",n)}return await(0,p.gS)((0,p.rJ)(i.db,"emergency_sos"),{userId:t.uid,userName:(null===A||void 0===A?void 0:A.displayName)||"User",location:e,timestamp:p.Dc.now(),status:"active",type:"sos",message:"\ud83d\udea8 EMERGENCY - User needs immediate help!"})},rollback:()=>{d(!1),r(!1)},successMessage:"\ud83d\udea8 Emergency alert sent to all besties!",errorMessage:"Failed to send emergency alert. Please try again.",skipSuccessToast:!1})},Q=()=>{v.current=Date.now(),f(0),y.current=setInterval(()=>{const e=Date.now()-v.current,t=Math.min(e/1e4*100,100);f(t),t>=100&&I()},50)},F=()=>{y.current&&(clearInterval(y.current),y.current=null),f(0),s.Ay.error("Hold button for 10 seconds to cancel alert")},I=()=>{y.current&&(clearInterval(y.current),y.current=null),d(!1),f(0),s.Ay.success("Emergency alert cancelled")};return u?(0,c.jsx)("div",{className:"fixed inset-0 bg-orange-500/95 z-[9999] flex items-center justify-center p-4 overflow-y-auto",children:(0,c.jsxs)("div",{className:"text-center max-w-md w-full my-8",children:[(0,c.jsx)("div",{className:"text-8xl mb-6 animate-pulse",children:"\ud83d\udea8"}),(0,c.jsx)("h2",{className:"text-4xl font-display text-white mb-4",children:"EMERGENCY ALERT SENT"}),(0,c.jsx)("p",{className:"text-xl text-white mb-8",children:"Your besties have been notified!"}),(0,c.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 mb-6",children:[(0,c.jsx)("h3",{className:"text-white font-bold text-lg mb-3",children:"\ud83d\udcde Emergency Numbers"}),C&&!g?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("a",{href:"tel:".concat(C.police),className:"bg-white/30 hover:bg-white/40 backdrop-blur-sm rounded-lg p-4 transition-all block mb-3",children:[(0,c.jsx)("div",{className:"text-4xl mb-2",children:C.flag}),(0,c.jsxs)("div",{className:"text-white text-sm font-semibold mb-1",children:[C.country," Emergency"]}),(0,c.jsx)("div",{className:"text-white text-3xl font-bold",children:C.police})]}),(0,c.jsxs)("button",{onClick:()=>m(!0),className:"text-white/80 text-sm underline hover:text-white",children:["Not in ",C.country,"? Show all countries \u2192"]})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"grid grid-cols-2 gap-2",children:N.map(e=>(0,c.jsxs)("a",{href:"tel:".concat(e.police),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg p-3 transition-all",children:[(0,c.jsx)("div",{className:"text-2xl mb-1",children:e.flag}),(0,c.jsx)("div",{className:"text-white text-xs font-semibold",children:e.country}),(0,c.jsx)("div",{className:"text-white text-lg font-bold",children:e.police})]},e.country))}),C&&(0,c.jsxs)("button",{onClick:()=>m(!1),className:"text-white/80 text-sm underline hover:text-white mt-2",children:["\u2190 Show only my country (",C.country,")"]})]}),(0,c.jsx)("p",{className:"text-white/80 text-xs mt-3",children:"Tap to call emergency services"})]}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("button",{onMouseDown:Q,onMouseUp:F,onMouseLeave:F,onTouchStart:Q,onTouchEnd:F,className:"btn bg-white text-orange-600 text-xl px-12 py-6 font-bold relative overflow-hidden w-full",children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-green-500/30 transition-all",style:{width:"".concat(h,"%")}}),(0,c.jsx)("span",{className:"relative z-10",children:0===h?"HOLD TO CANCEL":"".concat(Math.ceil((100-h)/10),"s")})]}),(0,c.jsx)("p",{className:"text-sm text-white mt-4",children:"Hold for 10 seconds to cancel the emergency alert"})]})]})}):n?(0,c.jsx)("div",{className:"fixed inset-0 bg-danger/95 z-50 flex items-center justify-center p-4",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"text-9xl font-display text-white mb-8 animate-pulse",children:a}),(0,c.jsx)("h2",{className:"text-3xl font-display text-white mb-4",children:"EMERGENCY SOS"}),(0,c.jsx)("p",{className:"text-xl text-white mb-8",children:"Sending alert to all besties..."}),(0,c.jsx)("button",{onClick:x,className:"btn bg-white text-danger text-xl px-12 py-4",children:"CANCEL"})]})}):(0,c.jsxs)("button",{onClick:()=>{B.emergency(),l(5),r(!0),w.current=setInterval(()=>{l(e=>e<=1?(clearInterval(w.current),w.current=null,U(),null):(B.warning(),e-1))},1e3)},className:"fixed bottom-24 right-6 w-20 h-20 bg-danger text-white rounded-full shadow-xl hover:shadow-2xl hover:scale-110 active:scale-95 flex flex-col items-center justify-center transition-all duration-200 z-40 animate-pulse",title:"Emergency SOS - Hold for 5 seconds",children:[(0,c.jsx)("span",{className:"text-3xl",children:"\ud83c\udd98"}),(0,c.jsx)("span",{className:"text-xs font-bold",children:"SOS"})]})};var L=A(5239),H=A.n(L);const O=()=>{var t;const{currentUser:A,userData:n}=(0,o.As)(),[r,s]=(0,e.useState)([]),[a,l]=(0,e.useState)(null),[u,d]=(0,e.useState)(null),[h,f]=(0,e.useState)(!1),m=(0,e.useRef)(null);(0,e.useEffect)(()=>{if(!h)return;(()=>{const e=["#9333ea","#ec4899","#8b5cf6","#d946ef","#a855f7"],t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.style.zIndex="10000",document.body.appendChild(t);for(let n=0;n<100;n++){const A=document.createElement("div");A.style.position="absolute",A.style.width="10px",A.style.height="10px",A.style.backgroundColor=e[Math.floor(Math.random()*e.length)],A.style.left=100*Math.random()+"%",A.style.top="-10px",A.style.opacity=Math.random(),A.style.transform="rotate(".concat(360*Math.random(),"deg)");const n=3*Math.random()+2,r=.5*Math.random();A.style.animation="fall ".concat(n,"s linear ").concat(r,"s forwards"),t.appendChild(A)}const A=document.createElement("style");A.innerHTML="\n        @keyframes fall {\n          to {\n            transform: translateY(100vh) rotate(720deg);\n            opacity: 0;\n          }\n        }\n      ",document.head.appendChild(A),setTimeout(()=>{t.remove(),A.remove()},5e3)})()},[h]),(0,e.useEffect)(()=>{if(!A||null===n||void 0===n||!n.onboardingCompleted)return;(async()=>{try{const e=(0,p.P)((0,p.rJ)(i.db,"bestie_celebrations"),(0,p._M)("userId","==",A.uid),(0,p._M)("seen","==",!1)),t=await(0,p.GG)(e);if(!t.empty){const e=t.docs.map(e=>(0,g.A)({id:e.id},e.data()));s(e),l(e[0]),d(e[0].id),f(!0)}}catch(e){console.error("Error checking for celebrations:",e)}})()},[A,n]);const w=async e=>{try{const t=m.current;if(!t)return;const A=(await H()(t,{backgroundColor:null,scale:2})).toDataURL("image/png"),n="".concat(a.bestieName," and I are now besties on Besties App! \ud83d\udc9c"),r="https://bestiesapp.web.app";switch(e){case"twitter":window.open("https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(n),"&url=").concat(encodeURIComponent(r)),"_blank");break;case"facebook":window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(r),"&quote=").concat(encodeURIComponent(n)),"_blank");break;case"download":const e=document.createElement("a");e.download="besties-celebration.png",e.href=A,e.click()}}catch(t){console.error("Error sharing:",t)}};return h&&a?(0,c.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center z-[9999] p-4",children:(0,c.jsxs)("div",{className:"max-w-md w-full",children:[(0,c.jsx)("div",{ref:m,className:"bg-gradient-to-br from-purple-500 to-pink-500 p-4 sm:p-6 md:p-8 rounded-3xl",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"text-5xl sm:text-6xl md:text-8xl mb-4 sm:mb-6 animate-bounce",children:"\ud83c\udf89"}),(0,c.jsxs)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-display text-white mb-3 sm:mb-4 px-2",children:["You and ",a.bestieName||"your friend"," are besties!"]}),(0,c.jsx)("p",{className:"text-base sm:text-lg md:text-xl text-white/90 mb-2 px-2",children:"You can now add each other as emergency contacts"}),(0,c.jsxs)("div",{className:"flex justify-center items-center gap-3 sm:gap-4 my-6 sm:my-8",children:[(0,c.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full flex items-center justify-center shadow-xl overflow-hidden flex-shrink-0",children:a.bestiePhotoURL?(0,c.jsx)("img",{src:a.bestiePhotoURL,alt:a.bestieName,className:"w-full h-full object-cover"}):(0,c.jsx)("div",{className:"text-2xl sm:text-3xl text-purple-600",children:(null===(t=a.bestieName)||void 0===t?void 0:t[0])||"?"})}),(0,c.jsx)("div",{className:"text-3xl sm:text-4xl animate-pulse flex-shrink-0",children:"\ud83d\udc9c"}),(0,c.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full flex items-center justify-center shadow-xl overflow-hidden flex-shrink-0",children:null!==n&&void 0!==n&&n.photoURL?(0,c.jsx)("img",{src:n.photoURL,alt:"You",className:"w-full h-full object-cover"}):(0,c.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:"YOU"})})]}),(0,c.jsxs)("p",{className:"text-sm sm:text-base text-white/80 mb-4 sm:mb-6 px-2",children:[a.bestieName," will be notified if you don't check in on time"]})]})}),r.length>1&&(0,c.jsx)("div",{className:"text-center mt-4",children:(0,c.jsxs)("p",{className:"text-white text-sm",children:[r.length-1," more celebration",r.length>2?"s":""," remaining"]})}),(0,c.jsxs)("div",{className:"mt-4 sm:mt-6 flex justify-center gap-3 sm:gap-4",children:[(0,c.jsx)("button",{onClick:()=>w("twitter"),className:"bg-white/20 hover:bg-white/30 text-white rounded-full p-2 sm:p-3 transition-all",title:"Share on Twitter",children:(0,c.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{d:"M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"})})}),(0,c.jsx)("button",{onClick:()=>w("facebook"),className:"bg-white/20 hover:bg-white/30 text-white rounded-full p-2 sm:p-3 transition-all",title:"Share on Facebook",children:(0,c.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{d:"M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"})})}),(0,c.jsx)("button",{onClick:()=>w("download"),className:"bg-white/20 hover:bg-white/30 text-white rounded-full p-2 sm:p-3 transition-all",title:"Download image",children:(0,c.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]}),(0,c.jsx)("div",{className:"flex justify-center mt-4 sm:mt-6",children:(0,c.jsx)("button",{onClick:async()=>{if(u)try{await(0,p.mZ)((0,p.H9)(i.db,"bestie_celebrations",u),{seen:!0})}catch(t){console.error("Error marking celebration as seen:",t)}const e=r.slice(1);e.length>0?(s(e),l(e[0]),d(e[0].id)):(f(!1),l(null),d(null))},className:"btn bg-white text-purple-600 hover:bg-white/90 text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 font-bold",children:"Continue \u2192"})})]})}):null};var R=A(7766);const P=t=>{let{currentUser:A,userData:n}=t;const[r,s]=(0,e.useState)(!1),[o,a]=(0,e.useState)(!1),[l,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(!1),[f,g]=(0,e.useState)(!1),[m,w]=(0,e.useState)(null),[y,v]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=e=>{e.preventDefault(),console.log("beforeinstallprompt event captured"),w(e),v(!0)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),w(null),v(!1)}),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]),(0,e.useEffect)(()=>{var e;if(!0===(null===n||void 0===n||null===(e=n.settings)||void 0===e?void 0:e.dismissedAddToHomeScreen))return;const t=navigator.userAgent,A=/iPhone|iPad|iPod/.test(t),r=/Android/.test(t),i=/Safari/.test(t)&&!/Chrome|CriOS|FxiOS|EdgiOS/.test(t),o=/Chrome|CriOS/.test(t)&&!/EdgiOS/.test(t);a(A),u(r),h(i),g(o);if(window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone)return;(()=>{var e,t;const A=(null===n||void 0===n||null===(e=n.stats)||void 0===e?void 0:e.completedCheckIns)||0,r=null===n||void 0===n||null===(t=n.settings)||void 0===t?void 0:t.lastDismissedInstallPrompt;if(A>=1){var s;if(!r)return!0;if(A>((null===n||void 0===n||null===(s=n.settings)||void 0===s?void 0:s.dismissedAtCheckInCount)||0))return!0}return!1})()&&setTimeout(()=>{s(!0)},2e3)},[n]);const b=async()=>{if(s(!1),B.light(),A)try{var e;await(0,p.mZ)((0,p.H9)(i.db,"users",A.uid),{"settings.lastDismissedInstallPrompt":new Date,"settings.dismissedAtCheckInCount":(null===n||void 0===n||null===(e=n.stats)||void 0===e?void 0:e.completedCheckIns)||0})}catch(t){console.error("Error saving dismissal:",t)}},C=async()=>{if(s(!1),B.light(),A)try{await(0,p.mZ)((0,p.H9)(i.db,"users",A.uid),{"settings.dismissedAddToHomeScreen":!0})}catch(e){console.error("Error saving dismissal:",e)}};return r?(0,c.jsxs)("div",{className:"fixed inset-0 bg-black/50 flex items-end md:items-center justify-center z-50 p-4 animate-fade-in",children:[(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-t-3xl md:rounded-3xl max-w-md w-full p-6 animate-slide-up shadow-2xl",children:[(0,c.jsxs)("div",{className:"text-center mb-4",children:[(0,c.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcf1"}),(0,c.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-2",children:"Add Besties to Home Screen"}),(0,c.jsx)("p",{className:"text-sm text-text-secondary",children:"Quick access to safety check-ins, just like a real app! \u2728"})]}),y&&m&&(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("button",{onClick:async()=>{if(m&&y){B.medium(),m.prompt();const{outcome:e}=await m.userChoice;console.log("User response to install prompt: ".concat(e)),"accepted"===e?(console.log("User accepted the install prompt"),s(!1),A&&await(0,p.mZ)((0,p.H9)(i.db,"users",A.uid),{"settings.installedPWA":!0})):"dismissed"===e&&(console.log("User dismissed the install prompt"),b()),w(null),v(!1)}},className:"w-full btn btn-primary text-lg py-4",children:"\ud83d\udcf2 Install App"}),(0,c.jsx)("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mt-2",children:"One tap to add Besties to your home screen!"})]}),o&&d&&(0,c.jsxs)("div",{className:"mb-6 p-4 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30 rounded-xl border-2 border-blue-200 dark:border-blue-700",children:[(0,c.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3 text-center",children:"\ud83d\udcf2 Quick Setup:"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"1"}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Tap the ",(0,c.jsx)("strong",{children:"Share button"})," at the bottom of Safari"]}),(0,c.jsx)("div",{className:"mt-2 flex justify-center",children:(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)("svg",{className:"w-12 h-12 text-blue-500 animate-bounce-slow",fill:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{d:"M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V10c0-1.1.9-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .9 2 2z"})})})})]})]}),(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"2"}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Scroll down and tap ",(0,c.jsx)("strong",{children:'"Add to Home Screen"'})]}),(0,c.jsx)("div",{className:"mt-2 flex justify-center",children:(0,c.jsx)("div",{className:"text-3xl animate-point-down",children:"\ud83d\udc47"})})]})]}),(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"3"}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Tap ",(0,c.jsx)("strong",{children:'"Add"'})," in the top right"]}),(0,c.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"\u2705 Done! Find Besties on your home screen"})]})]})]})]}),l&&f&&!y&&(0,c.jsxs)("div",{className:"mb-6 p-4 bg-gradient-to-br from-green-50 to-blue-50 dark:from-green-900/30 dark:to-blue-900/30 rounded-xl border-2 border-green-200 dark:border-green-700",children:[(0,c.jsx)("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-3 text-center",children:"\ud83d\udcf2 Quick Setup:"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsx)("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"1"}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Tap the ",(0,c.jsx)("strong",{children:"menu button"})," (\u22ee) at the top right"]}),(0,c.jsx)("div",{className:"mt-2 flex justify-center",children:(0,c.jsxs)("div",{className:"flex flex-col gap-1 animate-pulse",children:[(0,c.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),(0,c.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),(0,c.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})]})})]})]}),(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsx)("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"2"}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Tap ",(0,c.jsx)("strong",{children:'"Add to Home screen"'})," or ",(0,c.jsx)("strong",{children:'"Install app"'})]}),(0,c.jsx)("div",{className:"mt-2 flex justify-center",children:(0,c.jsx)("div",{className:"text-3xl animate-point-down",children:"\u261d\ufe0f"})})]})]}),(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsx)("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"3"}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Tap ",(0,c.jsx)("strong",{children:'"Install"'})]}),(0,c.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"\u2705 Done! Find Besties on your home screen"})]})]})]})]}),o&&!d&&(0,c.jsx)("div",{className:"mb-6 p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded-xl border-2 border-yellow-300 dark:border-yellow-700",children:(0,c.jsxs)("p",{className:"text-sm text-yellow-900 dark:text-yellow-100 text-center",children:["\u26a0\ufe0f You're using ",f?"Chrome":"a browser",". To add Besties to your home screen, please open this page in ",(0,c.jsx)("strong",{children:"Safari"}),"."]})}),!o&&!l&&y&&(0,c.jsx)("div",{className:"mb-6",children:(0,c.jsx)("p",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:"Click the button above to install Besties on your computer for quick access!"})}),(0,c.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsx)("button",{onClick:b,className:"flex-1 btn btn-secondary",children:"No Thanks"}),!y&&(0,c.jsx)("button",{onClick:C,className:"flex-1 btn btn-primary",children:"Got It!"})]}),(0,c.jsx)("button",{onClick:C,className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 py-1",children:"Don't show this again"})]}),(0,c.jsx)("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mt-3",children:y?"This makes Besties faster and easier to access \ud83d\udc9c":"Installing makes Besties work offline and load faster \ud83d\udc9c"})]}),(0,c.jsx)("style",{children:"\n        @keyframes fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        @keyframes slide-up {\n          from {\n            opacity: 0;\n            transform: translateY(100px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes point-down {\n          0%, 100% {\n            transform: translateY(0);\n          }\n          50% {\n            transform: translateY(8px);\n          }\n        }\n\n        @keyframes bounce-slow {\n          0%, 100% {\n            transform: translateY(0);\n          }\n          50% {\n            transform: translateY(-10px);\n          }\n        }\n\n        .animate-fade-in {\n          animation: fade-in 0.3s ease-out;\n        }\n\n        .animate-slide-up {\n          animation: slide-up 0.4s ease-out;\n        }\n\n        .animate-point-down {\n          display: inline-block;\n          animation: point-down 1.5s ease-in-out infinite;\n        }\n\n        .animate-bounce-slow {\n          animation: bounce-slow 2s ease-in-out infinite;\n        }\n      "})]}):null},M=t=>{let{currentUser:A,userData:n}=t;const[r,o]=(0,e.useState)(!1),[a,l]=(0,e.useState)(0),[u,d]=(0,e.useState)(!1),h=(0,e.useRef)(null),f=(0,e.useRef)(null),g=()=>{u||(B.emergency(),o(!0),l(0),f.current=setInterval(()=>{l(e=>e>=100?(clearInterval(f.current),100):e+100/30)},100),h.current=setTimeout(()=>{w()},3e3))},m=()=>{o(!1),l(0),h.current&&clearTimeout(h.current),f.current&&clearInterval(f.current)},w=async()=>{d(!0),l(100);try{const e=(0,p.P)((0,p.rJ)(i.db,"besties"),(0,p._M)("requesterId","==",A.uid),(0,p._M)("status","==","accepted")),t=(0,p.P)((0,p.rJ)(i.db,"besties"),(0,p._M)("recipientId","==",A.uid),(0,p._M)("status","==","accepted")),[r,a]=await Promise.all([(0,p.GG)(e),(0,p.GG)(t)]),c=new Set;if(r.forEach(e=>c.add(e.data().recipientId)),a.forEach(e=>c.add(e.data().requesterId)),0===c.size)return s.Ay.error("You need besties to use this feature"),d(!1),void o(!1);const u=await(0,p.gS)((0,p.rJ)(i.db,"get_me_out_alerts"),{userId:A.uid,userName:(null===n||void 0===n?void 0:n.displayName)||"Your bestie",userPhoto:(null===n||void 0===n?void 0:n.photoURL)||null,message:"".concat((null===n||void 0===n?void 0:n.displayName)||"Your bestie"," needs you to call them! They might be in an uncomfortable situation."),bestieIds:Array.from(c),createdAt:p.Dc.now(),responded:[]});console.log("Get Me Out alert created:",u.id),B.success(),s.Ay.success("\ud83d\udcde Your besties are being notified to call you!",{duration:5e3,icon:"\ud83d\udc9c"}),setTimeout(()=>{d(!1),o(!1),l(0)},2e3)}catch(e){console.error("Error sending Get Me Out alert:",e),s.Ay.error("Failed to send alert. Please try again."),d(!1),o(!1),l(0)}};return(0,c.jsxs)("div",{className:"relative inline-block",children:[(0,c.jsxs)("button",{onMouseDown:g,onMouseUp:m,onMouseLeave:m,onTouchStart:g,onTouchEnd:m,disabled:u,className:"relative w-full p-4 rounded-xl font-bold text-white shadow-lg transition-all duration-200 ".concat(u?"bg-green-500 scale-95":r?"bg-orange-600 scale-95":"bg-gradient-to-r from-orange-500 to-red-500 hover:scale-105"," ").concat(u?"cursor-wait":"cursor-pointer"," active:scale-95"),children:[r&&!u&&(0,c.jsxs)("svg",{className:"absolute inset-0 w-full h-full",style:{transform:"rotate(-90deg)"},children:[(0,c.jsx)("circle",{cx:"50%",cy:"50%",r:"45%",fill:"none",stroke:"white",strokeWidth:"4",opacity:"0.3"}),(0,c.jsx)("circle",{cx:"50%",cy:"50%",r:"45%",fill:"none",stroke:"white",strokeWidth:"4",strokeDasharray:"".concat(2*Math.PI*45," ").concat(2*Math.PI*45),strokeDashoffset:"".concat(2*Math.PI*45*(1-a/100)),className:"transition-all duration-100"})]}),(0,c.jsx)("div",{className:"relative z-10 flex items-center justify-center gap-2",children:u?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-xl",children:"\u2713"}),(0,c.jsx)("span",{children:"Notifying your besties..."})]}):r?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-xl animate-pulse",children:"\u23f1\ufe0f"}),(0,c.jsx)("span",{children:"Hold..."})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-xl",children:"\ud83d\udcde"}),(0,c.jsx)("span",{children:"Get Me Out of Here"})]})})]}),!u&&!r&&(0,c.jsx)("p",{className:"text-xs text-center text-gray-500 mt-2",children:"Hold for 3 seconds to alert your besties"}),u&&(0,c.jsx)("p",{className:"text-xs text-center text-green-600 mt-2 font-semibold",children:"\ud83d\udc9c Your besties will call you soon!"})]})},j=()=>{const[t,A]=(0,e.useState)(navigator.onLine),[n,r]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{const e=()=>{A(!0),setTimeout(()=>r(!1),2e3)},t=()=>{A(!1),r(!0)};return window.addEventListener("online",e),window.addEventListener("offline",t),navigator.onLine||r(!0),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),n?(0,c.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-50 p-3 text-center text-sm font-semibold shadow-lg transform transition-all duration-300 ".concat(t?"bg-gradient-to-r from-green-400 to-emerald-500 text-white translate-y-0":"bg-gradient-to-r from-orange-400 to-red-500 text-white translate-y-0"),style:{animation:"slide-down 0.3s ease-out"},children:[t?(0,c.jsx)("span",{children:"\u2728 You're back online! \ud83d\udc9c"}):(0,c.jsx)("span",{children:"\ud83d\udcf5 You're offline - Some features won't work"}),(0,c.jsx)("style",{children:"\n        @keyframes slide-down {\n          from {\n            transform: translateY(-100%);\n          }\n          to {\n            transform: translateY(0);\n          }\n        }\n      "})]}):null},K=t=>{const[A,n]=(0,e.useState)(!1),[r,s]=(0,e.useState)(0),[i,o]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{let e=0,A=0;const a=t=>{0===window.scrollY&&(e=t.touches[0].clientY)},l=t=>{if(0!==window.scrollY||i)return;A=t.touches[0].clientY;const r=A-e;r>0&&(n(!0),s(Math.min(r,120)),r>10&&t.preventDefault())},c=async()=>{if(r>80){o(!0);try{await t()}catch(e){console.error("Refresh error:",e)}setTimeout(()=>{o(!1),n(!1),s(0)},1e3)}else n(!1),s(0)};return document.addEventListener("touchstart",a,{passive:!0}),document.addEventListener("touchmove",l,{passive:!1}),document.addEventListener("touchend",c),()=>{document.removeEventListener("touchstart",a),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",c)}},[t,r,i]),{isPulling:A,pullDistance:r,isRefreshing:i}},V=e=>{let{onRefresh:t,children:A}=e;const{isPulling:n,pullDistance:r,isRefreshing:s}=K(t),i=Math.min(r/120*360,360);return(0,c.jsxs)(c.Fragment,{children:[(n||s)&&(0,c.jsx)("div",{className:"fixed top-0 left-0 right-0 flex items-center justify-center transition-all duration-200 z-40",style:{height:"".concat(Math.max(r,s?60:0),"px"),background:"linear-gradient(180deg, rgba(252,231,243,0.9) 0%, rgba(251,207,232,0) 100%)"},children:(0,c.jsxs)("div",{className:"flex flex-col items-center",children:[s?(0,c.jsx)("div",{className:"w-8 h-8 border-4 border-pink-300 border-t-pink-600 rounded-full animate-spin"}):(0,c.jsx)("div",{className:"text-3xl transition-transform",style:{transform:"rotate(".concat(i,"deg)")},children:"\ud83d\udc9c"}),(0,c.jsx)("p",{className:"text-sm font-semibold text-pink-700 mt-2",children:s?"\u2728 Refreshing...":r>80?"\ud83d\udc9c Release to refresh!":n?"\ud83d\udc47 Keep pulling...":""})]})}),A]})};var G=A(3197),z=A(6823);const W=["Stay safe out there, queen! \ud83d\udc51","Your besties have your back! \ud83d\udc9c","Looking out for you, babe! \u2728","Let's keep you safe, hun! \ud83d\udee1\ufe0f","Ready to slay safely? \ud83d\udc85","Your safety squad is here! \ud83c\udf1f","Go live your life, we got you! \ud83d\udc95","Be bold, be safe, be you! \u26a1","Adventure awaits safely! \ud83c\udf38","Your crew is watching out! \ud83d\udc6f\u200d\u2640\ufe0f","Stay fierce, stay safe! \ud83d\udd25","We're here if you need us! \ud83e\udd17","Go make memories safely! \ud83d\udcf8","Your safety, your way! \ud83d\udc96","Protected and empowered! \u2b50","Living your best life safely! \ud83e\udd8b","Your peace of mind matters! \ud83c\udf3a","Safe vibes only! \u270c\ufe0f","Let's keep you covered, sis! \ud83d\udcaa","Confidence + Safety = You! \ud83d\udc8e"],q=()=>{var t,A,r,a,l,u;const{currentUser:d,userData:h,loading:f}=(0,o.As)(),m=(0,n.Zp)(),[w,y]=(0,e.useState)([]),[b,C]=(0,e.useState)(!0),[x,E]=(0,e.useState)(!1),[U,F]=(0,e.useState)(""),[I,k]=(0,e.useState)([]),[N,L]=(0,e.useState)([]),[H,K]=(0,e.useState)([]),[q,X]=(0,e.useState)(0),J=["\ud83d\udcac Needs to vent","\ud83e\udec2 Need a shoulder","\ud83d\udc9c Could use support","\ud83d\ude14 Having a rough day","\ud83c\udf89 Let's do something","\ud83d\udcf1 Want to chat"],Y=(0,e.useMemo)(()=>W[Math.floor(Math.random()*W.length)],[]);(0,e.useEffect)(()=>{const e=setInterval(()=>{X(e=>(e+1)%J.length)},2e3);return()=>clearInterval(e)},[]),(0,e.useEffect)(()=>{f||h&&!1===h.onboardingCompleted&&m("/onboarding")},[h,f,m]),(0,e.useEffect)(()=>{if(f)return;localStorage.getItem("pending_invite")&&!d&&m("/login")},[d,f,m]),(0,e.useEffect)(()=>{if(!d)return;const e=(0,p.P)((0,p.rJ)(i.db,"checkins"),(0,p._M)("userId","==",d.uid),(0,p._M)("status","in",["active","alerted"])),t=(0,p.aQ)(e,e=>{const t=[];e.forEach(e=>{t.push((0,g.A)({id:e.id},e.data()))}),y(t),C(!1)},e=>{console.error("Error loading check-ins:",e),y([]),C(!1)});return()=>{t()}},[d]),(0,e.useEffect)(()=>{if(!d||!h)return;(async()=>{try{const t=h.featuredCircle||[];if(0===t.length)return k([]),void L([]);const A=[];for(const e of t){const t=await(0,p.x7)((0,p.H9)(i.db,"users",e));if(t.exists()){const n=t.data();A.push({userId:e,name:n.displayName||"Bestie",phone:n.phone})}}K(A);const n=[],r=[];for(const s of t){const t=new Date;t.setHours(t.getHours()-48);const o=(0,p.P)((0,p.rJ)(i.db,"checkins"),(0,p._M)("userId","==",s),(0,p._M)("createdAt",">=",t),(0,p._M)("status","==","alerted"),(0,p.My)("createdAt","desc"),(0,p.AB)(5));(await(0,p.GG)(o)).forEach(e=>{var t;const r=e.data(),i=A.find(e=>e.userId===s);n.push({id:e.id,userName:(null===i||void 0===i?void 0:i.name)||"Bestie",userId:s,checkInData:r,timestamp:(null===(t=r.createdAt)||void 0===t?void 0:t.toDate())||new Date})});const a=await(0,p.x7)((0,p.H9)(i.db,"users",s));if(a.exists()){const t=a.data();if(t.requestAttention&&t.requestAttention.active){var e;const n=A.find(e=>e.userId===s);r.push({userId:s,userName:(null===n||void 0===n?void 0:n.name)||"Bestie",tag:t.requestAttention.tag,note:t.requestAttention.note,timestamp:(null===(e=t.requestAttention.timestamp)||void 0===e?void 0:e.toDate())||new Date})}}}k(n),L(r)}catch(t){console.error("Error loading alerts:",t)}})()},[d,h]);return b?(0,c.jsxs)("div",{className:"min-h-screen bg-pattern",children:[(0,c.jsx)(v.A,{}),(0,c.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,c.jsx)("div",{className:"spinner"})})]}):(0,c.jsx)(V,{onRefresh:async()=>{try{await new Promise(e=>setTimeout(e,500)),s.Ay.success("Refreshed! \ud83d\udc9c",{duration:2e3})}catch(e){console.error("Refresh error:",e),s.Ay.error("Failed to refresh")}},children:(0,c.jsxs)("div",{className:"min-h-screen bg-pattern",children:[(0,c.jsx)(j,{}),(0,c.jsx)(v.A,{}),(0,c.jsxs)("div",{className:"max-w-4xl mx-auto p-4 pb-20",children:[(0,c.jsxs)("div",{className:"mb-6 animate-fade-in",children:[(0,c.jsxs)("h1",{className:"text-3xl font-display text-text-primary mb-2",children:["Hey ",(null===h||void 0===h?void 0:h.displayName)||"there","! \ud83d\udc4b"]}),(0,c.jsx)("p",{className:"text-text-secondary",children:w.length>0?"You have ".concat(w.length," active check-in").concat(w.length>1?"s":""):Y})]}),(0,c.jsx)(G.A,{missedCheckIns:I,requestsForAttention:N,besties:H}),0===w.length&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(S,{}),(0,c.jsx)(_,{userId:null===d||void 0===d?void 0:d.uid}),(0,c.jsxs)("div",{className:"card p-6 mb-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("h3",{className:"font-display text-lg text-text-primary",children:"Your Safety Stats"}),(0,c.jsx)("button",{onClick:()=>m("/profile"),className:"text-primary font-semibold hover:underline text-sm",children:"View Profile \u2192"})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"text-3xl font-display text-primary",children:(null===h||void 0===h||null===(t=h.stats)||void 0===t?void 0:t.completedCheckIns)||0}),(0,c.jsx)("div",{className:"text-sm text-text-secondary",children:"Check-ins"})]}),(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"text-3xl font-display text-secondary",children:(null===h||void 0===h||null===(A=h.stats)||void 0===A?void 0:A.totalBesties)||0}),(0,c.jsx)("div",{className:"text-sm text-text-secondary",children:"Besties"})]}),(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsxs)("div",{className:"text-3xl font-display text-orange-500",children:[(null===h||void 0===h||null===(r=h.stats)||void 0===r?void 0:r.currentStreak)||0," \ud83d\udd25"]}),(0,c.jsx)("div",{className:"text-sm text-text-secondary",children:"Current Streak"})]}),(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsxs)("div",{className:"text-3xl font-display text-accent",children:[(null===h||void 0===h||null===(a=h.stats)||void 0===a?void 0:a.longestStreak)||0," \ud83d\udc51"]}),(0,c.jsx)("div",{className:"text-sm text-text-secondary",children:"Longest Streak"})]})]})]}),null!==h&&void 0!==h&&null!==(l=h.requestAttention)&&void 0!==l&&l.active?(0,c.jsx)("div",{className:"card p-4 mb-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 border-2 border-purple-200 dark:border-purple-700",children:(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsx)("div",{className:"text-3xl",children:"\ud83d\udc9c"}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("h3",{className:"text-lg font-display text-purple-900 dark:text-purple-100 mb-2",children:"You're requesting attention"}),(0,c.jsx)("div",{className:"inline-block px-3 py-1 bg-purple-200 dark:bg-purple-800 text-purple-900 dark:text-purple-100 rounded-full text-sm font-semibold mb-2",children:h.requestAttention.tag}),(0,c.jsx)("p",{className:"text-sm text-purple-700 dark:text-purple-300 mt-2",children:"Your besties can see this on your profile \ud83d\udc9c"})]}),(0,c.jsx)("button",{onClick:async()=>{try{await(0,p.mZ)((0,p.H9)(i.db,"users",d.uid),{"requestAttention.active":!1}),s.Ay.success("Request removed")}catch(e){console.error("Error canceling request:",e),s.Ay.error("Failed to cancel request")}},className:"text-purple-700 dark:text-purple-300 hover:text-purple-900 dark:hover:text-purple-100 font-semibold text-sm",children:"Remove"})]})}):(0,c.jsxs)("div",{className:"card p-6 mb-6 bg-gradient-to-br from-pink-50 via-purple-50 to-pink-50 dark:from-pink-900/20 dark:via-purple-900/20 dark:to-pink-900/20 border-2 border-pink-200 dark:border-pink-700",children:[(0,c.jsxs)("div",{className:"text-center mb-4",children:[(0,c.jsx)("div",{className:"text-3xl mb-2",children:"\u2728"}),(0,c.jsx)("h3",{className:"text-xl font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Need a Little Support?"}),(0,c.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"We all have those days. Let your besties know you could use some extra love right now \ud83d\udc95"})]}),(0,c.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 mb-4 border-2 border-purple-200 dark:border-purple-600 shadow-sm",children:(0,c.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,c.jsx)("p",{className:"text-xs font-semibold text-purple-600 dark:text-purple-400",children:"Preview:"}),(0,c.jsx)(R.A,{photoURL:null===h||void 0===h?void 0:h.photoURL,name:(null===h||void 0===h?void 0:h.displayName)||(null===d||void 0===d?void 0:d.email)||"You",requestAttention:{active:!0,tag:J[q]},size:"lg",showBubble:!0}),(0,c.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center italic",children:['Your besties will see "',J[q],'" on your profile']})]})}),(0,c.jsx)("button",{onClick:()=>{B.light(),E(!0)},className:"btn bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white w-full shadow-lg",children:"\ud83d\udc9c Request Support"})]})]}),w.length>0&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,c.jsx)("h2",{className:"text-xl font-display text-text-primary",children:"Active Check-Ins"}),w.map(e=>(0,c.jsx)(Q,{checkIn:e},e.id))]}),(0,c.jsxs)("div",{className:"card p-6 mb-6 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/30 dark:to-red-900/30 border-2 border-orange-200 dark:border-orange-700",children:[(0,c.jsx)("h3",{className:"text-lg font-display text-orange-900 dark:text-orange-100 mb-2 text-center",children:"\ud83c\udd98 Need an Exit Strategy?"}),(0,c.jsx)("p",{className:"text-sm text-orange-700 dark:text-orange-300 mb-4 text-center",children:"Feeling uncomfortable? Hold the button for 3 seconds and your besties will call you to help you get out of there."}),(0,c.jsx)(M,{currentUser:d,userData:h})]})]}),(0,c.jsx)("div",{className:"card p-6 mb-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 border-2 border-purple-100 dark:border-purple-700",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udc9c"}),(0,c.jsx)("h3",{className:"font-display text-2xl text-gradient mb-3",children:"You're Part of Something Special"}),(0,c.jsx)("p",{className:"text-text-secondary leading-relaxed mb-4",children:"Hey bestie! We just wanted to say\u2014you being here means everything. Every check-in you create, every friend you add, every safe moment you share... you're part of a community that's got each other's backs. We're building this together, and we couldn't do it without amazing people like you. You're not just using an app\u2014you're one of the besties. \ud83d\udc95"}),(0,c.jsx)("p",{className:"text-sm text-primary font-semibold",children:"Keep slaying safely, queen! \ud83d\udc51\u2728"})]})}),!(null!==h&&void 0!==h&&null!==(u=h.donationStats)&&void 0!==u&&u.isActive)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"text-center mb-4",children:[(0,c.jsx)("h2",{className:"text-2xl font-display text-gradient mb-2",children:"Want to help us out? \ud83d\udc9c"}),(0,c.jsx)("p",{className:"text-text-secondary text-sm",children:"Here are all the ways you can support Besties and keep safety accessible for everyone"})]}),(0,c.jsx)(T,{}),(0,c.jsxs)("div",{className:"flex items-center gap-4 my-6",children:[(0,c.jsx)("div",{className:"flex-1 h-px bg-gray-300"}),(0,c.jsx)("span",{className:"text-text-secondary font-semibold",children:"OR"}),(0,c.jsx)("div",{className:"flex-1 h-px bg-gray-300"})]}),(0,c.jsx)("div",{className:"card p-6 mb-6 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30 border-2 border-blue-100 dark:border-blue-700",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udc6f\u200d\u2640\ufe0f"}),(0,c.jsx)("h3",{className:"font-display text-2xl text-gradient mb-3",children:"Grow the Squad!"}),(0,c.jsx)("p",{className:"text-text-secondary leading-relaxed mb-4",children:"Love Besties? Invite your friends! The more people who join, the stronger our safety network becomes. Plus, it helps us keep the app free for everyone. Share the love! \ud83d\udc96"}),(0,c.jsx)("button",{onClick:()=>{B.light(),m("/besties")},className:"btn btn-secondary w-full text-lg py-3",children:"\ud83c\udf89 Invite Friends"}),(0,c.jsx)("p",{className:"text-xs text-text-secondary mt-3",children:"Every new friend makes Besties better for everyone!"})]})})]})]}),(0,c.jsx)(D,{}),(0,c.jsx)(O,{}),(0,c.jsx)(P,{currentUser:d,userData:h}),x&&(0,c.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,c.jsx)("h2",{className:"text-2xl font-display text-text-primary mb-4",children:"\ud83d\udc9c Request Attention"}),(0,c.jsx)("p",{className:"text-base text-text-secondary mb-6",children:"Let your besties know you could use some support. This is a non-urgent request - they'll see a badge on your profile throughout the app."}),(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("label",{className:"block text-sm font-semibold text-text-primary mb-2",children:"How can your besties help?"}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,c.jsxs)("button",{onClick:()=>F("Needs to vent \ud83d\udcac"),className:"p-3 rounded-xl border-2 text-left ".concat("Needs to vent \ud83d\udcac"===U?"border-primary bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-600 hover:border-primary"),children:[(0,c.jsx)("div",{className:"text-2xl mb-1",children:"\ud83d\udcac"}),(0,c.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Needs to vent"})]}),(0,c.jsxs)("button",{onClick:()=>F("Needs a shoulder \ud83e\udec2"),className:"p-3 rounded-xl border-2 text-left ".concat("Needs a shoulder \ud83e\udec2"===U?"border-primary bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-600 hover:border-primary"),children:[(0,c.jsx)("div",{className:"text-2xl mb-1",children:"\ud83e\udec2"}),(0,c.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Needs a shoulder"})]}),(0,c.jsxs)("button",{onClick:()=>F("Could use support \ud83d\udc9c"),className:"p-3 rounded-xl border-2 text-left ".concat("Could use support \ud83d\udc9c"===U?"border-primary bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-600 hover:border-primary"),children:[(0,c.jsx)("div",{className:"text-2xl mb-1",children:"\ud83d\udc9c"}),(0,c.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Could use support"})]}),(0,c.jsxs)("button",{onClick:()=>F("Having a rough day \ud83d\ude14"),className:"p-3 rounded-xl border-2 text-left ".concat("Having a rough day \ud83d\ude14"===U?"border-primary bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-600 hover:border-primary"),children:[(0,c.jsx)("div",{className:"text-2xl mb-1",children:"\ud83d\ude14"}),(0,c.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Rough day"})]}),(0,c.jsxs)("button",{onClick:()=>F("Let's do something \ud83c\udf89"),className:"p-3 rounded-xl border-2 text-left ".concat("Let's do something \ud83c\udf89"===U?"border-primary bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-600 hover:border-primary"),children:[(0,c.jsx)("div",{className:"text-2xl mb-1",children:"\ud83c\udf89"}),(0,c.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Let's hang out"})]}),(0,c.jsxs)("button",{onClick:()=>F("Want to chat \ud83d\udcf1"),className:"p-3 rounded-xl border-2 text-left ".concat("Want to chat \ud83d\udcf1"===U?"border-primary bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-600 hover:border-primary"),children:[(0,c.jsx)("div",{className:"text-2xl mb-1",children:"\ud83d\udcf1"}),(0,c.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Want to chat"})]})]})]}),(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsx)("button",{onClick:()=>{E(!1),F("")},className:"flex-1 btn btn-secondary",children:"Cancel"}),(0,c.jsx)("button",{onClick:async()=>{if(U)try{await(0,p.mZ)((0,p.H9)(i.db,"users",d.uid),{requestAttention:{active:!0,tag:U,timestamp:p.Dc.now()}});try{const e=(0,p.P)((0,p.rJ)(i.db,"besties"),(0,p._M)("status","==","accepted")),t=await(0,p.GG)(e),A=[];t.forEach(e=>{const t=e.data();t.requesterId===d.uid?A.push({id:t.recipientId}):t.recipientId===d.uid&&A.push({id:t.requesterId})});for(const n of A)await z.l.notifyRequestAttention(n.id,(null===h||void 0===h?void 0:h.displayName)||"A bestie",d.uid)}catch(e){console.error("Error sending notifications:",e)}s.Ay.success("Your besties will see your request \ud83d\udc9c"),E(!1),F("")}catch(t){console.error("Error requesting attention:",t),s.Ay.error("Failed to send request")}else s.Ay.error("Please select an option")},className:"flex-1 btn btn-primary",children:"Send Request"})]})]})})]})})},X=(0,e.lazy)(()=>A.e(683).then(A.bind(A,6683))),J=(0,e.lazy)(()=>A.e(299).then(A.bind(A,2299))),Y=(0,e.lazy)(()=>Promise.all([A.e(838),A.e(43)]).then(A.bind(A,4043))),Z=(0,e.lazy)(()=>A.e(321).then(A.bind(A,321))),$=(0,e.lazy)(()=>A.e(978).then(A.bind(A,6978))),ee=(0,e.lazy)(()=>A.e(225).then(A.bind(A,7225))),te=(0,e.lazy)(()=>A.e(492).then(A.bind(A,1492))),Ae=(0,e.lazy)(()=>Promise.all([A.e(838),A.e(206)]).then(A.bind(A,8206))),ne=(0,e.lazy)(()=>Promise.all([A.e(639),A.e(211)]).then(A.bind(A,4211))),re=(0,e.lazy)(()=>A.e(385).then(A.bind(A,1385))),se=(0,e.lazy)(()=>A.e(143).then(A.bind(A,4143))),ie=(0,e.lazy)(()=>A.e(88).then(A.bind(A,4088))),oe=(0,e.lazy)(()=>A.e(774).then(A.bind(A,2774))),ae=(0,e.lazy)(()=>A.e(619).then(A.bind(A,1619))),le=(0,e.lazy)(()=>A.e(237).then(A.bind(A,6237))),ce=(0,e.lazy)(()=>A.e(338).then(A.bind(A,5338))),ue=(0,e.lazy)(()=>A.e(495).then(A.bind(A,5495))),de=(0,e.lazy)(()=>A.e(759).then(A.bind(A,3759))),he=(0,e.lazy)(()=>A.e(69).then(A.bind(A,7069))),fe=(0,e.lazy)(()=>A.e(768).then(A.bind(A,7768))),ge=(0,e.lazy)(()=>A.e(317).then(A.bind(A,5317))),pe=(0,e.lazy)(()=>A.e(738).then(A.bind(A,5738))),me=(0,e.lazy)(()=>A.e(475).then(A.bind(A,475))),we=(0,e.lazy)(()=>A.e(298).then(A.bind(A,9298))),ye=()=>(0,c.jsx)("div",{className:"min-h-screen bg-pattern flex items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"spinner mb-4"}),(0,c.jsx)("h2",{className:"font-display text-2xl text-primary",children:"Loading..."})]})});function Be(){const t=(0,n.zy)();return(0,e.useEffect)(()=>{l.A.trackPageView(t.pathname)},[t]),null}function ve(e){let{user:t,children:A}=e;const r=(0,n.zy)();if(!t){const e=new URLSearchParams(r.search).get("invite");return e?(0,c.jsx)(n.C5,{to:"/login?invite=".concat(e)}):(0,c.jsx)(n.C5,{to:"/login"})}return A}const be=function(){const[t,A]=(0,e.useState)(!0),[l,u]=(0,e.useState)(null);return(0,e.useEffect)(()=>{const e=i.j2.onAuthStateChanged(e=>{u(e),A(!1)});return e},[]),t?(0,c.jsx)("div",{className:"min-h-screen bg-pattern flex items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"spinner mb-4"}),(0,c.jsx)("h2",{className:"font-display text-2xl text-primary",children:"Besties"}),(0,c.jsx)("p",{className:"text-text-secondary",children:"Loading..."})]})}):(0,c.jsx)(d,{children:(0,c.jsx)(a.L,{children:(0,c.jsx)(o.OJ,{children:(0,c.jsxs)(r.Kd,{children:[(0,c.jsx)(Be,{}),(0,c.jsx)(f,{}),(0,c.jsx)(m,{}),(0,c.jsxs)("div",{className:"App",children:[(0,c.jsx)(e.Suspense,{fallback:(0,c.jsx)(ye,{}),children:(0,c.jsxs)(n.BV,{children:[(0,c.jsx)(n.qh,{path:"/login",element:l?(0,c.jsx)(n.C5,{to:"/"}):(0,c.jsx)(y,{})}),(0,c.jsx)(n.qh,{path:"/privacy",element:(0,c.jsx)(ce,{})}),(0,c.jsx)(n.qh,{path:"/terms",element:(0,c.jsx)(ue,{})}),(0,c.jsx)(n.qh,{path:"/alert/:alertId",element:(0,c.jsx)(he,{})}),(0,c.jsx)(n.qh,{path:"/subscription-success",element:l?(0,c.jsx)(fe,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/subscription-cancel",element:l?(0,c.jsx)(ge,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/onboarding",element:(0,c.jsx)(ve,{user:l,children:(0,c.jsx)(X,{})})}),(0,c.jsx)(n.qh,{path:"/",element:(0,c.jsx)(ve,{user:l,children:(0,c.jsx)(q,{})})}),(0,c.jsx)(n.qh,{path:"/create",element:l?(0,c.jsx)(J,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/profile",element:l?(0,c.jsx)(Y,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/user/:userId",element:l?(0,c.jsx)(Z,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/edit-profile",element:l?(0,c.jsx)(Ae,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/besties",element:l?(0,c.jsx)($,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/settings",element:l?(0,c.jsx)(ee,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/badges",element:l?(0,c.jsx)(te,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/history",element:l?(0,c.jsx)(ne,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/templates",element:l?(0,c.jsx)(re,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/favorites",element:l?(0,c.jsx)(ie,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/export-data",element:l?(0,c.jsx)(oe,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/social-feed",element:l?(0,c.jsx)(le,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/about",element:l?(0,c.jsx)(pe,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/circle-health",element:l?(0,c.jsx)(we,{}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/dev-analytics",element:l?(0,c.jsx)(h,{children:(0,c.jsx)(se,{})}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/monitoring",element:l?(0,c.jsx)(h,{children:(0,c.jsx)(ae,{})}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/error-dashboard",element:l?(0,c.jsx)(h,{children:(0,c.jsx)(de,{})}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"/admin/backfill",element:l?(0,c.jsx)(h,{children:(0,c.jsx)(me,{})}):(0,c.jsx)(n.C5,{to:"/login"})}),(0,c.jsx)(n.qh,{path:"*",element:(0,c.jsx)(n.C5,{to:"/"})})]})}),(0,c.jsx)(s.l$,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#2D3748",fontFamily:"Quicksand, sans-serif",fontWeight:"600"},success:{iconTheme:{primary:"#4CAF50",secondary:"#fff"}},error:{iconTheme:{primary:"#FF6B35",secondary:"#fff"}}}})]})]})})})})};t.createRoot(document.getElementById("root")).render((0,c.jsx)(e.StrictMode,{children:(0,c.jsx)(be,{})}))})()})();
//# sourceMappingURL=main.7da2feb5.js.map