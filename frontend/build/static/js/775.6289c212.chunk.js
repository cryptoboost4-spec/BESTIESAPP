"use strict";(self.webpackChunkbesties_frontend=self.webpackChunkbesties_frontend||[]).push([[775],{6775:(e,a,l)=>{l.r(a),l.d(a,{default:()=>x});var t=l(2555),i=l(5043),r=l(5472),s=l(3984),o=l(2339),d=l(6515),n=l(7532),c=(l(524),l(579));const m=[{family:"Playfair Display",category:"Serif"},{family:"Merriweather",category:"Serif"},{family:"Lora",category:"Serif"},{family:"Crimson Text",category:"Serif"},{family:"EB Garamond",category:"Serif"},{family:"Cormorant",category:"Serif"},{family:"Inter",category:"Sans Serif"},{family:"Poppins",category:"Sans Serif"},{family:"Montserrat",category:"Sans Serif"},{family:"Quicksand",category:"Sans Serif"},{family:"Work Sans",category:"Sans Serif"},{family:"Raleway",category:"Sans Serif"},{family:"Open Sans",category:"Sans Serif"},{family:"Roboto",category:"Sans Serif"},{family:"Nunito",category:"Sans Serif"},{family:"Archivo Black",category:"Display"},{family:"Fredoka One",category:"Display"},{family:"Bebas Neue",category:"Display"},{family:"Righteous",category:"Display"},{family:"Permanent Marker",category:"Display"},{family:"Dancing Script",category:"Script"},{family:"Pacifico",category:"Script"},{family:"Great Vibes",category:"Script"},{family:"Satisfy",category:"Script"},{family:"Caveat",category:"Script"}],g=[{id:"xs",label:"XS",nameClass:"text-2xl",bioClass:"text-xs"},{id:"sm",label:"S",nameClass:"text-3xl",bioClass:"text-sm"},{id:"md",label:"M",nameClass:"text-4xl",bioClass:"text-base"},{id:"lg",label:"L",nameClass:"text-5xl",bioClass:"text-lg"},{id:"xl",label:"XL",nameClass:"text-6xl",bioClass:"text-xl"}],x=e=>{var a,l,x,y,f,u,b,h,p,v,k,j,w,N,S;let{currentUser:C,userData:z,onClose:F}=e;const[P,B]=(0,i.useState)("backgrounds"),[D,A]=(0,i.useState)((null===z||void 0===z||null===(a=z.profile)||void 0===a||null===(l=a.customization)||void 0===l?void 0:l.background)||"pearl-elegance"),[E,Y]=(0,i.useState)((null===z||void 0===z||null===(x=z.profile)||void 0===x||null===(y=x.customization)||void 0===y?void 0:y.nameFont)||"Playfair Display"),[I,M]=(0,i.useState)((null===z||void 0===z||null===(f=z.profile)||void 0===f||null===(u=f.customization)||void 0===u?void 0:u.bioFont)||"Inter"),[L,R]=(0,i.useState)((null===z||void 0===z||null===(b=z.profile)||void 0===b||null===(h=b.customization)||void 0===h?void 0:h.nameSize)||"md"),[O,Q]=(0,i.useState)((null===z||void 0===z||null===(p=z.profile)||void 0===p||null===(v=p.customization)||void 0===v?void 0:v.bioSize)||"md"),[G,T]=(0,i.useState)(!1),[U,X]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=new Set;if(E&&e.add(E.replace(/ /g,"+")+":wght@300;400;700"),I&&e.add(I.replace(/ /g,"+")+":wght@300;400;700"),e.size>0){const a=Array.from(e).join("&family="),l="profile-custom-fonts",t=document.getElementById(l);t&&t.remove();const i=document.createElement("link");i.id=l,i.rel="stylesheet",i.href="https://fonts.googleapis.com/css2?family=".concat(a,"&display=swap"),document.head.appendChild(i)}},[E,I]);const _=(H=D,Object.values(d.YQ).flat().find(e=>e.id===H));var H;const K=(0,n.Tr)("magazine"),V=(null===(k=g.find(e=>e.id===L))||void 0===k?void 0:k.nameClass)||"text-4xl",W=(null===(j=g.find(e=>e.id===O))||void 0===j?void 0:j.bioClass)||"text-base",Z={profilePhoto:null===z||void 0===z?void 0:z.photoURL,displayName:(null===z||void 0===z?void 0:z.displayName)||"Your Name",bio:(null===z||void 0===z||null===(w=z.profile)||void 0===w?void 0:w.bio)||"Your bio will appear here",badges:(null===z||void 0===z||null===(N=z.featuredBadges)||void 0===N?void 0:N.slice(0,3))||[],stats:{besties:(null===z||void 0===z?void 0:z.totalBesties)||0,checkIns:(null===z||void 0===z?void 0:z.checkInCount)||0},nameStyle:{fontFamily:E},bioStyle:{fontFamily:I},nameSizeClass:V,bioSizeClass:W,photoShape:"circle",photoBorder:"classic",decorativeElements:[]};return(0,c.jsxs)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-0",children:[U&&(0,c.jsxs)("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-4 md:hidden",children:[(0,c.jsx)("button",{onClick:()=>X(!1),className:"absolute top-4 right-4 w-10 h-10 bg-white rounded-full flex items-center justify-center text-xl",children:"\u2715"}),(0,c.jsx)("div",{className:"max-w-sm w-full",children:(0,c.jsx)("div",{className:"profile-card-pattern pattern-".concat((null===_||void 0===_?void 0:_.pattern)||"none"),style:{background:(null===_||void 0===_?void 0:_.gradient)||"#fff"},children:(0,c.jsx)(K,(0,t.A)({},Z))})})]}),(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-900 w-full h-full md:h-auto md:max-w-6xl md:rounded-2xl shadow-2xl flex flex-col md:flex-row overflow-hidden pb-20 md:pb-0",children:[(0,c.jsx)("div",{className:"hidden md:flex md:w-2/5 bg-gray-50 dark:bg-gray-800 p-6 items-center justify-center border-r border-gray-200 dark:border-gray-700",children:(0,c.jsxs)("div",{className:"w-full max-w-sm",children:[(0,c.jsx)("h3",{className:"text-sm font-bold text-gray-600 dark:text-gray-400 mb-3 text-center",children:"Preview"}),(0,c.jsx)("div",{className:"profile-card-pattern pattern-".concat((null===_||void 0===_?void 0:_.pattern)||"none"," rounded-2xl overflow-hidden shadow-xl"),style:{background:(null===_||void 0===_?void 0:_.gradient)||"#fff"},children:(0,c.jsx)(K,(0,t.A)({},Z))})]})}),(0,c.jsxs)("div",{className:"flex-1 flex flex-col h-full md:h-auto",children:[(0,c.jsxs)("div",{className:"flex-shrink-0 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,c.jsx)("h2",{className:"text-lg md:text-xl font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Customize \u2728"}),(0,c.jsx)("button",{onClick:F,className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-700",children:"\u2715"})]}),(0,c.jsx)("div",{className:"overflow-x-auto px-4 pb-3",children:(0,c.jsx)("div",{className:"flex gap-2 min-w-max",children:[{id:"backgrounds",label:"Backgrounds",emoji:"\ud83c\udfa8"},{id:"fonts",label:"Fonts",emoji:"\ud83d\udd24"}].map(e=>(0,c.jsxs)("button",{onClick:()=>B(e.id),className:"px-3 py-1.5 rounded-lg text-sm font-semibold whitespace-nowrap transition-all ".concat(P===e.id?"bg-gradient-primary text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"),children:[e.emoji," ",e.label]},e.id))})})]}),(0,c.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:["backgrounds"===P&&(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Pick your aesthetic \ud83c\udfa8"}),d.kK.map(e=>{const a=d.YQ[e]||[];return 0===a.length?null:(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("h3",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:(0,d.Mx)(e)}),(0,c.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:a.map(e=>(0,c.jsx)("button",{onClick:()=>A(e.id),className:"relative overflow-hidden rounded-xl transition-all hover:scale-105 ".concat(D===e.id?"ring-4 ring-purple-500":""),children:(0,c.jsxs)("div",{className:"h-24 flex items-center justify-center relative",style:{background:e.gradient},children:[(0,c.jsxs)("div",{className:"flex flex-col items-center",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/80 mb-1"}),(0,c.jsx)("div",{className:"text-[10px] font-bold text-white drop-shadow-lg bg-black/30 px-2 py-0.5 rounded",children:e.name})]}),D===e.id&&(0,c.jsx)("div",{className:"absolute top-2 right-2 bg-white rounded-full w-5 h-5 flex items-center justify-center text-purple-600 text-xs",children:"\u2713"})]})},e.id))})]},e)})]}),"fonts"===P&&(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Name Font"}),(0,c.jsx)("select",{value:E,onChange:e=>Y(e.target.value),className:"w-full p-3 rounded-lg border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 font-semibold",style:{fontFamily:E},children:m.map(e=>(0,c.jsxs)("option",{value:e.family,style:{fontFamily:e.family},children:[e.family," (",e.category,")"]},e.family))}),(0,c.jsxs)("div",{className:"mt-3",children:[(0,c.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 block",children:"Name Size"}),(0,c.jsx)("div",{className:"flex gap-2",children:g.map(e=>(0,c.jsx)("button",{onClick:()=>R(e.id),className:"flex-1 py-2 px-3 rounded-lg font-semibold transition-all ".concat(L===e.id?"bg-gradient-primary text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"),children:e.label},e.id))})]}),(0,c.jsxs)("div",{className:"mt-3 p-4 bg-gradient-to-r from-pink-50 to-purple-50 dark:from-gray-800 dark:to-gray-700 rounded-lg",children:[(0,c.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Preview:"}),(0,c.jsx)("p",{className:"".concat(V," font-bold text-gray-900 dark:text-white"),style:{fontFamily:E},children:(null===z||void 0===z?void 0:z.displayName)||"Your Name"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"Bio Font"}),(0,c.jsx)("select",{value:I,onChange:e=>M(e.target.value),className:"w-full p-3 rounded-lg border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",style:{fontFamily:I},children:m.map(e=>(0,c.jsxs)("option",{value:e.family,style:{fontFamily:e.family},children:[e.family," (",e.category,")"]},e.family))}),(0,c.jsxs)("div",{className:"mt-3",children:[(0,c.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 block",children:"Bio Size"}),(0,c.jsx)("div",{className:"flex gap-2",children:g.map(e=>(0,c.jsx)("button",{onClick:()=>Q(e.id),className:"flex-1 py-2 px-3 rounded-lg font-semibold transition-all ".concat(O===e.id?"bg-gradient-primary text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"),children:e.label},e.id))})]}),(0,c.jsxs)("div",{className:"mt-3 p-4 bg-gradient-to-r from-pink-50 to-purple-50 dark:from-gray-800 dark:to-gray-700 rounded-lg",children:[(0,c.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Preview:"}),(0,c.jsx)("p",{className:"".concat(W," text-gray-700 dark:text-gray-300"),style:{fontFamily:I},children:(null===z||void 0===z||null===(S=z.profile)||void 0===S?void 0:S.bio)||"Your bio will appear here with this beautiful font!"})]})]})]})]}),(0,c.jsxs)("div",{className:"flex-shrink-0 p-3 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 flex gap-2",children:[(0,c.jsx)("button",{onClick:()=>X(!0),className:"md:hidden flex-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 py-2 px-4 rounded-lg font-semibold text-sm",children:"\ud83d\udc41\ufe0f Preview"}),(0,c.jsx)("button",{onClick:async()=>{T(!0);try{await(0,r.mZ)((0,r.H9)(s.db,"users",C.uid),{"profile.customization":{background:D,layout:"magazine",nameFont:E,bioFont:I,nameSize:L,bioSize:O,typography:"elegant",photoShape:"circle",photoBorder:"classic"}}),o.Ay.success("Profile style saved! \ud83d\udc9c"),F&&F()}catch(e){console.error("Error saving customization:",e),o.Ay.error("Failed to save changes")}finally{T(!1)}},disabled:G,className:"flex-1 bg-gradient-primary text-white py-2 px-4 rounded-lg font-semibold text-sm shadow-lg hover:shadow-xl transition-all disabled:opacity-50",children:G?"Saving...":"\ud83d\udcbe Save"})]})]})]})]})}}}]);
//# sourceMappingURL=775.6289c212.chunk.js.map