{"version":3,"file":"static/js/775.6289c212.chunk.js","mappings":"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","sources":["components/profile/ProfileCustomizer.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { doc, updateDoc } from 'firebase/firestore';\r\nimport { db } from '../../services/firebase';\r\nimport toast from 'react-hot-toast';\r\nimport { BACKGROUNDS, getCategoryName, BACKGROUND_CATEGORIES } from './themes/backgrounds';\r\nimport { getLayoutById } from './layouts';\r\nimport './themes/backgroundPatterns.css';\r\n\r\n// Google Fonts list for dropdowns\r\nconst GOOGLE_FONTS = [\r\n  { family: 'Playfair Display', category: 'Serif' },\r\n  { family: 'Merriweather', category: 'Serif' },\r\n  { family: 'Lora', category: 'Serif' },\r\n  { family: 'Crimson Text', category: 'Serif' },\r\n  { family: 'EB Garamond', category: 'Serif' },\r\n  { family: 'Cormorant', category: 'Serif' },\r\n  { family: 'Inter', category: 'Sans Serif' },\r\n  { family: 'Poppins', category: 'Sans Serif' },\r\n  { family: 'Montserrat', category: 'Sans Serif' },\r\n  { family: 'Quicksand', category: 'Sans Serif' },\r\n  { family: 'Work Sans', category: 'Sans Serif' },\r\n  { family: 'Raleway', category: 'Sans Serif' },\r\n  { family: 'Open Sans', category: 'Sans Serif' },\r\n  { family: 'Roboto', category: 'Sans Serif' },\r\n  { family: 'Nunito', category: 'Sans Serif' },\r\n  { family: 'Archivo Black', category: 'Display' },\r\n  { family: 'Fredoka One', category: 'Display' },\r\n  { family: 'Bebas Neue', category: 'Display' },\r\n  { family: 'Righteous', category: 'Display' },\r\n  { family: 'Permanent Marker', category: 'Display' },\r\n  { family: 'Dancing Script', category: 'Script' },\r\n  { family: 'Pacifico', category: 'Script' },\r\n  { family: 'Great Vibes', category: 'Script' },\r\n  { family: 'Satisfy', category: 'Script' },\r\n  { family: 'Caveat', category: 'Script' }\r\n];\r\n\r\nconst FONT_SIZES = [\r\n  { id: 'xs', label: 'XS', nameClass: 'text-2xl', bioClass: 'text-xs' },\r\n  { id: 'sm', label: 'S', nameClass: 'text-3xl', bioClass: 'text-sm' },\r\n  { id: 'md', label: 'M', nameClass: 'text-4xl', bioClass: 'text-base' },\r\n  { id: 'lg', label: 'L', nameClass: 'text-5xl', bioClass: 'text-lg' },\r\n  { id: 'xl', label: 'XL', nameClass: 'text-6xl', bioClass: 'text-xl' }\r\n];\r\n\r\nconst ProfileCustomizer = ({ currentUser, userData, onClose }) => {\r\n  const [activeTab, setActiveTab] = useState('backgrounds');\r\n  const [selectedBackground, setSelectedBackground] = useState(userData?.profile?.customization?.background || 'pearl-elegance');\r\n\r\n  // Font customization\r\n  const [nameFont, setNameFont] = useState(userData?.profile?.customization?.nameFont || 'Playfair Display');\r\n  const [bioFont, setBioFont] = useState(userData?.profile?.customization?.bioFont || 'Inter');\r\n  const [nameSize, setNameSize] = useState(userData?.profile?.customization?.nameSize || 'md');\r\n  const [bioSize, setBioSize] = useState(userData?.profile?.customization?.bioSize || 'md');\r\n\r\n  const [saving, setSaving] = useState(false);\r\n  const [showPreview, setShowPreview] = useState(false);\r\n\r\n  // Load fonts when they change\r\n  useEffect(() => {\r\n    const fonts = new Set();\r\n    if (nameFont) fonts.add(nameFont.replace(/ /g, '+') + ':wght@300;400;700');\r\n    if (bioFont) fonts.add(bioFont.replace(/ /g, '+') + ':wght@300;400;700');\r\n\r\n    if (fonts.size > 0) {\r\n      const fontString = Array.from(fonts).join('&family=');\r\n      const linkId = 'profile-custom-fonts';\r\n\r\n      const existingLink = document.getElementById(linkId);\r\n      if (existingLink) existingLink.remove();\r\n\r\n      const link = document.createElement('link');\r\n      link.id = linkId;\r\n      link.rel = 'stylesheet';\r\n      link.href = `https://fonts.googleapis.com/css2?family=${fontString}&display=swap`;\r\n      document.head.appendChild(link);\r\n    }\r\n  }, [nameFont, bioFont]);\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await updateDoc(doc(db, 'users', currentUser.uid), {\r\n        'profile.customization': {\r\n          background: selectedBackground,\r\n          layout: 'magazine', // Always magazine\r\n          nameFont,\r\n          bioFont,\r\n          nameSize,\r\n          bioSize,\r\n          // Keep old fields for backward compatibility\r\n          typography: 'elegant',\r\n          photoShape: 'circle',\r\n          photoBorder: 'classic'\r\n        }\r\n      });\r\n      toast.success('Profile style saved! üíú');\r\n      if (onClose) onClose();\r\n    } catch (error) {\r\n      console.error('Error saving customization:', error);\r\n      toast.error('Failed to save changes');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const getBackgroundById = (id) => {\r\n    const allBackgrounds = Object.values(BACKGROUNDS).flat();\r\n    return allBackgrounds.find(bg => bg.id === id);\r\n  };\r\n\r\n  const currentBackground = getBackgroundById(selectedBackground);\r\n  const LayoutComponent = getLayoutById('magazine');\r\n\r\n  const nameSizeClass = FONT_SIZES.find(s => s.id === nameSize)?.nameClass || 'text-4xl';\r\n  const bioSizeClass = FONT_SIZES.find(s => s.id === bioSize)?.bioClass || 'text-base';\r\n\r\n  const layoutProps = {\r\n    profilePhoto: userData?.photoURL,\r\n    displayName: userData?.displayName || 'Your Name',\r\n    bio: userData?.profile?.bio || 'Your bio will appear here',\r\n    badges: userData?.featuredBadges?.slice(0, 3) || [],\r\n    stats: {\r\n      besties: userData?.totalBesties || 0,\r\n      checkIns: userData?.checkInCount || 0\r\n    },\r\n    nameStyle: { fontFamily: nameFont },\r\n    bioStyle: { fontFamily: bioFont },\r\n    nameSizeClass,\r\n    bioSizeClass,\r\n    photoShape: 'circle',\r\n    photoBorder: 'classic',\r\n    decorativeElements: []\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-0\">\r\n      {/* Mobile Preview Modal */}\r\n      {showPreview && (\r\n        <div className=\"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-4 md:hidden\">\r\n          <button\r\n            onClick={() => setShowPreview(false)}\r\n            className=\"absolute top-4 right-4 w-10 h-10 bg-white rounded-full flex items-center justify-center text-xl\"\r\n          >\r\n            ‚úï\r\n          </button>\r\n          <div className=\"max-w-sm w-full\">\r\n            <div\r\n              className={`profile-card-pattern pattern-${currentBackground?.pattern || 'none'}`}\r\n              style={{ background: currentBackground?.gradient || '#fff' }}\r\n            >\r\n              <LayoutComponent {...layoutProps} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-white dark:bg-gray-900 w-full h-full md:h-auto md:max-w-6xl md:rounded-2xl shadow-2xl flex flex-col md:flex-row overflow-hidden pb-20 md:pb-0\">\r\n        {/* LIVE PREVIEW - Desktop Left, Hidden on Mobile */}\r\n        <div className=\"hidden md:flex md:w-2/5 bg-gray-50 dark:bg-gray-800 p-6 items-center justify-center border-r border-gray-200 dark:border-gray-700\">\r\n          <div className=\"w-full max-w-sm\">\r\n            <h3 className=\"text-sm font-bold text-gray-600 dark:text-gray-400 mb-3 text-center\">Preview</h3>\r\n            <div\r\n              className={`profile-card-pattern pattern-${currentBackground?.pattern || 'none'} rounded-2xl overflow-hidden shadow-xl`}\r\n              style={{ background: currentBackground?.gradient || '#fff' }}\r\n            >\r\n              <LayoutComponent {...layoutProps} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* OPTIONS PANEL */}\r\n        <div className=\"flex-1 flex flex-col h-full md:h-auto\">\r\n          {/* Header - Sticky */}\r\n          <div className=\"flex-shrink-0 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900\">\r\n            <div className=\"flex items-center justify-between p-4\">\r\n              <h2 className=\"text-lg md:text-xl font-display bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent\">\r\n                Customize ‚ú®\r\n              </h2>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-700\"\r\n              >\r\n                ‚úï\r\n              </button>\r\n            </div>\r\n\r\n            {/* Tab Navigation */}\r\n            <div className=\"overflow-x-auto px-4 pb-3\">\r\n              <div className=\"flex gap-2 min-w-max\">\r\n                {[\r\n                  { id: 'backgrounds', label: 'Backgrounds', emoji: 'üé®' },\r\n                  { id: 'fonts', label: 'Fonts', emoji: 'üî§' }\r\n                ].map(tab => (\r\n                  <button\r\n                    key={tab.id}\r\n                    onClick={() => setActiveTab(tab.id)}\r\n                    className={`px-3 py-1.5 rounded-lg text-sm font-semibold whitespace-nowrap transition-all ${\r\n                      activeTab === tab.id\r\n                        ? 'bg-gradient-primary text-white shadow-lg'\r\n                        : 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300'\r\n                    }`}\r\n                  >\r\n                    {tab.emoji} {tab.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Content Area - Scrollable */}\r\n          <div className=\"flex-1 overflow-y-auto p-4\">\r\n            {/* BACKGROUNDS TAB */}\r\n            {activeTab === 'backgrounds' && (\r\n              <div>\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\r\n                  Pick your aesthetic üé®\r\n                </p>\r\n                {BACKGROUND_CATEGORIES.map(category => {\r\n                  const backgrounds = BACKGROUNDS[category] || [];\r\n                  if (backgrounds.length === 0) return null;\r\n\r\n                  return (\r\n                    <div key={category} className=\"mb-6\">\r\n                      <h3 className=\"text-sm font-bold text-gray-700 dark:text-gray-300 mb-3\">\r\n                        {getCategoryName(category)}\r\n                      </h3>\r\n                      <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3\">\r\n                        {backgrounds.map(bg => (\r\n                          <button\r\n                            key={bg.id}\r\n                            onClick={() => setSelectedBackground(bg.id)}\r\n                            className={`relative overflow-hidden rounded-xl transition-all hover:scale-105 ${\r\n                              selectedBackground === bg.id ? 'ring-4 ring-purple-500' : ''\r\n                            }`}\r\n                          >\r\n                            <div\r\n                              className=\"h-24 flex items-center justify-center relative\"\r\n                              style={{ background: bg.gradient }}\r\n                            >\r\n                              <div className=\"flex flex-col items-center\">\r\n                                <div className=\"w-8 h-8 rounded-full bg-white/80 mb-1\"></div>\r\n                                <div className=\"text-[10px] font-bold text-white drop-shadow-lg bg-black/30 px-2 py-0.5 rounded\">\r\n                                  {bg.name}\r\n                                </div>\r\n                              </div>\r\n                              {selectedBackground === bg.id && (\r\n                                <div className=\"absolute top-2 right-2 bg-white rounded-full w-5 h-5 flex items-center justify-center text-purple-600 text-xs\">\r\n                                  ‚úì\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          </button>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n\r\n            {/* FONTS TAB */}\r\n            {activeTab === 'fonts' && (\r\n              <div className=\"space-y-6\">\r\n                {/* Name Font */}\r\n                <div>\r\n                  <h3 className=\"text-sm font-bold text-gray-700 dark:text-gray-300 mb-3\">Name Font</h3>\r\n                  <select\r\n                    value={nameFont}\r\n                    onChange={(e) => setNameFont(e.target.value)}\r\n                    className=\"w-full p-3 rounded-lg border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 font-semibold\"\r\n                    style={{ fontFamily: nameFont }}\r\n                  >\r\n                    {GOOGLE_FONTS.map(font => (\r\n                      <option\r\n                        key={font.family}\r\n                        value={font.family}\r\n                        style={{ fontFamily: font.family }}\r\n                      >\r\n                        {font.family} ({font.category})\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n\r\n                  {/* Name Size Picker */}\r\n                  <div className=\"mt-3\">\r\n                    <label className=\"text-xs text-gray-600 dark:text-gray-400 mb-2 block\">Name Size</label>\r\n                    <div className=\"flex gap-2\">\r\n                      {FONT_SIZES.map(size => (\r\n                        <button\r\n                          key={size.id}\r\n                          onClick={() => setNameSize(size.id)}\r\n                          className={`flex-1 py-2 px-3 rounded-lg font-semibold transition-all ${\r\n                            nameSize === size.id\r\n                              ? 'bg-gradient-primary text-white shadow-lg'\r\n                              : 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300'\r\n                          }`}\r\n                        >\r\n                          {size.label}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Name Preview */}\r\n                  <div className=\"mt-3 p-4 bg-gradient-to-r from-pink-50 to-purple-50 dark:from-gray-800 dark:to-gray-700 rounded-lg\">\r\n                    <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-2\">Preview:</p>\r\n                    <p className={`${nameSizeClass} font-bold text-gray-900 dark:text-white`} style={{ fontFamily: nameFont }}>\r\n                      {userData?.displayName || 'Your Name'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Bio Font */}\r\n                <div>\r\n                  <h3 className=\"text-sm font-bold text-gray-700 dark:text-gray-300 mb-3\">Bio Font</h3>\r\n                  <select\r\n                    value={bioFont}\r\n                    onChange={(e) => setBioFont(e.target.value)}\r\n                    className=\"w-full p-3 rounded-lg border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100\"\r\n                    style={{ fontFamily: bioFont }}\r\n                  >\r\n                    {GOOGLE_FONTS.map(font => (\r\n                      <option\r\n                        key={font.family}\r\n                        value={font.family}\r\n                        style={{ fontFamily: font.family }}\r\n                      >\r\n                        {font.family} ({font.category})\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n\r\n                  {/* Bio Size Picker */}\r\n                  <div className=\"mt-3\">\r\n                    <label className=\"text-xs text-gray-600 dark:text-gray-400 mb-2 block\">Bio Size</label>\r\n                    <div className=\"flex gap-2\">\r\n                      {FONT_SIZES.map(size => (\r\n                        <button\r\n                          key={size.id}\r\n                          onClick={() => setBioSize(size.id)}\r\n                          className={`flex-1 py-2 px-3 rounded-lg font-semibold transition-all ${\r\n                            bioSize === size.id\r\n                              ? 'bg-gradient-primary text-white shadow-lg'\r\n                              : 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300'\r\n                          }`}\r\n                        >\r\n                          {size.label}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Bio Preview */}\r\n                  <div className=\"mt-3 p-4 bg-gradient-to-r from-pink-50 to-purple-50 dark:from-gray-800 dark:to-gray-700 rounded-lg\">\r\n                    <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-2\">Preview:</p>\r\n                    <p className={`${bioSizeClass} text-gray-700 dark:text-gray-300`} style={{ fontFamily: bioFont }}>\r\n                      {userData?.profile?.bio || 'Your bio will appear here with this beautiful font!'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Footer - Sticky */}\r\n          <div className=\"flex-shrink-0 p-3 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 flex gap-2\">\r\n            {/* Mobile Preview Button */}\r\n            <button\r\n              onClick={() => setShowPreview(true)}\r\n              className=\"md:hidden flex-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 py-2 px-4 rounded-lg font-semibold text-sm\"\r\n            >\r\n              üëÅÔ∏è Preview\r\n            </button>\r\n            {/* Save Button */}\r\n            <button\r\n              onClick={handleSave}\r\n              disabled={saving}\r\n              className=\"flex-1 bg-gradient-primary text-white py-2 px-4 rounded-lg font-semibold text-sm shadow-lg hover:shadow-xl transition-all disabled:opacity-50\"\r\n            >\r\n              {saving ? 'Saving...' : 'üíæ Save'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileCustomizer;\r\n"],"names":["GOOGLE_FONTS","family","category","FONT_SIZES","id","label","nameClass","bioClass","_ref","_userData$profile","_userData$profile$cus","_userData$profile2","_userData$profile2$cu","_userData$profile3","_userData$profile3$cu","_userData$profile4","_userData$profile4$cu","_userData$profile5","_userData$profile5$cu","_FONT_SIZES$find","_FONT_SIZES$find2","_userData$profile6","_userData$featuredBad","_userData$profile7","currentUser","userData","onClose","activeTab","setActiveTab","useState","selectedBackground","setSelectedBackground","profile","customization","background","nameFont","setNameFont","bioFont","setBioFont","nameSize","setNameSize","bioSize","setBioSize","saving","setSaving","showPreview","setShowPreview","useEffect","fonts","Set","add","replace","size","fontString","Array","from","join","linkId","existingLink","document","getElementById","remove","link","createElement","rel","href","concat","head","appendChild","currentBackground","Object","values","BACKGROUNDS","flat","find","bg","LayoutComponent","getLayoutById","nameSizeClass","s","bioSizeClass","layoutProps","profilePhoto","photoURL","displayName","bio","badges","featuredBadges","slice","stats","besties","totalBesties","checkIns","checkInCount","nameStyle","fontFamily","bioStyle","photoShape","photoBorder","decorativeElements","_jsxs","className","children","_jsx","onClick","pattern","style","gradient","_objectSpread","emoji","map","tab","BACKGROUND_CATEGORIES","backgrounds","length","getCategoryName","name","value","onChange","e","target","font","async","updateDoc","doc","db","uid","layout","typography","toast","success","error","console","disabled"],"sourceRoot":""}